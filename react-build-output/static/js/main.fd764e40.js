/*! For license information please see main.fd764e40.js.LICENSE.txt */
!function(){var e={4196:function(e){e.exports=function(e,t){var n=t.length;if(0!==n){var r=e.length;e.length+=n;for(var i=0;i<n;i++)e[r+i]=t[i]}}},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},7494:function(e){function t(e,t,n){var r,i,a,o,s;function l(){var u=Date.now()-o;u<t&&u>=0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var u=function(){a=this,i=arguments,o=Date.now();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(a,i),a=i=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},u}t.debounce=t,e.exports=t},5897:function(e){"use strict";var t={ellipse:"\u2026",chars:[" ","-"],max:140,truncate:!0};function n(e,t,n,r){if(e<=t)return e;if(t<2)return e.slice(0,t-n.length)+n;for(var i=t-n.length,a=Math.floor(i/2),o=a,s=e.length-a,l=0;l<a;l++){var u=e.charAt(l),c=e.length-l,d=e.charAt(c);-1!==r.indexOf(u)&&(o=l),-1!==r.indexOf(d)&&(s=c)}return e.slice(0,o)+n+e.slice(s)}function r(e,t,n,r,i){if(e.length<=t)return e;for(var a=t-n.length,o=a,s=0;s<=a;s++){var l=e.charAt(s);-1!==r.indexOf(l)&&(o=s)}return i||o!=a?e.slice(0,o)+n:""}e.exports=function(e,i,a){if("string"!==typeof e||0===e.length)return"";if(0===i)return"";for(var o in a=a||{},t)null!==a[o]&&"undefined"!==typeof a[o]||(a[o]=t[o]);return a.max=i||a.max,"middle"==a.truncate?n(e,a.max,a.ellipse,a.chars):r(e,a.max,a.ellipse,a.chars,a.truncate)},e.exports.ellipsizeMiddle=n,e.exports.ellipsize=r},9813:function(e,t,n){var r=n(3407),i=n(3779).Q6;function a(e,t){return"outbound"===e||"inbound"===e?t.directedSize+2*t.undirectedSize:"in"===e||"out"===e||"directed"===e?t.directedSize:2*t.undirectedSize}function o(e,t){var n=e[(t=t||"outbound")+"Neighbors"].bind(e),i=a(t,e),o=r.getPointerArray(i),s=r.getPointerArray(e.order);this.graph=e,this.neighborhood=new s(i),this.starts=new o(e.order+1),this.nodes=e.nodes();var l,u,c,d,f,h={},p=0;for(l=0,u=e.order;l<u;l++)h[this.nodes[l]]=l;for(l=0,u=e.order;l<u;l++)for(f=n(this.nodes[l]),this.starts[l]=p,c=0,d=f.length;c<d;c++)this.neighborhood[p++]=h[f[c]];this.starts[l]=i}function s(e,t,n){var o=e[(n=n||"outbound")+"Edges"].bind(e),s=a(n,e),l=r.getPointerArray(s),u=r.getPointerArray(e.order),c=i(t).fromMinimalEntry;this.graph=e,this.neighborhood=new u(s),this.weights=new Float64Array(s),this.outDegrees=new Float64Array(e.order),this.starts=new l(e.order+1),this.nodes=e.nodes();var d,f,h,p,v,m,g,y,b,x={},w=0;for(d=0,f=e.order;d<f;d++)x[this.nodes[d]]=d;for(d=0,f=e.order;d<f;d++)for(g=o(v=this.nodes[d]),this.starts[d]=w,h=0,p=g.length;h<p;h++)y=g[h],m=e.opposite(v,y),b=c(y,e.getEdgeAttributes(y)),this.neighborhood[w]=x[m],this.weights[w++]=b,this.outDegrees[d]+=b;this.starts[d]=s}o.prototype.bounds=function(e){return[this.starts[e],this.starts[e+1]]},o.prototype.project=function(){var e=this,t={};return e.nodes.forEach((function(n,r){t[n]=Array.from(e.neighborhood.slice(e.starts[r],e.starts[r+1])).map((function(t){return e.nodes[t]}))})),t},o.prototype.collect=function(e){var t,n,r={};for(t=0,n=e.length;t<n;t++)r[this.nodes[t]]=e[t];return r},o.prototype.assign=function(e,t){var n=0;this.graph.updateEachNodeAttributes((function(r,i){return i[e]=t[n++],i}),{attributes:[e]})},s.prototype.bounds=o.prototype.bounds,s.prototype.project=o.prototype.project,s.prototype.collect=o.prototype.collect,s.prototype.assign=o.prototype.assign,t.F=s},4609:function(e){e.exports={linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:1,scalingRatio:1,strongGravityMode:!1,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5}},9400:function(e,t){t.assign=function(e){e=e||{};var t,n,r,i=Array.prototype.slice.call(arguments).slice(1);for(t=0,r=i.length;t<r;t++)if(i[t])for(n in i[t])e[n]=i[t][n];return e},t.validateSettings=function(e){return"linLogMode"in e&&"boolean"!==typeof e.linLogMode?{message:"the `linLogMode` setting should be a boolean."}:"outboundAttractionDistribution"in e&&"boolean"!==typeof e.outboundAttractionDistribution?{message:"the `outboundAttractionDistribution` setting should be a boolean."}:"adjustSizes"in e&&"boolean"!==typeof e.adjustSizes?{message:"the `adjustSizes` setting should be a boolean."}:"edgeWeightInfluence"in e&&"number"!==typeof e.edgeWeightInfluence?{message:"the `edgeWeightInfluence` setting should be a number."}:!("scalingRatio"in e)||"number"===typeof e.scalingRatio&&e.scalingRatio>=0?"strongGravityMode"in e&&"boolean"!==typeof e.strongGravityMode?{message:"the `strongGravityMode` setting should be a boolean."}:!("gravity"in e)||"number"===typeof e.gravity&&e.gravity>=0?"slowDown"in e&&!("number"===typeof e.slowDown||e.slowDown>=0)?{message:"the `slowDown` setting should be a number >= 0."}:"barnesHutOptimize"in e&&"boolean"!==typeof e.barnesHutOptimize?{message:"the `barnesHutOptimize` setting should be a boolean."}:!("barnesHutTheta"in e)||"number"===typeof e.barnesHutTheta&&e.barnesHutTheta>=0?null:{message:"the `barnesHutTheta` setting should be a number >= 0."}:{message:"the `gravity` setting should be a number >= 0."}:{message:"the `scalingRatio` setting should be a number >= 0."}},t.graphToByteArrays=function(e,t){var n,r=e.order,i=e.size,a={},o=new Float32Array(10*r),s=new Float32Array(3*i);return n=0,e.forEachNode((function(e,t){a[e]=n,o[n]=t.x,o[n+1]=t.y,o[n+2]=0,o[n+3]=0,o[n+4]=0,o[n+5]=0,o[n+6]=1,o[n+7]=1,o[n+8]=t.size||1,o[n+9]=t.fixed?1:0,n+=10})),n=0,e.forEachEdge((function(e,r,i,l,u,c,d){var f=a[i],h=a[l],p=t(e,r,i,l,u,c,d);o[f+6]+=p,o[h+6]+=p,s[n]=f,s[n+1]=h,s[n+2]=p,n+=3})),{nodes:o,edges:s}},t.assignLayoutChanges=function(e,t,n){var r=0;e.updateEachNodeAttributes((function(e,i){return i.x=t[r],i.y=t[r+1],r+=10,n?n(e,i):i}))},t.readGraphPositions=function(e,t){var n=0;e.forEachNode((function(e,r){t[n]=r.x,t[n+1]=r.y,n+=10}))},t.collectLayoutChanges=function(e,t,n){for(var r=e.nodes(),i={},a=0,o=0,s=t.length;a<s;a+=10){if(n){var l=Object.assign({},e.getNodeAttributes(r[o]));l.x=t[a],l.y=t[a+1],l=n(r[o],l),i[r[o]]={x:l.x,y:l.y}}else i[r[o]]={x:t[a],y:t[a+1]};o++}return i},t.createWorker=function(e){var t=window.URL||window.webkitURL,n=e.toString(),r=t.createObjectURL(new Blob(["("+n+").call(this);"],{type:"text/javascript"})),i=new Worker(r);return t.revokeObjectURL(r),i}},2326:function(e,t,n){var r=n(362),i=n(3779).Q6,a=n(1413),o=n(9400),s=n(4609);function l(e,t,n){if(!r(t))throw new Error("graphology-layout-forceatlas2: the given graph is not a valid graphology instance.");"number"===typeof n&&(n={iterations:n});var l=n.iterations;if("number"!==typeof l)throw new Error("graphology-layout-forceatlas2: invalid number of iterations.");if(l<=0)throw new Error("graphology-layout-forceatlas2: you should provide a positive number of iterations.");var u=i("getEdgeWeight"in n?n.getEdgeWeight:"weight").fromEntry,c="function"===typeof n.outputReducer?n.outputReducer:null,d=o.assign({},s,n.settings),f=o.validateSettings(d);if(f)throw new Error("graphology-layout-forceatlas2: "+f.message);var h,p=o.graphToByteArrays(t,u);for(h=0;h<l;h++)a(d,p.nodes,p.edges);if(!e)return o.collectLayoutChanges(t,p.nodes);o.assignLayoutChanges(t,p.nodes,c)}var u=l.bind(null,!1);u.assign=l.bind(null,!0),u.inferSettings=function(e){var t="number"===typeof e?e:e.order;return{barnesHutOptimize:t>2e3,strongGravityMode:!0,gravity:.05,scalingRatio:10,slowDown:1+Math.log(t)}},e.exports=u},1413:function(e){var t=10;e.exports=function(e,n,r){var i,a,o,s,l,u,c,d,f,h,p,v,m,g,y,b,x,w,S,_,k,E,C,M=n.length,T=r.length,R=e.adjustSizes,A=e.barnesHutTheta*e.barnesHutTheta,P=[];for(o=0;o<M;o+=t)n[o+4]=n[o+2],n[o+5]=n[o+3],n[o+2]=0,n[o+3]=0;if(e.outboundAttractionDistribution){for(p=0,o=0;o<M;o+=t)p+=n[o+6];p/=M/t}if(e.barnesHutOptimize){var I,O,L,N=1/0,D=-1/0,U=1/0,F=-1/0;for(o=0;o<M;o+=t)N=Math.min(N,n[o+0]),D=Math.max(D,n[o+0]),U=Math.min(U,n[o+1]),F=Math.max(F,n[o+1]);var z=D-N,B=F-U;for(z>B?F=(U-=(z-B)/2)+z:D=(N-=(B-z)/2)+B,P[0]=-1,P[1]=(N+D)/2,P[2]=(U+F)/2,P[3]=Math.max(D-N,F-U),P[4]=-1,P[5]=-1,P[6]=0,P[7]=0,P[8]=0,i=1,o=0;o<M;o+=t)for(a=0,L=3;;){if(!(P[a+5]>=0)){if(P[a+0]<0){P[a+0]=o;break}if(P[a+5]=9*i,d=P[a+3]/2,P[(f=P[a+5])+0]=-1,P[f+1]=P[a+1]-d,P[f+2]=P[a+2]-d,P[f+3]=d,P[f+4]=f+9,P[f+5]=-1,P[f+6]=0,P[f+7]=0,P[f+8]=0,P[(f+=9)+0]=-1,P[f+1]=P[a+1]-d,P[f+2]=P[a+2]+d,P[f+3]=d,P[f+4]=f+9,P[f+5]=-1,P[f+6]=0,P[f+7]=0,P[f+8]=0,P[(f+=9)+0]=-1,P[f+1]=P[a+1]+d,P[f+2]=P[a+2]-d,P[f+3]=d,P[f+4]=f+9,P[f+5]=-1,P[f+6]=0,P[f+7]=0,P[f+8]=0,P[(f+=9)+0]=-1,P[f+1]=P[a+1]+d,P[f+2]=P[a+2]+d,P[f+3]=d,P[f+4]=P[a+4],P[f+5]=-1,P[f+6]=0,P[f+7]=0,P[f+8]=0,i+=4,I=n[P[a+0]+0]<P[a+1]?n[P[a+0]+1]<P[a+2]?P[a+5]:P[a+5]+9:n[P[a+0]+1]<P[a+2]?P[a+5]+18:P[a+5]+27,P[a+6]=n[P[a+0]+6],P[a+7]=n[P[a+0]+0],P[a+8]=n[P[a+0]+1],P[I+0]=P[a+0],P[a+0]=-1,I===(O=n[o+0]<P[a+1]?n[o+1]<P[a+2]?P[a+5]:P[a+5]+9:n[o+1]<P[a+2]?P[a+5]+18:P[a+5]+27)){if(L--){a=I;continue}L=3;break}P[O+0]=o;break}I=n[o+0]<P[a+1]?n[o+1]<P[a+2]?P[a+5]:P[a+5]+9:n[o+1]<P[a+2]?P[a+5]+18:P[a+5]+27,P[a+7]=(P[a+7]*P[a+6]+n[o+0]*n[o+6])/(P[a+6]+n[o+6]),P[a+8]=(P[a+8]*P[a+6]+n[o+1]*n[o+6])/(P[a+6]+n[o+6]),P[a+6]+=n[o+6],a=I}}if(e.barnesHutOptimize){for(v=e.scalingRatio,o=0;o<M;o+=t)for(a=0;;)if(P[a+5]>=0){if(b=Math.pow(n[o+0]-P[a+7],2)+Math.pow(n[o+1]-P[a+8],2),4*(h=P[a+3])*h/b<A){if(m=n[o+0]-P[a+7],g=n[o+1]-P[a+8],!0===R?b>0?(x=v*n[o+6]*P[a+6]/b,n[o+2]+=m*x,n[o+3]+=g*x):b<0&&(x=-v*n[o+6]*P[a+6]/Math.sqrt(b),n[o+2]+=m*x,n[o+3]+=g*x):b>0&&(x=v*n[o+6]*P[a+6]/b,n[o+2]+=m*x,n[o+3]+=g*x),(a=P[a+4])<0)break;continue}a=P[a+5]}else if((u=P[a+0])>=0&&u!==o&&(b=(m=n[o+0]-n[u+0])*m+(g=n[o+1]-n[u+1])*g,!0===R?b>0?(x=v*n[o+6]*n[u+6]/b,n[o+2]+=m*x,n[o+3]+=g*x):b<0&&(x=-v*n[o+6]*n[u+6]/Math.sqrt(b),n[o+2]+=m*x,n[o+3]+=g*x):b>0&&(x=v*n[o+6]*n[u+6]/b,n[o+2]+=m*x,n[o+3]+=g*x)),(a=P[a+4])<0)break}else for(v=e.scalingRatio,s=0;s<M;s+=t)for(l=0;l<s;l+=t)m=n[s+0]-n[l+0],g=n[s+1]-n[l+1],!0===R?(b=Math.sqrt(m*m+g*g)-n[s+8]-n[l+8])>0?(x=v*n[s+6]*n[l+6]/b/b,n[s+2]+=m*x,n[s+3]+=g*x,n[l+2]-=m*x,n[l+3]-=g*x):b<0&&(x=100*v*n[s+6]*n[l+6],n[s+2]+=m*x,n[s+3]+=g*x,n[l+2]-=m*x,n[l+3]-=g*x):(b=Math.sqrt(m*m+g*g))>0&&(x=v*n[s+6]*n[l+6]/b/b,n[s+2]+=m*x,n[s+3]+=g*x,n[l+2]-=m*x,n[l+3]-=g*x);for(f=e.gravity/e.scalingRatio,v=e.scalingRatio,o=0;o<M;o+=t)x=0,m=n[o+0],g=n[o+1],b=Math.sqrt(Math.pow(m,2)+Math.pow(g,2)),e.strongGravityMode?b>0&&(x=v*n[o+6]*f):b>0&&(x=v*n[o+6]*f/b),n[o+2]-=m*x,n[o+3]-=g*x;for(v=1*(e.outboundAttractionDistribution?p:1),c=0;c<T;c+=3)s=r[c+0],l=r[c+1],d=r[c+2],y=Math.pow(d,e.edgeWeightInfluence),m=n[s+0]-n[l+0],g=n[s+1]-n[l+1],!0===R?(b=Math.sqrt(m*m+g*g)-n[s+8]-n[l+8],e.linLogMode?e.outboundAttractionDistribution?b>0&&(x=-v*y*Math.log(1+b)/b/n[s+6]):b>0&&(x=-v*y*Math.log(1+b)/b):e.outboundAttractionDistribution?b>0&&(x=-v*y/n[s+6]):b>0&&(x=-v*y)):(b=Math.sqrt(Math.pow(m,2)+Math.pow(g,2)),e.linLogMode?e.outboundAttractionDistribution?b>0&&(x=-v*y*Math.log(1+b)/b/n[s+6]):b>0&&(x=-v*y*Math.log(1+b)/b):e.outboundAttractionDistribution?(b=1,x=-v*y/n[s+6]):(b=1,x=-v*y)),b>0&&(n[s+2]+=m*x,n[s+3]+=g*x,n[l+2]-=m*x,n[l+3]-=g*x);if(!0===R)for(o=0;o<M;o+=t)1!==n[o+9]&&((w=Math.sqrt(Math.pow(n[o+2],2)+Math.pow(n[o+3],2)))>10&&(n[o+2]=10*n[o+2]/w,n[o+3]=10*n[o+3]/w),S=n[o+6]*Math.sqrt((n[o+4]-n[o+2])*(n[o+4]-n[o+2])+(n[o+5]-n[o+3])*(n[o+5]-n[o+3])),_=Math.sqrt((n[o+4]+n[o+2])*(n[o+4]+n[o+2])+(n[o+5]+n[o+3])*(n[o+5]+n[o+3]))/2,k=.1*Math.log(1+_)/(1+Math.sqrt(S)),E=n[o+0]+n[o+2]*(k/e.slowDown),n[o+0]=E,C=n[o+1]+n[o+3]*(k/e.slowDown),n[o+1]=C);else for(o=0;o<M;o+=t)1!==n[o+9]&&(S=n[o+6]*Math.sqrt((n[o+4]-n[o+2])*(n[o+4]-n[o+2])+(n[o+5]-n[o+3])*(n[o+5]-n[o+3])),_=Math.sqrt((n[o+4]+n[o+2])*(n[o+4]+n[o+2])+(n[o+5]+n[o+3])*(n[o+5]+n[o+3]))/2,k=n[o+7]*Math.log(1+_)/(1+Math.sqrt(S)),n[o+7]=Math.min(1,Math.sqrt(k*(Math.pow(n[o+2],2)+Math.pow(n[o+3],2))/(1+Math.sqrt(S)))),E=n[o+0]+n[o+2]*(k/e.slowDown),n[o+0]=E,C=n[o+1]+n[o+3]*(k/e.slowDown),n[o+1]=C);return{}}},1499:function(e){e.exports={gridSize:20,margin:5,expansion:1.1,ratio:1,speed:3}},5965:function(e,t){t.validateSettings=function(e){return"gridSize"in e&&"number"!==typeof e.gridSize||e.gridSize<=0?{message:"the `gridSize` setting should be a positive number."}:"margin"in e&&"number"!==typeof e.margin||e.margin<0?{message:"the `margin` setting should be 0 or a positive number."}:"expansion"in e&&"number"!==typeof e.expansion||e.expansion<=0?{message:"the `expansion` setting should be a positive number."}:"ratio"in e&&"number"!==typeof e.ratio||e.ratio<=0?{message:"the `ratio` setting should be a positive number."}:"speed"in e&&"number"!==typeof e.speed||e.speed<=0?{message:"the `speed` setting should be a positive number."}:null},t.graphToByteArray=function(e,t){var n=e.order,r=new Float32Array(3*n),i=0;return e.forEachNode((function(e,n){"function"===typeof t&&(n=t(e,n)),r[i]=n.x,r[i+1]=n.y,r[i+2]=n.size||1,i+=3})),r},t.assignLayoutChanges=function(e,t,n){var r=0;e.forEachNode((function(i){var a={x:t[r],y:t[r+1]};"function"===typeof n&&(a=n(i,a)),e.mergeNodeAttributes(i,a),r+=3}))},t.collectLayoutChanges=function(e,t,n){var r={},i=0;return e.forEachNode((function(e){var a={x:t[i],y:t[i+1]};"function"===typeof n&&(a=n(e,a)),r[e]=a,i+=3})),r},t.createWorker=function(e){var t=window.URL||window.webkitURL,n=e.toString(),r=t.createObjectURL(new Blob(["("+n+").call(this);"],{type:"text/javascript"})),i=new Worker(r);return t.revokeObjectURL(r),i}},9862:function(e,t,n){var r=n(362),i=n(5531),a=n(5965),o=n(1499);function s(e,t,n){if(!r(t))throw new Error("graphology-layout-noverlap: the given graph is not a valid graphology instance.");var s=(n="number"===typeof n?{maxIterations:n}:n||{}).maxIterations||500;if("number"!==typeof s||s<=0)throw new Error("graphology-layout-force: you should provide a positive number of maximum iterations.");var l=Object.assign({},o,n.settings),u=a.validateSettings(l);if(u)throw new Error("graphology-layout-noverlap: "+u.message);var c,d=a.graphToByteArray(t,n.inputReducer),f=!1;for(c=0;c<s&&!f;c++)f=i(l,d).converged;if(!e)return a.collectLayoutChanges(t,d,n.outputReducer);a.assignLayoutChanges(t,d,n.outputReducer)}var l=s.bind(null,!1);l.assign=s.bind(null,!0),e.exports=l},5531:function(e){function t(){return.01*(.5-Math.random())}e.exports=function(e,n){var r,i,a,o,s,l,u=e.margin,c=e.ratio,d=e.expansion,f=e.gridSize,h=e.speed,p=!0,v=n.length,m=v/3|0,g=new Float32Array(m),y=new Float32Array(m),b=1/0,x=1/0,w=-1/0,S=-1/0;for(r=0;r<v;r+=3)a=n[r+0],o=n[r+1],l=n[r+2]*c+u,b=Math.min(b,a-l),w=Math.max(w,a+l),x=Math.min(x,o-l),S=Math.max(S,o+l);var _=w-b,k=S-x,E=(b+w)/2,C=(x+S)/2;b=E-d*_/2,w=E+d*_/2,x=C-d*k/2,S=C+d*k/2;var M,T,R,A,P,I,O,L,N,D,U,F,z=new Array(f*f),B=z.length;for(M=0;M<B;M++)z[M]=[];for(r=0;r<v;r+=3)for(a=n[r+0],o=n[r+1],T=a-(l=n[r+2]*c+u),R=a+l,A=o-l,P=o+l,I=Math.floor(f*(T-b)/(w-b)),O=Math.floor(f*(R-b)/(w-b)),L=Math.floor(f*(A-x)/(S-x)),N=Math.floor(f*(P-x)/(S-x)),D=I;D<=O;D++)for(U=L;U<=N;U++)z[D*f+U].push(r);var j,H,G,V,W,q,X,Y,K,Z,Q,$,J=new Set;for(M=0;M<B;M++)for(r=0,s=(F=z[M]).length;r<s;r++)for(G=n[(j=F[r])+0],W=n[j+1],X=n[j+2],i=r+1;i<s;i++)H=F[i],K=j+"\xa7"+H,B>1&&J.has(K)||(B>1&&J.add(K),V=n[H+0],q=n[H+1],Y=n[H+2],Z=V-G,Q=q-W,($=Math.sqrt(Z*Z+Q*Q))<X*c+u+(Y*c+u)&&(p=!1,H=H/3|0,$>0?(g[H]+=Z/$*(1+X),y[H]+=Q/$*(1+X)):(g[H]+=_*t(),y[H]+=k*t())));for(r=0,i=0;r<v;r+=3,i++)n[r+0]+=.1*g[i]*h,n[r+1]+=.1*y[i]*h;return{converged:p}}},5478:function(e,t,n){var r=n(570),i=n(362),a={dimensions:["x","y"],center:.5,scale:1};function o(e,t,n){if(!i(t))throw new Error("graphology-layout/random: the given graph is not a valid graphology instance.");var o=(n=r(n,a)).dimensions;if(!Array.isArray(o)||2!==o.length)throw new Error("graphology-layout/random: given dimensions are invalid.");var s=n.center,l=n.scale,u=2*Math.PI,c=(s-.5)*l,d=t.order,f=o[0],h=o[1];function p(e,t){return t[f]=l*Math.cos(e*u/d)+c,t[h]=l*Math.sin(e*u/d)+c,t}var v=0;if(!e){var m={};return t.forEachNode((function(e){m[e]=p(v++,{})})),m}t.updateEachNodeAttributes((function(e,t){return p(v++,t),t}),{attributes:o})}var s=o.bind(null,!1);s.assign=o.bind(null,!0),e.exports=s},811:function(e,t,n){var r=n(570),i=n(362),a={dimensions:["x","y"],center:.5,rng:Math.random,scale:1};function o(e,t,n){if(!i(t))throw new Error("graphology-layout/random: the given graph is not a valid graphology instance.");var o=(n=r(n,a)).dimensions;if(!Array.isArray(o)||o.length<1)throw new Error("graphology-layout/random: given dimensions are invalid.");var s=o.length,l=n.center,u=n.rng,c=n.scale,d=(l-.5)*c;function f(e){for(var t=0;t<s;t++)e[o[t]]=u()*c+d;return e}if(!e){var h={};return t.forEachNode((function(e){h[e]=f({})})),h}t.updateEachNodeAttributes((function(e,t){return f(t),t}),{attributes:o})}var s=o.bind(null,!1);s.assign=o.bind(null,!0),e.exports=s},6423:function(e,t,n){var r=n(362);function i(e,t,n,i){var a=t+"Centrality";if(!r(n))throw new Error("graphology-centrality/"+a+": the given graph is not a valid graphology instance.");if("degree"!==t&&"undirected"===n.type)throw new Error("graphology-centrality/"+a+": cannot compute "+t+" centrality on an undirected graph.");var o=(i=i||{}).nodeCentralityAttribute||a,s=n.order-1,l=n[t].bind(n);if(!e){var u={};return n.forEachNode((function(e){u[e]=l(e)/s})),u}n.updateEachNodeAttributes((function(e,t){return t[o]=l(e)/s,t}),{attributes:[o]})}var a=i.bind(null,!1,"degree"),o=i.bind(null,!1,"inDegree"),s=i.bind(null,!1,"outDegree");a.assign=i.bind(null,!0,"degree"),o.assign=i.bind(null,!0,"inDegree"),s.assign=i.bind(null,!0,"outDegree"),t.Nk=a},3218:function(e,t,n){var r=n(362),i=n(570),a=n(9813).F,o={nodePagerankAttribute:"pagerank",getEdgeWeight:"weight",alpha:.85,maxIterations:100,tolerance:1e-6};function s(e,t,n){if(!r(t))throw new Error("graphology-metrics/centrality/pagerank: the given graph is not a valid graphology instance.");var s,l,u,c,d=(n=i(n,o)).alpha,f=n.maxIterations,h=n.tolerance,p=n.nodePagerankAttribute,v=t.order,m=1/v,g=new a(t,n.getEdgeWeight),y=new Float64Array(t.order),b=new Float64Array(g.weights.length),x=[];for(s=0;s<v;s++)for(y[s]=m,u=g.starts[s+1],0===(c=g.outDegrees[s])&&x.push(s),l=g.starts[s];l<u;l++)b[l]=g.weights[l]/c;for(var w,S,_=0,k=0,E=!1;_<f;){for(S=y,y=new Float64Array(t.order),w=0,s=0,u=x.length;s<u;s++)w+=S[x[s]];for(w*=d,s=0;s<v;s++){for(u=g.starts[s+1],l=g.starts[s];l<u;l++)y[g.neighborhood[l]]+=d*S[s]*b[l];y[s]+=w*m+(1-d)*m}for(k=0,s=0;s<v;s++)k+=Math.abs(y[s]-S[s]);if(k<v*h){E=!0;break}_++}if(!E)throw Error("graphology-metrics/centrality/pagerank: failed to converge.");if(!e)return g.collect(y);g.assign(p,y)}var l=s.bind(null,!1);l.assign=s.bind(null,!0),e.exports=l},9543:function(e,t,n){var r=n(362),i=n(3779).Q6,a=n(4180),o="weight";function s(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:e[1]>t[1]?1:e[1]<t[1]?-1:e[2]>t[2]?1:e[2]<t[2]?-1:0}function l(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:e[1]>t[1]?1:e[1]<t[1]?-1:e[2]>t[2]?1:e[2]<t[2]?-1:e[3]>t[3]?1:e[3]<t[3]?-1:0}},3252:function(e,t,n){var r=n(7195),i=n(8069);n(9543),r.bidirectional,r.singleSource,r.singleSourceLength,r.undirectedSingleSourceLength,r.brandes,i.edgePathFromNodePath},7195:function(e,t,n){var r=n(362),i=n(3e3),a=n(4196);function o(e,t,n){if(!r(t))throw new Error("graphology-shortest-path: invalid graphology instance.");if(!t.hasNode(n))throw new Error('graphology-shortest-path: the "'+n+'" source node does not exist in the given graph.');n=""+n;var i=new Set,o={},s=0;o[n]=0;for(var l,u,c,d=[n];0!==d.length;){var f=[];for(l=0,u=d.length;l<u;l++)c=d[l],i.has(c)||(i.add(c),a(f,t[e](c)),o[c]=s);s++,d=f}return o}var s=o.bind(null,"outboundNeighbors"),l=o.bind(null,"neighbors");t.bidirectional=function(e,t,n){if(!r(e))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<3)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 3.");if(!e.hasNode(t))throw new Error('graphology-shortest-path: the "'+t+'" source node does not exist in the given graph.');if(!e.hasNode(n))throw new Error('graphology-shortest-path: the "'+n+'" target node does not exist in the given graph.');if((t=""+t)===(n=""+n))return[t];var i=e.inboundNeighbors.bind(e),a=e.outboundNeighbors.bind(e),o={},s={};o[t]=null,s[n]=null;var l,u,c,d,f,h,p,v,m=[t],g=[n],y=!1;e:for(;m.length&&g.length;)if(m.length<=g.length){for(l=m,m=[],f=0,p=l.length;f<p;f++)for(h=0,v=(c=a(u=l[f])).length;h<v;h++)if((d=c[h])in o||(m.push(d),o[d]=u),d in s){y=!0;break e}}else for(l=g,g=[],f=0,p=l.length;f<p;f++)for(h=0,v=(c=i(u=l[f])).length;h<v;h++)if((d=c[h])in s||(g.push(d),s[d]=u),d in o){y=!0;break e}if(!y)return null;for(var b=[];d;)b.unshift(d),d=o[d];for(d=s[b[b.length-1]];d;)b.push(d),d=s[d];return b.length?b:null},t.singleSource=function(e,t){if(!r(e))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<2)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 2.");if(!e.hasNode(t))throw new Error('graphology-shortest-path: the "'+t+'" source node does not exist in the given graph.');var n,i,a,o,s,l,u={},c={};for(u[t=""+t]=!0,c[t]=[t];Object.keys(u).length;)for(a in n=u,u={},n)for(s=0,l=(i=e.outboundNeighbors(a)).length;s<l;s++)c[o=i[s]]||(c[o]=c[a].concat(o),u[o]=!0);return c},t.singleSourceLength=s,t.undirectedSingleSourceLength=l,t.brandes=function(e,t){t=""+t;var n,r,a,o,s,l,u,c,d,f=[],h={},p={},v=e.nodes();for(l=0,c=v.length;l<c;l++)h[o=v[l]]=[],p[o]=0;var m={};p[t]=1,m[t]=0;for(var g=i.of(t);g.size;)for(o=g.dequeue(),f.push(o),n=m[o],r=p[o],u=0,d=(a=e.outboundNeighbors(o)).length;u<d;u++)(s=a[u])in m||(g.enqueue(s),m[s]=n+1),m[s]===n+1&&(p[s]+=r,h[s].push(o));return[f,h,p]}},8069:function(e,t){var n=function(){return!0};t.edgePathFromNodePath=function(e,t){var r,i,a,o,s=t.length;if(s<2)return i=t[0],(o=e.multi?e.findEdge(i,i,n):e.edge(i,i))?[o]:[];s--;var l=new Array(s);for(r=0;r<s;r++){if(i=t[r],a=t[r+1],void 0===(o=e.multi?e.findOutboundEdge(i,a,n):e.edge(i,a)))throw new Error("graphology-shortest-path: given path is impossible in given graph.");l[r]=o}return l}},570:function(e){e.exports=function e(t,n){t=t||{};var r,i={};for(var a in n){var o=t[a],s=n[a];!(r=s)||"object"!==typeof r||"function"===typeof r||Array.isArray(r)||r instanceof Set||r instanceof Map||r instanceof RegExp||r instanceof Date?i[a]=void 0===o?s:o:i[a]=e(o,s)}return i}},3779:function(e,t){function n(e){return"number"!==typeof e||isNaN(e)?1:e}function r(e,t){var n={},r=function(e){return"undefined"===typeof e?t:e};"function"===typeof t&&(r=t);var i=function(t){return r(t[e])},a=function(){return r(void 0)};return"string"===typeof e?(n.fromAttributes=i,n.fromGraph=function(e,t){return i(e.getEdgeAttributes(t))},n.fromEntry=function(e,t){return i(t)},n.fromPartialEntry=n.fromEntry,n.fromMinimalEntry=n.fromEntry):"function"===typeof e?(n.fromAttributes=function(){throw new Error("graphology-utils/getters/createEdgeValueGetter: irrelevant usage.")},n.fromGraph=function(t,n){var i=t.extremities(n);return r(e(n,t.getEdgeAttributes(n),i[0],i[1],t.getNodeAttributes(i[0]),t.getNodeAttributes(i[1]),t.isUndirected(n)))},n.fromEntry=function(t,n,i,a,o,s,l){return r(e(t,n,i,a,o,s,l))},n.fromPartialEntry=function(t,n,i,a){return r(e(t,n,i,a))},n.fromMinimalEntry=function(t,n){return r(e(t,n))}):(n.fromAttributes=a,n.fromGraph=a,n.fromEntry=a,n.fromMinimalEntry=a),n}t.Q6=function(e){return r(e,n)}},362:function(e){e.exports=function(e){return null!==e&&"object"===typeof e&&"function"===typeof e.addUndirectedEdgeWithKey&&"function"===typeof e.dropNode&&"boolean"===typeof e.multi}},6095:function(e){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function a(e,t,n){return a=i()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},a.apply(null,arguments)}function o(e){var t="function"==typeof Map?new Map:void 0;return o=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return a(e,arguments,n(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),r(o,e)},o(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=function(){for(var e=arguments[0],t=1,n=arguments.length;t<n;t++)if(arguments[t])for(var r in arguments[t])e[r]=arguments[t][r];return e};function u(e,t,n,r){var i=e._nodes.get(t),a=null;return i?a="mixed"===r?i.out&&i.out[n]||i.undirected&&i.undirected[n]:"directed"===r?i.out&&i.out[n]:i.undirected&&i.undirected[n]:a}function c(t){return"object"===e(t)&&null!==t}function d(e){var t;for(t in e)return!1;return!0}function f(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!0,value:n})}function h(e,t,n){var r={enumerable:!0,configurable:!0};"function"==typeof n?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(e,t,r)}function p(e){return!!c(e)&&!(e.attributes&&!Array.isArray(e.attributes))}"function"==typeof Object.assign&&(l=Object.assign);var v,m={exports:{}},g="object"==typeof Reflect?Reflect:null,y=g&&"function"==typeof g.apply?g.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};v=g&&"function"==typeof g.ownKeys?g.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var b=Number.isNaN||function(e){return e!=e};function x(){x.init.call(this)}m.exports=x,m.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}A(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&A(e,"error",t,n)}(e,i,{once:!0})}))},x.EventEmitter=x,x.prototype._events=void 0,x.prototype._eventsCount=0,x.prototype._maxListeners=void 0;var w=10;function S(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function _(e){return void 0===e._maxListeners?x.defaultMaxListeners:e._maxListeners}function k(e,t,n,r){var i,a,o,s;if(S(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"==typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=_(e))>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,s=l,console&&console.warn&&console.warn(s)}return e}function E(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function C(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=E.bind(r);return i.listener=n,r.wrapFn=i,i}function M(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):R(i,i.length)}function T(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function R(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function A(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}function P(e){if("function"!=typeof e)throw new Error("obliterator/iterator: expecting a function!");this.next=e}Object.defineProperty(x,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(e){if("number"!=typeof e||e<0||b(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");w=e}}),x.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},x.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||b(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},x.prototype.getMaxListeners=function(){return _(this)},x.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)y(s,this,t);else{var l=s.length,u=R(s,l);for(n=0;n<l;++n)y(u[n],this,t)}return!0},x.prototype.addListener=function(e,t){return k(this,e,t,!1)},x.prototype.on=x.prototype.addListener,x.prototype.prependListener=function(e,t){return k(this,e,t,!0)},x.prototype.once=function(e,t){return S(t),this.on(e,C(this,e,t)),this},x.prototype.prependOnceListener=function(e,t){return S(t),this.prependListener(e,C(this,e,t)),this},x.prototype.removeListener=function(e,t){var n,r,i,a,o;if(S(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},x.prototype.off=x.prototype.removeListener,x.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},x.prototype.listeners=function(e){return M(this,e,!0)},x.prototype.rawListeners=function(e){return M(this,e,!1)},x.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):T.call(e,t)},x.prototype.listenerCount=T,x.prototype.eventNames=function(){return this._eventsCount>0?v(this._events):[]},"undefined"!=typeof Symbol&&(P.prototype[Symbol.iterator]=function(){return this}),P.of=function(){var e=arguments,t=e.length,n=0;return new P((function(){return n>=t?{done:!0}:{done:!1,value:e[n++]}}))},P.empty=function(){return new P((function(){return{done:!0}}))},P.fromSequence=function(e){var t=0,n=e.length;return new P((function(){return t>=n?{done:!0}:{done:!1,value:e[t++]}}))},P.is=function(e){return e instanceof P||"object"==typeof e&&null!==e&&"function"==typeof e.next};var I=P,O={};O.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,O.SYMBOL_SUPPORT="undefined"!=typeof Symbol;var L=I,N=O,D=N.ARRAY_BUFFER_SUPPORT,U=N.SYMBOL_SUPPORT,F=function(e){var t=function(e){return"string"==typeof e||Array.isArray(e)||D&&ArrayBuffer.isView(e)?L.fromSequence(e):"object"!=typeof e||null===e?null:U&&"function"==typeof e[Symbol.iterator]?e[Symbol.iterator]():"function"==typeof e.next?e:null}(e);if(!t)throw new Error("obliterator: target is not iterable nor a valid iterator.");return t},z=F,B=function(e,t){for(var n,r=arguments.length>1?t:1/0,i=r!==1/0?new Array(r):[],a=0,o=z(e);;){if(a===r)return i;if((n=o.next()).done)return a!==t&&(i.length=a),i;i[a++]=n.value}},j=function(e){function n(t){var n;return(n=e.call(this)||this).name="GraphError",n.message=t,n}return t(n,e),n}(o(Error)),H=function(e){function n(t){var r;return(r=e.call(this,t)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s(r),n.prototype.constructor),r}return t(n,e),n}(j),G=function(e){function n(t){var r;return(r=e.call(this,t)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s(r),n.prototype.constructor),r}return t(n,e),n}(j),V=function(e){function n(t){var r;return(r=e.call(this,t)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s(r),n.prototype.constructor),r}return t(n,e),n}(j);function W(e,t){this.key=e,this.attributes=t,this.clear()}function q(e,t){this.key=e,this.attributes=t,this.clear()}function X(e,t){this.key=e,this.attributes=t,this.clear()}function Y(e,t,n,r,i){this.key=t,this.attributes=i,this.undirected=e,this.source=n,this.target=r}function K(e,t,n,r,i,a,o){var s,l,u,c;if(r=""+r,0===n){if(!(s=e._nodes.get(r)))throw new G("Graph.".concat(t,': could not find the "').concat(r,'" node in the graph.'));u=i,c=a}else if(3===n){if(i=""+i,!(l=e._edges.get(i)))throw new G("Graph.".concat(t,': could not find the "').concat(i,'" edge in the graph.'));var d=l.source.key,f=l.target.key;if(r===d)s=l.target;else{if(r!==f)throw new G("Graph.".concat(t,': the "').concat(r,'" node is not attached to the "').concat(i,'" edge (').concat(d,", ").concat(f,")."));s=l.source}u=a,c=o}else{if(!(l=e._edges.get(r)))throw new G("Graph.".concat(t,': could not find the "').concat(r,'" edge in the graph.'));s=1===n?l.source:l.target,u=i,c=a}return[s,u,c]}W.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}},q.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}},X.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}},Y.prototype.attach=function(){var e="out",t="in";this.undirected&&(e=t="undirected");var n=this.source.key,r=this.target.key;this.source[e][r]=this,this.undirected&&n===r||(this.target[t][n]=this)},Y.prototype.attachMulti=function(){var e="out",t="in",n=this.source.key,r=this.target.key;this.undirected&&(e=t="undirected");var i=this.source[e],a=i[r];if(void 0===a)return i[r]=this,void(this.undirected&&n===r||(this.target[t][n]=this));a.previous=this,this.next=a,i[r]=this,this.target[t][n]=this},Y.prototype.detach=function(){var e=this.source.key,t=this.target.key,n="out",r="in";this.undirected&&(n=r="undirected"),delete this.source[n][t],delete this.target[r][e]},Y.prototype.detachMulti=function(){var e=this.source.key,t=this.target.key,n="out",r="in";this.undirected&&(n=r="undirected"),void 0===this.previous?void 0===this.next?(delete this.source[n][t],delete this.target[r][e]):(this.next.previous=void 0,this.source[n][t]=this.next,this.target[r][e]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};var Z=[{name:function(e){return"get".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var a=K(this,t,n,e,r,i),o=a[0],s=a[1];return o.attributes[s]}}},{name:function(e){return"get".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){return K(this,t,n,e,r)[0].attributes}}},{name:function(e){return"has".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var a=K(this,t,n,e,r,i),o=a[0],s=a[1];return o.attributes.hasOwnProperty(s)}}},{name:function(e){return"set".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i,a){var o=K(this,t,n,e,r,i,a),s=o[0],l=o[1],u=o[2];return s.attributes[l]=u,this.emit("nodeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:l}),this}}},{name:function(e){return"update".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i,a){var o=K(this,t,n,e,r,i,a),s=o[0],l=o[1],u=o[2];if("function"!=typeof u)throw new H("Graph.".concat(t,": updater should be a function."));var c=s.attributes,d=u(c[l]);return c[l]=d,this.emit("nodeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:l}),this}}},{name:function(e){return"remove".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var a=K(this,t,n,e,r,i),o=a[0],s=a[1];return delete o.attributes[s],this.emit("nodeAttributesUpdated",{key:o.key,type:"remove",attributes:o.attributes,name:s}),this}}},{name:function(e){return"replace".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var a=K(this,t,n,e,r,i),o=a[0],s=a[1];if(!c(s))throw new H("Graph.".concat(t,": provided attributes are not a plain object."));return o.attributes=s,this.emit("nodeAttributesUpdated",{key:o.key,type:"replace",attributes:o.attributes}),this}}},{name:function(e){return"merge".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var a=K(this,t,n,e,r,i),o=a[0],s=a[1];if(!c(s))throw new H("Graph.".concat(t,": provided attributes are not a plain object."));return l(o.attributes,s),this.emit("nodeAttributesUpdated",{key:o.key,type:"merge",attributes:o.attributes,data:s}),this}}},{name:function(e){return"update".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var a=K(this,t,n,e,r,i),o=a[0],s=a[1];if("function"!=typeof s)throw new H("Graph.".concat(t,": provided updater is not a function."));return o.attributes=s(o.attributes),this.emit("nodeAttributesUpdated",{key:o.key,type:"update",attributes:o.attributes}),this}}}],Q=[{name:function(e){return"get".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new V("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new V("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,o=""+r;if(r=arguments[2],!(i=u(this,a,o,n)))throw new G("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(o,'").'))}else{if("mixed"!==n)throw new V("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new G("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return i.attributes[r]}}},{name:function(e){return"get".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e){var r;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new V("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new V("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var i=""+e,a=""+arguments[1];if(!(r=u(this,i,a,n)))throw new G("Graph.".concat(t,': could not find an edge for the given path ("').concat(i,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new V("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(r=this._edges.get(e)))throw new G("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return r.attributes}}},{name:function(e){return"has".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new V("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new V("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,o=""+r;if(r=arguments[2],!(i=u(this,a,o,n)))throw new G("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(o,'").'))}else{if("mixed"!==n)throw new V("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new G("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return i.attributes.hasOwnProperty(r)}}},{name:function(e){return"set".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var a;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new V("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new V("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,s=""+r;if(r=arguments[2],i=arguments[3],!(a=u(this,o,s,n)))throw new G("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(s,'").'))}else{if("mixed"!==n)throw new V("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(a=this._edges.get(e)))throw new G("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return a.attributes[r]=i,this.emit("edgeAttributesUpdated",{key:a.key,type:"set",attributes:a.attributes,name:r}),this}}},{name:function(e){return"update".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var a;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new V("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new V("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,s=""+r;if(r=arguments[2],i=arguments[3],!(a=u(this,o,s,n)))throw new G("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(s,'").'))}else{if("mixed"!==n)throw new V("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(a=this._edges.get(e)))throw new G("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if("function"!=typeof i)throw new H("Graph.".concat(t,": updater should be a function."));return a.attributes[r]=i(a.attributes[r]),this.emit("edgeAttributesUpdated",{key:a.key,type:"set",attributes:a.attributes,name:r}),this}}},{name:function(e){return"remove".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new V("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new V("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,o=""+r;if(r=arguments[2],!(i=u(this,a,o,n)))throw new G("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(o,'").'))}else{if("mixed"!==n)throw new V("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new G("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return delete i.attributes[r],this.emit("edgeAttributesUpdated",{key:i.key,type:"remove",attributes:i.attributes,name:r}),this}}},{name:function(e){return"replace".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new V("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new V("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,o=""+r;if(r=arguments[2],!(i=u(this,a,o,n)))throw new G("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(o,'").'))}else{if("mixed"!==n)throw new V("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new G("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if(!c(r))throw new H("Graph.".concat(t,": provided attributes are not a plain object."));return i.attributes=r,this.emit("edgeAttributesUpdated",{key:i.key,type:"replace",attributes:i.attributes}),this}}},{name:function(e){return"merge".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new V("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new V("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,o=""+r;if(r=arguments[2],!(i=u(this,a,o,n)))throw new G("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(o,'").'))}else{if("mixed"!==n)throw new V("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new G("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if(!c(r))throw new H("Graph.".concat(t,": provided attributes are not a plain object."));return l(i.attributes,r),this.emit("edgeAttributesUpdated",{key:i.key,type:"merge",attributes:i.attributes,data:r}),this}}},{name:function(e){return"update".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new V("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new V("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,o=""+r;if(r=arguments[2],!(i=u(this,a,o,n)))throw new G("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(o,'").'))}else{if("mixed"!==n)throw new V("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new G("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if("function"!=typeof r)throw new H("Graph.".concat(t,": provided updater is not a function."));return i.attributes=r(i.attributes),this.emit("edgeAttributesUpdated",{key:i.key,type:"update",attributes:i.attributes}),this}}}],$=I,J=F,ee=function(){var e=arguments,t=null,n=-1;return new $((function(){for(var r=null;;){if(null===t){if(++n>=e.length)return{done:!0};t=J(e[n])}if(!0!==(r=t.next()).done)break;t=null}return r}))},te=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function ne(e,t,n,r){var i=!1;for(var a in t)if(a!==r){var o=t[a];if(i=n(o.key,o.attributes,o.source.key,o.target.key,o.source.attributes,o.target.attributes,o.undirected),e&&i)return o.key}}function re(e,t,n,r){var i,a,o,s=!1;for(var l in t)if(l!==r){i=t[l];do{if(a=i.source,o=i.target,s=n(i.key,i.attributes,a.key,o.key,a.attributes,o.attributes,i.undirected),e&&s)return i.key;i=i.next}while(void 0!==i)}}function ie(e,t){var n,r=Object.keys(e),i=r.length,a=0;return new I((function(){do{if(n)n=n.next;else{if(a>=i)return{done:!0};var o=r[a++];if(o===t){n=void 0;continue}n=e[o]}}while(!n);return{done:!1,value:{edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected}}}))}function ae(e,t,n,r){var i=t[n];if(i){var a=i.source,o=i.target;return r(i.key,i.attributes,a.key,o.key,a.attributes,o.attributes,i.undirected)&&e?i.key:void 0}}function oe(e,t,n,r){var i=t[n];if(i){var a=!1;do{if(a=r(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),e&&a)return i.key;i=i.next}while(void 0!==i)}}function se(e,t){var n=e[t];return void 0!==n.next?new I((function(){if(!n)return{done:!0};var e={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:e}})):I.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function le(e,t){if(0===e.size)return[];if("mixed"===t||t===e.type)return"function"==typeof Array.from?Array.from(e._edges.keys()):B(e._edges.keys(),e._edges.size);for(var n,r,i="undirected"===t?e.undirectedSize:e.directedSize,a=new Array(i),o="undirected"===t,s=e._edges.values(),l=0;!0!==(n=s.next()).done;)(r=n.value).undirected===o&&(a[l++]=r.key);return a}function ue(e,t,n,r){if(0!==t.size)for(var i,a,o="mixed"!==n&&n!==t.type,s="undirected"===n,l=!1,u=t._edges.values();!0!==(i=u.next()).done;)if(a=i.value,!o||a.undirected===s){var c=a,d=c.key,f=c.attributes,h=c.source,p=c.target;if(l=r(d,f,h.key,p.key,h.attributes,p.attributes,a.undirected),e&&l)return d}}function ce(e,t){if(0===e.size)return I.empty();var n="mixed"!==t&&t!==e.type,r="undirected"===t,i=e._edges.values();return new I((function(){for(var e,t;;){if((e=i.next()).done)return e;if(t=e.value,!n||t.undirected===r)break}return{value:{edge:t.key,attributes:t.attributes,source:t.source.key,target:t.target.key,sourceAttributes:t.source.attributes,targetAttributes:t.target.attributes,undirected:t.undirected},done:!1}}))}function de(e,t,n,r,i,a){var o,s=t?re:ne;if("undirected"!==n){if("out"!==r&&(o=s(e,i.in,a),e&&o))return o;if("in"!==r&&(o=s(e,i.out,a,r?void 0:i.key),e&&o))return o}if("directed"!==n&&(o=s(e,i.undirected,a),e&&o))return o}function fe(e,t,n,r){var i=[];return de(!1,e,t,n,r,(function(e){i.push(e)})),i}function he(e,t,n){var r=I.empty();return"undirected"!==e&&("out"!==t&&void 0!==n.in&&(r=ee(r,ie(n.in))),"in"!==t&&void 0!==n.out&&(r=ee(r,ie(n.out,t?void 0:n.key)))),"directed"!==e&&void 0!==n.undirected&&(r=ee(r,ie(n.undirected))),r}function pe(e,t,n,r,i,a,o){var s,l=n?oe:ae;if("undirected"!==t){if(void 0!==i.in&&"out"!==r&&(s=l(e,i.in,a,o),e&&s))return s;if(void 0!==i.out&&"in"!==r&&(r||i.key!==a)&&(s=l(e,i.out,a,o),e&&s))return s}if("directed"!==t&&void 0!==i.undirected&&(s=l(e,i.undirected,a,o),e&&s))return s}function ve(e,t,n,r,i){var a=[];return pe(!1,e,t,n,r,i,(function(e){a.push(e)})),a}function me(e,t,n,r){var i=I.empty();return"undirected"!==e&&(void 0!==n.in&&"out"!==t&&r in n.in&&(i=ee(i,se(n.in,r))),void 0!==n.out&&"in"!==t&&r in n.out&&(t||n.key!==r)&&(i=ee(i,se(n.out,r)))),"directed"!==e&&void 0!==n.undirected&&r in n.undirected&&(i=ee(i,se(n.undirected,r))),i}var ge=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function ye(){this.A=null,this.B=null}function be(e,t,n,r,i){for(var a in r){var o=r[a],s=o.source,l=o.target,u=s===n?l:s;if(!t||!t.has(u.key)){var c=i(u.key,u.attributes);if(e&&c)return u.key}}}function xe(e,t,n,r,i){if("mixed"!==t){if("undirected"===t)return be(e,null,r,r.undirected,i);if("string"==typeof n)return be(e,null,r,r[n],i)}var a,o=new ye;if("undirected"!==t){if("out"!==n){if(a=be(e,null,r,r.in,i),e&&a)return a;o.wrap(r.in)}if("in"!==n){if(a=be(e,o,r,r.out,i),e&&a)return a;o.wrap(r.out)}}if("directed"!==t&&(a=be(e,o,r,r.undirected,i),e&&a))return a}function we(e,t,n){var r=Object.keys(n),i=r.length,a=0;return new I((function(){var o=null;do{if(a>=i)return e&&e.wrap(n),{done:!0};var s=n[r[a++]],l=s.source,u=s.target;o=l===t?u:l,e&&e.has(o.key)&&(o=null)}while(null===o);return{done:!1,value:{neighbor:o.key,attributes:o.attributes}}}))}function Se(e,t){var n=t.name,r=t.type,i=t.direction;e.prototype[n]=function(e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];e=""+e;var t=this._nodes.get(e);if(void 0===t)throw new G("Graph.".concat(n,': could not find the "').concat(e,'" node in the graph.'));return function(e,t,n){if("mixed"!==e){if("undirected"===e)return Object.keys(n.undirected);if("string"==typeof t)return Object.keys(n[t])}var r=[];return xe(!1,e,t,n,(function(e){r.push(e)})),r}("mixed"===r?this.type:r,i,t)}}function _e(e,t){var n=t.name,r=t.type,i=t.direction,a=n.slice(0,-1)+"Entries";e.prototype[a]=function(e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return I.empty();e=""+e;var t=this._nodes.get(e);if(void 0===t)throw new G("Graph.".concat(a,': could not find the "').concat(e,'" node in the graph.'));return function(e,t,n){if("mixed"!==e){if("undirected"===e)return we(null,n,n.undirected);if("string"==typeof t)return we(null,n,n[t])}var r=I.empty(),i=new ye;return"undirected"!==e&&("out"!==t&&(r=ee(r,we(i,n,n.in))),"in"!==t&&(r=ee(r,we(i,n,n.out)))),"directed"!==e&&(r=ee(r,we(i,n,n.undirected))),r}("mixed"===r?this.type:r,i,t)}}function ke(e,t,n,r,i){for(var a,o,s,l,u,c,d,f=r._nodes.values(),h=r.type;!0!==(a=f.next()).done;){var p=!1;if(o=a.value,"undirected"!==h)for(s in l=o.out){u=l[s];do{if(c=u.target,p=!0,d=i(o.key,c.key,o.attributes,c.attributes,u.key,u.attributes,u.undirected),e&&d)return u;u=u.next}while(u)}if("directed"!==h)for(s in l=o.undirected)if(!(t&&o.key>s)){u=l[s];do{if((c=u.target).key!==s&&(c=u.source),p=!0,d=i(o.key,c.key,o.attributes,c.attributes,u.key,u.attributes,u.undirected),e&&d)return u;u=u.next}while(u)}if(n&&!p&&(d=i(o.key,null,o.attributes,null,null,null,null),e&&d))return null}}function Ee(e){if(!c(e))throw new H('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in e))throw new H("Graph.import: serialized node is missing its key.");if("attributes"in e&&(!c(e.attributes)||null===e.attributes))throw new H("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function Ce(e){if(!c(e))throw new H('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in e))throw new H("Graph.import: serialized edge is missing its source.");if(!("target"in e))throw new H("Graph.import: serialized edge is missing its target.");if("attributes"in e&&(!c(e.attributes)||null===e.attributes))throw new H("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in e&&"boolean"!=typeof e.undirected)throw new H("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}ye.prototype.wrap=function(e){null===this.A?this.A=e:null===this.B&&(this.B=e)},ye.prototype.has=function(e){return null!==this.A&&e in this.A||null!==this.B&&e in this.B};var Me,Te=(Me=255&Math.floor(256*Math.random()),function(){return Me++}),Re=new Set(["directed","undirected","mixed"]),Ae=new Set(["domain","_events","_eventsCount","_maxListeners"]),Pe={allowSelfLoops:!0,multi:!1,type:"mixed"};function Ie(e,t,n){var r=new e.NodeDataClass(t,n);return e._nodes.set(t,r),e.emit("nodeAdded",{key:t,attributes:n}),r}function Oe(e,t,n,r,i,a,o,s){if(!r&&"undirected"===e.type)throw new V("Graph.".concat(t,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(r&&"directed"===e.type)throw new V("Graph.".concat(t,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(s&&!c(s))throw new H("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(s,'"'));if(a=""+a,o=""+o,s=s||{},!e.allowSelfLoops&&a===o)throw new V("Graph.".concat(t,': source & target are the same ("').concat(a,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var l=e._nodes.get(a),u=e._nodes.get(o);if(!l)throw new G("Graph.".concat(t,': source node "').concat(a,'" not found.'));if(!u)throw new G("Graph.".concat(t,': target node "').concat(o,'" not found.'));var d={key:null,undirected:r,source:a,target:o,attributes:s};if(n)i=e._edgeKeyGenerator();else if(i=""+i,e._edges.has(i))throw new V("Graph.".concat(t,': the "').concat(i,'" edge already exists in the graph.'));if(!e.multi&&(r?void 0!==l.undirected[o]:void 0!==l.out[o]))throw new V("Graph.".concat(t,': an edge linking "').concat(a,'" to "').concat(o,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var f=new Y(r,i,l,u,s);e._edges.set(i,f);var h=a===o;return r?(l.undirectedDegree++,u.undirectedDegree++,h&&(l.undirectedLoops++,e._undirectedSelfLoopCount++)):(l.outDegree++,u.inDegree++,h&&(l.directedLoops++,e._directedSelfLoopCount++)),e.multi?f.attachMulti():f.attach(),r?e._undirectedSize++:e._directedSize++,d.key=i,e.emit("edgeAdded",d),i}function Le(e,t,n,r,i,a,o,s,u){if(!r&&"undirected"===e.type)throw new V("Graph.".concat(t,": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead."));if(r&&"directed"===e.type)throw new V("Graph.".concat(t,": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead."));if(s)if(u){if("function"!=typeof s)throw new H("Graph.".concat(t,': invalid updater function. Expecting a function but got "').concat(s,'"'))}else if(!c(s))throw new H("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(s,'"'));var d;if(a=""+a,o=""+o,u&&(d=s,s=void 0),!e.allowSelfLoops&&a===o)throw new V("Graph.".concat(t,': source & target are the same ("').concat(a,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var f,h,p=e._nodes.get(a),v=e._nodes.get(o);if(!n&&(f=e._edges.get(i))){if(!(f.source.key===a&&f.target.key===o||r&&f.source.key===o&&f.target.key===a))throw new V("Graph.".concat(t,': inconsistency detected when attempting to merge the "').concat(i,'" edge with "').concat(a,'" source & "').concat(o,'" target vs. ("').concat(f.source.key,'", "').concat(f.target.key,'").'));h=f}if(h||e.multi||!p||(h=r?p.undirected[o]:p.out[o]),h){var m=[h.key,!1,!1,!1];if(u?!d:!s)return m;if(u){var g=h.attributes;h.attributes=d(g),e.emit("edgeAttributesUpdated",{type:"replace",key:h.key,attributes:h.attributes})}else l(h.attributes,s),e.emit("edgeAttributesUpdated",{type:"merge",key:h.key,attributes:h.attributes,data:s});return m}s=s||{},u&&d&&(s=d(s));var y={key:null,undirected:r,source:a,target:o,attributes:s};if(n)i=e._edgeKeyGenerator();else if(i=""+i,e._edges.has(i))throw new V("Graph.".concat(t,': the "').concat(i,'" edge already exists in the graph.'));var b=!1,x=!1;p||(p=Ie(e,a,{}),b=!0,a===o&&(v=p,x=!0)),v||(v=Ie(e,o,{}),x=!0),f=new Y(r,i,p,v,s),e._edges.set(i,f);var w=a===o;return r?(p.undirectedDegree++,v.undirectedDegree++,w&&(p.undirectedLoops++,e._undirectedSelfLoopCount++)):(p.outDegree++,v.inDegree++,w&&(p.directedLoops++,e._directedSelfLoopCount++)),e.multi?f.attachMulti():f.attach(),r?e._undirectedSize++:e._directedSize++,y.key=i,e.emit("edgeAdded",y),[i,!0,b,x]}function Ne(e,t){e._edges.delete(t.key);var n=t.source,r=t.target,i=t.attributes,a=t.undirected,o=n===r;a?(n.undirectedDegree--,r.undirectedDegree--,o&&(n.undirectedLoops--,e._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,o&&(n.directedLoops--,e._directedSelfLoopCount--)),e.multi?t.detachMulti():t.detach(),a?e._undirectedSize--:e._directedSize--,e.emit("edgeDropped",{key:t.key,attributes:i,source:n.key,target:r.key,undirected:a})}var De=function(n){function r(e){var t;if(t=n.call(this)||this,"boolean"!=typeof(e=l({},Pe,e)).multi)throw new H("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(e.multi,'".'));if(!Re.has(e.type))throw new H('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(e.type,'".'));if("boolean"!=typeof e.allowSelfLoops)throw new H("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(e.allowSelfLoops,'".'));var r="mixed"===e.type?W:"directed"===e.type?q:X;f(s(t),"NodeDataClass",r);var i="geid_"+Te()+"_",a=0;return f(s(t),"_attributes",{}),f(s(t),"_nodes",new Map),f(s(t),"_edges",new Map),f(s(t),"_directedSize",0),f(s(t),"_undirectedSize",0),f(s(t),"_directedSelfLoopCount",0),f(s(t),"_undirectedSelfLoopCount",0),f(s(t),"_edgeKeyGenerator",(function(){var e;do{e=i+a++}while(t._edges.has(e));return e})),f(s(t),"_options",e),Ae.forEach((function(e){return f(s(t),e,t[e])})),h(s(t),"order",(function(){return t._nodes.size})),h(s(t),"size",(function(){return t._edges.size})),h(s(t),"directedSize",(function(){return t._directedSize})),h(s(t),"undirectedSize",(function(){return t._undirectedSize})),h(s(t),"selfLoopCount",(function(){return t._directedSelfLoopCount+t._undirectedSelfLoopCount})),h(s(t),"directedSelfLoopCount",(function(){return t._directedSelfLoopCount})),h(s(t),"undirectedSelfLoopCount",(function(){return t._undirectedSelfLoopCount})),h(s(t),"multi",t._options.multi),h(s(t),"type",t._options.type),h(s(t),"allowSelfLoops",t._options.allowSelfLoops),h(s(t),"implementation",(function(){return"graphology"})),t}t(r,n);var i=r.prototype;return i._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},i.hasNode=function(e){return this._nodes.has(""+e)},i.hasDirectedEdge=function(e,t){if("undirected"===this.type)return!1;if(1===arguments.length){var n=""+e,r=this._edges.get(n);return!!r&&!r.undirected}if(2===arguments.length){e=""+e,t=""+t;var i=this._nodes.get(e);return!!i&&i.out.hasOwnProperty(t)}throw new H("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.hasUndirectedEdge=function(e,t){if("directed"===this.type)return!1;if(1===arguments.length){var n=""+e,r=this._edges.get(n);return!!r&&r.undirected}if(2===arguments.length){e=""+e,t=""+t;var i=this._nodes.get(e);return!!i&&i.undirected.hasOwnProperty(t)}throw new H("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.hasEdge=function(e,t){if(1===arguments.length){var n=""+e;return this._edges.has(n)}if(2===arguments.length){e=""+e,t=""+t;var r=this._nodes.get(e);return!!r&&(void 0!==r.out&&r.out.hasOwnProperty(t)||void 0!==r.undirected&&r.undirected.hasOwnProperty(t))}throw new H("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.directedEdge=function(e,t){if("undirected"!==this.type){if(e=""+e,t=""+t,this.multi)throw new V("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var n=this._nodes.get(e);if(!n)throw new G('Graph.directedEdge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new G('Graph.directedEdge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.out&&n.out[t]||void 0;return r?r.key:void 0}},i.undirectedEdge=function(e,t){if("directed"!==this.type){if(e=""+e,t=""+t,this.multi)throw new V("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var n=this._nodes.get(e);if(!n)throw new G('Graph.undirectedEdge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new G('Graph.undirectedEdge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.undirected&&n.undirected[t]||void 0;return r?r.key:void 0}},i.edge=function(e,t){if(this.multi)throw new V("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new G('Graph.edge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new G('Graph.edge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.out&&n.out[t]||n.undirected&&n.undirected[t]||void 0;if(r)return r.key},i.areDirectedNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new G('Graph.areDirectedNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&(t in n.in||t in n.out)},i.areOutNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new G('Graph.areOutNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.out},i.areInNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new G('Graph.areInNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.in},i.areUndirectedNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new G('Graph.areUndirectedNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"directed"!==this.type&&t in n.undirected},i.areNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new G('Graph.areNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&(t in n.in||t in n.out)||"directed"!==this.type&&t in n.undirected},i.areInboundNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new G('Graph.areInboundNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.in||"directed"!==this.type&&t in n.undirected},i.areOutboundNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new G('Graph.areOutboundNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.out||"directed"!==this.type&&t in n.undirected},i.inDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new G('Graph.inDegree: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree},i.outDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new G('Graph.outDegree: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.outDegree},i.directedDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new G('Graph.directedDegree: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree+t.outDegree},i.undirectedDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new G('Graph.undirectedDegree: could not find the "'.concat(e,'" node in the graph.'));return"directed"===this.type?0:t.undirectedDegree},i.inboundDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new G('Graph.inboundDegree: could not find the "'.concat(e,'" node in the graph.'));var n=0;return"directed"!==this.type&&(n+=t.undirectedDegree),"undirected"!==this.type&&(n+=t.inDegree),n},i.outboundDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new G('Graph.outboundDegree: could not find the "'.concat(e,'" node in the graph.'));var n=0;return"directed"!==this.type&&(n+=t.undirectedDegree),"undirected"!==this.type&&(n+=t.outDegree),n},i.degree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new G('Graph.degree: could not find the "'.concat(e,'" node in the graph.'));var n=0;return"directed"!==this.type&&(n+=t.undirectedDegree),"undirected"!==this.type&&(n+=t.inDegree+t.outDegree),n},i.inDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new G('Graph.inDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree-t.directedLoops},i.outDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new G('Graph.outDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.outDegree-t.directedLoops},i.directedDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new G('Graph.directedDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree+t.outDegree-2*t.directedLoops},i.undirectedDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new G('Graph.undirectedDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"directed"===this.type?0:t.undirectedDegree-2*t.undirectedLoops},i.inboundDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new G('Graph.inboundDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));var n=0,r=0;return"directed"!==this.type&&(n+=t.undirectedDegree,r+=2*t.undirectedLoops),"undirected"!==this.type&&(n+=t.inDegree,r+=t.directedLoops),n-r},i.outboundDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new G('Graph.outboundDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));var n=0,r=0;return"directed"!==this.type&&(n+=t.undirectedDegree,r+=2*t.undirectedLoops),"undirected"!==this.type&&(n+=t.outDegree,r+=t.directedLoops),n-r},i.degreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new G('Graph.degreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));var n=0,r=0;return"directed"!==this.type&&(n+=t.undirectedDegree,r+=2*t.undirectedLoops),"undirected"!==this.type&&(n+=t.inDegree+t.outDegree,r+=2*t.directedLoops),n-r},i.source=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new G('Graph.source: could not find the "'.concat(e,'" edge in the graph.'));return t.source.key},i.target=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new G('Graph.target: could not find the "'.concat(e,'" edge in the graph.'));return t.target.key},i.extremities=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new G('Graph.extremities: could not find the "'.concat(e,'" edge in the graph.'));return[t.source.key,t.target.key]},i.opposite=function(e,t){e=""+e,t=""+t;var n=this._edges.get(t);if(!n)throw new G('Graph.opposite: could not find the "'.concat(t,'" edge in the graph.'));var r=n.source.key,i=n.target.key;if(e===r)return i;if(e===i)return r;throw new G('Graph.opposite: the "'.concat(e,'" node is not attached to the "').concat(t,'" edge (').concat(r,", ").concat(i,")."))},i.hasExtremity=function(e,t){e=""+e,t=""+t;var n=this._edges.get(e);if(!n)throw new G('Graph.hasExtremity: could not find the "'.concat(e,'" edge in the graph.'));return n.source.key===t||n.target.key===t},i.isUndirected=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new G('Graph.isUndirected: could not find the "'.concat(e,'" edge in the graph.'));return t.undirected},i.isDirected=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new G('Graph.isDirected: could not find the "'.concat(e,'" edge in the graph.'));return!t.undirected},i.isSelfLoop=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new G('Graph.isSelfLoop: could not find the "'.concat(e,'" edge in the graph.'));return t.source===t.target},i.addNode=function(e,t){var n=function(e,t,n){if(n&&!c(n))throw new H('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(n,'"'));if(t=""+t,n=n||{},e._nodes.has(t))throw new V('Graph.addNode: the "'.concat(t,'" node already exist in the graph.'));var r=new e.NodeDataClass(t,n);return e._nodes.set(t,r),e.emit("nodeAdded",{key:t,attributes:n}),r}(this,e,t);return n.key},i.mergeNode=function(e,t){if(t&&!c(t))throw new H('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(t,'"'));e=""+e,t=t||{};var n=this._nodes.get(e);return n?(t&&(l(n.attributes,t),this.emit("nodeAttributesUpdated",{type:"merge",key:e,attributes:n.attributes,data:t})),[e,!1]):(n=new this.NodeDataClass(e,t),this._nodes.set(e,n),this.emit("nodeAdded",{key:e,attributes:t}),[e,!0])},i.updateNode=function(e,t){if(t&&"function"!=typeof t)throw new H('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(t,'"'));e=""+e;var n=this._nodes.get(e);if(n){if(t){var r=n.attributes;n.attributes=t(r),this.emit("nodeAttributesUpdated",{type:"replace",key:e,attributes:n.attributes})}return[e,!1]}var i=t?t({}):{};return n=new this.NodeDataClass(e,i),this._nodes.set(e,n),this.emit("nodeAdded",{key:e,attributes:i}),[e,!0]},i.dropNode=function(e){e=""+e;var t,n=this._nodes.get(e);if(!n)throw new G('Graph.dropNode: could not find the "'.concat(e,'" node in the graph.'));if("undirected"!==this.type){for(var r in n.out){t=n.out[r];do{Ne(this,t),t=t.next}while(t)}for(var i in n.in){t=n.in[i];do{Ne(this,t),t=t.next}while(t)}}if("directed"!==this.type)for(var a in n.undirected){t=n.undirected[a];do{Ne(this,t),t=t.next}while(t)}this._nodes.delete(e),this.emit("nodeDropped",{key:e,attributes:n.attributes})},i.dropEdge=function(e){var t;if(arguments.length>1){var n=""+arguments[0],r=""+arguments[1];if(!(t=u(this,n,r,this.type)))throw new G('Graph.dropEdge: could not find the "'.concat(n,'" -> "').concat(r,'" edge in the graph.'))}else if(e=""+e,!(t=this._edges.get(e)))throw new G('Graph.dropEdge: could not find the "'.concat(e,'" edge in the graph.'));return Ne(this,t),this},i.dropDirectedEdge=function(e,t){if(arguments.length<2)throw new V("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new V("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var n=u(this,e=""+e,t=""+t,"directed");if(!n)throw new G('Graph.dropDirectedEdge: could not find a "'.concat(e,'" -> "').concat(t,'" edge in the graph.'));return Ne(this,n),this},i.dropUndirectedEdge=function(e,t){if(arguments.length<2)throw new V("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new V("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var n=u(this,e,t,"undirected");if(!n)throw new G('Graph.dropUndirectedEdge: could not find a "'.concat(e,'" -> "').concat(t,'" edge in the graph.'));return Ne(this,n),this},i.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")},i.clearEdges=function(){for(var e,t=this._nodes.values();!0!==(e=t.next()).done;)e.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")},i.getAttribute=function(e){return this._attributes[e]},i.getAttributes=function(){return this._attributes},i.hasAttribute=function(e){return this._attributes.hasOwnProperty(e)},i.setAttribute=function(e,t){return this._attributes[e]=t,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this},i.updateAttribute=function(e,t){if("function"!=typeof t)throw new H("Graph.updateAttribute: updater should be a function.");var n=this._attributes[e];return this._attributes[e]=t(n),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this},i.removeAttribute=function(e){return delete this._attributes[e],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:e}),this},i.replaceAttributes=function(e){if(!c(e))throw new H("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=e,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},i.mergeAttributes=function(e){if(!c(e))throw new H("Graph.mergeAttributes: provided attributes are not a plain object.");return l(this._attributes,e),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:e}),this},i.updateAttributes=function(e){if("function"!=typeof e)throw new H("Graph.updateAttributes: provided updater is not a function.");return this._attributes=e(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this},i.updateEachNodeAttributes=function(e,t){if("function"!=typeof e)throw new H("Graph.updateEachNodeAttributes: expecting an updater function.");if(t&&!p(t))throw new H("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var n,r,i=this._nodes.values();!0!==(n=i.next()).done;)(r=n.value).attributes=e(r.key,r.attributes);this.emit("eachNodeAttributesUpdated",{hints:t||null})},i.updateEachEdgeAttributes=function(e,t){if("function"!=typeof e)throw new H("Graph.updateEachEdgeAttributes: expecting an updater function.");if(t&&!p(t))throw new H("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var n,r,i,a,o=this._edges.values();!0!==(n=o.next()).done;)i=(r=n.value).source,a=r.target,r.attributes=e(r.key,r.attributes,i.key,a.key,i.attributes,a.attributes,r.undirected);this.emit("eachEdgeAttributesUpdated",{hints:t||null})},i.forEachAdjacencyEntry=function(e){if("function"!=typeof e)throw new H("Graph.forEachAdjacencyEntry: expecting a callback.");ke(!1,!1,!1,this,e)},i.forEachAdjacencyEntryWithOrphans=function(e){if("function"!=typeof e)throw new H("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");ke(!1,!1,!0,this,e)},i.forEachAssymetricAdjacencyEntry=function(e){if("function"!=typeof e)throw new H("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");ke(!1,!0,!1,this,e)},i.forEachAssymetricAdjacencyEntryWithOrphans=function(e){if("function"!=typeof e)throw new H("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");ke(!1,!0,!0,this,e)},i.nodes=function(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):B(this._nodes.keys(),this._nodes.size)},i.forEachNode=function(e){if("function"!=typeof e)throw new H("Graph.forEachNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)e((n=t.value).key,n.attributes)},i.findNode=function(e){if("function"!=typeof e)throw new H("Graph.findNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)if(e((n=t.value).key,n.attributes))return n.key},i.mapNodes=function(e){if("function"!=typeof e)throw new H("Graph.mapNode: expecting a callback.");for(var t,n,r=this._nodes.values(),i=new Array(this.order),a=0;!0!==(t=r.next()).done;)n=t.value,i[a++]=e(n.key,n.attributes);return i},i.someNode=function(e){if("function"!=typeof e)throw new H("Graph.someNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)if(e((n=t.value).key,n.attributes))return!0;return!1},i.everyNode=function(e){if("function"!=typeof e)throw new H("Graph.everyNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)if(!e((n=t.value).key,n.attributes))return!1;return!0},i.filterNodes=function(e){if("function"!=typeof e)throw new H("Graph.filterNodes: expecting a callback.");for(var t,n,r=this._nodes.values(),i=[];!0!==(t=r.next()).done;)e((n=t.value).key,n.attributes)&&i.push(n.key);return i},i.reduceNodes=function(e,t){if("function"!=typeof e)throw new H("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new H("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");for(var n,r,i=t,a=this._nodes.values();!0!==(n=a.next()).done;)i=e(i,(r=n.value).key,r.attributes);return i},i.nodeEntries=function(){var e=this._nodes.values();return new I((function(){var t=e.next();if(t.done)return t;var n=t.value;return{value:{node:n.key,attributes:n.attributes},done:!1}}))},i.export=function(){var e=this,t=new Array(this._nodes.size),n=0;this._nodes.forEach((function(e,r){t[n++]=function(e,t){var n={key:e};return d(t.attributes)||(n.attributes=l({},t.attributes)),n}(r,e)}));var r=new Array(this._edges.size);return n=0,this._edges.forEach((function(t,i){r[n++]=function(e,t,n){var r={key:t,source:n.source.key,target:n.target.key};return d(n.attributes)||(r.attributes=l({},n.attributes)),"mixed"===e&&n.undirected&&(r.undirected=!0),r}(e.type,i,t)})),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:t,edges:r}},i.import=function(e){var t,n,i,a,o,s=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e instanceof r)return e.forEachNode((function(e,t){l?s.mergeNode(e,t):s.addNode(e,t)})),e.forEachEdge((function(e,t,n,r,i,a,o){l?o?s.mergeUndirectedEdgeWithKey(e,n,r,t):s.mergeDirectedEdgeWithKey(e,n,r,t):o?s.addUndirectedEdgeWithKey(e,n,r,t):s.addDirectedEdgeWithKey(e,n,r,t)})),this;if(!c(e))throw new H("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(e.attributes){if(!c(e.attributes))throw new H("Graph.import: invalid attributes. Expecting a plain object.");l?this.mergeAttributes(e.attributes):this.replaceAttributes(e.attributes)}if(e.nodes){if(i=e.nodes,!Array.isArray(i))throw new H("Graph.import: invalid nodes. Expecting an array.");for(t=0,n=i.length;t<n;t++){Ee(a=i[t]);var u=a,d=u.key,f=u.attributes;l?this.mergeNode(d,f):this.addNode(d,f)}}if(e.edges){var h=!1;if("undirected"===this.type&&(h=!0),i=e.edges,!Array.isArray(i))throw new H("Graph.import: invalid edges. Expecting an array.");for(t=0,n=i.length;t<n;t++){Ce(o=i[t]);var p=o,v=p.source,m=p.target,g=p.attributes,y=p.undirected,b=void 0===y?h:y;"key"in o?(l?b?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:b?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,o.key,v,m,g):(l?b?this.mergeUndirectedEdge:this.mergeDirectedEdge:b?this.addUndirectedEdge:this.addDirectedEdge).call(this,v,m,g)}}return this},i.nullCopy=function(e){var t=new r(l({},this._options,e));return t.replaceAttributes(l({},this.getAttributes())),t},i.emptyCopy=function(e){var t=this.nullCopy(e);return this._nodes.forEach((function(e,n){var r=l({},e.attributes);e=new t.NodeDataClass(n,r),t._nodes.set(n,e)})),t},i.copy=function(e){if("string"==typeof(e=e||{}).type&&e.type!==this.type&&"mixed"!==e.type)throw new V('Graph.copy: cannot create an incompatible copy from "'.concat(this.type,'" type to "').concat(e.type,'" because this would mean losing information about the current graph.'));if("boolean"==typeof e.multi&&e.multi!==this.multi&&!0!==e.multi)throw new V("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if("boolean"==typeof e.allowSelfLoops&&e.allowSelfLoops!==this.allowSelfLoops&&!0!==e.allowSelfLoops)throw new V("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");for(var t,n,r=this.emptyCopy(e),i=this._edges.values();!0!==(t=i.next()).done;)Oe(r,"copy",!1,(n=t.value).undirected,n.key,n.source.key,n.target.key,l({},n.attributes));return r},i.toJSON=function(){return this.export()},i.toString=function(){return"[object Graph]"},i.inspect=function(){var t=this,n={};this._nodes.forEach((function(e,t){n[t]=e.attributes}));var r={},i={};this._edges.forEach((function(e,n){var a,o=e.undirected?"--":"->",s="",l=e.source.key,u=e.target.key;e.undirected&&l>u&&(a=l,l=u,u=a);var c="(".concat(l,")").concat(o,"(").concat(u,")");n.startsWith("geid_")?t.multi&&(void 0===i[c]?i[c]=0:i[c]++,s+="".concat(i[c],". ")):s+="[".concat(n,"]: "),r[s+=c]=e.attributes}));var a={};for(var o in this)this.hasOwnProperty(o)&&!Ae.has(o)&&"function"!=typeof this[o]&&"symbol"!==e(o)&&(a[o]=this[o]);return a.attributes=this._attributes,a.nodes=n,a.edges=r,f(a,"constructor",this.constructor),a},r}(m.exports.EventEmitter);"undefined"!=typeof Symbol&&(De.prototype[Symbol.for("nodejs.util.inspect.custom")]=De.prototype.inspect),[{name:function(e){return"".concat(e,"Edge")},generateKey:!0},{name:function(e){return"".concat(e,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(e){return"".concat(e,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(e){return"".concat(e,"EdgeWithKey")}},{name:function(e){return"".concat(e,"DirectedEdgeWithKey")},type:"directed"},{name:function(e){return"".concat(e,"UndirectedEdgeWithKey")},type:"undirected"}].forEach((function(e){["add","merge","update"].forEach((function(t){var n=e.name(t),r="add"===t?Oe:Le;e.generateKey?De.prototype[n]=function(i,a,o){return r(this,n,!0,"undirected"===(e.type||this.type),null,i,a,o,"update"===t)}:De.prototype[n]=function(i,a,o,s){return r(this,n,!1,"undirected"===(e.type||this.type),i,a,o,s,"update"===t)}}))})),function(e){Z.forEach((function(t){var n=t.name,r=t.attacher;r(e,n("Node"),0),r(e,n("Source"),1),r(e,n("Target"),2),r(e,n("Opposite"),3)}))}(De),function(e){Q.forEach((function(t){var n=t.name,r=t.attacher;r(e,n("Edge"),"mixed"),r(e,n("DirectedEdge"),"directed"),r(e,n("UndirectedEdge"),"undirected")}))}(De),function(e){te.forEach((function(t){!function(e,t){var n=t.name,r=t.type,i=t.direction;e.prototype[n]=function(e,t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];if(!arguments.length)return le(this,r);if(1===arguments.length){e=""+e;var a=this._nodes.get(e);if(void 0===a)throw new G("Graph.".concat(n,': could not find the "').concat(e,'" node in the graph.'));return fe(this.multi,"mixed"===r?this.type:r,i,a)}if(2===arguments.length){e=""+e,t=""+t;var o=this._nodes.get(e);if(!o)throw new G("Graph.".concat(n,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new G("Graph.".concat(n,':  could not find the "').concat(t,'" target node in the graph.'));return ve(r,this.multi,i,o,t)}throw new H("Graph.".concat(n,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,a="forEach"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[a]=function(e,t,n){if("mixed"===r||"mixed"===this.type||r===this.type){if(1===arguments.length)return ue(!1,this,r,n=e);if(2===arguments.length){e=""+e,n=t;var o=this._nodes.get(e);if(void 0===o)throw new G("Graph.".concat(a,': could not find the "').concat(e,'" node in the graph.'));return de(!1,this.multi,"mixed"===r?this.type:r,i,o,n)}if(3===arguments.length){e=""+e,t=""+t;var s=this._nodes.get(e);if(!s)throw new G("Graph.".concat(a,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new G("Graph.".concat(a,':  could not find the "').concat(t,'" target node in the graph.'));return pe(!1,r,this.multi,i,s,t,n)}throw new H("Graph.".concat(a,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}};var o="map"+n[0].toUpperCase()+n.slice(1);e.prototype[o]=function(){var e,t=Array.prototype.slice.call(arguments),n=t.pop();if(0===t.length){var i=0;"directed"!==r&&(i+=this.undirectedSize),"undirected"!==r&&(i+=this.directedSize),e=new Array(i);var o=0;t.push((function(t,r,i,a,s,l,u){e[o++]=n(t,r,i,a,s,l,u)}))}else e=[],t.push((function(t,r,i,a,o,s,l){e.push(n(t,r,i,a,o,s,l))}));return this[a].apply(this,t),e};var s="filter"+n[0].toUpperCase()+n.slice(1);e.prototype[s]=function(){var e=Array.prototype.slice.call(arguments),t=e.pop(),n=[];return e.push((function(e,r,i,a,o,s,l){t(e,r,i,a,o,s,l)&&n.push(e)})),this[a].apply(this,e),n};var l="reduce"+n[0].toUpperCase()+n.slice(1);e.prototype[l]=function(){var e,t,n=Array.prototype.slice.call(arguments);if(n.length<2||n.length>4)throw new H("Graph.".concat(l,": invalid number of arguments (expecting 2, 3 or 4 and got ").concat(n.length,")."));if("function"==typeof n[n.length-1]&&"function"!=typeof n[n.length-2])throw new H("Graph.".concat(l,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));2===n.length?(e=n[0],t=n[1],n=[]):3===n.length?(e=n[1],t=n[2],n=[n[0]]):4===n.length&&(e=n[2],t=n[3],n=[n[0],n[1]]);var r=t;return n.push((function(t,n,i,a,o,s,l){r=e(r,t,n,i,a,o,s,l)})),this[a].apply(this,n),r}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,a="find"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[a]=function(e,t,n){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return!1;if(1===arguments.length)return ue(!0,this,r,n=e);if(2===arguments.length){e=""+e,n=t;var o=this._nodes.get(e);if(void 0===o)throw new G("Graph.".concat(a,': could not find the "').concat(e,'" node in the graph.'));return de(!0,this.multi,"mixed"===r?this.type:r,i,o,n)}if(3===arguments.length){e=""+e,t=""+t;var s=this._nodes.get(e);if(!s)throw new G("Graph.".concat(a,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new G("Graph.".concat(a,':  could not find the "').concat(t,'" target node in the graph.'));return pe(!0,r,this.multi,i,s,t,n)}throw new H("Graph.".concat(a,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))};var o="some"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[o]=function(){var e=Array.prototype.slice.call(arguments),t=e.pop();return e.push((function(e,n,r,i,a,o,s){return t(e,n,r,i,a,o,s)})),!!this[a].apply(this,e)};var s="every"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[s]=function(){var e=Array.prototype.slice.call(arguments),t=e.pop();return e.push((function(e,n,r,i,a,o,s){return!t(e,n,r,i,a,o,s)})),!this[a].apply(this,e)}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,a=n.slice(0,-1)+"Entries";e.prototype[a]=function(e,t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return I.empty();if(!arguments.length)return ce(this,r);if(1===arguments.length){e=""+e;var n=this._nodes.get(e);if(!n)throw new G("Graph.".concat(a,': could not find the "').concat(e,'" node in the graph.'));return he(r,i,n)}if(2===arguments.length){e=""+e,t=""+t;var o=this._nodes.get(e);if(!o)throw new G("Graph.".concat(a,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new G("Graph.".concat(a,':  could not find the "').concat(t,'" target node in the graph.'));return me(r,i,o,t)}throw new H("Graph.".concat(a,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(e,t)}))}(De),function(e){ge.forEach((function(t){Se(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,a="forEach"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[a]=function(e,t){if("mixed"===r||"mixed"===this.type||r===this.type){e=""+e;var n=this._nodes.get(e);if(void 0===n)throw new G("Graph.".concat(a,': could not find the "').concat(e,'" node in the graph.'));xe(!1,"mixed"===r?this.type:r,i,n,t)}};var o="map"+n[0].toUpperCase()+n.slice(1);e.prototype[o]=function(e,t){var n=[];return this[a](e,(function(e,r){n.push(t(e,r))})),n};var s="filter"+n[0].toUpperCase()+n.slice(1);e.prototype[s]=function(e,t){var n=[];return this[a](e,(function(e,r){t(e,r)&&n.push(e)})),n};var l="reduce"+n[0].toUpperCase()+n.slice(1);e.prototype[l]=function(e,t,n){if(arguments.length<3)throw new H("Graph.".concat(l,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));var r=n;return this[a](e,(function(e,n){r=t(r,e,n)})),r}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,a=n[0].toUpperCase()+n.slice(1,-1),o="find"+a;e.prototype[o]=function(e,t){if("mixed"===r||"mixed"===this.type||r===this.type){e=""+e;var n=this._nodes.get(e);if(void 0===n)throw new G("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));return xe(!0,"mixed"===r?this.type:r,i,n,t)}};var s="some"+a;e.prototype[s]=function(e,t){return!!this[o](e,t)};var l="every"+a;e.prototype[l]=function(e,t){return!this[o](e,(function(e,n){return!t(e,n)}))}}(e,t),_e(e,t)}))}(De);var Ue=function(e){function n(t){var n=l({type:"directed"},t);if("multi"in n&&!1!==n.multi)throw new H("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==n.type)throw new H('DirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(De),Fe=function(e){function n(t){var n=l({type:"undirected"},t);if("multi"in n&&!1!==n.multi)throw new H("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==n.type)throw new H('UndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(De),ze=function(e){function n(t){var n=l({multi:!0},t);if("multi"in n&&!0!==n.multi)throw new H("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return e.call(this,n)||this}return t(n,e),n}(De),Be=function(e){function n(t){var n=l({type:"directed",multi:!0},t);if("multi"in n&&!0!==n.multi)throw new H("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==n.type)throw new H('MultiDirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(De),je=function(e){function n(t){var n=l({type:"undirected",multi:!0},t);if("multi"in n&&!0!==n.multi)throw new H("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==n.type)throw new H('MultiUndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(De);function He(e){e.from=function(t,n){var r=l({},t.options,n),i=new e(r);return i.import(t),i}}return He(De),He(Ue),He(Fe),He(ze),He(Be),He(je),De.Graph=De,De.DirectedGraph=Ue,De.UndirectedGraph=Fe,De.MultiGraph=ze,De.MultiDirectedGraph=Be,De.MultiUndirectedGraph=je,De.InvalidArgumentsGraphError=H,De.NotFoundGraphError=G,De.UsageGraphError=V,De}()},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=c(n);d&&(o=o.concat(d(n)));for(var s=l(t),v=l(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=f(n,g);try{u(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case u:case f:case m:case v:case l:return e;default:return t}}case i:return t}}}function S(e){return w(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return S(e)||w(e)===c},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},7235:function(e,t){!function(e){"use strict";function t(){}function n(e,n){this.dv=new DataView(e),this.offset=0,this.littleEndian=void 0===n||n,this.encoder=new t}function r(){}function i(){}t.prototype.s2u=function(e){for(var t=this.s2uTable,n="",r=0;r<e.length;){var i=e[r++];if(!(i>=0&&i<=126||i>=161&&i<=223)&&r<e.length&&(i=i<<8|e[r++]),void 0===t[i])return console.error("unknown char code "+i+"."),n;n+=String.fromCharCode(t[i])}return n},t.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657},n.prototype={constructor:n,getInt8:function(){var e=this.dv.getInt8(this.offset);return this.offset+=1,e},getInt8Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt8());return t},getUint8:function(){var e=this.dv.getUint8(this.offset);return this.offset+=1,e},getUint8Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getUint8());return t},getInt16:function(){var e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},getInt16Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt16());return t},getUint16:function(){var e=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,e},getUint16Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getUint16());return t},getInt32:function(){var e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},getInt32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt32());return t},getUint32:function(){var e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},getUint32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getUint32());return t},getFloat32:function(){var e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},getFloat32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat32());return t},getFloat64:function(){var e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},getFloat64Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat64());return t},getIndex:function(e,t){switch(e){case 1:return!0===t?this.getUint8():this.getInt8();case 2:return!0===t?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+e+" exception."}},getIndexArray:function(e,t,n){for(var r=[],i=0;i<t;i++)r.push(this.getIndex(e,n));return r},getChars:function(e){for(var t="";e>0;){var n=this.getUint8();if(e--,0===n)break;t+=String.fromCharCode(n)}for(;e>0;)this.getUint8(),e--;return t},getSjisStringsAsUnicode:function(e){for(var t=[];e>0;){var n=this.getUint8();if(e--,0===n)break;t.push(n)}for(;e>0;)this.getUint8(),e--;return this.encoder.s2u(new Uint8Array(t))},getUnicodeStrings:function(e){for(var t="";e>0;){var n=this.getUint16();if(e-=2,0===n)break;t+=String.fromCharCode(n)}for(;e>0;)this.getUint8(),e--;return t},getTextBuffer:function(){var e=this.getUint32();return this.getUnicodeStrings(e)}},r.prototype={constructor:r,leftToRightVector3:function(e){e[2]=-e[2]},leftToRightQuaternion:function(e){e[0]=-e[0],e[1]=-e[1]},leftToRightEuler:function(e){e[0]=-e[0],e[1]=-e[1]},leftToRightIndexOrder:function(e){var t=e[2];e[2]=e[0],e[0]=t},leftToRightVector3Range:function(e,t){var n=-t[2];t[2]=-e[2],e[2]=n},leftToRightEulerRange:function(e,t){var n=-t[0],r=-t[1];t[0]=-e[0],t[1]=-e[1],e[0]=n,e[1]=r}},i.prototype.parsePmd=function(e,t){var r={},i=new n(e);r.metadata={},r.metadata.format="pmd",r.metadata.coordinateSystem="left";var a=function(){var e=function(){var e={};return e.position=i.getFloat32Array(3),e.normal=i.getFloat32Array(3),e.uv=i.getFloat32Array(2),e.skinIndices=i.getUint16Array(2),e.skinWeights=[i.getUint8()/100],e.skinWeights.push(1-e.skinWeights[0]),e.edgeFlag=i.getUint8(),e},t=r.metadata;t.vertexCount=i.getUint32(),r.vertices=[];for(var n=0;n<t.vertexCount;n++)r.vertices.push(e())},o=function(){var e=function(){var e={};return e.indices=i.getUint16Array(3),e},t=r.metadata;t.faceCount=i.getUint32()/3,r.faces=[];for(var n=0;n<t.faceCount;n++)r.faces.push(e())},s=function(){var e=function(){var e={};return e.diffuse=i.getFloat32Array(4),e.shininess=i.getFloat32(),e.specular=i.getFloat32Array(3),e.ambient=i.getFloat32Array(3),e.toonIndex=i.getInt8(),e.edgeFlag=i.getUint8(),e.faceCount=i.getUint32()/3,e.fileName=i.getSjisStringsAsUnicode(20),e},t=r.metadata;t.materialCount=i.getUint32(),r.materials=[];for(var n=0;n<t.materialCount;n++)r.materials.push(e())},l=function(){var e=function(){var e={};return e.name=i.getSjisStringsAsUnicode(20),e.parentIndex=i.getInt16(),e.tailIndex=i.getInt16(),e.type=i.getUint8(),e.ikIndex=i.getInt16(),e.position=i.getFloat32Array(3),e},t=r.metadata;t.boneCount=i.getUint16(),r.bones=[];for(var n=0;n<t.boneCount;n++)r.bones.push(e())},u=function(){var e=function(){var e={};e.target=i.getUint16(),e.effector=i.getUint16(),e.linkCount=i.getUint8(),e.iteration=i.getUint16(),e.maxAngle=i.getFloat32(),e.links=[];for(var t=0;t<e.linkCount;t++){var n={};n.index=i.getUint16(),e.links.push(n)}return e},t=r.metadata;t.ikCount=i.getUint16(),r.iks=[];for(var n=0;n<t.ikCount;n++)r.iks.push(e())},c=function(){var e=function(){var e={};e.name=i.getSjisStringsAsUnicode(20),e.elementCount=i.getUint32(),e.type=i.getUint8(),e.elements=[];for(var t=0;t<e.elementCount;t++)e.elements.push({index:i.getUint32(),position:i.getFloat32Array(3)});return e},t=r.metadata;t.morphCount=i.getUint16(),r.morphs=[];for(var n=0;n<t.morphCount;n++)r.morphs.push(e())},d=function(){var e=function(){var e={};return e.index=i.getUint16(),e},t=r.metadata;t.morphFrameCount=i.getUint8(),r.morphFrames=[];for(var n=0;n<t.morphFrameCount;n++)r.morphFrames.push(e())},f=function(){var e=function(){var e={};return e.name=i.getSjisStringsAsUnicode(50),e},t=r.metadata;t.boneFrameNameCount=i.getUint8(),r.boneFrameNames=[];for(var n=0;n<t.boneFrameNameCount;n++)r.boneFrameNames.push(e())},h=function(){var e=function(){var e={};return e.boneIndex=i.getInt16(),e.frameIndex=i.getUint8(),e},t=r.metadata;t.boneFrameCount=i.getUint32(),r.boneFrames=[];for(var n=0;n<t.boneFrameCount;n++)r.boneFrames.push(e())},p=function(){var e=r.metadata;e.englishCompatibility=i.getUint8(),e.englishCompatibility>0&&(e.englishModelName=i.getSjisStringsAsUnicode(20),e.englishComment=i.getSjisStringsAsUnicode(256))},v=function(){var e=function(){var e={};return e.name=i.getSjisStringsAsUnicode(20),e},t=r.metadata;if(0!==t.englishCompatibility){r.englishBoneNames=[];for(var n=0;n<t.boneCount;n++)r.englishBoneNames.push(e())}},m=function(){var e=function(){var e={};return e.name=i.getSjisStringsAsUnicode(20),e},t=r.metadata;if(0!==t.englishCompatibility){r.englishMorphNames=[];for(var n=0;n<t.morphCount-1;n++)r.englishMorphNames.push(e())}},g=function(){var e=function(){var e={};return e.name=i.getSjisStringsAsUnicode(50),e},t=r.metadata;if(0!==t.englishCompatibility){r.englishBoneFrameNames=[];for(var n=0;n<t.boneFrameNameCount;n++)r.englishBoneFrameNames.push(e())}},y=function(){var e=function(){var e={};return e.fileName=i.getSjisStringsAsUnicode(100),e};r.toonTextures=[];for(var t=0;t<10;t++)r.toonTextures.push(e())},b=function(){var e=function(){var e={};return e.name=i.getSjisStringsAsUnicode(20),e.boneIndex=i.getInt16(),e.groupIndex=i.getUint8(),e.groupTarget=i.getUint16(),e.shapeType=i.getUint8(),e.width=i.getFloat32(),e.height=i.getFloat32(),e.depth=i.getFloat32(),e.position=i.getFloat32Array(3),e.rotation=i.getFloat32Array(3),e.weight=i.getFloat32(),e.positionDamping=i.getFloat32(),e.rotationDamping=i.getFloat32(),e.restitution=i.getFloat32(),e.friction=i.getFloat32(),e.type=i.getUint8(),e},t=r.metadata;t.rigidBodyCount=i.getUint32(),r.rigidBodies=[];for(var n=0;n<t.rigidBodyCount;n++)r.rigidBodies.push(e())},x=function(){var e=function(){var e={};return e.name=i.getSjisStringsAsUnicode(20),e.rigidBodyIndex1=i.getUint32(),e.rigidBodyIndex2=i.getUint32(),e.position=i.getFloat32Array(3),e.rotation=i.getFloat32Array(3),e.translationLimitation1=i.getFloat32Array(3),e.translationLimitation2=i.getFloat32Array(3),e.rotationLimitation1=i.getFloat32Array(3),e.rotationLimitation2=i.getFloat32Array(3),e.springPosition=i.getFloat32Array(3),e.springRotation=i.getFloat32Array(3),e},t=r.metadata;t.constraintCount=i.getUint32(),r.constraints=[];for(var n=0;n<t.constraintCount;n++)r.constraints.push(e())};return function(){var e=r.metadata;if(e.magic=i.getChars(3),"Pmd"!==e.magic)throw"PMD file magic is not Pmd, but "+e.magic;e.version=i.getFloat32(),e.modelName=i.getSjisStringsAsUnicode(20),e.comment=i.getSjisStringsAsUnicode(256)}(),a(),o(),s(),l(),u(),c(),d(),f(),h(),p(),v(),m(),g(),y(),b(),x(),!0===t&&this.leftToRightModel(r),r},i.prototype.parsePmx=function(e,t){var r={},i=new n(e);r.metadata={},r.metadata.format="pmx",r.metadata.coordinateSystem="left";var a=function(){var e=function(){var e={};e.position=i.getFloat32Array(3),e.normal=i.getFloat32Array(3),e.uv=i.getFloat32Array(2),e.auvs=[];for(var n=0;n<r.metadata.additionalUvNum;n++)e.auvs.push(i.getFloat32Array(4));e.type=i.getUint8();var a=t.boneIndexSize;if(0===e.type)e.skinIndices=i.getIndexArray(a,1),e.skinWeights=[1];else if(1===e.type)e.skinIndices=i.getIndexArray(a,2),e.skinWeights=i.getFloat32Array(1),e.skinWeights.push(1-e.skinWeights[0]);else if(2===e.type)e.skinIndices=i.getIndexArray(a,4),e.skinWeights=i.getFloat32Array(4);else{if(3!==e.type)throw"unsupport bone type "+e.type+" exception.";e.skinIndices=i.getIndexArray(a,2),e.skinWeights=i.getFloat32Array(1),e.skinWeights.push(1-e.skinWeights[0]),e.skinC=i.getFloat32Array(3),e.skinR0=i.getFloat32Array(3),e.skinR1=i.getFloat32Array(3),e.type=1}return e.edgeRatio=i.getFloat32(),e},t=r.metadata;t.vertexCount=i.getUint32(),r.vertices=[];for(var n=0;n<t.vertexCount;n++)r.vertices.push(e())},o=function(){var e=function(){var e={};return e.indices=i.getIndexArray(t.vertexIndexSize,3,!0),e},t=r.metadata;t.faceCount=i.getUint32()/3,r.faces=[];for(var n=0;n<t.faceCount;n++)r.faces.push(e())},s=function(){var e=function(){return i.getTextBuffer()},t=r.metadata;t.textureCount=i.getUint32(),r.textures=[];for(var n=0;n<t.textureCount;n++)r.textures.push(e())},l=function(){var e=function(){var e={};if(e.name=i.getTextBuffer(),e.englishName=i.getTextBuffer(),e.diffuse=i.getFloat32Array(4),e.specular=i.getFloat32Array(3),e.shininess=i.getFloat32(),e.ambient=i.getFloat32Array(3),e.flag=i.getUint8(),e.edgeColor=i.getFloat32Array(4),e.edgeSize=i.getFloat32(),e.textureIndex=i.getIndex(r.metadata.textureIndexSize),e.envTextureIndex=i.getIndex(r.metadata.textureIndexSize),e.envFlag=i.getUint8(),e.toonFlag=i.getUint8(),0===e.toonFlag)e.toonIndex=i.getIndex(r.metadata.textureIndexSize);else{if(1!==e.toonFlag)throw"unknown toon flag "+e.toonFlag+" exception.";e.toonIndex=i.getInt8()}return e.comment=i.getTextBuffer(),e.faceCount=i.getUint32()/3,e},t=r.metadata;t.materialCount=i.getUint32(),r.materials=[];for(var n=0;n<t.materialCount;n++)r.materials.push(e())},u=function(){var e=function(){var e={};if(e.name=i.getTextBuffer(),e.englishName=i.getTextBuffer(),e.position=i.getFloat32Array(3),e.parentIndex=i.getIndex(r.metadata.boneIndexSize),e.transformationClass=i.getUint32(),e.flag=i.getUint16(),1&e.flag?e.connectIndex=i.getIndex(r.metadata.boneIndexSize):e.offsetPosition=i.getFloat32Array(3),256&e.flag||512&e.flag){var t={};t.isLocal=0!==(128&e.flag),t.affectRotation=0!==(256&e.flag),t.affectPosition=0!==(512&e.flag),t.parentIndex=i.getIndex(r.metadata.boneIndexSize),t.ratio=i.getFloat32(),e.grant=t}if(1024&e.flag&&(e.fixAxis=i.getFloat32Array(3)),2048&e.flag&&(e.localXVector=i.getFloat32Array(3),e.localZVector=i.getFloat32Array(3)),8192&e.flag&&(e.key=i.getUint32()),32&e.flag){var n={};n.effector=i.getIndex(r.metadata.boneIndexSize),n.target=null,n.iteration=i.getUint32(),n.maxAngle=i.getFloat32(),n.linkCount=i.getUint32(),n.links=[];for(var a=0;a<n.linkCount;a++){var o={};o.index=i.getIndex(r.metadata.boneIndexSize),o.angleLimitation=i.getUint8(),1===o.angleLimitation&&(o.lowerLimitationAngle=i.getFloat32Array(3),o.upperLimitationAngle=i.getFloat32Array(3)),n.links.push(o)}e.ik=n}return e},t=r.metadata;t.boneCount=i.getUint32(),r.bones=[];for(var n=0;n<t.boneCount;n++)r.bones.push(e())},c=function(){var e=function(){var e={};e.name=i.getTextBuffer(),e.englishName=i.getTextBuffer(),e.panel=i.getUint8(),e.type=i.getUint8(),e.elementCount=i.getUint32(),e.elements=[];for(var t=0;t<e.elementCount;t++)if(0===e.type)(n={}).index=i.getIndex(r.metadata.morphIndexSize),n.ratio=i.getFloat32(),e.elements.push(n);else if(1===e.type)(n={}).index=i.getIndex(r.metadata.vertexIndexSize,!0),n.position=i.getFloat32Array(3),e.elements.push(n);else if(2===e.type)(n={}).index=i.getIndex(r.metadata.boneIndexSize),n.position=i.getFloat32Array(3),n.rotation=i.getFloat32Array(4),e.elements.push(n);else if(3===e.type)(n={}).index=i.getIndex(r.metadata.vertexIndexSize,!0),n.uv=i.getFloat32Array(4),e.elements.push(n);else if(4===e.type);else if(5===e.type);else if(6===e.type);else if(7===e.type);else if(8===e.type){var n;(n={}).index=i.getIndex(r.metadata.materialIndexSize),n.type=i.getUint8(),n.diffuse=i.getFloat32Array(4),n.specular=i.getFloat32Array(3),n.shininess=i.getFloat32(),n.ambient=i.getFloat32Array(3),n.edgeColor=i.getFloat32Array(4),n.edgeSize=i.getFloat32(),n.textureColor=i.getFloat32Array(4),n.sphereTextureColor=i.getFloat32Array(4),n.toonColor=i.getFloat32Array(4),e.elements.push(n)}return e},t=r.metadata;t.morphCount=i.getUint32(),r.morphs=[];for(var n=0;n<t.morphCount;n++)r.morphs.push(e())},d=function(){var e=function(){var e={};e.name=i.getTextBuffer(),e.englishName=i.getTextBuffer(),e.type=i.getUint8(),e.elementCount=i.getUint32(),e.elements=[];for(var t=0;t<e.elementCount;t++){var n={};n.target=i.getUint8(),n.index=0===n.target?i.getIndex(r.metadata.boneIndexSize):i.getIndex(r.metadata.morphIndexSize),e.elements.push(n)}return e},t=r.metadata;t.frameCount=i.getUint32(),r.frames=[];for(var n=0;n<t.frameCount;n++)r.frames.push(e())},f=function(){var e=function(){var e={};return e.name=i.getTextBuffer(),e.englishName=i.getTextBuffer(),e.boneIndex=i.getIndex(r.metadata.boneIndexSize),e.groupIndex=i.getUint8(),e.groupTarget=i.getUint16(),e.shapeType=i.getUint8(),e.width=i.getFloat32(),e.height=i.getFloat32(),e.depth=i.getFloat32(),e.position=i.getFloat32Array(3),e.rotation=i.getFloat32Array(3),e.weight=i.getFloat32(),e.positionDamping=i.getFloat32(),e.rotationDamping=i.getFloat32(),e.restitution=i.getFloat32(),e.friction=i.getFloat32(),e.type=i.getUint8(),e},t=r.metadata;t.rigidBodyCount=i.getUint32(),r.rigidBodies=[];for(var n=0;n<t.rigidBodyCount;n++)r.rigidBodies.push(e())},h=function(){var e=function(){var e={};return e.name=i.getTextBuffer(),e.englishName=i.getTextBuffer(),e.type=i.getUint8(),e.rigidBodyIndex1=i.getIndex(r.metadata.rigidBodyIndexSize),e.rigidBodyIndex2=i.getIndex(r.metadata.rigidBodyIndexSize),e.position=i.getFloat32Array(3),e.rotation=i.getFloat32Array(3),e.translationLimitation1=i.getFloat32Array(3),e.translationLimitation2=i.getFloat32Array(3),e.rotationLimitation1=i.getFloat32Array(3),e.rotationLimitation2=i.getFloat32Array(3),e.springPosition=i.getFloat32Array(3),e.springRotation=i.getFloat32Array(3),e},t=r.metadata;t.constraintCount=i.getUint32(),r.constraints=[];for(var n=0;n<t.constraintCount;n++)r.constraints.push(e())};return function(){var e=r.metadata;if(e.magic=i.getChars(4),"PMX "!==e.magic)throw"PMX file magic is not PMX , but "+e.magic;if(e.version=i.getFloat32(),2!==e.version&&2.1!==e.version)throw"PMX version "+e.version+" is not supported.";e.headerSize=i.getUint8(),e.encoding=i.getUint8(),e.additionalUvNum=i.getUint8(),e.vertexIndexSize=i.getUint8(),e.textureIndexSize=i.getUint8(),e.materialIndexSize=i.getUint8(),e.boneIndexSize=i.getUint8(),e.morphIndexSize=i.getUint8(),e.rigidBodyIndexSize=i.getUint8(),e.modelName=i.getTextBuffer(),e.englishModelName=i.getTextBuffer(),e.comment=i.getTextBuffer(),e.englishComment=i.getTextBuffer()}(),a(),o(),s(),l(),u(),c(),d(),f(),h(),!0===t&&this.leftToRightModel(r),r},i.prototype.parseVmd=function(e,t){var r={},i=new n(e);r.metadata={},r.metadata.coordinateSystem="left";var a=function(){var e=function(){var e={};return e.boneName=i.getSjisStringsAsUnicode(15),e.frameNum=i.getUint32(),e.position=i.getFloat32Array(3),e.rotation=i.getFloat32Array(4),e.interpolation=i.getUint8Array(64),e},t=r.metadata;t.motionCount=i.getUint32(),r.motions=[];for(var n=0;n<t.motionCount;n++)r.motions.push(e())},o=function(){var e=function(){var e={};return e.morphName=i.getSjisStringsAsUnicode(15),e.frameNum=i.getUint32(),e.weight=i.getFloat32(),e},t=r.metadata;t.morphCount=i.getUint32(),r.morphs=[];for(var n=0;n<t.morphCount;n++)r.morphs.push(e())},s=function(){var e=function(){var e={};return e.frameNum=i.getUint32(),e.distance=i.getFloat32(),e.position=i.getFloat32Array(3),e.rotation=i.getFloat32Array(3),e.interpolation=i.getUint8Array(24),e.fov=i.getUint32(),e.perspective=i.getUint8(),e},t=r.metadata;t.cameraCount=i.getUint32(),r.cameras=[];for(var n=0;n<t.cameraCount;n++)r.cameras.push(e())};return function(){var e=r.metadata;if(e.magic=i.getChars(30),"Vocaloid Motion Data 0002"!==e.magic)throw"VMD file magic is not Vocaloid Motion Data 0002, but "+e.magic;e.name=i.getSjisStringsAsUnicode(20)}(),a(),o(),s(),!0===t&&this.leftToRightVmd(r),r},i.prototype.parseVpd=function(e,t){var n={metadata:{}};n.metadata.coordinateSystem="left",n.bones=[];var r=/\/\/\w*(\r|\n|\r\n)/g,i=/\r|\n|\r\n/,a=e.replace(r,"").split(i);function o(){throw"the file seems not vpd file."}function s(){"Vocaloid Pose Data file"!==a[0]&&o()}function l(){a.length<4&&o(),n.metadata.parentFile=a[2],n.metadata.boneCount=parseInt(a[3])}function u(){for(var e=/^\s*(Bone[0-9]+)\s*\{\s*(.*)$/,t=/^\s*(-?[0-9]+\.[0-9]+)\s*,\s*(-?[0-9]+\.[0-9]+)\s*,\s*(-?[0-9]+\.[0-9]+)\s*;/,r=/^\s*(-?[0-9]+\.[0-9]+)\s*,\s*(-?[0-9]+\.[0-9]+)\s*,\s*(-?[0-9]+\.[0-9]+)\s*,\s*(-?[0-9]+\.[0-9]+)\s*;/,i=/^\s*}/,s=n.bones,l=null,u=null,c=null,d=4;d<a.length;d++){var f,h=a[d];null!==(f=h.match(e))&&(null!==l&&o(),l=f[2]),null!==(f=h.match(t))&&(null!==u&&o(),u=[parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3])]),null!==(f=h.match(r))&&(null!==c&&o(),c=[parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3]),parseFloat(f[4])]),null!==(f=h.match(i))&&(null!==l&&null!==u&&null!==c||o(),s.push({name:l,translation:u,quaternion:c}),l=null,u=null,c=null)}null===l&&null===u&&null===c||o()}return s(),l(),u(),!0===t&&this.leftToRightVpd(n),n},i.prototype.mergeVmds=function(e){var t={metadata:{}};t.metadata.name=e[0].metadata.name,t.metadata.coordinateSystem=e[0].metadata.coordinateSystem,t.metadata.motionCount=0,t.metadata.morphCount=0,t.metadata.cameraCount=0,t.motions=[],t.morphs=[],t.cameras=[];for(var n=0;n<e.length;n++){var r=e[n];t.metadata.motionCount+=r.metadata.motionCount,t.metadata.morphCount+=r.metadata.morphCount,t.metadata.cameraCount+=r.metadata.cameraCount;for(var i=0;i<r.metadata.motionCount;i++)t.motions.push(r.motions[i]);for(i=0;i<r.metadata.morphCount;i++)t.morphs.push(r.morphs[i]);for(i=0;i<r.metadata.cameraCount;i++)t.cameras.push(r.cameras[i])}return t},i.prototype.leftToRightModel=function(e){if("right"!==e.metadata.coordinateSystem){e.metadata.coordinateSystem="right";for(var t=new r,n=0;n<e.metadata.vertexCount;n++)t.leftToRightVector3(e.vertices[n].position),t.leftToRightVector3(e.vertices[n].normal);for(n=0;n<e.metadata.faceCount;n++)t.leftToRightIndexOrder(e.faces[n].indices);for(n=0;n<e.metadata.boneCount;n++)t.leftToRightVector3(e.bones[n].position);for(n=0;n<e.metadata.morphCount;n++){var i=e.morphs[n];if("pmx"!==e.metadata.format||1===i.type)for(var a=0;a<i.elements.length;a++)t.leftToRightVector3(i.elements[a].position)}for(n=0;n<e.metadata.rigidBodyCount;n++)t.leftToRightVector3(e.rigidBodies[n].position),t.leftToRightEuler(e.rigidBodies[n].rotation);for(n=0;n<e.metadata.constraintCount;n++)t.leftToRightVector3(e.constraints[n].position),t.leftToRightEuler(e.constraints[n].rotation),t.leftToRightVector3Range(e.constraints[n].translationLimitation1,e.constraints[n].translationLimitation2),t.leftToRightEulerRange(e.constraints[n].rotationLimitation1,e.constraints[n].rotationLimitation2)}},i.prototype.leftToRightVmd=function(e){if("right"!==e.metadata.coordinateSystem){e.metadata.coordinateSystem="right";for(var t=new r,n=0;n<e.metadata.motionCount;n++)t.leftToRightVector3(e.motions[n].position),t.leftToRightQuaternion(e.motions[n].rotation);for(n=0;n<e.metadata.cameraCount;n++)t.leftToRightVector3(e.cameras[n].position),t.leftToRightEuler(e.cameras[n].rotation)}},i.prototype.leftToRightVpd=function(e){if("right"!==e.metadata.coordinateSystem){e.metadata.coordinateSystem="right";for(var t=new r,n=0;n<e.bones.length;n++)t.leftToRightVector3(e.bones[n].translation),t.leftToRightQuaternion(e.bones[n].quaternion)}};var a={CharsetEncoder:t,Parser:i};e.MMDParser=a,e.CharsetEncoder=t,e.Parser=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},4180:function(e,t,n){var r=n(82),i=n(7282),a=n(3085),o=i.DEFAULT_COMPARATOR,s=i.reverseComparator;function l(e,t,n,r){for(var i,a,o=t[r];r>n&&e(o,a=t[i=r-1>>1])<0;)t[r]=a,r=i;t[r]=o}function u(e,t,n){for(var r,i=t.length,a=n,o=t[n],s=2*n+1;s<i;)(r=s+1)<i&&e(t[s],t[r])>=0&&(s=r),t[n]=t[s],s=2*(n=s)+1;t[n]=o,l(e,t,a,n)}function c(e,t,n){t.push(n),l(e,t,0,t.length-1)}function d(e,t){var n=t.pop();if(0!==t.length){var r=t[0];return t[0]=n,u(e,t,0),r}return n}function f(e,t,n){if(0===t.length)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var r=t[0];return t[0]=n,u(e,t,0),r}function h(e,t,n){var r;return 0!==t.length&&e(t[0],n)<0&&(r=t[0],t[0]=n,n=r,u(e,t,0)),n}function p(e,t){for(var n=t.length>>1;--n>=0;)u(e,t,n)}function v(e,t){for(var n=t.length,r=0,i=new Array(n);r<n;)i[r++]=d(e,t);return i}function m(e){if(this.clear(),this.comparator=e||o,"function"!==typeof this.comparator)throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}function g(e){if(this.clear(),this.comparator=e||o,"function"!==typeof this.comparator)throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=s(this.comparator)}m.prototype.clear=function(){this.items=[],this.size=0},m.prototype.push=function(e){return c(this.comparator,this.items,e),++this.size},m.prototype.peek=function(){return this.items[0]},m.prototype.pop=function(){return 0!==this.size&&this.size--,d(this.comparator,this.items)},m.prototype.replace=function(e){return f(this.comparator,this.items,e)},m.prototype.pushpop=function(e){return h(this.comparator,this.items,e)},m.prototype.consume=function(){return this.size=0,v(this.comparator,this.items)},m.prototype.toArray=function(){return v(this.comparator,this.items.slice())},m.prototype.inspect=function(){var e=this.toArray();return Object.defineProperty(e,"constructor",{value:m,enumerable:!1}),e},"undefined"!==typeof Symbol&&(m.prototype[Symbol.for("nodejs.util.inspect.custom")]=m.prototype.inspect),g.prototype=m.prototype,m.from=function(e,t){var n,r=new m(t);return n=a.isArrayLike(e)?e.slice():a.toArray(e),p(r.comparator,n),r.items=n,r.size=n.length,r},g.from=function(e,t){var n,r=new g(t);return n=a.isArrayLike(e)?e.slice():a.toArray(e),p(r.comparator,n),r.items=n,r.size=n.length,r},m.siftUp=u,m.siftDown=l,m.push=c,m.pop=d,m.replace=f,m.pushpop=h,m.heapify=p,m.consume=v,m.nsmallest=function(e,t,n){2===arguments.length&&(n=t,t=e,e=o);var i,l,u,c,d=s(e),h=1/0;if(1===t){if(a.isArrayLike(n)){for(i=0,l=n.length;i<l;i++)u=n[i],(h===1/0||e(u,h)<0)&&(h=u);return(c=new n.constructor(1))[0]=h,c}return r(n,(function(t){(h===1/0||e(t,h)<0)&&(h=t)})),[h]}if(a.isArrayLike(n)){if(t>=n.length)return n.slice().sort(e);for(c=n.slice(0,t),p(d,c),i=t,l=n.length;i<l;i++)d(n[i],c[0])>0&&f(d,c,n[i]);return c.sort(e)}var v=a.guessLength(n);return null!==v&&v<t&&(t=v),c=new Array(t),i=0,r(n,(function(e){i<t?c[i]=e:(i===t&&p(d,c),d(e,c[0])>0&&f(d,c,e)),i++})),c.length>i&&(c.length=i),c.sort(e)},m.nlargest=function(e,t,n){2===arguments.length&&(n=t,t=e,e=o);var i,l,u,c,d=s(e),h=-1/0;if(1===t){if(a.isArrayLike(n)){for(i=0,l=n.length;i<l;i++)u=n[i],(h===-1/0||e(u,h)>0)&&(h=u);return(c=new n.constructor(1))[0]=h,c}return r(n,(function(t){(h===-1/0||e(t,h)>0)&&(h=t)})),[h]}if(a.isArrayLike(n)){if(t>=n.length)return n.slice().sort(d);for(c=n.slice(0,t),p(e,c),i=t,l=n.length;i<l;i++)e(n[i],c[0])>0&&f(e,c,n[i]);return c.sort(d)}var v=a.guessLength(n);return null!==v&&v<t&&(t=v),c=new Array(t),i=0,r(n,(function(n){i<t?c[i]=n:(i===t&&p(e,c),e(n,c[0])>0&&f(e,c,n)),i++})),c.length>i&&(c.length=i),c.sort(d)},m.MinHeap=m,m.MaxHeap=g,e.exports=m},3e3:function(e,t,n){var r=n(9545),i=n(82);function a(){this.clear()}a.prototype.clear=function(){this.items=[],this.offset=0,this.size=0},a.prototype.enqueue=function(e){return this.items.push(e),++this.size},a.prototype.dequeue=function(){if(this.size){var e=this.items[this.offset];return 2*++this.offset>=this.items.length&&(this.items=this.items.slice(this.offset),this.offset=0),this.size--,e}},a.prototype.peek=function(){if(this.size)return this.items[this.offset]},a.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var n=this.offset,r=0,i=this.items.length;n<i;n++,r++)e.call(t,this.items[n],r,this)},a.prototype.toArray=function(){return this.items.slice(this.offset)},a.prototype.values=function(){var e=this.items,t=this.offset;return new r((function(){if(t>=e.length)return{done:!0};var n=e[t];return t++,{value:n,done:!1}}))},a.prototype.entries=function(){var e=this.items,t=this.offset,n=0;return new r((function(){if(t>=e.length)return{done:!0};var r=e[t];return t++,{value:[n++,r],done:!1}}))},"undefined"!==typeof Symbol&&(a.prototype[Symbol.iterator]=a.prototype.values),a.prototype.toString=function(){return this.toArray().join(",")},a.prototype.toJSON=function(){return this.toArray()},a.prototype.inspect=function(){var e=this.toArray();return Object.defineProperty(e,"constructor",{value:a,enumerable:!1}),e},"undefined"!==typeof Symbol&&(a.prototype[Symbol.for("nodejs.util.inspect.custom")]=a.prototype.inspect),a.from=function(e){var t=new a;return i(e,(function(e){t.enqueue(e)})),t},a.of=function(){return a.from(arguments)},e.exports=a},7282:function(e,t){t.DEFAULT_COMPARATOR=function(e,t){return e<t?-1:e>t?1:0},t.DEFAULT_REVERSE_COMPARATOR=function(e,t){return e<t?1:e>t?-1:0},t.reverseComparator=function(e){return function(t,n){return e(n,t)}},t.createTupleComparator=function(e){return 2===e?function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:e[1]<t[1]?-1:e[1]>t[1]?1:0}:function(t,n){for(var r=0;r<e;){if(t[r]<n[r])return-1;if(t[r]>n[r])return 1;r++}return 0}}},3085:function(e,t,n){var r=n(82),i=n(3407);function a(e){return"number"===typeof e.length?e.length:"number"===typeof e.size?e.size:void 0}t.isArrayLike=function(e){return Array.isArray(e)||i.isTypedArray(e)},t.guessLength=a,t.toArray=function(e){var t=a(e),n="number"===typeof t?new Array(t):[],i=0;return r(e,(function(e){n[i++]=e})),n},t.toArrayWithIndices=function(e){var t=a(e),n="number"===typeof t?i.getPointerArray(t):Array,o="number"===typeof t?new Array(t):[],s="number"===typeof t?new n(t):[],l=0;return r(e,(function(e){o[l]=e,s[l]=l++})),[o,s]}},3407:function(e,t){var n=Math.pow(2,8)-1,r=Math.pow(2,16)-1,i=Math.pow(2,32)-1,a=Math.pow(2,7)-1,o=Math.pow(2,15)-1,s=Math.pow(2,31)-1;t.getPointerArray=function(e){var t=e-1;if(t<=n)return Uint8Array;if(t<=r)return Uint16Array;if(t<=i)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},t.getSignedPointerArray=function(e){var t=e-1;return t<=a?Int8Array:t<=o?Int16Array:t<=s?Int32Array:Float64Array},t.getNumberType=function(e){return e===(0|e)?-1===Math.sign(e)?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var l={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};t.getMinimalRepresentation=function(e,n){var r,i,a,o,s,u=null,c=0;for(o=0,s=e.length;o<s;o++)a=n?n(e[o]):e[o],i=t.getNumberType(a),(r=l[i.name])>c&&(c=r,u=i);return u},t.isTypedArray=function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView(e)},t.concat=function(){var e,t,n,r=0;for(e=0,n=arguments.length;e<n;e++)r+=arguments[e].length;var i=new arguments[0].constructor(r);for(e=0,t=0;e<n;e++)i.set(arguments[e],t),t+=arguments[e].length;return i},t.indices=function(e){for(var n=new(t.getPointerArray(e))(e),r=0;r<e;r++)n[r]=r;return n}},1065:function(e,t,n){var r;!function(i,a,o){if(i){for(var s,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},c={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},d={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},f=1;f<20;++f)l[111+f]="f"+f;for(f=0;f<=9;++f)l[f+96]=f.toString();b.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},b.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},b.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},b.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},b.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(y(t,this.target))return!1;if("composedPath"in e&&"function"===typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},b.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},b.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);s=null},b.init=function(){var e=b(a);for(var t in e)"_"!==t.charAt(0)&&(b[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},b.init(),i.Mousetrap=b,e.exports&&(e.exports=b),void 0===(r=function(){return b}.call(t,n,t,e))||(e.exports=r)}function h(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function p(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return l[e.which]?l[e.which]:u[e.which]?u[e.which]:String.fromCharCode(e.which).toLowerCase()}function v(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function m(e,t,n){return n||(n=function(){if(!s)for(var e in s={},l)e>95&&e<112||l.hasOwnProperty(e)&&(s[l[e]]=e);return s}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function g(e,t){var n,r,i,a=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),i=0;i<n.length;++i)r=n[i],d[r]&&(r=d[r]),t&&"keypress"!=t&&c[r]&&(r=c[r],a.push("shift")),v(r)&&a.push(r);return{key:r,modifiers:a,action:t=m(r,a,t)}}function y(e,t){return null!==e&&e!==a&&(e===t||y(e.parentNode,t))}function b(e){var t=this;if(e=e||a,!(t instanceof b))return new b(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},i=!1,o=!1,s=!1;function l(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(s=!1)}function u(e,n,i,a,o,s){var l,u,c,d,f=[],h=i.type;if(!t._callbacks[e])return[];for("keyup"==h&&v(e)&&(n=[e]),l=0;l<t._callbacks[e].length;++l)if(u=t._callbacks[e][l],(a||!u.seq||r[u.seq]==u.level)&&h==u.action&&("keypress"==h&&!i.metaKey&&!i.ctrlKey||(c=n,d=u.modifiers,c.sort().join(",")===d.sort().join(",")))){var p=!a&&u.combo==o,m=a&&u.seq==a&&u.level==s;(p||m)&&t._callbacks[e].splice(l,1),f.push(u)}return f}function c(e,n,r,i){t.stopCallback(n,n.target||n.srcElement,r,i)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function d(e){"number"!==typeof e.which&&(e.which=e.keyCode);var n=p(e);n&&("keyup"!=e.type||i!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):i=!1)}function f(e,t,a,o){function u(t){return function(){s=t,++r[e],clearTimeout(n),n=setTimeout(l,1e3)}}function d(t){c(a,t,e),"keyup"!==o&&(i=p(t)),setTimeout(l,10)}r[e]=0;for(var f=0;f<t.length;++f){var h=f+1===t.length?d:u(o||g(t[f+1]).action);m(t[f],h,o,e,f)}}function m(e,n,r,i,a){t._directMap[e+":"+r]=n;var o,s=(e=e.replace(/\s+/g," ")).split(" ");s.length>1?f(e,s,n,r):(o=g(e,r),t._callbacks[o.key]=t._callbacks[o.key]||[],u(o.key,o.modifiers,{type:o.action},i,e,a),t._callbacks[o.key][i?"unshift":"push"]({callback:n,modifiers:o.modifiers,action:o.action,seq:i,level:a,combo:e}))}t._handleKey=function(e,t,n){var r,i=u(e,t,n),a={},d=0,f=!1;for(r=0;r<i.length;++r)i[r].seq&&(d=Math.max(d,i[r].level));for(r=0;r<i.length;++r)if(i[r].seq){if(i[r].level!=d)continue;f=!0,a[i[r].seq]=1,c(i[r].callback,n,i[r].combo,i[r].seq)}else f||c(i[r].callback,n,i[r].combo);var h="keypress"==n.type&&o;n.type!=s||v(e)||h||l(a),o=f&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)m(e[r],t,n)},h(e,"keypress",d),h(e,"keydown",d),h(e,"keyup",d)}}("undefined"!==typeof window?window:null,"undefined"!==typeof window?document:null)},82:function(e,t,n){var r=n(8025),i=r.ARRAY_BUFFER_SUPPORT,a=r.SYMBOL_SUPPORT;e.exports=function(e,t){var n,r,o,s,l;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if("function"!==typeof t)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||i&&ArrayBuffer.isView(e)||"string"===typeof e||"[object Arguments]"===e.toString())for(o=0,s=e.length;o<s;o++)t(e[o],o);else if("function"!==typeof e.forEach)if(a&&Symbol.iterator in e&&"function"!==typeof e.next&&(e=e[Symbol.iterator]()),"function"!==typeof e.next)for(r in e)e.hasOwnProperty(r)&&t(e[r],r);else for(n=e,o=0;!0!==(l=n.next()).done;)t(l.value,o),o++;else e.forEach(t)}},9545:function(e){function t(e){if("function"!==typeof e)throw new Error("obliterator/iterator: expecting a function!");this.next=e}"undefined"!==typeof Symbol&&(t.prototype[Symbol.iterator]=function(){return this}),t.of=function(){var e=arguments,n=e.length,r=0;return new t((function(){return r>=n?{done:!0}:{done:!1,value:e[r++]}}))},t.empty=function(){return new t((function(){return{done:!0}}))},t.fromSequence=function(e){var n=0,r=e.length;return new t((function(){return n>=r?{done:!0}:{done:!1,value:e[n++]}}))},t.is=function(e){return e instanceof t||"object"===typeof e&&null!==e&&"function"===typeof e.next},e.exports=t},8025:function(e,t){t.ARRAY_BUFFER_SUPPORT="undefined"!==typeof ArrayBuffer,t.SYMBOL_SUPPORT="undefined"!==typeof Symbol},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5585);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),M=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var D,U=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function j(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case E:return"Profiler";case k:return"StrictMode";case R:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){Q(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ae(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,ke=null;function Ee(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function Ce(e){_e?ke?ke.push(e):ke=[e]:_e=e}function Me(){if(_e){var e=_e,t=ke;if(ke=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Re(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==_e||null!==ke)&&(Re(),Me())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){Oe=!1}function Ne(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var De=!1,Ue=null,Fe=!1,ze=null,Be={onError:function(e){De=!0,Ue=e}};function je(e,t,n,r,i,a,o,s,l){De=!1,Ue=null,Ne.apply(Be,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(He(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ve(i),e;if(o===r)return Ve(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Ze=i.unstable_requestPaint,Qe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,_t,kt,Et,Ct=!1,Mt=[],Tt=null,Rt=null,At=null,Pt=new Map,It=new Map,Ot=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=yi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Rt&&Ft(Rt)&&(Rt=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(zt),It.forEach(zt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Ht(e){function t(t){return jt(t,e)}if(0<Mt.length){jt(Mt[0],e);for(var n=1;n<Mt.length;n++){var r=Mt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&jt(Tt,e),null!==Rt&&jt(Rt,e),null!==At&&jt(At,e),Pt.forEach(t),It.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ut(n),null===n.blockedOn&&Ot.shift()}var Gt=x.ReactCurrentBatchConfig,Vt=!0;function Wt(e,t,n,r){var i=bt,a=Gt.transition;Gt.transition=null;try{bt=1,Xt(e,t,n,r)}finally{bt=i,Gt.transition=a}}function qt(e,t,n,r){var i=bt,a=Gt.transition;Gt.transition=null;try{bt=4,Xt(e,t,n,r)}finally{bt=i,Gt.transition=a}}function Xt(e,t,n,r){if(Vt){var i=Kt(e,t,n,r);if(null===i)Vr(e,t,r,Yt,n),Nt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Dt(Tt,e,t,n,r,i),!0;case"dragenter":return Rt=Dt(Rt,e,t,n,r,i),!0;case"mouseover":return At=Dt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Dt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,It.set(a,Dt(It.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Kt(e,t,n,r))&&Vr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Yt=null;function Kt(e,t,n,r){if(Yt=null,null!==(e=yi(e=we(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,$t=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=$t,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=U({},un,{view:0,detail:0}),fn=an(dn),hn=U({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),vn=an(U({},hn,{dataTransfer:0})),mn=an(U({},dn,{relatedTarget:0})),gn=an(U({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=U({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),xn=an(U({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return kn}var Cn=U({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=an(Cn),Tn=an(U({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=an(U({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(U({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=U({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=an(Pn),On=[9,13,27,32],Ln=c&&"CompositionEvent"in window,Nn=null;c&&"documentMode"in document&&(Nn=document.documentMode);var Dn=c&&"TextEvent"in window&&!Nn,Un=c&&(!Ln||Nn&&8<Nn&&11>=Nn),Fn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Xn=null;function Yn(e){Fr(e,0)}function Kn(e){if(X(xi(e)))return e}function Zn(e,t){if("change"===e)return t}var Qn=!1;if(c){var $n;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}$n=Jn}else $n=!1;Qn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Xn=qn=null)}function nr(e){if("value"===e.propertyName&&Kn(Xn)){var t=[];Wn(t,Xn,e,we(e)),Pe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Xn)}function ar(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},kr={};function Er(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return _r[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=Er("animationend"),Mr=Er("animationiteration"),Tr=Er("animationstart"),Rr=Er("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Ar.set(e,t),l(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Lr=Pr[Or];Ir(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Ir(Cr,"onAnimationEnd"),Ir(Mr,"onAnimationIteration"),Ir(Tr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Rr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(je.apply(this,arguments),De){if(!De)throw Error(a(198));var c=Ue;De=!1,Ue=null,Fe||(Fe=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Ur(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Ur(i,s,u),a=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[jr]){e[jr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Br("selectionchange",!1,t))}}function Gr(e,t,n,r){switch(Zt(t)){case 1:var i=Wt;break;case 4:i=qt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Cr:case Mr:case Tr:l=gn;break;case Rr:l=An;break;case"scroll":l=fn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=Ie(p,f))&&c.push(Wr(p,v,h)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(d=He(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:xi(l),h=null==u?s:xi(u),(s=new c(v,p+"leave",l,n,i)).target=d,s.relatedTarget=h,v=null,yi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,v=c),d=v,l&&u)e:{for(f=u,p=0,h=c=l;h;h=Xr(h))p++;for(h=0,v=f;v;v=Xr(v))h++;for(;0<p-h;)c=Xr(c),p--;for(;0<h-p;)f=Xr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Xr(c),f=Xr(f)}c=null}else c=null;null!==l&&Yr(o,s,l,c,!1),null!==u&&null!==d&&Yr(o,d,u,c,!0)}if("select"===(l=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Zn;else if(Vn(s))if(Qn)m=or;else{m=ir;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?xi(r):window,e){case"focusin":(Vn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":xr(o,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=en()):($t="value"in(Qt=i)?Qt.value:Qt.textContent,Hn=!0)),0<(g=qr(r,b)).length&&(b=new xn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=jn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Ln&&Bn(e,t)?(e=en(),Jt=$t=Qt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ie(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Ie(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Ie(n,a))&&o.unshift(Wr(n,l,s)):i||null!=(l=Ie(n,a))&&o.push(Wr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Kr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Zr,"")}function $r(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,vi="__reactEvents$"+di,mi="__reactListeners$"+di,gi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var Si=[],_i=-1;function ki(e){return{current:e}}function Ei(e){0>_i||(e.current=Si[_i],Si[_i]=null,_i--)}function Ci(e,t){_i++,Si[_i]=e.current,e.current=t}var Mi={},Ti=ki(Mi),Ri=ki(!1),Ai=Mi;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ei(Ri),Ei(Ti)}function Li(e,t,n){if(Ti.current!==Mi)throw Error(a(168));Ci(Ti,t),Ci(Ri,n)}function Ni(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,G(e)||"Unknown",i));return U({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,Ai=Ti.current,Ci(Ti,e),Ci(Ri,Ri.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ni(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ri),Ei(Ti),Ci(Ti,e)):Ei(Ri),Ci(Ri,n)}var Fi=null,zi=!1,Bi=!1;function ji(e){null===Fi?Fi=[e]:Fi.push(e)}function Hi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,zi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Xe(Je,Hi),i}finally{bt=t,Bi=!1}}return null}var Gi=[],Vi=0,Wi=null,qi=0,Xi=[],Yi=0,Ki=null,Zi=1,Qi="";function $i(e,t){Gi[Vi++]=qi,Gi[Vi++]=Wi,Wi=e,qi=t}function Ji(e,t,n){Xi[Yi++]=Zi,Xi[Yi++]=Qi,Xi[Yi++]=Ki,Ki=e;var r=Zi;e=Qi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zi=1<<32-ot(t)+i|n<<i|r,Qi=a+e}else Zi=1<<a|n<<i|r,Qi=e}function ea(e){null!==e.return&&($i(e,1),Ji(e,1,0))}function ta(e){for(;e===Wi;)Wi=Gi[--Vi],Gi[Vi]=null,qi=Gi[--Vi],Gi[Vi]=null;for(;e===Ki;)Ki=Xi[--Yi],Xi[Yi]=null,Qi=Xi[--Yi],Xi[Yi]=null,Zi=Xi[--Yi],Xi[Yi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Iu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Zi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Iu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ui(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ui(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=x.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=ki(null),ya=null,ba=null,xa=null;function wa(){xa=ba=ya=null}function Sa(e){var t=ga.current;Ei(ga),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ka(e,t){ya=e,xa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(xa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ca=null;function Ma(e){null===Ca?Ca=[e]:Ca.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ma(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ra(e,r)}function Ra(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ia(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ra(e,n)}return null===(i=r.interleaved)?(t.next=t,Ma(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ra(e,n)}function Na(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,c=u=l=null,s=a;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(h,d,f):p)||void 0===f)break e;d=U({},d,f);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ul|=o,e.lanes=o,e.memoizedState=d}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var za=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ja={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,i))&&(ru(t,e,i,r),Na(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,i))&&(ru(t,e,i,r),Na(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=La(e,i,r))&&(ru(t,e,r,n),Na(t,e,r))}};function Ha(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function Ga(e,t,n){var r=!1,i=Mi,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ii(t)?Ai:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Mi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ja,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ja.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=za,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ii(t)?Ai:Ti.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ja.enqueueReplaceState(i,i.state,null),Ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===za&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Xa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ya(e){return(0,e._init)(e._payload)}function Ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===I&&Ya(a)===t.type)?((r=i(t,n.props)).ref=qa(e,t,n),r.return=e,r):((r=Nu(n.type,n.key,n.props,null,e.mode,r)).ref=qa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Du(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=qa(e,null,t),n.return=e,n;case S:return(t=zu(t,e.mode,n)).return=e,t;case I:return f(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Du(t,e.mode,n,null)).return=e,t;Xa(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case I:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||N(n))return null!==i?null:d(e,t,n,r,null);Xa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||N(r))return d(t,e=e.get(n)||null,r,i,null);Xa(t,r)}return null}function v(i,a,s,l){for(var u=null,c=null,d=a,v=a=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var g=h(i,d,s[v],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,v),null===c?u=g:c.sibling=g,c=g,d=m}if(v===s.length)return n(i,d),ia&&$i(i,v),u;if(null===d){for(;v<s.length;v++)null!==(d=f(i,s[v],l))&&(a=o(d,a,v),null===c?u=d:c.sibling=d,c=d);return ia&&$i(i,v),u}for(d=r(i,d);v<s.length;v++)null!==(m=p(d,i,v,s[v],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),ia&&$i(i,v),u}function m(i,s,l,u){var c=N(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,v=s,m=s=0,g=null,y=l.next();null!==v&&!y.done;m++,y=l.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(i,v,y.value,u);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===d?c=b:d.sibling=b,d=b,v=g}if(y.done)return n(i,v),ia&&$i(i,m),c;if(null===v){for(;!y.done;m++,y=l.next())null!==(y=f(i,y.value,u))&&(s=o(y,s,m),null===d?c=y:d.sibling=y,d=y);return ia&&$i(i,m),c}for(v=r(i,v);!y.done;m++,y=l.next())null!==(y=p(v,i,m,y.value,u))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===d?c=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&$i(i,m),c}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===_){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===I&&Ya(u)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=qa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===_?((a=Du(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Nu(o.type,o.key,o.props,null,r.mode,l)).ref=qa(r,a,o),l.return=r,r=l)}return s(r);case S:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=zu(o,r.mode,l)).return=r,r=a}return s(r);case I:return e(r,a,(c=o._init)(o._payload),l)}if(te(o))return v(r,a,o,l);if(N(o))return m(r,a,o,l);Xa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fu(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var Za=Ka(!0),Qa=Ka(!1),$a={},Ja=ki($a),eo=ki($a),to=ki($a);function no(e){if(e===$a)throw Error(a(174));return e}function ro(e,t){switch(Ci(to,t),Ci(eo,e),Ci(Ja,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Ja),Ci(Ja,t)}function io(){Ei(Ja),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Ja.current),n=le(t,e.type);t!==n&&(Ci(eo,e),Ci(Ja,n))}function oo(e){eo.current===e&&(Ei(Ja),Ei(eo))}var so=ki(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var fo=x.ReactCurrentDispatcher,ho=x.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,bo=!1,xo=0,wo=0;function So(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ko(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),bo){o=0;do{if(bo=!1,xo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=us,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==xo;return xo=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Mo(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function To(e,t){return"function"===typeof t?t(e):t}function Ro(e){var t=Mo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((po&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,vo.lanes|=d,Ul|=d}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ul|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Mo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(xs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Io(e,t){var n=vo,r=Mo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,xs=!0),r=r.queue,Vo(No.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,zo(9,Lo.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Lo(e,t,n,r){t.value=n,t.getSnapshot=r,Do(t)&&Uo(e)}function No(e,t,n){return n((function(){Do(t)&&Uo(e)}))}function Do(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Uo(e){var t=Ra(e,1);null!==t&&ru(t,e,1,-1)}function Fo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Mo().memoizedState}function jo(e,t,n,r){var i=Co();vo.flags|=e,i.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function Ho(e,t,n,r){var i=Mo();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=zo(t,n,a,r))}vo.flags|=e,i.memoizedState=zo(1|t,n,a,r)}function Go(e,t){return jo(8390656,8,e,t)}function Vo(e,t){return Ho(2048,8,e,t)}function Wo(e,t){return Ho(4,2,e,t)}function qo(e,t){return Ho(4,4,e,t)}function Xo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ho(4,4,Xo.bind(null,t,e),n)}function Ko(){}function Zo(e,t){var n=Mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=Mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Ul|=n,e.baseState=!0),t)}function Jo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return Mo().memoizedState}function ts(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ta(e,t,n,r))){ru(n,e,r,tu()),as(n,t,r)}}function ns(e,t,n){var r=nu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ma(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Ta(e,t,i,r))&&(ru(n,e,r,i=tu()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ea,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Go,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4194308,4,Xo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:Fo,useDebugValue:Ko,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Jo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Co();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Al)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Go(No.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Lo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Al.identifierPrefix;if(ia){var n=Qi;t=":"+t+"R"+(n=(Zi&~(1<<32-ot(Zi)-1)).toString(32)+n),0<(n=xo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Ea,useCallback:Zo,useContext:Ea,useEffect:Vo,useImperativeHandle:Yo,useInsertionEffect:Wo,useLayoutEffect:qo,useMemo:Qo,useReducer:Ro,useRef:Bo,useState:function(){return Ro(To)},useDebugValue:Ko,useDeferredValue:function(e){return $o(Mo(),mo.memoizedState,e)},useTransition:function(){return[Ro(To)[0],Mo().memoizedState]},useMutableSource:Po,useSyncExternalStore:Io,useId:es,unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Zo,useContext:Ea,useEffect:Vo,useImperativeHandle:Yo,useInsertionEffect:Wo,useLayoutEffect:qo,useMemo:Qo,useReducer:Ao,useRef:Bo,useState:function(){return Ao(To)},useDebugValue:Ko,useDeferredValue:function(e){var t=Mo();return null===mo?t.memoizedState=e:$o(t,mo.memoizedState,e)},useTransition:function(){return[Ao(To)[0],Mo().memoizedState]},useMutableSource:Po,useSyncExternalStore:Io,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,ql=r),fs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Xl?Xl=new Set([this]):Xl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,La(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=x.ReactCurrentOwner,xs=!1;function ws(e,t,n,r){t.child=null===e?Qa(t,null,n,r):Za(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var a=t.ref;return ka(t,i),r=ko(e,t,n,r,a,i),n=Eo(),null===e||xs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ou(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ks(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Lu(a,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return Ms(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ll,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ll,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(Ll,Ol),Ol|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(Ll,Ol),Ol|=r;return ws(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ms(e,t,n,r,i){var a=Ii(n)?Ai:Ti.current;return a=Pi(t,a),ka(t,i),n=ko(e,t,n,r,a,i),r=Eo(),null===e||xs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ts(e,t,n,r,i){if(Ii(n)){var a=!0;Di(t)}else a=!1;if(ka(t,i),null===t.stateNode)Vs(e,t),Ga(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ea(u):u=Pi(t,u=Ii(n)?Ai:Ti.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Va(t,o,r,u),Aa=!1;var f=t.memoizedState;o.state=f,Ua(t,r,o,i),l=t.memoizedState,s!==r||f!==l||Ri.current||Aa?("function"===typeof c&&(Ba(t,n,c,r),l=t.memoizedState),(s=Aa||Ha(t,n,s,r,f,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ia(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ma(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ea(l):l=Pi(t,l=Ii(n)?Ai:Ti.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==l)&&Va(t,o,r,l),Aa=!1,f=t.memoizedState,o.state=f,Ua(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||Ri.current||Aa?("function"===typeof h&&(Ba(t,n,h,r),p=t.memoizedState),(u=Aa||Ha(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Rs(e,t,n,r,a,i)}function Rs(e,t,n,r,i,a){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),Ws(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Za(t,e.child,null,a),t.child=Za(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return ha(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Is,Os,Ls,Ns,Ds={dehydrated:null,treeContext:null,retryLane:0};function Us(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(so,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Uu(l,i,0,null),e=Du(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Us(n),t.memoizedState=Ds,e):zs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Uu({mode:"visible",children:r.children},i,0,null),(o=Du(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Za(t,e.child,null,s),t.child.memoizedState=Us(s),t.memoizedState=Ds,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Bs(e,t,s,r=ds(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=Al)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ra(e,i),ru(r,e,i,-1))}return mu(),Bs(e,t,s,r=ds(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ui(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Xi[Yi++]=Zi,Xi[Yi++]=Qi,Xi[Yi++]=Ki,Zi=e.id,Qi=e.overflow,Ki=t),t=zs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Lu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Lu(r,s):(s=Du(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Us(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=Lu(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zs(e,t){return(t=Uu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&pa(r),Za(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function js(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Hs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Gs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&js(e,n,t);else if(19===e.tag)js(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hs(t,!0,n,null,a);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ul|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Lu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ys(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(t),null;case 1:case 17:return Ii(t.type)&&Oi(),Xs(t),null;case 3:return r=t.stateNode,io(),Ei(Ri),Ei(Ti),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(su(aa),aa=null))),Os(e,t),Xs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ls(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Xs(t),null}if(e=no(Ja.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Nr.length;i++)zr(Nr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Z(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ie(r,o),zr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":q(r),J(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[hi]=r,Is(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Nr.length;i++)zr(Nr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Z(e,r),i=K(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&zr("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":q(e),J(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xs(t),null;case 6:if(e&&null!=t.stateNode)Ns(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Xs(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),ha(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xs(t),o=!1}else null!==aa&&(su(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Nl&&(Nl=3):mu())),null!==t.updateQueue&&(t.flags|=4),Xs(t),null);case 4:return io(),Os(e,t),null===e&&Hr(t.stateNode.containerInfo),Xs(t),null;case 10:return Sa(t.type._context),Xs(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Xs(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)qs(o,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,qs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Gl&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return Xs(t),null}else 2*Qe()-o.renderingStartTime>Gl&&1073741824!==n&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=so.current,Ci(so,r?1&n|2:1&n),t):(Xs(t),null);case 22:case 23:return fu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Xs(t),6&t.subtreeFlags&&(t.flags|=8192)):Xs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ks(e,t){switch(ta(t),t.tag){case 1:return Ii(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ri),Ei(Ti),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return Sa(t.type._context),null;case 22:case 23:return fu(),null;default:return null}}Is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ls=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=K(e,i),r=K(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zs=!1,Qs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Eu(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Eu(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tl(t,n,a)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,fl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||el(n,t);case 6:var r=dl,i=fl;dl=null,hl(e,t,n),fl=i,null!==(dl=r)&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ht(e)):li(dl,n.stateNode));break;case 4:r=dl,i=fl,dl=n.stateNode.containerInfo,fl=!0,hl(e,t,n),dl=r,fl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tl(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qs&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Eu(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,hl(e,t,n),Qs=r):hl(e,t,n);break;default:hl(e,t,n)}}function vl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Ru.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,fl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===dl)throw Error(a(160));pl(o,s,i),dl=null,fl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Eu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(m){Eu(e,e.return,m)}try{rl(5,e,e.return)}catch(m){Eu(e,e.return,m)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Eu(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(i,o),be(l,s);var c=be(l,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?me(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,c)}switch(l){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Eu(e,e.return,m)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Eu(e,e.return,m)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(m){Eu(e,e.return,m)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Hl=Qe())),4&r&&vl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(c=Qs)||d,ml(t,e),Qs=c):ml(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(f=Js=d;null!==Js;){switch(p=(h=Js).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:el(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Eu(r,n,m)}}break;case 5:el(h,h.return);break;case 22:if(null!==h.memoizedState){Sl(f);continue}}null!==p?(p.return=h,Js=p):Sl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ve("display",s))}catch(m){Eu(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Eu(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),yl(e),4&r&&vl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cl(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ul(e,ll(e),o);break;default:throw Error(a(161))}}catch(s){Eu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Js=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Zs;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Zs;var u=Qs;if(Zs=o,(Qs=l)&&!u)for(Js=i;null!==Js;)l=(o=Js).child,22===o.tag&&null!==o.memoizedState?_l(i):null!==l?(l.return=o,Js=l):_l(i);for(;null!==a;)Js=a,xl(a,t,n),a=a.sibling;Js=i,Zs=s,Qs=u}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ht(f)}}}break;default:throw Error(a(163))}Qs||512&t.flags&&al(t)}catch(h){Eu(t,t.return,h)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function Sl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function _l(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Eu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Eu(t,i,l)}}var a=t.return;try{al(t)}catch(l){Eu(t,a,l)}break;case 5:var o=t.return;try{al(t)}catch(l){Eu(t,o,l)}}}catch(l){Eu(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var kl,El=Math.ceil,Cl=x.ReactCurrentDispatcher,Ml=x.ReactCurrentOwner,Tl=x.ReactCurrentBatchConfig,Rl=0,Al=null,Pl=null,Il=0,Ol=0,Ll=ki(0),Nl=0,Dl=null,Ul=0,Fl=0,zl=0,Bl=null,jl=null,Hl=0,Gl=1/0,Vl=null,Wl=!1,ql=null,Xl=null,Yl=!1,Kl=null,Zl=0,Ql=0,$l=null,Jl=-1,eu=0;function tu(){return 0!==(6&Rl)?Qe():-1!==Jl?Jl:Jl=Qe()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Il?Il&-Il:null!==va.transition?(0===eu&&(eu=vt()),eu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function ru(e,t,n,r){if(50<Ql)throw Ql=0,$l=null,Error(a(185));gt(e,n,r),0!==(2&Rl)&&e===Al||(e===Al&&(0===(2&Rl)&&(Fl|=n),4===Nl&&lu(e,Il)),iu(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(Gl=Qe()+500,zi&&Hi()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Al?Il:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){zi=!0,ji(e)}(uu.bind(null,e)):ji(uu.bind(null,e)),oi((function(){0===(6&Rl)&&Hi()})),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Au(n,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function au(e,t){if(Jl=-1,eu=0,0!==(6&Rl))throw Error(a(327));var n=e.callbackNode;if(_u()&&e.callbackNode!==n)return null;var r=ft(e,e===Al?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=Rl;Rl|=2;var o=vu();for(Al===e&&Il===t||(Vl=null,Gl=Qe()+500,hu(e,t));;)try{bu();break}catch(l){pu(e,l)}wa(),Cl.current=o,Rl=i,null!==Pl?t=0:(Al=null,Il=0,t=Nl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t)throw n=Dl,hu(e,0),lu(e,r),iu(e,Qe()),n;if(6===t)lu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(o=pt(e))&&(r=o,t=ou(e,o))),1===t))throw n=Dl,hu(e,0),lu(e,r),iu(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Su(e,jl,Vl);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Hl+500-Qe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Su.bind(null,e,jl,Vl),t);break}Su(e,jl,Vl);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(Su.bind(null,e,jl,Vl),r);break}Su(e,jl,Vl);break;default:throw Error(a(329))}}}return iu(e,Qe()),e.callbackNode===n?au.bind(null,e):null}function ou(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=jl,jl=n,null!==t&&su(t)),e}function su(e){null===jl?jl=e:jl.push.apply(jl,e)}function lu(e,t){for(t&=~zl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&Rl))throw Error(a(327));_u();var t=ft(e,0);if(0===(1&t))return iu(e,Qe()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Dl,hu(e,0),lu(e,t),iu(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Su(e,jl,Vl),iu(e,Qe()),null}function cu(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(Gl=Qe()+500,zi&&Hi())}}function du(e){null!==Kl&&0===Kl.tag&&0===(6&Rl)&&_u();var t=Rl;Rl|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Rl=t))&&Hi()}}function fu(){Ol=Ll.current,Ei(Ll)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ei(Ri),Ei(Ti),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:Sa(r.type._context);break;case 22:case 23:fu()}n=n.return}if(Al=e,Pl=e=Lu(e.current,null),Il=Ol=t,Nl=0,Dl=null,zl=Fl=Ul=0,jl=Bl=null,null!==Ca){for(t=0;t<Ca.length;t++)if(null!==(r=(n=Ca[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ca=null}return e}function pu(e,t){for(;;){var n=Pl;try{if(wa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,bo=!1,xo=0,Ml.current=null,null===n||null===n.return){Nl=1,Dl=t,Pl=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Il,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(o,c,t),u=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(u),t.updateQueue=m}else v.add(u);break e}if(0===(1&t)){ms(o,c,t),mu();break e}u=Error(a(426))}else if(ia&&1&l.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,l,0,t),pa(cs(u,l));break e}}o=u=cs(u,l),4!==Nl&&(Nl=2),null===Bl?Bl=[o]:Bl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Da(o,ps(0,u,t));break e;case 1:l=u;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Xl||!Xl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Da(o,vs(o,l,t));break e}}o=o.return}while(null!==o)}wu(n)}catch(x){t=x,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function vu(){var e=Cl.current;return Cl.current=os,null===e?os:e}function mu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Al||0===(268435455&Ul)&&0===(268435455&Fl)||lu(Al,Il)}function gu(e,t){var n=Rl;Rl|=2;var r=vu();for(Al===e&&Il===t||(Vl=null,hu(e,t));;)try{yu();break}catch(i){pu(e,i)}if(wa(),Rl=n,Cl.current=r,null!==Pl)throw Error(a(261));return Al=null,Il=0,Nl}function yu(){for(;null!==Pl;)xu(Pl)}function bu(){for(;null!==Pl&&!Ke();)xu(Pl)}function xu(e){var t=kl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?wu(e):Pl=t,Ml.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ys(n,t,Ol)))return void(Pl=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Nl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Nl&&(Nl=5)}function Su(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{_u()}while(null!==Kl);if(0!==(6&Rl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Al&&(Pl=Al=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Au(tt,(function(){return _u(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tl.transition,Tl.transition=null;var s=bt;bt=1;var l=Rl;Rl|=4,Ml.current=null,function(e,t){if(ei=Vt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=s+i),f!==o||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(l=s),h===o&&++d===r&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(w){Eu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=nl,nl=!1}(e,n),gl(n,e),pr(ti),Vt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Ze(),Rl=l,bt=s,Tl.transition=o}else e.current=n;if(Yl&&(Yl=!1,Kl=e,Zl=i),o=e.pendingLanes,0===o&&(Xl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=ql,ql=null,e;0!==(1&Zl)&&0!==e.tag&&_u(),o=e.pendingLanes,0!==(1&o)?e===$l?Ql++:(Ql=0,$l=e):Ql=0,Hi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function _u(){if(null!==Kl){var e=xt(Zl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Zl=0,0!==(6&Rl))throw Error(a(331));var i=Rl;for(Rl|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Js=c;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:rl(8,d,o)}var f=d.child;if(null!==f)f.return=d,Js=f;else for(;null!==Js;){var h=(d=Js).sibling,p=d.return;if(ol(d),d===c){Js=null;break}if(null!==h){h.return=p,Js=h;break}Js=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Js=y;break e}Js=o.return}}var b=e.current;for(Js=b;null!==Js;){var x=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Js=x;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){Eu(l,l.return,S)}if(l===s){Js=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break e}Js=l.return}}if(Rl=i,Hi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function ku(e,t,n){e=La(e,t=ps(0,t=cs(n,t),1),1),t=tu(),null!==e&&(gt(e,1,t),iu(e,t))}function Eu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xl||!Xl.has(r))){t=La(t,e=vs(t,e=cs(n,e),1),1),e=tu(),null!==t&&(gt(t,1,e),iu(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Il&n)===n&&(4===Nl||3===Nl&&(130023424&Il)===Il&&500>Qe()-Hl?hu(e,0):zl|=n),iu(e,t)}function Mu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=Ra(e,t))&&(gt(e,t,n),iu(e,n))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Mu(e,n)}function Ru(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Mu(e,n)}function Au(e,t){return Xe(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Iu(e,t,n,r){return new Pu(e,t,n,r)}function Ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lu(e,t){var n=e.alternate;return null===n?((n=Iu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ou(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Du(n.children,i,o,t);case k:s=8,i|=8;break;case E:return(e=Iu(12,n,t,2|i)).elementType=E,e.lanes=o,e;case R:return(e=Iu(13,n,t,i)).elementType=R,e.lanes=o,e;case A:return(e=Iu(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Uu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case M:s=9;break e;case T:s=11;break e;case P:s=14;break e;case I:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Iu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Du(e,t,n,r){return(e=Iu(7,e,r,t)).lanes=n,e}function Uu(e,t,n,r){return(e=Iu(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=Iu(6,e,null,t)).lanes=n,e}function zu(e,t,n){return(t=Iu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ju(e,t,n,r,i,a,o,s,l){return e=new Bu(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Iu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Hu(e){if(!e)return Mi;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Ni(e,n,t)}return t}function Gu(e,t,n,r,i,a,o,s,l){return(e=ju(n,r,!0,e,0,a,0,s,l)).context=Hu(null),n=e.current,(a=Oa(r=tu(),i=nu(n))).callback=void 0!==t&&null!==t?t:null,La(n,a,i),e.current.lanes=i,gt(e,i,r),iu(e,r),e}function Vu(e,t,n,r){var i=t.current,a=tu(),o=nu(i);return n=Hu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=La(i,t,o))&&(ru(e,i,o,a),Na(e,i,o)),o}function Wu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xu(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:As(t),ha();break;case 5:ao(t);break;case 1:Ii(t.type)&&Di(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ci(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ci(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Gs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,ia&&0!==(1048576&t.flags)&&Ji(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var i=Pi(t,Ti.current);ka(t,n),i=ko(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=ja,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Rs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ou(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ms(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ms(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ia(e,t),Ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Qa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ua(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Cs(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Za(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ci(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ri.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Oa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),_a(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ka(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_s(e,t,r,i=ma(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Vs(e,t),t.tag=1,Ii(r)?(e=!0,Di(t)):e=!1,ka(t,n),Ga(t,r,i),Wa(t,r,i,n),Rs(null,t,r,!0,e,n);case 19:return Gs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Yu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Zu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wu(o);s.call(e)}}Vu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wu(o);a.call(e)}}var o=Gu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=o,e[pi]=o.current,Hr(8===e.nodeType?e.parentNode:e),du(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wu(l);s.call(e)}}var l=ju(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[pi]=l.current,Hr(8===e.nodeType?e.parentNode:e),du((function(){Vu(t,l,n,r)})),l}(n,t,e,i,r);return Wu(o)}Zu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vu(e,t,null,null)},Zu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){Vu(null,e,null,null)})),t[pi]=null}},Zu.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ut(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),iu(t,Qe()),0===(6&Rl)&&(Gl=Qe()+500,Hi()))}break;case 13:du((function(){var t=Ra(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Xu(e,1)}},St=function(e){if(13===e.tag){var t=Ra(e,134217728);if(null!==t)ru(t,e,134217728,tu());Xu(e,134217728)}},_t=function(e){if(13===e.tag){var t=nu(e),n=Ra(e,t);if(null!==n)ru(n,e,t,tu());Xu(e,t)}},kt=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));X(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cu,Re=du;var tc={usingClientEntryPoint:!1,Events:[bi,xi,wi,Ce,Me,cu]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(a(299));var n=!1,r="",i=Yu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=ju(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,n){if(!$u(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Yu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Gu(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zu(t)},t.render=function(e,t,n){if(!$u(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$u(e))throw Error(a(40));return!!e._reactRootContainer&&(du((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$u(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},67:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(m=!1,x(e),!v)if(null!==r(u))v=!0,O(S);else{var t=r(c);null!==t&&L(w,t.startTime-e)}}function S(e,n){v=!1,m&&(m=!1,y(C),C=-1),p=!0;var a=h;try{for(x(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!R());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&i(u),x(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&L(w,d.startTime-n),l=!1}return l}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,E=null,C=-1,M=5,T=-1;function R(){return!(t.unstable_now()-T<M)}function A(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?_():(k=!1,E=null)}}else k=!1}if("function"===typeof b)_=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,I=P.port2;P.port1.onmessage=A,_=function(){I.postMessage(null)}}else _=function(){g(A,0)};function O(e){E=e,k||(k=!0,_())}function L(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(m?(y(C),C=-1):m=!0,L(w,a-o))):(e.sortIndex=s,n(u,e),v||p||(v=!0,O(S))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5585:function(e,t,n){"use strict";e.exports=n(67)},1372:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case f:case h:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case v:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},7441:function(e,t,n){"use strict";n(1372)},4976:function(e,t){"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},3721:function(e,t,n){e.exports=function(e){var t={},r=n(2791),i=n(5296),a=Object.assign;function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var x=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var w=Symbol.iterator;function S(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=w&&e[w]||e["@@iterator"])?e:null}function _(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case c:return"Fragment";case u:return"Portal";case f:return"Profiler";case d:return"StrictMode";case m:return"Suspense";case g:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case h:return(e._context.displayName||"Context")+".Provider";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case y:return null!==(t=e.displayName||null)?t:_(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return _(e(t))}catch(n){}}return null}function k(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _(t);case 8:return t===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function E(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function C(e){if(E(e)!==e)throw Error(o(188))}function M(e){var t=e.alternate;if(!t){if(null===(t=E(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return C(i),e;if(a===r)return C(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function T(e){return null!==(e=M(e))?R(e):null}function R(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=R(e);if(null!==t)return t;e=e.sibling}return null}function A(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=A(e);if(null!==t)return t}e=e.sibling}return null}var P,I=Array.isArray,O=e.getPublicInstance,L=e.getRootHostContext,N=e.getChildHostContext,D=e.prepareForCommit,U=e.resetAfterCommit,F=e.createInstance,z=e.appendInitialChild,B=e.finalizeInitialChildren,j=e.prepareUpdate,H=e.shouldSetTextContent,G=e.createTextInstance,V=e.scheduleTimeout,W=e.cancelTimeout,q=e.noTimeout,X=e.isPrimaryRenderer,Y=e.supportsMutation,K=e.supportsPersistence,Z=e.supportsHydration,Q=e.getInstanceFromNode,$=e.preparePortalMount,J=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,ae=e.getBoundingRect,oe=e.getTextContent,se=e.isHiddenSubtree,le=e.matchAccessibilityRole,ue=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,de=e.appendChild,fe=e.appendChildToContainer,he=e.commitTextUpdate,pe=e.commitMount,ve=e.commitUpdate,me=e.insertBefore,ge=e.insertInContainerBefore,ye=e.removeChild,be=e.removeChildFromContainer,xe=e.resetTextContent,we=e.hideInstance,Se=e.hideTextInstance,_e=e.unhideInstance,ke=e.unhideTextInstance,Ee=e.clearContainer,Ce=e.cloneInstance,Me=e.createContainerChildSet,Te=e.appendChildToContainerChildSet,Re=e.finalizeContainerChildren,Ae=e.replaceContainerChildren,Pe=e.cloneHiddenInstance,Ie=e.cloneHiddenTextInstance,Oe=e.canHydrateInstance,Le=e.canHydrateTextInstance,Ne=e.canHydrateSuspenseInstance,De=e.isSuspenseInstancePending,Ue=e.isSuspenseInstanceFallback,Fe=e.registerSuspenseInstanceRetry,ze=e.getNextHydratableSibling,Be=e.getFirstHydratableChild,je=e.getFirstHydratableChildWithinContainer,He=e.getFirstHydratableChildWithinSuspenseInstance,Ge=e.hydrateInstance,Ve=e.hydrateTextInstance,We=e.hydrateSuspenseInstance,qe=e.getNextHydratableInstanceAfterSuspenseInstance,Xe=e.commitHydratedContainer,Ye=e.commitHydratedSuspenseInstance,Ke=e.clearSuspenseBoundary,Ze=e.clearSuspenseBoundaryFromContainer,Qe=e.shouldDeleteUnhydratedTailInstances,$e=e.didNotMatchHydratedContainerTextInstance,Je=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===P)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],at=-1;function ot(e){return{current:e}}function st(e){0>at||(e.current=it[at],it[at]=null,at--)}function lt(e,t){at++,it[at]=e.current,e.current=t}var ut={},ct=ot(ut),dt=ot(!1),ft=ut;function ht(e,t){var n=e.type.contextTypes;if(!n)return ut;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vt(){st(dt),st(ct)}function mt(e,t,n){if(ct.current!==ut)throw Error(o(168));lt(ct,t),lt(dt,n)}function gt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,k(e)||"Unknown",i));return a({},n,r)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ut,ft=ct.current,lt(ct,e),lt(dt,dt.current),!0}function bt(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=gt(e,t,ft),r.__reactInternalMemoizedMergedChildContext=e,st(dt),st(ct),lt(ct,e)):st(dt),lt(dt,n)}var xt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(wt(e)/St|0)|0},wt=Math.log,St=Math.LN2;var _t=64,kt=4194304;function Et(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=Et(s):0!==(a&=o)&&(r=Et(a))}else 0!==(o=n&~i)?r=Et(o):0!==a&&(r=Et(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-xt(t)),r|=e[n],t&=~i;return r}function Mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Tt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Rt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function At(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-xt(t)]=n}function Pt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var It=0;function Ot(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Lt=i.unstable_scheduleCallback,Nt=i.unstable_cancelCallback,Dt=i.unstable_shouldYield,Ut=i.unstable_requestPaint,Ft=i.unstable_now,zt=i.unstable_ImmediatePriority,Bt=i.unstable_UserBlockingPriority,jt=i.unstable_NormalPriority,Ht=i.unstable_IdlePriority,Gt=null,Vt=null;var Wt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},qt=null,Xt=!1,Yt=!1;function Kt(e){null===qt?qt=[e]:qt.push(e)}function Zt(){if(!Yt&&null!==qt){Yt=!0;var e=0,t=It;try{var n=qt;for(It=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}qt=null,Xt=!1}catch(i){throw null!==qt&&(qt=qt.slice(e+1)),Lt(zt,Zt),i}finally{It=t,Yt=!1}}return null}var Qt=s.ReactCurrentBatchConfig;function $t(e,t){if(Wt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Wt(e[i],t[i]))return!1}return!0}function Jt(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=ot(null),nn=null,rn=null,an=null;function on(){an=rn=nn=null}function sn(e,t,n){X?(lt(tn,t._currentValue),t._currentValue=n):(lt(tn,t._currentValue2),t._currentValue2=n)}function ln(e){var t=tn.current;st(tn),X?e._currentValue=t:e._currentValue2=t}function un(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cn(e,t){nn=e,an=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Di=!0),e.firstContext=null)}function dn(e){var t=X?e._currentValue:e._currentValue2;if(an!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(o(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var fn=null,hn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Ya&&0!==(1&e.mode)&&0===(2&Xa)?(null===(e=n.interleaved)?(t.next=t,null===fn?fn=[n]:fn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function yn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pt(e,n)}}function bn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xn(e,t,n,r){var i=e.updateQueue;hn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(s=0,d=c=u=null,l=o;;){var h=l.lane,p=l.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,m=l;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(v=m.payload)){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null===(h="function"===typeof(v=m.payload)?v.call(p,f,h):v)||void 0===h)break e;f=a({},f,h);break e;case 2:hn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=p,u=f):d=d.next=p,s|=h;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(h=l).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===d&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);to|=s,e.lanes=s,e.memoizedState=f}}function wn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Sn=(new r.Component).refs;function _n(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var kn={isMounted:function(e){return!!(e=e._reactInternals)&&E(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wo(),i=So(e),a=mn(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),null!==(t=_o(e,i,r))&&yn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wo(),i=So(e),a=mn(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),null!==(t=_o(e,i,r))&&yn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wo(),r=So(e),i=mn(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),gn(e,i),null!==(t=_o(e,r,n))&&yn(t,e,r)}};function En(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!$t(n,r)||!$t(i,a))}function Cn(e,t,n){var r=!1,i=ut,a=t.contextType;return"object"===typeof a&&null!==a?a=dn(a):(i=pt(t)?ft:ct.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?ht(e,i):ut),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=kn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Mn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&kn.enqueueReplaceState(t,t.state,null)}function Tn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Sn,pn(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=dn(a):(a=pt(t)?ft:ct.current,i.context=ht(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(_n(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&kn.enqueueReplaceState(i,i.state,null),xn(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var Rn=[],An=0,Pn=null,In=0,On=[],Ln=0,Nn=null,Dn=1,Un="";function Fn(e,t){Rn[An++]=In,Rn[An++]=Pn,Pn=e,In=t}function zn(e,t,n){On[Ln++]=Dn,On[Ln++]=Un,On[Ln++]=Nn,Nn=e;var r=Dn;e=Un;var i=32-xt(r)-1;r&=~(1<<i),n+=1;var a=32-xt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Dn=1<<32-xt(t)+i|n<<i|r,Un=a+e}else Dn=1<<a|n<<i|r,Un=e}function Bn(e){null!==e.return&&(Fn(e,1),zn(e,1,0))}function jn(e){for(;e===Pn;)Pn=Rn[--An],Rn[An]=null,In=Rn[--An],Rn[An]=null;for(;e===Nn;)Nn=On[--Ln],On[Ln]=null,Un=On[--Ln],On[Ln]=null,Dn=On[--Ln],On[Ln]=null}var Hn=null,Gn=null,Vn=!1,Wn=!1,qn=null;function Xn(e,t){var n=$o(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Yn(e,t){switch(e.tag){case 5:return null!==(t=Oe(t,e.type,e.pendingProps))&&(e.stateNode=t,Hn=e,Gn=Be(t),!0);case 6:return null!==(t=Le(t,e.pendingProps))&&(e.stateNode=t,Hn=e,Gn=null,!0);case 13:if(null!==(t=Ne(t))){var n=null!==Nn?{id:Dn,overflow:Un}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=$o(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Hn=e,Gn=null,!0}return!1;default:return!1}}function Kn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Zn(e){if(Vn){var t=Gn;if(t){var n=t;if(!Yn(e,t)){if(Kn(e))throw Error(o(418));t=ze(n);var r=Hn;t&&Yn(e,t)?Xn(r,n):(e.flags=-4097&e.flags|2,Vn=!1,Hn=e)}}else{if(Kn(e))throw Error(o(418));e.flags=-4097&e.flags|2,Vn=!1,Hn=e}}}function Qn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Hn=e}function $n(e){if(!Z||e!==Hn)return!1;if(!Vn)return Qn(e),Vn=!0,!1;if(3!==e.tag&&(5!==e.tag||Qe(e.type)&&!H(e.type,e.memoizedProps))){var t=Gn;if(t){if(Kn(e)){for(e=Gn;e;)e=ze(e);throw Error(o(418))}for(;t;)Xn(e,t),t=ze(t)}}if(Qn(e),13===e.tag){if(!Z)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));Gn=qe(e)}else Gn=Hn?ze(e.stateNode):null;return!0}function Jn(){Z&&(Gn=Hn=null,Wn=Vn=!1)}function er(e){null===qn?qn=[e]:qn.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Sn&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=es(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function d(e,t,n,r){return null===t||6!==t.tag?((t=is(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n,r){var a=n.type;return a===c?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===b&&rr(a)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=ts(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=as(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=ns(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function v(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=is(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case l:return(n=ts(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case u:return(t=as(t,e.mode,n)).return=e,t;case b:return v(e,(0,t._init)(t._payload),n)}if(I(t)||S(t))return(t=ns(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:d(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===i?f(e,t,n,r):null;case u:return n.key===i?h(e,t,n,r):null;case b:return m(e,t,(i=n._init)(n._payload),r)}if(I(n)||S(n))return null!==i?null:p(e,t,n,r,null);nr(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return d(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case l:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return g(e,t,n,(0,r._init)(r._payload),i)}if(I(r)||S(r))return p(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}function y(i,o,s,l){for(var u=null,c=null,d=o,f=o=0,h=null;null!==d&&f<s.length;f++){d.index>f?(h=d,d=null):h=d.sibling;var p=m(i,d,s[f],l);if(null===p){null===d&&(d=h);break}e&&d&&null===p.alternate&&t(i,d),o=a(p,o,f),null===c?u=p:c.sibling=p,c=p,d=h}if(f===s.length)return n(i,d),Vn&&Fn(i,f),u;if(null===d){for(;f<s.length;f++)null!==(d=v(i,s[f],l))&&(o=a(d,o,f),null===c?u=d:c.sibling=d,c=d);return Vn&&Fn(i,f),u}for(d=r(i,d);f<s.length;f++)null!==(h=g(d,i,f,s[f],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?f:h.key),o=a(h,o,f),null===c?u=h:c.sibling=h,c=h);return e&&d.forEach((function(e){return t(i,e)})),Vn&&Fn(i,f),u}function x(i,s,l,u){var c=S(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,f=s,h=s=0,p=null,y=l.next();null!==f&&!y.done;h++,y=l.next()){f.index>h?(p=f,f=null):p=f.sibling;var b=m(i,f,y.value,u);if(null===b){null===f&&(f=p);break}e&&f&&null===b.alternate&&t(i,f),s=a(b,s,h),null===d?c=b:d.sibling=b,d=b,f=p}if(y.done)return n(i,f),Vn&&Fn(i,h),c;if(null===f){for(;!y.done;h++,y=l.next())null!==(y=v(i,y.value,u))&&(s=a(y,s,h),null===d?c=y:d.sibling=y,d=y);return Vn&&Fn(i,h),c}for(f=r(i,f);!y.done;h++,y=l.next())null!==(y=g(f,i,h,y.value,u))&&(e&&null!==y.alternate&&f.delete(null===y.key?h:y.key),s=a(y,s,h),null===d?c=y:d.sibling=y,d=y);return e&&f.forEach((function(e){return t(i,e)})),Vn&&Fn(i,h),c}return function e(r,a,o,d){if("object"===typeof o&&null!==o&&o.type===c&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case l:e:{for(var f=o.key,h=a;null!==h;){if(h.key===f){if((f=o.type)===c){if(7===h.tag){n(r,h.sibling),(a=i(h,o.props.children)).return=r,r=a;break e}}else if(h.elementType===f||"object"===typeof f&&null!==f&&f.$$typeof===b&&rr(f)===h.type){n(r,h.sibling),(a=i(h,o.props)).ref=tr(r,h,o),a.return=r,r=a;break e}n(r,h);break}t(r,h),h=h.sibling}o.type===c?((a=ns(o.props.children,r.mode,d,o.key)).return=r,r=a):((d=ts(o.type,o.key,o.props,null,r.mode,d)).ref=tr(r,a,o),d.return=r,r=d)}return s(r);case u:e:{for(h=o.key;null!==a;){if(a.key===h){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=as(o,r.mode,d)).return=r,r=a}return s(r);case b:return e(r,a,(h=o._init)(o._payload),d)}if(I(o))return y(r,a,o,d);if(S(o))return x(r,a,o,d);nr(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=is(o,r.mode,d)).return=r,r=a),s(r)):n(r,a)}}var ar=ir(!0),or=ir(!1),sr={},lr=ot(sr),ur=ot(sr),cr=ot(sr);function dr(e){if(e===sr)throw Error(o(174));return e}function fr(e,t){lt(cr,t),lt(ur,e),lt(lr,sr),e=L(t),st(lr),lt(lr,e)}function hr(){st(lr),st(ur),st(cr)}function pr(e){var t=dr(cr.current),n=dr(lr.current);n!==(t=N(n,e.type,t))&&(lt(ur,e),lt(lr,t))}function vr(e){ur.current===e&&(st(lr),st(ur))}var mr=ot(0);function gr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||De(n)||Ue(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yr=[];function br(){for(var e=0;e<yr.length;e++){var t=yr[e];X?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}yr.length=0}var xr=s.ReactCurrentDispatcher,wr=s.ReactCurrentBatchConfig,Sr=0,_r=null,kr=null,Er=null,Cr=!1,Mr=!1,Tr=0,Rr=0;function Ar(){throw Error(o(321))}function Pr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function Ir(e,t,n,r,i,a){if(Sr=a,_r=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xr.current=null===e||null===e.memoizedState?pi:vi,e=n(r,i),Mr){a=0;do{if(Mr=!1,Tr=0,25<=a)throw Error(o(301));a+=1,Er=kr=null,t.updateQueue=null,xr.current=mi,e=n(r,i)}while(Mr)}if(xr.current=hi,t=null!==kr&&null!==kr.next,Sr=0,Er=kr=_r=null,Cr=!1,t)throw Error(o(300));return e}function Or(){var e=0!==Tr;return Tr=0,e}function Lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Er?_r.memoizedState=Er=e:Er=Er.next=e,Er}function Nr(){if(null===kr){var e=_r.alternate;e=null!==e?e.memoizedState:null}else e=kr.next;var t=null===Er?_r.memoizedState:Er.next;if(null!==t)Er=t,kr=e;else{if(null===e)throw Error(o(310));e={memoizedState:(kr=e).memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},null===Er?_r.memoizedState=Er=e:Er=Er.next=e}return Er}function Dr(e,t){return"function"===typeof t?t(e):t}function Ur(e){var t=Nr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=kr,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((Sr&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,_r.lanes|=d,to|=d}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,Wt(r,t.memoizedState)||(Di=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,_r.lanes|=a,to|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fr(e){var t=Nr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Wt(a,t.memoizedState)||(Di=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function zr(){}function Br(e,t){var n=_r,r=Nr(),i=t(),a=!Wt(r.memoizedState,i);if(a&&(r.memoizedState=i,Di=!0),r=r.queue,Qr(Gr.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==Er&&1&Er.memoizedState.tag){if(n.flags|=2048,qr(9,Hr.bind(null,n,r,i,t),void 0,null),null===Ya)throw Error(o(349));0!==(30&Sr)||jr(n,t,i)}return i}function jr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=_r.updateQueue)?(t={lastEffect:null,stores:null},_r.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Hr(e,t,n,r){t.value=n,t.getSnapshot=r,Vr(t)&&_o(e,1,-1)}function Gr(e,t,n){return n((function(){Vr(t)&&_o(e,1,-1)}))}function Vr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch(r){return!0}}function Wr(e){var t=Lr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:e},t.queue=e,e=e.dispatch=li.bind(null,_r,e),[t.memoizedState,e]}function qr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=_r.updateQueue)?(t={lastEffect:null,stores:null},_r.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Xr(){return Nr().memoizedState}function Yr(e,t,n,r){var i=Lr();_r.flags|=e,i.memoizedState=qr(1|t,n,void 0,void 0===r?null:r)}function Kr(e,t,n,r){var i=Nr();r=void 0===r?null:r;var a=void 0;if(null!==kr){var o=kr.memoizedState;if(a=o.destroy,null!==r&&Pr(r,o.deps))return void(i.memoizedState=qr(t,n,a,r))}_r.flags|=e,i.memoizedState=qr(1|t,n,a,r)}function Zr(e,t){return Yr(8390656,8,e,t)}function Qr(e,t){return Kr(2048,8,e,t)}function $r(e,t){return Kr(4,2,e,t)}function Jr(e,t){return Kr(4,4,e,t)}function ei(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Kr(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=Nr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Pr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=Nr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Pr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ai(e,t){var n=It;It=0!==n&&4>n?n:4,e(!0);var r=wr.transition;wr.transition={};try{e(!1),t()}finally{It=n,wr.transition=r}}function oi(){return Nr().memoizedState}function si(e,t,n){var r=So(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ui(e)?ci(t,n):(di(e,t,n),null!==(e=_o(e,r,n=wo()))&&fi(e,t,r))}function li(e,t,n){var r=So(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ui(e))ci(t,i);else{di(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Wt(s,o))return}catch(l){}null!==(e=_o(e,r,n=wo()))&&fi(e,t,r)}}function ui(e){var t=e.alternate;return e===_r||null!==t&&t===_r}function ci(e,t){Mr=Cr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function di(e,t,n){null!==Ya&&0!==(1&e.mode)&&0===(2&Xa)?(null===(e=t.interleaved)?(n.next=n,null===fn?fn=[t]:fn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function fi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pt(e,n)}}var hi={readContext:dn,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},pi={readContext:dn,useCallback:function(e,t){return Lr().memoizedState=[e,void 0===t?null:t],e},useContext:dn,useEffect:Zr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Yr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yr(4,2,e,t)},useMemo:function(e,t){var n=Lr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=si.bind(null,_r,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Lr().memoizedState=e},useState:Wr,useDebugValue:ni,useDeferredValue:function(e){var t=Wr(e),n=t[0],r=t[1];return Zr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){var e=Wr(!1),t=e[0];return e=ai.bind(null,e[1]),Lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_r,i=Lr();if(Vn){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ya)throw Error(o(349));0!==(30&Sr)||jr(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Zr(Gr.bind(null,r,a,e),[e]),r.flags|=2048,qr(9,Hr.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Lr(),t=Ya.identifierPrefix;if(Vn){var n=Un;t=":"+t+"R"+(n=(Dn&~(1<<32-xt(Dn)-1)).toString(32)+n),0<(n=Tr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Rr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vi={readContext:dn,useCallback:ri,useContext:dn,useEffect:Qr,useImperativeHandle:ti,useInsertionEffect:$r,useLayoutEffect:Jr,useMemo:ii,useReducer:Ur,useRef:Xr,useState:function(){return Ur(Dr)},useDebugValue:ni,useDeferredValue:function(e){var t=Ur(Dr),n=t[0],r=t[1];return Qr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){return[Ur(Dr)[0],Nr().memoizedState]},useMutableSource:zr,useSyncExternalStore:Br,useId:oi,unstable_isNewReconciler:!1},mi={readContext:dn,useCallback:ri,useContext:dn,useEffect:Qr,useImperativeHandle:ti,useInsertionEffect:$r,useLayoutEffect:Jr,useMemo:ii,useReducer:Fr,useRef:Xr,useState:function(){return Fr(Dr)},useDebugValue:ni,useDeferredValue:function(e){var t=Fr(Dr),n=t[0],r=t[1];return Qr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){return[Fr(Dr)[0],Nr().memoizedState]},useMutableSource:zr,useSyncExternalStore:Br,useId:oi,unstable_isNewReconciler:!1};function gi(e,t){try{var n="",r=t;do{n+=Jt(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function yi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var bi,xi,wi,Si,_i="function"===typeof WeakMap?WeakMap:Map;function ki(e,t,n){(n=mn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){co||(co=!0,fo=r),yi(0,t)},n}function Ei(e,t,n){(n=mn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yi(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){yi(0,t),"function"!==typeof r&&(null===ho?ho=new Set([this]):ho.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ci(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new _i;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=qo.bind(null,e,t,n),t.then(e,e))}function Mi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ti(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=mn(-1,1)).tag=2,gn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function Ri(e){e.flags|=4}function Ai(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(Y)bi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)z(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xi=function(){},wi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=dr(lr.current);n=j(a,n,e,r,i,o),(t.updateQueue=n)&&Ri(t)}},Si=function(e,t,n,r){n!==r&&Ri(t)};else if(K){bi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Pe(a,i.type,i.memoizedProps,i)),z(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Ie(a,i.memoizedProps,i)),z(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),bi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Pi=function e(t,n,r,i){for(var a=n.child;null!==a;){if(5===a.tag){var o=a.stateNode;r&&i&&(o=Pe(o,a.type,a.memoizedProps,a)),Te(t,o)}else if(6===a.tag)o=a.stateNode,r&&i&&(o=Ie(o,a.memoizedProps,a)),Te(t,o);else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(o=a.child)&&(o.return=a),e(t,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};xi=function(e,t){var n=t.stateNode;if(!Ai(e,t)){e=n.containerInfo;var r=Me(e);Pi(r,t,!1,!1),n.pendingChildren=r,Ri(t),Re(e,r)}},wi=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=Ai(e,t))&&o===r)t.stateNode=a;else{var s=t.stateNode,l=dr(lr.current),u=null;o!==r&&(u=j(s,n,o,r,i,l)),e&&null===u?t.stateNode=a:(a=Ce(a,u,n,o,r,t,e,s),B(a,n,r,i,l)&&Ri(t),t.stateNode=a,e?Ri(t):bi(a,t,!1,!1))}},Si=function(e,t,n,r){n!==r?(e=dr(cr.current),n=dr(lr.current),t.stateNode=G(r,e,n,t),Ri(t)):t.stateNode=e.stateNode}}else xi=function(){},wi=function(){},Si=function(){};function Ii(e,t){if(!Vn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Li(e,t,n){var r=t.pendingProps;switch(jn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(t),null;case 1:case 17:return pt(t.type)&&vt(),Oi(t),null;case 3:return r=t.stateNode,hr(),st(dt),st(ct),br(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||($n(t)?Ri(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==qn&&(To(qn),qn=null))),xi(e,t),Oi(t),null;case 5:vr(t),n=dr(cr.current);var i=t.type;if(null!==e&&null!=t.stateNode)wi(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Oi(t),null}if(e=dr(lr.current),$n(t)){if(!Z)throw Error(o(175));e=Ge(t.stateNode,t.type,t.memoizedProps,n,e,t,!Wn),t.updateQueue=e,null!==e&&Ri(t)}else{var a=F(i,r,n,e,t);bi(a,t,!1,!1),t.stateNode=a,B(a,i,r,n,e)&&Ri(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Oi(t),null;case 6:if(e&&null!=t.stateNode)Si(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=dr(cr.current),n=dr(lr.current),$n(t)){if(!Z)throw Error(o(176));if(e=t.stateNode,r=t.memoizedProps,(n=Ve(e,r,t,!Wn))&&null!==(i=Hn))switch(a=0!==(1&i.mode),i.tag){case 3:$e(i.stateNode.containerInfo,e,r,a);break;case 5:Je(i.type,i.memoizedProps,i.stateNode,e,r,a)}n&&Ri(t)}else t.stateNode=G(r,e,n,t)}return Oi(t),null;case 13:if(st(mr),r=t.memoizedState,Vn&&null!==Gn&&0!==(1&t.mode)&&0===(128&t.flags)){for(e=Gn;e;)e=ze(e);return Jn(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=$n(t),null===e){if(!r)throw Error(o(318));if(!Z)throw Error(o(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(317));We(e,t)}else Jn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Oi(t),null}return null!==qn&&(To(qn),qn=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?$n(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&mr.current)?0===Ja&&(Ja=3):Do())),null!==t.updateQueue&&(t.flags|=4),Oi(t),null);case 4:return hr(),xi(e,t),null===e&&$(t.stateNode.containerInfo),Oi(t),null;case 10:return ln(t.type._context),Oi(t),null;case 19:if(st(mr),null===(i=t.memoizedState))return Oi(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)Ii(i,!1);else{if(0!==Ja||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=gr(e))){for(t.flags|=128,Ii(i,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(a=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return lt(mr,1&mr.current|2),t.child}e=e.sibling}null!==i.tail&&Ft()>so&&(t.flags|=128,r=!0,Ii(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=gr(a))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Ii(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!Vn)return Oi(t),null}else 2*Ft()-i.renderingStartTime>so&&1073741824!==n&&(t.flags|=128,r=!0,Ii(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ft(),t.sibling=null,e=mr.current,lt(mr,r?1&e|2:1&e),t):(Oi(t),null);case 22:case 23:return Io(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Qa)&&(Oi(t),Y&&6&t.subtreeFlags&&(t.flags|=8192)):Oi(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}var Ni=s.ReactCurrentOwner,Di=!1;function Ui(e,t,n,r){t.child=null===e?or(t,null,n,r):ar(t,e.child,n,r)}function Fi(e,t,n,r,i){n=n.render;var a=t.ref;return cn(t,i),r=Ir(e,t,n,r,a,i),n=Or(),null===e||Di?(Vn&&n&&Bn(t),t.flags|=1,Ui(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function zi(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Jo(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ts(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Bi(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:$t)(o,r)&&e.ref===t.ref)return ia(e,t,i)}return t.flags|=1,(e=es(a,r)).ref=t.ref,e.return=t,t.child=e}function Bi(e,t,n,r,i){if(null!==e&&$t(e.memoizedProps,r)&&e.ref===t.ref){if(Di=!1,0===(e.lanes&i))return t.lanes=e.lanes,ia(e,t,i);0!==(131072&e.flags)&&(Di=!0)}return Gi(e,t,n,r,i)}function ji(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},lt($a,Qa),Qa|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,lt($a,Qa),Qa|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,lt($a,Qa),Qa|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,lt($a,Qa),Qa|=r;return Ui(e,t,i,n),t.child}function Hi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gi(e,t,n,r,i){var a=pt(n)?ft:ct.current;return a=ht(t,a),cn(t,i),n=Ir(e,t,n,r,a,i),r=Or(),null===e||Di?(Vn&&r&&Bn(t),t.flags|=1,Ui(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Vi(e,t,n,r,i){if(pt(n)){var a=!0;yt(t)}else a=!1;if(cn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Cn(t,n,r),Tn(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=dn(u):u=ht(t,u=pt(n)?ft:ct.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Mn(t,o,r,u),hn=!1;var f=t.memoizedState;o.state=f,xn(t,r,o,i),l=t.memoizedState,s!==r||f!==l||dt.current||hn?("function"===typeof c&&(_n(t,n,c,r),l=t.memoizedState),(s=hn||En(t,n,s,r,f,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vn(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:en(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=dn(l):l=ht(t,l=pt(n)?ft:ct.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==l)&&Mn(t,o,r,l),hn=!1,f=t.memoizedState,o.state=f,xn(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||dt.current||hn?("function"===typeof h&&(_n(t,n,h,r),p=t.memoizedState),(u=hn||En(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Wi(e,t,n,r,a,i)}function Wi(e,t,n,r,i,a){Hi(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&bt(t,n,!1),ia(e,t,a);r=t.stateNode,Ni.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ar(t,e.child,null,a),t.child=ar(t,null,s,a)):Ui(e,t,s,a),t.memoizedState=r.state,i&&bt(t,n,!0),t.child}function qi(e){var t=e.stateNode;t.pendingContext?mt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mt(0,t.context,!1),fr(e,t.containerInfo)}function Xi(e,t,n,r,i){return Jn(),er(i),t.flags|=256,Ui(e,t,n,r),t.child}var Yi={dehydrated:null,treeContext:null,retryLane:0};function Ki(e){return{baseLanes:e,cachePool:null}}function Zi(e,t,n){var r,i=t.pendingProps,a=mr.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),lt(mr,1&a),null===e)return Zn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:Ue(e)?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=rs(a,i,0,null),e=ns(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ki(n),t.memoizedState=Yi,e):Qi(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,ea(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,a=t.mode,i=rs({mode:"visible",children:i.children},a,0,null),(s=ns(s,a,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&ar(t,e.child,null,n),t.child.memoizedState=Ki(n),t.memoizedState=Yi,s);if(0===(1&t.mode))t=ea(e,t,n,null);else if(Ue(r))t=ea(e,t,n,Error(o(419)));else if(i=0!==(n&e.childLanes),Di||i){if(null!==(i=Ya)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==a.retryLane&&(a.retryLane=i,_o(e,i,-1))}Do(),t=ea(e,t,n,Error(o(421)))}else De(r)?(t.flags|=128,t.child=e.child,t=Yo.bind(null,e),Fe(r,t),t=null):(n=a.treeContext,Z&&(Gn=He(r),Hn=t,Vn=!0,qn=null,Wn=!1,null!==n&&(On[Ln++]=Dn,On[Ln++]=Un,On[Ln++]=Nn,Dn=n.id,Un=n.overflow,Nn=t)),(t=Qi(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=Ji(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Ki(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Yi,i):(n=$i(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Ji(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Ki(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Yi,i):(n=$i(e,t,i.children,n),t.memoizedState=null,n)}function Qi(e,t){return(t=rs({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $i(e,t,n,r){var i=e.child;return e=i.sibling,n=es(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Ji(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=es(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=es(o,r):(r=ns(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ea(e,t,n,r){return null!==r&&er(r),ar(t,e.child,null,n),(e=Qi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ta(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),un(e.return,t,n)}function na(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ra(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ui(e,t,r.children,n),0!==(2&(r=mr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ta(e,n,t);else if(19===e.tag)ta(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lt(mr,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===gr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),na(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===gr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}na(t,!0,n,null,a);break;case"together":na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),to|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=es(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=es(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function aa(e,t){switch(jn(t),t.tag){case 1:return pt(t.type)&&vt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return hr(),st(dt),st(ct),br(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return vr(t),null;case 13:if(st(mr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Jn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return st(mr),null;case 4:return hr(),null;case 10:return ln(t.type._context),null;case 22:case 23:return Io(),null;default:return null}}var oa=!1,sa=!1,la="function"===typeof WeakSet?WeakSet:Set,ua=null;function ca(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Wo(e,t,r)}else n.current=null}function da(e,t,n){try{n()}catch(r){Wo(e,t,r)}}var fa=!1;function ha(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&da(t,n,a)}i=i.next}while(i!==r)}}function pa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function va(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=O(n);else e=n;"function"===typeof t?t(e):t.current=e}}function ma(e,t,n){if(Vt&&"function"===typeof Vt.onCommitFiberUnmount)try{Vt.onCommitFiberUnmount(Gt,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&da(t,n,a),r=r.next}while(r!==e)}break;case 1:if(ca(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Wo(t,n,o)}break;case 5:ca(t,n);break;case 4:Y?ka(e,t,n):K&&K&&(t=t.stateNode.containerInfo,n=Me(t),Ae(t,n))}}function ga(e,t,n){for(var r=t;;)if(ma(e,r,n),null===r.child||Y&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function ya(e){var t=e.alternate;null!==t&&(e.alternate=null,ya(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ba(e){return 5===e.tag||3===e.tag||4===e.tag}function xa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ba(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function wa(e){if(Y){e:{for(var t=e.return;null!==t;){if(ba(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(xe(t),n.flags&=-33),_a(e,n=xa(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,Sa(e,n=xa(e),t);break;default:throw Error(o(161))}}}function Sa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(Sa(e,t,n),e=e.sibling;null!==e;)Sa(e,t,n),e=e.sibling}function _a(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?me(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function ka(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag)ga(e,a,n),i?be(r,a.stateNode):ye(r,a.stateNode);else if(18===a.tag)i?Ze(r,a.stateNode):Ke(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ma(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function Ea(e,t){if(Y){switch(t.tag){case 0:case 11:case 14:case 15:return ha(3,t,t.return),pa(3,t),void ha(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&ve(n,a,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(o(162));return n=t.memoizedProps,void he(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(Z&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo));case 13:case 19:return void Ca(t)}throw Error(o(163))}switch(t.tag){case 0:case 11:case 14:case 15:return ha(3,t,t.return),pa(3,t),void ha(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Ca(t);case 3:Z&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo)}e:if(K){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Ae(t.containerInfo,t.pendingChildren);break e}throw Error(o(163))}}function Ca(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new la),t.forEach((function(t){var r=Ko.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ma(e,t,n){ua=e,Ta(e,t,n)}function Ta(e,t,n){for(var r=0!==(1&e.mode);null!==ua;){var i=ua,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||oa;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||sa;s=oa;var u=sa;if(oa=o,(sa=l)&&!u)for(ua=i;null!==ua;)l=(o=ua).child,22===o.tag&&null!==o.memoizedState?Pa(i):null!==l?(l.return=o,ua=l):Pa(i);for(;null!==a;)ua=a,Ta(a,t,n),a=a.sibling;ua=i,oa=s,sa=u}Ra(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,ua=a):Ra(e)}}function Ra(e){for(;null!==ua;){var t=ua;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sa||pa(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&wn(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=O(t.child.stateNode);break;case 1:n=t.child.stateNode}wn(t,s,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&pe(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(Z&&null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&Ye(d)}}}break;default:throw Error(o(163))}sa||512&t.flags&&va(t)}catch(f){Wo(t,t.return,f)}}if(t===e){ua=null;break}if(null!==(n=t.sibling)){n.return=t.return,ua=n;break}ua=t.return}}function Aa(e){for(;null!==ua;){var t=ua;if(t===e){ua=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ua=n;break}ua=t.return}}function Pa(e){for(;null!==ua;){var t=ua;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pa(4,t)}catch(l){Wo(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Wo(t,i,l)}}var a=t.return;try{va(t)}catch(l){Wo(t,a,l)}break;case 5:var o=t.return;try{va(t)}catch(l){Wo(t,o,l)}}}catch(l){Wo(t,t.return,l)}if(t===e){ua=null;break}var s=t.sibling;if(null!==s){s.return=t.return,ua=s;break}ua=t.return}}var Ia=0,Oa=1,La=2,Na=3,Da=4;if("function"===typeof Symbol&&Symbol.for){var Ua=Symbol.for;Ia=Ua("selector.component"),Oa=Ua("selector.has_pseudo_class"),La=Ua("selector.role"),Na=Ua("selector.test_id"),Da=Ua("selector.text")}function Fa(e){var t=Q(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=ie(e)))throw Error(o(362));return e.stateNode.current}function za(e,t){switch(t.$$typeof){case Ia:if(e.type===t.value)return!0;break;case Oa:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],a=t[i];if(5!==r.tag||!se(r)){for(;null!=a&&za(r,a);)a=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case La:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case Da:if((5===e.tag||6===e.tag)&&(null!==(e=oe(e))&&0<=e.indexOf(t.value)))return!0;break;case Na:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Ba(e){switch(e.$$typeof){case Ia:return"<"+(_(e.value)||"Unknown")+">";case Oa:return":has("+(Ba(e)||"")+")";case La:return'[role="'+e.value+'"]';case Da:return'"'+e.value+'"';case Na:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function ja(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!se(i)){for(;null!=o&&za(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function Ha(e,t){if(!re)throw Error(o(363));e=ja(e=Fa(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Ga=Math.ceil,Va=s.ReactCurrentDispatcher,Wa=s.ReactCurrentOwner,qa=s.ReactCurrentBatchConfig,Xa=0,Ya=null,Ka=null,Za=0,Qa=0,$a=ot(0),Ja=0,eo=null,to=0,no=0,ro=0,io=null,ao=null,oo=0,so=1/0;function lo(){so=Ft()+500}var uo,co=!1,fo=null,ho=null,po=!1,vo=null,mo=0,go=0,yo=null,bo=-1,xo=0;function wo(){return 0!==(6&Xa)?Ft():-1!==bo?bo:bo=Ft()}function So(e){return 0===(1&e.mode)?1:0!==(2&Xa)&&0!==Za?Za&-Za:null!==Qt.transition?(0===xo&&(e=_t,0===(4194240&(_t<<=1))&&(_t=64),xo=e),xo):0!==(e=It)?e:J()}function _o(e,t,n){if(50<go)throw go=0,yo=null,Error(o(185));var r=ko(e,t);return null===r?null:(At(r,t,n),0!==(2&Xa)&&r===Ya||(r===Ya&&(0===(2&Xa)&&(no|=t),4===Ja&&Ro(r,Za)),Eo(r,n),1===t&&0===Xa&&0===(1&e.mode)&&(lo(),Xt&&Zt())),r)}function ko(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Eo(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-xt(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=Mt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=Ct(e,e===Ya?Za:0);if(0===r)null!==n&&Nt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Nt(n),1===t)0===e.tag?function(e){Xt=!0,Kt(e)}(Ao.bind(null,e)):Kt(Ao.bind(null,e)),te?ne((function(){0===Xa&&Zt()})):Lt(zt,Zt),n=null;else{switch(Ot(r)){case 1:n=zt;break;case 4:n=Bt;break;case 16:default:n=jt;break;case 536870912:n=Ht}n=Zo(n,Co.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Co(e,t){if(bo=-1,xo=0,0!==(6&Xa))throw Error(o(327));var n=e.callbackNode;if(Go()&&e.callbackNode!==n)return null;var r=Ct(e,e===Ya?Za:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Uo(e,r);else{t=r;var i=Xa;Xa|=2;var a=No();for(Ya===e&&Za===t||(lo(),Oo(e,t));;)try{zo();break}catch(l){Lo(e,l)}on(),Va.current=a,Xa=i,null!==Ka?t=0:(Ya=null,Za=0,t=Ja)}if(0!==t){if(2===t&&(0!==(i=Tt(e))&&(r=i,t=Mo(e,i))),1===t)throw n=eo,Oo(e,0),Ro(e,r),Eo(e,Ft()),n;if(6===t)Ro(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Wt(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Uo(e,r))&&(0!==(a=Tt(e))&&(r=a,t=Mo(e,a))),1===t))throw n=eo,Oo(e,0),Ro(e,r),Eo(e,Ft()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ho(e,ao);break;case 3:if(Ro(e,r),(130023424&r)===r&&10<(t=oo+500-Ft())){if(0!==Ct(e,0))break;if(((i=e.suspendedLanes)&r)!==r){wo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=V(Ho.bind(null,e,ao),t);break}Ho(e,ao);break;case 4:if(Ro(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-xt(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ft()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ga(r/1960))-r)){e.timeoutHandle=V(Ho.bind(null,e,ao),r);break}Ho(e,ao);break;default:throw Error(o(329))}}}return Eo(e,Ft()),e.callbackNode===n?Co.bind(null,e):null}function Mo(e,t){var n=io;return e.current.memoizedState.isDehydrated&&(Oo(e,t).flags|=256),2!==(e=Uo(e,t))&&(t=ao,ao=n,null!==t&&To(t)),e}function To(e){null===ao?ao=e:ao.push.apply(ao,e)}function Ro(e,t){for(t&=~ro,t&=~no,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function Ao(e){if(0!==(6&Xa))throw Error(o(327));Go();var t=Ct(e,0);if(0===(1&t))return Eo(e,Ft()),null;var n=Uo(e,t);if(0!==e.tag&&2===n){var r=Tt(e);0!==r&&(t=r,n=Mo(e,r))}if(1===n)throw n=eo,Oo(e,0),Ro(e,t),Eo(e,Ft()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ho(e,ao),Eo(e,Ft()),null}function Po(e){null!==vo&&0===vo.tag&&0===(6&Xa)&&Go();var t=Xa;Xa|=1;var n=qa.transition,r=It;try{if(qa.transition=null,It=1,e)return e()}finally{It=r,qa.transition=n,0===(6&(Xa=t))&&Zt()}}function Io(){Qa=$a.current,st($a)}function Oo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==q&&(e.timeoutHandle=q,W(n)),null!==Ka)for(n=Ka.return;null!==n;){var r=n;switch(jn(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vt();break;case 3:hr(),st(dt),st(ct),br();break;case 5:vr(r);break;case 4:hr();break;case 13:case 19:st(mr);break;case 10:ln(r.type._context);break;case 22:case 23:Io()}n=n.return}if(Ya=e,Ka=e=es(e.current,null),Za=Qa=t,Ja=0,eo=null,ro=no=to=0,ao=io=null,null!==fn){for(t=0;t<fn.length;t++)if(null!==(r=(n=fn[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}fn=null}return e}function Lo(e,t){for(;;){var n=Ka;try{if(on(),xr.current=hi,Cr){for(var r=_r.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Cr=!1}if(Sr=0,Er=kr=_r=null,Mr=!1,Tr=0,Wa.current=null,null===n||null===n.return){Ja=1,eo=t,Ka=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Za,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Mi(s);if(null!==p){p.flags&=-257,Ti(p,s,l,0,t),1&p.mode&&Ci(a,c,t),u=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(u),t.updateQueue=m}else v.add(u);break e}if(0===(1&t)){Ci(a,c,t),Do();break e}u=Error(o(426))}else if(Vn&&1&l.mode){var g=Mi(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),Ti(g,s,l,0,t),er(u);break e}}a=u,4!==Ja&&(Ja=2),null===io?io=[a]:io.push(a),u=gi(u,l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,bn(l,ki(0,u,t));break e;case 1:a=u;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ho||!ho.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,bn(l,Ei(l,a,t));break e}}l=l.return}while(null!==l)}jo(n)}catch(x){t=x,Ka===n&&null!==n&&(Ka=n=n.return);continue}break}}function No(){var e=Va.current;return Va.current=hi,null===e?hi:e}function Do(){0!==Ja&&3!==Ja&&2!==Ja||(Ja=4),null===Ya||0===(268435455&to)&&0===(268435455&no)||Ro(Ya,Za)}function Uo(e,t){var n=Xa;Xa|=2;var r=No();for(Ya===e&&Za===t||Oo(e,t);;)try{Fo();break}catch(i){Lo(e,i)}if(on(),Xa=n,Va.current=r,null!==Ka)throw Error(o(261));return Ya=null,Za=0,Ja}function Fo(){for(;null!==Ka;)Bo(Ka)}function zo(){for(;null!==Ka&&!Dt();)Bo(Ka)}function Bo(e){var t=uo(e.alternate,e,Qa);e.memoizedProps=e.pendingProps,null===t?jo(e):Ka=t,Wa.current=null}function jo(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Li(n,t,Qa)))return void(Ka=n)}else{if(null!==(n=aa(n,t)))return n.flags&=32767,void(Ka=n);if(null===e)return Ja=6,void(Ka=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ka=t);Ka=t=e}while(null!==t);0===Ja&&(Ja=5)}function Ho(e,t){var n=It,r=qa.transition;try{qa.transition=null,It=1,function(e,t,n){do{Go()}while(null!==vo);if(0!==(6&Xa))throw Error(o(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-xt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Ya&&(Ka=Ya=null,Za=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||po||(po=!0,Zo(jt,(function(){return Go(),null}))),a=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||a){a=qa.transition,qa.transition=null;var s=It;It=1;var l=Xa;Xa|=4,Wa.current=null,function(e,t){for(D(e.containerInfo),ua=t;null!==ua;)if(t=(e=ua).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,ua=t;else for(;null!==ua;){e=ua;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,a=e.stateNode,s=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);a.__reactInternalSnapshotBeforeUpdate=s}break;case 3:Y&&Ee(e.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(l){Wo(e,e.return,l)}if(null!==(t=e.sibling)){t.return=e.return,ua=t;break}ua=e.return}n=fa,fa=!1}(e,r),function(e,t){for(ua=t;null!==ua;){var n=(t=ua).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;Y?ka(a,i,t):ga(a,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(w){Wo(i,t,w)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,ua=n;else for(;null!==ua;){t=ua;try{var s=t.flags;if(32&s&&Y&&xe(t.stateNode),512&s){var l=t.alternate;if(null!==l){var u=l.ref;null!==u&&("function"===typeof u?u(null):u.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(oo=Ft())}break;case 22:var d=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;if(n=t,Y)e:if(r=n,i=d,a=null,Y)for(var p=r;;){if(5===p.tag){if(null===a){a=p;var v=p.stateNode;i?we(v):_e(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===a){var m=p.stateNode;i?Se(m):ke(m,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;a===p&&(a=null),p=p.return}a===p&&(a=null),p.sibling.return=p.return,p=p.sibling}if(d&&!h&&0!==(1&n.mode)){ua=n;for(var g=n.child;null!==g;){for(n=ua=g;null!==ua;){var y=(r=ua).child;switch(r.tag){case 0:case 11:case 14:case 15:ha(4,r,r.return);break;case 1:ca(r,r.return);var b=r.stateNode;if("function"===typeof b.componentWillUnmount){var x=r.return;try{b.props=r.memoizedProps,b.state=r.memoizedState,b.componentWillUnmount()}catch(w){Wo(r,x,w)}}break;case 5:ca(r,r.return);break;case 22:if(null!==r.memoizedState){Aa(n);continue}}null!==y?(y.return=r,ua=y):Aa(n)}g=g.sibling}}}switch(4102&s){case 2:wa(t),t.flags&=-3;break;case 6:wa(t),t.flags&=-3,Ea(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Ea(t.alternate,t);break;case 4:Ea(t.alternate,t)}}catch(w){Wo(t,t.return,w)}if(null!==(n=t.sibling)){n.return=t.return,ua=n;break}ua=t.return}}}(e,r),U(e.containerInfo),e.current=r,Ma(r,e,i),Ut(),Xa=l,It=s,qa.transition=a}else e.current=r;if(po&&(po=!1,vo=e,mo=i),a=e.pendingLanes,0===a&&(ho=null),function(e){if(Vt&&"function"===typeof Vt.onCommitFiberRoot)try{Vt.onCommitFiberRoot(Gt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Eo(e,Ft()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(co)throw co=!1,e=fo,fo=null,e;0!==(1&mo)&&0!==e.tag&&Go(),a=e.pendingLanes,0!==(1&a)?e===yo?go++:(go=0,yo=e):go=0,Zt()}(e,t,n)}finally{qa.transition=r,It=n}return null}function Go(){if(null!==vo){var e=Ot(mo),t=qa.transition,n=It;try{if(qa.transition=null,It=16>e?16:e,null===vo)var r=!1;else{if(e=vo,vo=null,mo=0,0!==(6&Xa))throw Error(o(331));var i=Xa;for(Xa|=4,ua=e.current;null!==ua;){var a=ua,s=a.child;if(0!==(16&ua.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(ua=c;null!==ua;){var d=ua;switch(d.tag){case 0:case 11:case 15:ha(8,d,a)}var f=d.child;if(null!==f)f.return=d,ua=f;else for(;null!==ua;){var h=(d=ua).sibling,p=d.return;if(ya(d),d===c){ua=null;break}if(null!==h){h.return=p,ua=h;break}ua=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}ua=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,ua=s;else e:for(;null!==ua;){if(0!==(2048&(a=ua).flags))switch(a.tag){case 0:case 11:case 15:ha(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,ua=y;break e}ua=a.return}}var b=e.current;for(ua=b;null!==ua;){var x=(s=ua).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,ua=x;else e:for(s=b;null!==ua;){if(0!==(2048&(l=ua).flags))try{switch(l.tag){case 0:case 11:case 15:pa(9,l)}}catch(S){Wo(l,l.return,S)}if(l===s){ua=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,ua=w;break e}ua=l.return}}if(Xa=i,Zt(),Vt&&"function"===typeof Vt.onPostCommitFiberRoot)try{Vt.onPostCommitFiberRoot(Gt,e)}catch(S){}r=!0}return r}finally{It=n,qa.transition=t}}return!1}function Vo(e,t,n){gn(e,t=ki(0,t=gi(n,t),1)),t=wo(),null!==(e=ko(e,1))&&(At(e,1,t),Eo(e,t))}function Wo(e,t,n){if(3===e.tag)Vo(e,e,n);else for(;null!==t;){if(3===t.tag){Vo(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ho||!ho.has(r))){gn(t,e=Ei(t,e=gi(n,e),1)),e=wo(),null!==(t=ko(t,1))&&(At(t,1,e),Eo(t,e));break}}t=t.return}}function qo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=wo(),e.pingedLanes|=e.suspendedLanes&n,Ya===e&&(Za&n)===n&&(4===Ja||3===Ja&&(130023424&Za)===Za&&500>Ft()-oo?Oo(e,0):ro|=n),Eo(e,t)}function Xo(e,t){0===t&&(0===(1&e.mode)?t=1:(t=kt,0===(130023424&(kt<<=1))&&(kt=4194304)));var n=wo();null!==(e=ko(e,t))&&(At(e,t,n),Eo(e,n))}function Yo(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Xo(e,n)}function Ko(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Xo(e,n)}function Zo(e,t){return Lt(e,t)}function Qo(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $o(e,t,n,r){return new Qo(e,t,n,r)}function Jo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function es(e,t){var n=e.alternate;return null===n?((n=$o(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ts(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Jo(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case c:return ns(n.children,i,a,t);case d:s=8,i|=8;break;case f:return(e=$o(12,n,t,2|i)).elementType=f,e.lanes=a,e;case m:return(e=$o(13,n,t,i)).elementType=m,e.lanes=a,e;case g:return(e=$o(19,n,t,i)).elementType=g,e.lanes=a,e;case x:return rs(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case h:s=10;break e;case p:s=9;break e;case v:s=11;break e;case y:s=14;break e;case b:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=$o(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function ns(e,t,n,r){return(e=$o(7,e,r,t)).lanes=n,e}function rs(e,t,n,r){return(e=$o(22,e,r,t)).elementType=x,e.lanes=n,e.stateNode={},e}function is(e,t,n){return(e=$o(6,e,null,t)).lanes=n,e}function as(e,t,n){return(t=$o(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function os(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rt(0),this.expirationTimes=Rt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rt(0),this.identifierPrefix=r,this.onRecoverableError=i,Z&&(this.mutableSourceEagerHydrationData=null)}function ss(e,t,n,r,i,a,o,s,l){return e=new os(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=$o(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},pn(a),e}function ls(e){if(!e)return ut;e:{if(E(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(pt(n))return gt(e,n,t)}return t}function us(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=T(t))?null:e.stateNode}function cs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ds(e,t){cs(e,t),(e=e.alternate)&&cs(e,t)}function fs(e){return null===(e=T(e))?null:e.stateNode}function hs(){return null}return uo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||dt.current)Di=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Di=!1,function(e,t,n){switch(t.tag){case 3:qi(t),Jn();break;case 5:pr(t);break;case 1:pt(t.type)&&yt(t);break;case 4:fr(t,t.stateNode.containerInfo);break;case 10:sn(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(lt(mr,1&mr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Zi(e,t,n):(lt(mr,1&mr.current),null!==(e=ia(e,t,n))?e.sibling:null);lt(mr,1&mr.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ra(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(mr,mr.current),r)break;return null;case 22:case 23:return t.lanes=0,ji(e,t,n)}return ia(e,t,n)}(e,t,n);Di=0!==(131072&e.flags)}else Di=!1,Vn&&0!==(1048576&t.flags)&&zn(t,In,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=ht(t,ct.current);cn(t,n),i=Ir(null,t,r,e,i,n);var a=Or();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(a=!0,yt(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pn(t),i.updater=kn,t.stateNode=i,i._reactInternals=t,Tn(t,r,e,n),t=Wi(null,t,r,!0,a,n)):(t.tag=0,Vn&&a&&Bn(t),Ui(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Jo(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===v)return 11;if(e===y)return 14}return 2}(r),e=en(r,e),i){case 0:t=Gi(null,t,r,e,n);break e;case 1:t=Vi(null,t,r,e,n);break e;case 11:t=Fi(null,t,r,e,n);break e;case 14:t=zi(null,t,r,en(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Gi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,Vi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:e:{if(qi(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,vn(e,t),xn(t,r,null,n);var s=t.memoizedState;if(r=s.element,Z&&a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Xi(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=Xi(e,t,r,n,i=Error(o(424)));break e}for(Z&&(Gn=je(t.stateNode.containerInfo),Hn=t,Vn=!0,qn=null,Wn=!1),n=or(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Jn(),r===i){t=ia(e,t,n);break e}Ui(e,t,r,n)}t=t.child}return t;case 5:return pr(t),null===e&&Zn(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,H(r,i)?s=null:null!==a&&H(r,a)&&(t.flags|=32),Hi(e,t),Ui(e,t,s,n),t.child;case 6:return null===e&&Zn(t),null;case 13:return Zi(e,t,n);case 4:return fr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ar(t,null,r,n):Ui(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return Ui(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ui(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,sn(0,r,s=i.value),null!==a)if(Wt(a.value,s)){if(a.children===i.children&&!dt.current){t=ia(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=mn(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),un(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),un(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Ui(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,cn(t,n),r=r(i=dn(i)),t.flags|=1,Ui(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),zi(e,t,r,i=en(r.type,i),n);case 15:return Bi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pt(r)?(e=!0,yt(t)):e=!1,cn(t,n),Cn(t,r,i),Tn(t,r,i,n),Wi(null,t,r,!0,e,n);case 19:return ra(e,t,n);case 22:return ji(e,t,n)}throw Error(o(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(_o(e,134217728,wo()),ds(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=wo(),n=So(e);_o(e,n,t),ds(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Et(t.pendingLanes);0!==n&&(Pt(t,1|n),Eo(t,Ft()),0===(6&Xa)&&(lo(),Zt()))}break;case 13:var r=wo();Po((function(){return _o(e,1,r)})),ds(e,1)}},t.batchedUpdates=function(e,t){var n=Xa;Xa|=1;try{return e(t)}finally{0===(Xa=n)&&(lo(),Xt&&Zt())}},t.createComponentSelector=function(e){return{$$typeof:Ia,value:e}},t.createContainer=function(e,t,n,r,i,a,o){return ss(e,t,!1,null,0,r,0,a,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Oa,value:e}},t.createHydrationContainer=function(e,t,n,r,i,a,o,s,l){return(e=ss(n,r,!0,e,0,a,0,s,l)).context=ls(null),n=e.current,(a=mn(r=wo(),i=So(n))).callback=void 0!==t&&null!==t?t:null,gn(n,a),e.current.lanes=i,At(e,i,r),Eo(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:u,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:La,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Na,value:e}},t.createTextSelector=function(e){return{$$typeof:Da,value:e}},t.deferredUpdates=function(e){var t=It,n=qa.transition;try{return qa.transition=null,It=16,e()}finally{It=t,qa.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var a=It,o=qa.transition;try{return qa.transition=null,It=1,e(t,n,r,i)}finally{It=a,qa.transition=o,0===Xa&&lo()}},t.findAllNodes=Ha,t.findBoundingRects=function(e,t){if(!re)throw Error(o(363));t=Ha(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,a=n.y,s=a+n.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],c=u.x,d=c+u.width,f=u.y,h=f+u.height;if(r>=c&&a>=f&&i<=d&&s<=h){e.splice(t,1);break}if(!(r!==c||n.width!==u.width||h<a||f>s)){f>a&&(u.height+=f-a,u.y=a),h<s&&(u.height=s-f),e.splice(t,1);break}if(!(a!==f||n.height!==u.height||d<r||c>i)){c>r&&(u.width+=c-r,u.x=r),d<i&&(u.width=i-c),e.splice(t,1);break}}return e},t.findHostInstance=us,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=M(e))?A(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return us(e)},t.flushControlled=function(e){var t=Xa;Xa|=1;var n=qa.transition,r=It;try{qa.transition=null,It=1,e()}finally{It=r,qa.transition=n,0===(Xa=t)&&(lo(),Zt())}},t.flushPassiveEffects=Go,t.flushSync=Po,t.focusWithin=function(e,t){if(!re)throw Error(o(363));for(t=ja(e=Fa(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&ue(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return It},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(o(363));var n=0,r=[];e=[Fa(e),0];for(var i=0;i<e.length;){var a=e[i++],s=e[i++],l=t[s];if((5!==a.tag||!se(a))&&(za(a,l)&&(r.push(Ba(l)),++s>n&&(n=s)),s<t.length))for(a=a.child;null!==a;)e.push(a,s),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Ba(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?O(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:fs,findFiberByHostInstance:e.findFiberByHostInstance||hs,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Gt=t.inject(e),Vt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(o(363));e=Ha(e,t);var i=ce(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=It;try{return It=e,t()}finally{It=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,a=wo(),o=So(i);return n=ls(n),null===t.context?t.context=n:t.pendingContext=n,(t=mn(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),gn(i,t),null!==(e=_o(i,o,a))&&yn(e,i,o),o},t}},4585:function(e,t,n){"use strict";e.exports=n(4976)},258:function(e,t,n){"use strict";e.exports=n(3721)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var x=b.prototype=new y;x.constructor=b,v(x,g.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var M=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+T(l,0):a,w(o)?(i="",null!=e&&(i=e.replace(M,"$&/")+"/"),R(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(M,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var u=0;u<e.length;u++){var c=a+T(s=e[u],u);l+=R(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=R(s=s.value,t,i,c=a+T(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},O={transition:null},L={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(m=!1,x(e),!v)if(null!==r(u))v=!0,O(S);else{var t=r(c);null!==t&&L(w,t.startTime-e)}}function S(e,n){v=!1,m&&(m=!1,y(C),C=-1),p=!0;var a=h;try{for(x(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!R());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&i(u),x(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&L(w,d.startTime-n),l=!1}return l}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,E=null,C=-1,M=5,T=-1;function R(){return!(t.unstable_now()-T<M)}function A(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?_():(k=!1,E=null)}}else k=!1}if("function"===typeof b)_=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,I=P.port2;P.port1.onmessage=A,_=function(){I.postMessage(null)}}else _=function(){g(A,0)};function O(e){E=e,k||(k=!0,_())}function L(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(m?(y(C),C=-1):m=!0,L(w,a-o))):(e.sortIndex=s,n(u,e),v||p||(v=!0,O(S))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})}),[e,n,t]),o((function(){return u(i)&&c({inst:i}),e((function(){u(i)&&c({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u((function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var h=o(e,d[0],d[1]);return l((function(){f.hasValue=!0,f.value=h}),[h]),c(h),h}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/_DYNAMIC_URL_PREFIX_PLACEHOLDER_/",function(){"use strict";var e={};n.r(e),n.d(e,{ACESFilmicToneMapping:function(){return lg},AddEquation:function(){return Pm},AddOperation:function(){return rg},AdditiveAnimationBlendMode:function(){return Uy},AdditiveBlending:function(){return Mm},AlphaFormat:function(){return Bg},AlwaysCompare:function(){return xb},AlwaysDepth:function(){return Ym},AlwaysStencilFunc:function(){return fb},AmbientLight:function(){return OR},AmbientLightProbe:function(){return KR},AnimationAction:function(){return kA},AnimationClip:function(){return nR},AnimationLoader:function(){return fR},AnimationMixer:function(){return CA},AnimationObjectGroup:function(){return _A},AnimationUtils:function(){return GT},ArcCurve:function(){return oM},ArrayCamera:function(){return AE},ArrowHelper:function(){return gP},Audio:function(){return sA},AudioAnalyser:function(){return hA},AudioContext:function(){return qR},AudioListener:function(){return oA},AudioLoader:function(){return XR},AxesHelper:function(){return yP},BackSide:function(){return Sm},BasicDepthPacking:function(){return Gy},BasicShadowMap:function(){return gm},Bone:function(){return wC},BooleanKeyframeTrack:function(){return KT},Box2:function(){return FA},Box3:function(){return Ax},Box3Helper:function(){return pP},BoxGeometry:function(){return jS},BoxHelper:function(){return hP},BufferAttribute:function(){return rS},BufferGeometry:function(){return wS},BufferGeometryLoader:function(){return BR},ByteType:function(){return Ag},Cache:function(){return iR},Camera:function(){return XS},CameraHelper:function(){return lP},CanvasTexture:function(){return rM},CapsuleGeometry:function(){return MM},CatmullRomCurve3:function(){return fM},CineonToneMapping:function(){return sg},CircleGeometry:function(){return TM},ClampToEdgeWrapping:function(){return gg},Clock:function(){return eA},Color:function(){return Xw},ColorKeyframeTrack:function(){return ZT},ColorManagement:function(){return fx},CompressedArrayTexture:function(){return nM},CompressedTexture:function(){return tM},CompressedTextureLoader:function(){return hR},ConeGeometry:function(){return AM},CubeCamera:function(){return ZS},CubeReflectionMapping:function(){return dg},CubeRefractionMapping:function(){return fg},CubeTexture:function(){return QS},CubeTextureLoader:function(){return vR},CubeUVReflectionMapping:function(){return vg},CubicBezierCurve:function(){return mM},CubicBezierCurve3:function(){return gM},CubicInterpolant:function(){return WT},CullFaceBack:function(){return pm},CullFaceFront:function(){return vm},CullFaceFrontBack:function(){return mm},CullFaceNone:function(){return hm},Curve:function(){return iM},CurvePath:function(){return kM},CustomBlending:function(){return Am},CustomToneMapping:function(){return ug},CylinderGeometry:function(){return RM},Cylindrical:function(){return DA},Data3DTexture:function(){return _x},DataArrayTexture:function(){return wx},DataTexture:function(){return SC},DataTextureLoader:function(){return mR},DataUtils:function(){return eS},DecrementStencilOp:function(){return tb},DecrementWrapStencilOp:function(){return rb},DefaultLoadingManager:function(){return oR},DepthFormat:function(){return Vg},DepthStencilFormat:function(){return Wg},DepthTexture:function(){return LE},DirectionalLight:function(){return IR},DirectionalLightHelper:function(){return aP},DiscreteInterpolant:function(){return XT},DisplayP3ColorSpace:function(){return Zy},DodecahedronGeometry:function(){return IM},DoubleSide:function(){return _m},DstAlphaFactor:function(){return Hm},DstColorFactor:function(){return Vm},DynamicCopyUsage:function(){return Tb},DynamicDrawUsage:function(){return Sb},DynamicReadUsage:function(){return Eb},EdgesGeometry:function(){return UM},EllipseCurve:function(){return aM},EqualCompare:function(){return vb},EqualDepth:function(){return Qm},EqualStencilFunc:function(){return sb},EquirectangularReflectionMapping:function(){return hg},EquirectangularRefractionMapping:function(){return pg},Euler:function(){return hw},EventDispatcher:function(){return Nb},ExtrudeGeometry:function(){return hT},FileLoader:function(){return dR},Float16BufferAttribute:function(){return dS},Float32BufferAttribute:function(){return fS},Float64BufferAttribute:function(){return hS},FloatType:function(){return Ng},Fog:function(){return HE},FogExp2:function(){return jE},FramebufferTexture:function(){return eM},FrontSide:function(){return wm},Frustum:function(){return a_},GLBufferAttribute:function(){return PA},GLSL1:function(){return Ab},GLSL3:function(){return Pb},GreaterCompare:function(){return gb},GreaterDepth:function(){return Jm},GreaterEqualCompare:function(){return bb},GreaterEqualDepth:function(){return $m},GreaterEqualStencilFunc:function(){return db},GreaterStencilFunc:function(){return ub},GridHelper:function(){return eP},Group:function(){return PE},HalfFloatType:function(){return Dg},HemisphereLight:function(){return bR},HemisphereLightHelper:function(){return JA},HemisphereLightProbe:function(){return YR},IcosahedronGeometry:function(){return vT},ImageBitmapLoader:function(){return WR},ImageLoader:function(){return pR},ImageUtils:function(){return hx},IncrementStencilOp:function(){return eb},IncrementWrapStencilOp:function(){return nb},InstancedBufferAttribute:function(){return CC},InstancedBufferGeometry:function(){return zR},InstancedInterleavedBuffer:function(){return AA},InstancedMesh:function(){return LC},Int16BufferAttribute:function(){return sS},Int32BufferAttribute:function(){return uS},Int8BufferAttribute:function(){return iS},IntType:function(){return Og},InterleavedBuffer:function(){return VE},InterleavedBufferAttribute:function(){return qE},Interpolant:function(){return VT},InterpolateDiscrete:function(){return Ay},InterpolateLinear:function(){return Py},InterpolateSmooth:function(){return Iy},InvertStencilOp:function(){return ib},KeepStencilOp:function(){return $y},KeyframeTrack:function(){return YT},LOD:function(){return cC},LatheGeometry:function(){return CM},Layers:function(){return pw},LessCompare:function(){return pb},LessDepth:function(){return Km},LessEqualCompare:function(){return mb},LessEqualDepth:function(){return Zm},LessEqualStencilFunc:function(){return lb},LessStencilFunc:function(){return ob},Light:function(){return yR},LightProbe:function(){return DR},Line:function(){return jC},Line3:function(){return jA},LineBasicMaterial:function(){return NC},LineCurve:function(){return yM},LineCurve3:function(){return bM},LineDashedMaterial:function(){return DT},LineLoop:function(){return WC},LineSegments:function(){return VC},LinearEncoding:function(){return jy},LinearFilter:function(){return kg},LinearInterpolant:function(){return qT},LinearMipMapLinearFilter:function(){return Tg},LinearMipMapNearestFilter:function(){return Cg},LinearMipmapLinearFilter:function(){return Mg},LinearMipmapNearestFilter:function(){return Eg},LinearSRGBColorSpace:function(){return Ky},LinearToneMapping:function(){return ag},Loader:function(){return sR},LoaderUtils:function(){return FR},LoadingManager:function(){return aR},LoopOnce:function(){return My},LoopPingPong:function(){return Ry},LoopRepeat:function(){return Ty},LuminanceAlphaFormat:function(){return Gg},LuminanceFormat:function(){return Hg},MOUSE:function(){return dm},Material:function(){return Hw},MaterialLoader:function(){return UR},MathUtils:function(){return Kb},Matrix3:function(){return Qb},Matrix4:function(){return rw},MaxEquation:function(){return Nm},Mesh:function(){return zS},MeshBasicMaterial:function(){return Kw},MeshDepthMaterial:function(){return kE},MeshDistanceMaterial:function(){return EE},MeshLambertMaterial:function(){return LT},MeshMatcapMaterial:function(){return NT},MeshNormalMaterial:function(){return OT},MeshPhongMaterial:function(){return PT},MeshPhysicalMaterial:function(){return AT},MeshStandardMaterial:function(){return RT},MeshToonMaterial:function(){return IT},MinEquation:function(){return Lm},MirroredRepeatWrapping:function(){return yg},MixOperation:function(){return ng},MultiplyBlending:function(){return Rm},MultiplyOperation:function(){return tg},NearestFilter:function(){return bg},NearestMipMapLinearFilter:function(){return _g},NearestMipMapNearestFilter:function(){return wg},NearestMipmapLinearFilter:function(){return Sg},NearestMipmapNearestFilter:function(){return xg},NeverCompare:function(){return hb},NeverDepth:function(){return Xm},NeverStencilFunc:function(){return ab},NoBlending:function(){return Em},NoColorSpace:function(){return Xy},NoToneMapping:function(){return ig},NormalAnimationBlendMode:function(){return Dy},NormalBlending:function(){return Cm},NotEqualCompare:function(){return yb},NotEqualDepth:function(){return eg},NotEqualStencilFunc:function(){return cb},NumberKeyframeTrack:function(){return QT},Object3D:function(){return Tw},ObjectLoader:function(){return jR},ObjectSpaceNormalMap:function(){return qy},OctahedronGeometry:function(){return mT},OneFactor:function(){return Um},OneMinusDstAlphaFactor:function(){return Gm},OneMinusDstColorFactor:function(){return Wm},OneMinusSrcAlphaFactor:function(){return jm},OneMinusSrcColorFactor:function(){return zm},OrthographicCamera:function(){return b_},PCFShadowMap:function(){return ym},PCFSoftShadowMap:function(){return bm},PMREMGenerator:function(){return T_},Path:function(){return EM},PerspectiveCamera:function(){return YS},Plane:function(){return n_},PlaneGeometry:function(){return l_},PlaneHelper:function(){return vP},PointLight:function(){return AR},PointLightHelper:function(){return KA},Points:function(){return QC},PointsMaterial:function(){return qC},PolarGridHelper:function(){return tP},PolyhedronGeometry:function(){return PM},PositionalAudio:function(){return fA},PropertyBinding:function(){return SA},PropertyMixer:function(){return pA},QuadraticBezierCurve:function(){return xM},QuadraticBezierCurve3:function(){return wM},Quaternion:function(){return Cx},QuaternionKeyframeTrack:function(){return JT},QuaternionLinearInterpolant:function(){return $T},RED_GREEN_RGTC2_Format:function(){return Ey},RED_RGTC1_Format:function(){return _y},REVISION:function(){return cm},RGBADepthPacking:function(){return Vy},RGBAFormat:function(){return jg},RGBAIntegerFormat:function(){return Zg},RGBA_ASTC_10x10_Format:function(){return by},RGBA_ASTC_10x5_Format:function(){return my},RGBA_ASTC_10x6_Format:function(){return gy},RGBA_ASTC_10x8_Format:function(){return yy},RGBA_ASTC_12x10_Format:function(){return xy},RGBA_ASTC_12x12_Format:function(){return wy},RGBA_ASTC_4x4_Format:function(){return ly},RGBA_ASTC_5x4_Format:function(){return uy},RGBA_ASTC_5x5_Format:function(){return cy},RGBA_ASTC_6x5_Format:function(){return dy},RGBA_ASTC_6x6_Format:function(){return fy},RGBA_ASTC_8x5_Format:function(){return hy},RGBA_ASTC_8x6_Format:function(){return py},RGBA_ASTC_8x8_Format:function(){return vy},RGBA_BPTC_Format:function(){return Sy},RGBA_ETC2_EAC_Format:function(){return sy},RGBA_PVRTC_2BPPV1_Format:function(){return iy},RGBA_PVRTC_4BPPV1_Format:function(){return ry},RGBA_S3TC_DXT1_Format:function(){return $g},RGBA_S3TC_DXT3_Format:function(){return Jg},RGBA_S3TC_DXT5_Format:function(){return ey},RGB_ETC1_Format:function(){return ay},RGB_ETC2_Format:function(){return oy},RGB_PVRTC_2BPPV1_Format:function(){return ny},RGB_PVRTC_4BPPV1_Format:function(){return ty},RGB_S3TC_DXT1_Format:function(){return Qg},RGFormat:function(){return Yg},RGIntegerFormat:function(){return Kg},RawShaderMaterial:function(){return TT},Ray:function(){return nw},Raycaster:function(){return IA},RectAreaLight:function(){return LR},RedFormat:function(){return qg},RedIntegerFormat:function(){return Xg},ReinhardToneMapping:function(){return og},RepeatWrapping:function(){return mg},ReplaceStencilOp:function(){return Jy},ReverseSubtractEquation:function(){return Om},RingGeometry:function(){return gT},SIGNED_RED_GREEN_RGTC2_Format:function(){return Cy},SIGNED_RED_RGTC1_Format:function(){return ky},SRGBColorSpace:function(){return Yy},Scene:function(){return GE},ShaderChunk:function(){return u_},ShaderLib:function(){return d_},ShaderMaterial:function(){return qS},ShadowMaterial:function(){return MT},Shape:function(){return FM},ShapeGeometry:function(){return yT},ShapePath:function(){return bP},ShapeUtils:function(){return cT},ShortType:function(){return Pg},Skeleton:function(){return EC},SkeletonHelper:function(){return XA},SkinnedMesh:function(){return xC},Source:function(){return vx},Sphere:function(){return Yx},SphereGeometry:function(){return bT},Spherical:function(){return NA},SphericalHarmonics3:function(){return NR},SplineCurve:function(){return SM},SpotLight:function(){return ER},SpotLightHelper:function(){return GA},Sprite:function(){return oC},SpriteMaterial:function(){return XE},SrcAlphaFactor:function(){return Bm},SrcAlphaSaturateFactor:function(){return qm},SrcColorFactor:function(){return Fm},StaticCopyUsage:function(){return Mb},StaticDrawUsage:function(){return wb},StaticReadUsage:function(){return kb},StereoCamera:function(){return JR},StreamCopyUsage:function(){return Rb},StreamDrawUsage:function(){return _b},StreamReadUsage:function(){return Cb},StringKeyframeTrack:function(){return eR},SubtractEquation:function(){return Im},SubtractiveBlending:function(){return Tm},TOUCH:function(){return fm},TangentSpaceNormalMap:function(){return Wy},TetrahedronGeometry:function(){return xT},Texture:function(){return yx},TextureLoader:function(){return gR},TorusGeometry:function(){return wT},TorusKnotGeometry:function(){return ST},Triangle:function(){return Bw},TriangleFanDrawMode:function(){return By},TriangleStripDrawMode:function(){return zy},TrianglesDrawMode:function(){return Fy},TubeGeometry:function(){return _T},TwoPassDoubleSide:function(){return km},UVMapping:function(){return cg},Uint16BufferAttribute:function(){return lS},Uint32BufferAttribute:function(){return cS},Uint8BufferAttribute:function(){return aS},Uint8ClampedBufferAttribute:function(){return oS},Uniform:function(){return MA},UniformsGroup:function(){return RA},UniformsLib:function(){return c_},UniformsUtils:function(){return WS},UnsignedByteType:function(){return Rg},UnsignedInt248Type:function(){return zg},UnsignedIntType:function(){return Lg},UnsignedShort4444Type:function(){return Ug},UnsignedShort5551Type:function(){return Fg},UnsignedShortType:function(){return Ig},VSMShadowMap:function(){return xm},Vector2:function(){return Zb},Vector3:function(){return Mx},Vector4:function(){return bx},VectorKeyframeTrack:function(){return tR},VideoTexture:function(){return JC},WebGL1Renderer:function(){return zE},WebGL3DRenderTarget:function(){return kx},WebGLArrayRenderTarget:function(){return Sx},WebGLCoordinateSystem:function(){return Ob},WebGLCubeRenderTarget:function(){return $S},WebGLMultipleRenderTargets:function(){return Ex},WebGLRenderTarget:function(){return xx},WebGLRenderer:function(){return FE},WebGLUtils:function(){return RE},WebGPUCoordinateSystem:function(){return Lb},WireframeGeometry:function(){return kT},WrapAroundEnding:function(){return Ny},ZeroCurvatureEnding:function(){return Oy},ZeroFactor:function(){return Dm},ZeroSlopeEnding:function(){return Ly},ZeroStencilOp:function(){return Qy},_SRGBAFormat:function(){return Ib},sRGBEncoding:function(){return Hy}});var t=n(2791),r=n.t(t,2),i=n(1250);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function s(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=c(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var d=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=c(e))&&(r&&(r+=" "),r+=t);return r};function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}function h(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function v(e){if(e.type)return e;if("#"===e.charAt(0))return v(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(h(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(h(10,r))}else i=i.split(",");return i=i.map((function(e){return parseFloat(e)})),{type:n,values:i,colorSpace:r}}function m(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function g(e){var t="hsl"===(e=v(e)).type||"hsla"===e.type?v(function(e){var t=(e=v(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",l=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",l.push(t[3])),m({type:s,values:l})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function y(e,t){return e=v(e),t=p(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,m(e)}function b(e,t){if(e=v(e),t=p(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return m(e)}function x(e,t){if(e=v(e),t=p(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return m(e)}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _(e,t){if(e){if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function k(e){return function(e){if(Array.isArray(e))return w(e)}(e)||S(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){if(Array.isArray(e))return e}function C(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(e,t){return E(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||_(e,t)||C()}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}function R(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var A=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,P=R((function(e){return A.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var I=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),O=Math.abs,L=String.fromCharCode,N=Object.assign;function D(e){return e.trim()}function U(e,t,n){return e.replace(t,n)}function F(e,t){return e.indexOf(t)}function z(e,t){return 0|e.charCodeAt(t)}function B(e,t,n){return e.slice(t,n)}function j(e){return e.length}function H(e){return e.length}function G(e,t){return t.push(e),e}var V=1,W=1,q=0,X=0,Y=0,K="";function Z(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:V,column:W,length:o,return:""}}function Q(e,t){return N(Z("",null,null,"",null,null,0),e,{length:-e.length},t)}function $(){return Y=X>0?z(K,--X):0,W--,10===Y&&(W=1,V--),Y}function J(){return Y=X<q?z(K,X++):0,W++,10===Y&&(W=1,V++),Y}function ee(){return z(K,X)}function te(){return X}function ne(e,t){return B(K,e,t)}function re(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ie(e){return V=W=1,q=j(K=e),X=0,[]}function ae(e){return K="",e}function oe(e){return D(ne(X-1,ue(91===e?e+2:40===e?e+1:e)))}function se(e){for(;(Y=ee())&&Y<33;)J();return re(e)>2||re(Y)>3?"":" "}function le(e,t){for(;--t&&J()&&!(Y<48||Y>102||Y>57&&Y<65||Y>70&&Y<97););return ne(e,te()+(t<6&&32==ee()&&32==J()))}function ue(e){for(;J();)switch(Y){case e:return X;case 34:case 39:34!==e&&39!==e&&ue(Y);break;case 40:41===e&&ue(e);break;case 92:J()}return X}function ce(e,t){for(;J()&&e+Y!==57&&(e+Y!==84||47!==ee()););return"/*"+ne(t,X-1)+"*"+L(47===e?e:J())}function de(e){for(;!re(ee());)J();return ne(e,X)}var fe="-ms-",he="-moz-",pe="-webkit-",ve="comm",me="rule",ge="decl",ye="@keyframes";function be(e,t){for(var n="",r=H(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function xe(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case ge:return e.return=e.return||e.value;case ve:return"";case ye:return e.return=e.value+"{"+be(e.children,r)+"}";case me:e.value=e.props.join(",")}return j(n=be(e.children,r))?e.return=e.value+"{"+n+"}":""}function we(e){return ae(Se("",null,null,null,[""],e=ie(e),0,[0],e))}function Se(e,t,n,r,i,a,o,s,l){for(var u=0,c=0,d=o,f=0,h=0,p=0,v=1,m=1,g=1,y=0,b="",x=i,w=a,S=r,_=b;m;)switch(p=y,y=J()){case 40:if(108!=p&&58==z(_,d-1)){-1!=F(_+=U(oe(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:_+=oe(y);break;case 9:case 10:case 13:case 32:_+=se(p);break;case 92:_+=le(te()-1,7);continue;case 47:switch(ee()){case 42:case 47:G(ke(ce(J(),te()),t,n),l);break;default:_+="/"}break;case 123*v:s[u++]=j(_)*g;case 125*v:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+c:-1==g&&(_=U(_,/\f/g,"")),h>0&&j(_)-d&&G(h>32?Ee(_+";",r,n,d-1):Ee(U(_," ","")+";",r,n,d-2),l);break;case 59:_+=";";default:if(G(S=_e(_,t,n,u,c,i,s,b,x=[],w=[],d),a),123===y)if(0===c)Se(_,t,S,S,x,a,d,s,w);else switch(99===f&&110===z(_,3)?100:f){case 100:case 108:case 109:case 115:Se(e,S,S,r&&G(_e(e,S,S,0,0,i,s,b,i,x=[],d),w),i,w,d,s,r?x:w);break;default:Se(_,S,S,S,[""],w,0,s,w)}}u=c=h=0,v=g=1,b=_="",d=o;break;case 58:d=1+j(_),h=p;default:if(v<1)if(123==y)--v;else if(125==y&&0==v++&&125==$())continue;switch(_+=L(y),y*v){case 38:g=c>0?1:(_+="\f",-1);break;case 44:s[u++]=(j(_)-1)*g,g=1;break;case 64:45===ee()&&(_+=oe(J())),f=ee(),c=d=j(b=_+=de(te())),y++;break;case 45:45===p&&2==j(_)&&(v=0)}}return a}function _e(e,t,n,r,i,a,o,s,l,u,c){for(var d=i-1,f=0===i?a:[""],h=H(f),p=0,v=0,m=0;p<r;++p)for(var g=0,y=B(e,d+1,d=O(v=o[p])),b=e;g<h;++g)(b=D(v>0?f[g]+" "+y:U(y,/&\f/g,f[g])))&&(l[m++]=b);return Z(e,t,n,0===i?me:s,l,u,c)}function ke(e,t,n){return Z(e,t,n,ve,L(Y),B(e,2,-2),0)}function Ee(e,t,n,r){return Z(e,t,n,ge,B(e,0,r),B(e,r+1,-1),r)}var Ce=function(e,t,n){for(var r=0,i=0;r=i,i=ee(),38===r&&12===i&&(t[n]=1),!re(i);)J();return ne(e,X)},Me=function(e,t){return ae(function(e,t){var n=-1,r=44;do{switch(re(r)){case 0:38===r&&12===ee()&&(t[n]=1),e[n]+=Ce(X-1,t,n);break;case 2:e[n]+=oe(r);break;case 4:if(44===r){e[++n]=58===ee()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=L(r)}}while(r=J());return e}(ie(e),t))},Te=new WeakMap,Re=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Te.get(n))&&!r){Te.set(e,!0);for(var i=[],a=Me(t,i),o=n.props,s=0,l=0;s<a.length;s++)for(var u=0;u<o.length;u++,l++)e.props[l]=i[s]?a[s].replace(/&\f/g,o[u]):o[u]+" "+a[s]}}},Ae=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Pe(e,t){switch(function(e,t){return 45^z(e,0)?(((t<<2^z(e,0))<<2^z(e,1))<<2^z(e,2))<<2^z(e,3):0}(e,t)){case 5103:return pe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return pe+e+he+e+fe+e+e;case 6828:case 4268:return pe+e+fe+e+e;case 6165:return pe+e+fe+"flex-"+e+e;case 5187:return pe+e+U(e,/(\w+).+(:[^]+)/,pe+"box-$1$2"+fe+"flex-$1$2")+e;case 5443:return pe+e+fe+"flex-item-"+U(e,/flex-|-self/,"")+e;case 4675:return pe+e+fe+"flex-line-pack"+U(e,/align-content|flex-|-self/,"")+e;case 5548:return pe+e+fe+U(e,"shrink","negative")+e;case 5292:return pe+e+fe+U(e,"basis","preferred-size")+e;case 6060:return pe+"box-"+U(e,"-grow","")+pe+e+fe+U(e,"grow","positive")+e;case 4554:return pe+U(e,/([^-])(transform)/g,"$1"+pe+"$2")+e;case 6187:return U(U(U(e,/(zoom-|grab)/,pe+"$1"),/(image-set)/,pe+"$1"),e,"")+e;case 5495:case 3959:return U(e,/(image-set\([^]*)/,pe+"$1$`$1");case 4968:return U(U(e,/(.+:)(flex-)?(.*)/,pe+"box-pack:$3"+fe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pe+e+e;case 4095:case 3583:case 4068:case 2532:return U(e,/(.+)-inline(.+)/,pe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(j(e)-1-t>6)switch(z(e,t+1)){case 109:if(45!==z(e,t+4))break;case 102:return U(e,/(.+:)(.+)-([^]+)/,"$1"+pe+"$2-$3$1"+he+(108==z(e,t+3)?"$3":"$2-$3"))+e;case 115:return~F(e,"stretch")?Pe(U(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==z(e,t+1))break;case 6444:switch(z(e,j(e)-3-(~F(e,"!important")&&10))){case 107:return U(e,":",":"+pe)+e;case 101:return U(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+pe+(45===z(e,14)?"inline-":"")+"box$3$1"+pe+"$2$3$1"+fe+"$2box$3")+e}break;case 5936:switch(z(e,t+11)){case 114:return pe+e+fe+U(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return pe+e+fe+U(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return pe+e+fe+U(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return pe+e+fe+e+e}return e}var Ie=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ge:e.return=Pe(e.value,e.length);break;case ye:return be([Q(e,{value:U(e.value,"@","@"+pe)})],r);case me:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return be([Q(e,{props:[U(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return be([Q(e,{props:[U(t,/:(plac\w+)/,":"+pe+"input-$1")]}),Q(e,{props:[U(t,/:(plac\w+)/,":-moz-$1")]}),Q(e,{props:[U(t,/:(plac\w+)/,fe+"input-$1")]})],r)}return""}))}}],Oe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Ie;var i,a,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var l,u,c=[xe,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],d=function(e){var t=H(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}([Re,Ae].concat(r,c));a=function(e,t,n,r){l=n,function(e){be(we(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new I({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return f.sheet.hydrate(s),f};var Le={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ne=/[A-Z]|^ms/g,De=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ue=function(e){return 45===e.charCodeAt(1)},Fe=function(e){return null!=e&&"boolean"!==typeof e},ze=R((function(e){return Ue(e)?e:e.replace(Ne,"-$&").toLowerCase()})),Be=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(De,(function(e,t,n){return He={name:t,styles:n,next:He},t}))}return 1===Le[e]||Ue(e)||"number"!==typeof t||0===t?t:t+"px"};function je(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return He={name:n.name,styles:n.styles,next:He},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)He={name:r.name,styles:r.styles,next:He},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=je(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Fe(o)&&(r+=ze(a)+":"+Be(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=je(e,t,o);switch(a){case"animation":case"animationName":r+=ze(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var l=0;l<o.length;l++)Fe(o[l])&&(r+=ze(a)+":"+Be(a,o[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=He,a=n(e);return He=i,je(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var He,Ge=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Ve=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";He=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=je(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=je(n,t,e[o]),r&&(i+=a[o]);Ge.lastIndex=0;for(var s,l="";null!==(s=Ge.exec(i));)l+="-"+s[1];var u=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:u,styles:i,next:He}},We=!!r.useInsertionEffect&&r.useInsertionEffect,qe=We||function(e){return e()},Xe=We||t.useLayoutEffect,Ye=t.createContext("undefined"!==typeof HTMLElement?Oe({key:"css"}):null);Ye.Provider;var Ke=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Ye);return e(n,i,r)}))};var Ze=t.createContext({});var Qe=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},$e=function(e,t,n){Qe(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}},Je=P,et=function(e){return"theme"!==e},tt=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Je:et},nt=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},rt=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Qe(t,n,r),qe((function(){return $e(t,n,r)})),null},it=function e(n,r){var i,a,o=n.__emotion_real===n,s=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var l=nt(n,r,o),u=l||tt(s),c=!u("as");return function(){var d=arguments,f=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&f.push("label:"+i+";"),null==d[0]||void 0===d[0].raw)f.push.apply(f,d);else{0,f.push(d[0][0]);for(var h=d.length,p=1;p<h;p++)f.push(d[p],d[0][p])}var v=Ke((function(e,n,r){var i=c&&e.as||s,o="",d=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=t.useContext(Ze)}"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,d,e.className):null!=e.className&&(o=e.className+" ");var v=Ve(f.concat(d),n.registered,h);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=c&&void 0===l?tt(i):u,g={};for(var y in e)c&&"as"===y||m(y)&&(g[y]=e[y]);return g.className=o,g.ref=r,t.createElement(t.Fragment,null,t.createElement(rt,{cache:n,serialized:v,isStringTag:"string"===typeof i}),t.createElement(i,g))}));return v.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",v.defaultProps=n.defaultProps,v.__emotion_real=v,v.__emotion_base=s,v.__emotion_styles=f,v.__emotion_forwardProp=l,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(t,n){return e(t,T({},r,n,{shouldForwardProp:nt(v,n,!0)})).apply(void 0,f)},v}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){it[e]=it(e)}));function at(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function ot(e){if(!at(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=ot(e[n])})),t}function st(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?u({},e):e;return at(e)&&at(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(at(t[i])&&i in e&&at(e[i])?r[i]=st(e[i],t[i],n):n.clone?r[i]=at(t[i])?ot(t[i]):t[i]:r[i]=t[i])})),r}var lt=["values","unit","step"],ut=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return u({},e,s({},t.key,t.val))}),{})};var ct={borderRadius:4},dt={xs:0,sm:600,md:900,lg:1200,xl:1536},ft={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(dt[e],"px)")}};function ht(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||ft;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||ft;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||dt).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function pt(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function vt(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function mt(e){var t,n=e.values,r=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),a=Object.keys(i);return 0===a.length?n:a.reduce((function(e,r,i){return Array.isArray(n)?(e[r]=null!=n[i]?n[i]:n[t],t=i):"object"===typeof n?(e[r]=null!=n[r]?n[r]:n[t],t=r):e[r]=n,e}),{})}function gt(e){if("string"!==typeof e)throw new Error(h(7));return e.charAt(0).toUpperCase()+e.slice(1)}function yt(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function bt(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:yt(e,n)||i,t&&(r=t(r,i,e)),r}var xt=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=yt(e.theme,i)||{};return ht(e,n,(function(e){var n=bt(o,a,e);return e===n&&"string"===typeof e&&(n=bt(o,a,"".concat(t).concat("default"===e?"":gt(e)),e)),!1===r?n:s({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var wt=function(e,t){return t?st(e,t,{clone:!1}):e};var St={m:"margin",p:"padding"},_t={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},kt={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Et=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!kt[e])return[e];e=kt[e]}var t=M(e.split(""),2),n=t[0],r=t[1],i=St[n],a=_t[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),Ct=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Mt=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Tt=[].concat(Ct,Mt);function Rt(e,t,n,r){var i,a=null!=(i=yt(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function At(e){return Rt(e,"spacing",8)}function Pt(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function It(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=Pt(t,n),e}),{})}}(Et(n),r);return ht(e,e[n],i)}function Ot(e,t){var n=At(e.theme);return Object.keys(e).map((function(r){return It(e,t,r,n)})).reduce(wt,{})}function Lt(e){return Ot(e,Ct)}function Nt(e){return Ot(e,Mt)}function Dt(e){return Ot(e,Tt)}Lt.propTypes={},Lt.filterProps=Ct,Nt.propTypes={},Nt.filterProps=Mt,Dt.propTypes={},Dt.filterProps=Tt;var Ut=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?wt(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Ft(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var zt=xt({prop:"border",themeKey:"borders",transform:Ft}),Bt=xt({prop:"borderTop",themeKey:"borders",transform:Ft}),jt=xt({prop:"borderRight",themeKey:"borders",transform:Ft}),Ht=xt({prop:"borderBottom",themeKey:"borders",transform:Ft}),Gt=xt({prop:"borderLeft",themeKey:"borders",transform:Ft}),Vt=xt({prop:"borderColor",themeKey:"palette"}),Wt=xt({prop:"borderTopColor",themeKey:"palette"}),qt=xt({prop:"borderRightColor",themeKey:"palette"}),Xt=xt({prop:"borderBottomColor",themeKey:"palette"}),Yt=xt({prop:"borderLeftColor",themeKey:"palette"}),Kt=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=Rt(e.theme,"shape.borderRadius",4);return ht(e,e.borderRadius,(function(e){return{borderRadius:Pt(t,e)}}))}return null};Kt.propTypes={},Kt.filterProps=["borderRadius"];Ut(zt,Bt,jt,Ht,Gt,Vt,Wt,qt,Xt,Yt,Kt);var Zt=function(e){if(void 0!==e.gap&&null!==e.gap){var t=Rt(e.theme,"spacing",8);return ht(e,e.gap,(function(e){return{gap:Pt(t,e)}}))}return null};Zt.propTypes={},Zt.filterProps=["gap"];var Qt=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=Rt(e.theme,"spacing",8);return ht(e,e.columnGap,(function(e){return{columnGap:Pt(t,e)}}))}return null};Qt.propTypes={},Qt.filterProps=["columnGap"];var $t=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=Rt(e.theme,"spacing",8);return ht(e,e.rowGap,(function(e){return{rowGap:Pt(t,e)}}))}return null};$t.propTypes={},$t.filterProps=["rowGap"];Ut(Zt,Qt,$t,xt({prop:"gridColumn"}),xt({prop:"gridRow"}),xt({prop:"gridAutoFlow"}),xt({prop:"gridAutoColumns"}),xt({prop:"gridAutoRows"}),xt({prop:"gridTemplateColumns"}),xt({prop:"gridTemplateRows"}),xt({prop:"gridTemplateAreas"}),xt({prop:"gridArea"}));function Jt(e,t){return"grey"===t?t:e}Ut(xt({prop:"color",themeKey:"palette",transform:Jt}),xt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Jt}),xt({prop:"backgroundColor",themeKey:"palette",transform:Jt}));function en(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var tn=xt({prop:"width",transform:en}),nn=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return ht(e,e.maxWidth,(function(t){var n,r,i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||dt[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:en(t)}}))}return null};nn.filterProps=["maxWidth"];var rn=xt({prop:"minWidth",transform:en}),an=xt({prop:"height",transform:en}),on=xt({prop:"maxHeight",transform:en}),sn=xt({prop:"minHeight",transform:en}),ln=(xt({prop:"size",cssProperty:"width",transform:en}),xt({prop:"size",cssProperty:"height",transform:en}),Ut(tn,nn,rn,an,on,sn,xt({prop:"boxSizing"})),{border:{themeKey:"borders",transform:Ft},borderTop:{themeKey:"borders",transform:Ft},borderRight:{themeKey:"borders",transform:Ft},borderBottom:{themeKey:"borders",transform:Ft},borderLeft:{themeKey:"borders",transform:Ft},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Kt},color:{themeKey:"palette",transform:Jt},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Jt},backgroundColor:{themeKey:"palette",transform:Jt},p:{style:Nt},pt:{style:Nt},pr:{style:Nt},pb:{style:Nt},pl:{style:Nt},px:{style:Nt},py:{style:Nt},padding:{style:Nt},paddingTop:{style:Nt},paddingRight:{style:Nt},paddingBottom:{style:Nt},paddingLeft:{style:Nt},paddingX:{style:Nt},paddingY:{style:Nt},paddingInline:{style:Nt},paddingInlineStart:{style:Nt},paddingInlineEnd:{style:Nt},paddingBlock:{style:Nt},paddingBlockStart:{style:Nt},paddingBlockEnd:{style:Nt},m:{style:Lt},mt:{style:Lt},mr:{style:Lt},mb:{style:Lt},ml:{style:Lt},mx:{style:Lt},my:{style:Lt},margin:{style:Lt},marginTop:{style:Lt},marginRight:{style:Lt},marginBottom:{style:Lt},marginLeft:{style:Lt},marginX:{style:Lt},marginY:{style:Lt},marginInline:{style:Lt},marginInlineStart:{style:Lt},marginInlineEnd:{style:Lt},marginBlock:{style:Lt},marginBlockStart:{style:Lt},marginBlockEnd:{style:Lt},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Zt},rowGap:{style:$t},columnGap:{style:Qt},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:en},maxWidth:{style:nn},minWidth:{transform:en},height:{transform:en},maxHeight:{transform:en},minHeight:{transform:en},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}),un=ln;var cn=function(){function e(e,t,n,r){var i,a=(s(i={},e,t),s(i,"theme",n),i),o=r[e];if(!o)return s({},e,t);var l=o.cssProperty,u=void 0===l?e:l,c=o.themeKey,d=o.transform,f=o.style;if(null==t)return null;if("typography"===c&&"inherit"===t)return s({},e,t);var h=yt(n,c)||{};if(f)return f(a);return ht(a,t,(function(t){var n=bt(h,d,t);return t===n&&"string"===typeof t&&(n=bt(h,d,"".concat(e).concat("default"===t?"":gt(t)),t)),!1===u?n:s({},u,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,l=void 0===o?{}:o;if(!a)return null;var u=null!=(r=l.unstable_sxConfig)?r:un;function c(n){var r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;var i=pt(l.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,c=(i=r[n],a=l,"function"===typeof i?i(a):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(u[n])o=wt(o,e(n,c,l,u));else{var d=ht({theme:l},c,(function(e){return s({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(d,c)?o=wt(o,d):o[n]=t({sx:c,theme:l})}else o=wt(o,e(n,c,l,u))})),vt(a,o)}return Array.isArray(a)?a.map(c):c(a)}}();cn.filterProps=["sx"];var dn=cn,fn=["breakpoints","palette","spacing","shape"];var hn=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,s=void 0===o?{}:o,c=l(e,fn),d=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,s=l(e,lt),c=ut(n),d=Object.keys(c);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-o/100).concat(i,")")}return u({keys:d,values:c,up:f,down:h,between:p,only:function(e){return d.indexOf(e)+1<d.length?p(e,d[d.indexOf(e)+1]):f(e)},not:function(e){var t=d.indexOf(e);return 0===t?f(d[1]):t===d.length-1?h(d[t]):p(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}(n),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=At({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(a),h=st({breakpoints:d,direction:"ltr",components:{},palette:u({mode:"light"},i),spacing:f,shape:u({},ct,s)},c),p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return(h=v.reduce((function(e,t){return st(e,t)}),h)).unstable_sxConfig=u({},un,null==c?void 0:c.unstable_sxConfig),h.unstable_sx=function(e){return dn({sx:e,theme:this})},h},pn=["variant"];function vn(e){return 0===e.length}function mn(e){var t=e.variant,n=l(e,pn),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?vn(r)?e[t]:gt(e[t]):"".concat(vn(r)?t:gt(t)).concat(gt(e[t].toString()))})),r}var gn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function yn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var bn=hn();function xn(e){var t,n=e.defaultTheme,r=e.theme,i=e.themeId;return t=r,0===Object.keys(t).length?n:r[i]||r}function wn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,r=void 0===n?bn:n,i=e.rootShouldForwardProp,a=void 0===i?yn:i,o=e.slotShouldForwardProp,s=void 0===o?yn:o,c=function(e){return dn(u({},e,{theme:xn(u({},e,{defaultTheme:r,themeId:t}))}))};return c.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var i,o=n.name,d=n.slot,f=n.skipVariantsResolver,h=n.skipSx,p=n.overridesResolver,v=void 0===p?(i=function(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}(d),i?function(e,t){return t[i]}:null):p,m=l(n,gn),g=void 0!==f?f:d&&"Root"!==d&&"root"!==d||!1,y=h||!1;var b=yn;"Root"===d||"root"===d?b=a:d?b=s:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(b=void 0);var x=function(e,t){return it(e,t)}(e,u({shouldForwardProp:b,label:undefined},m)),w=function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];var l=a?a.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(n){return e(u({},n,{theme:xn(u({},n,{defaultTheme:r,themeId:t}))}))}:e})):[],d=n;o&&v&&l.push((function(e){var n=xn(u({},e,{defaultTheme:r,themeId:t})),i=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(o,n);if(i){var a={};return Object.entries(i).forEach((function(t){var r=M(t,2),i=r[0],o=r[1];a[i]="function"===typeof o?o(u({},e,{theme:n})):o})),v(e,a)}return null})),o&&!g&&l.push((function(e){var n=xn(u({},e,{defaultTheme:r,themeId:t}));return function(e,t,n,r){var i,a=e.ownerState,o=void 0===a?{}:a,s=[],l=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return l&&l.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){o[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[mn(n.props)])})),s}(e,function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=mn(e.props);r[t]=e.style})),r}(o,n),n,o)})),y||l.push(c);var f=l.length-a.length;if(Array.isArray(n)&&f>0){var h=new Array(f).fill("");(d=[].concat(k(n),k(h))).raw=[].concat(k(n.raw),k(h))}else"function"===typeof n&&n.__emotion_real!==n&&(d=function(e){return n(u({},e,{theme:xn(u({},e,{defaultTheme:r,themeId:t}))}))});var p=x.apply(void 0,[d].concat(k(l)));return e.muiName&&(p.muiName=e.muiName),p};return x.withConfig&&(w.withConfig=x.withConfig),w}}function Sn(e,t){var n;return u({toolbar:(n={minHeight:56},s(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),s(n,e.up("sm"),{minHeight:64}),n)},t)}var _n={black:"#000",white:"#fff"},kn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},En={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Cn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Mn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Tn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Rn={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},An={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Pn=["mode","contrastThreshold","tonalOffset"],In={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:_n.white,default:_n.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},On={text:{primary:_n.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:_n.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Ln(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=x(e.main,i):"dark"===t&&(e.dark=b(e.main,a)))}function Nn(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,s=l(e,Pn),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Tn[200],light:Tn[50],dark:Tn[400]}:{main:Tn[700],light:Tn[400],dark:Tn[800]}}(n),d=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:En[200],light:En[50],dark:En[400]}:{main:En[500],light:En[300],dark:En[700]}}(n),f=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Cn[500],light:Cn[300],dark:Cn[700]}:{main:Cn[700],light:Cn[400],dark:Cn[800]}}(n),p=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Rn[400],light:Rn[300],dark:Rn[700]}:{main:Rn[700],light:Rn[500],dark:Rn[900]}}(n),v=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:An[400],light:An[300],dark:An[700]}:{main:An[800],light:An[500],dark:An[900]}}(n),m=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Mn[400],light:Mn[300],dark:Mn[700]}:{main:"#ed6c02",light:Mn[500],dark:Mn[900]}}(n);function y(e){var t=function(e,t){var n=g(e),r=g(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,On.text.primary)>=i?On.text.primary:In.text.primary;return t}var b=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,s=void 0===a?300:a,l=e.darkShade,c=void 0===l?700:l;if(!(t=u({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(h(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(h(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Ln(t,"light",s,o),Ln(t,"dark",c,o),t.contrastText||(t.contrastText=y(t.main)),t},x={dark:On,light:In};return st(u({common:u({},_n),mode:n,primary:b({color:c,name:"primary"}),secondary:b({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:f,name:"error"}),warning:b({color:m,name:"warning"}),info:b({color:p,name:"info"}),success:b({color:v,name:"success"}),grey:kn,contrastThreshold:i,getContrastText:y,augmentColor:b,tonalOffset:o},x[n]),s)}var Dn=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Un(e){return Math.round(1e5*e)/1e5}var Fn={textTransform:"uppercase"},zn='"Roboto", "Helvetica", "Arial", sans-serif';function Bn(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?zn:r,a=n.fontSize,o=void 0===a?14:a,s=n.fontWeightLight,c=void 0===s?300:s,d=n.fontWeightRegular,f=void 0===d?400:d,h=n.fontWeightMedium,p=void 0===h?500:h,v=n.fontWeightBold,m=void 0===v?700:v,g=n.htmlFontSize,y=void 0===g?16:g,b=n.allVariants,x=n.pxToRem,w=l(n,Dn);var S=o/14,_=x||function(e){return"".concat(e/y*S,"rem")},k=function(e,t,n,r,a){return u({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===zn?{letterSpacing:"".concat(Un(r/t),"em")}:{},a,b)},E={h1:k(c,96,1.167,-1.5),h2:k(c,60,1.2,-.5),h3:k(f,48,1.167,0),h4:k(f,34,1.235,.25),h5:k(f,24,1.334,0),h6:k(p,20,1.6,.15),subtitle1:k(f,16,1.75,.15),subtitle2:k(p,14,1.57,.1),body1:k(f,16,1.5,.15),body2:k(f,14,1.43,.15),button:k(p,14,1.75,.4,Fn),caption:k(f,12,1.66,.4),overline:k(f,12,2.66,1,Fn),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return st(u({htmlFontSize:y,pxToRem:_,fontFamily:i,fontSize:o,fontWeightLight:c,fontWeightRegular:f,fontWeightMedium:p,fontWeightBold:m},E),w,{clone:!1})}function jn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Hn=["none",jn(0,2,1,-1,0,1,1,0,0,1,3,0),jn(0,3,1,-2,0,2,2,0,0,1,5,0),jn(0,3,3,-2,0,3,4,0,0,1,8,0),jn(0,2,4,-1,0,4,5,0,0,1,10,0),jn(0,3,5,-1,0,5,8,0,0,1,14,0),jn(0,3,5,-1,0,6,10,0,0,1,18,0),jn(0,4,5,-2,0,7,10,1,0,2,16,1),jn(0,5,5,-3,0,8,10,1,0,3,14,2),jn(0,5,6,-3,0,9,12,1,0,3,16,2),jn(0,6,6,-3,0,10,14,1,0,4,18,3),jn(0,6,7,-4,0,11,15,1,0,4,20,3),jn(0,7,8,-4,0,12,17,2,0,5,22,4),jn(0,7,8,-4,0,13,19,2,0,5,24,4),jn(0,7,9,-4,0,14,21,2,0,5,26,4),jn(0,8,9,-5,0,15,22,2,0,6,28,5),jn(0,8,10,-5,0,16,24,2,0,6,30,5),jn(0,8,11,-5,0,17,26,2,0,6,32,5),jn(0,9,11,-5,0,18,28,2,0,7,34,6),jn(0,9,12,-6,0,19,29,2,0,7,36,6),jn(0,10,13,-6,0,20,31,3,0,8,38,7),jn(0,10,13,-6,0,21,33,3,0,8,40,7),jn(0,10,14,-6,0,22,35,3,0,8,42,7),jn(0,11,14,-7,0,23,36,3,0,9,44,8),jn(0,11,15,-7,0,24,38,3,0,9,46,8)],Gn=["duration","easing","delay"],Vn={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Wn={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function qn(e){return"".concat(Math.round(e),"ms")}function Xn(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function Yn(e){var t=u({},Vn,e.easing),n=u({},Wn,e.duration);return u({getAutoHeightDuration:Xn,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,s=void 0===o?t.easeInOut:o,u=r.delay,c=void 0===u?0:u;l(r,Gn);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:qn(a)," ").concat(s," ").concat("string"===typeof c?c:qn(c))})).join(",")}},e,{easing:t,duration:n})}var Kn={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Zn=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Qn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,s=e.typography,c=void 0===s?{}:s,d=l(e,Zn);if(e.vars)throw new Error(h(18));var f=Nn(i),p=hn(e),v=st(p,{mixins:Sn(p.breakpoints,n),palette:f,shadows:Hn.slice(),typography:Bn(f,c),transitions:Yn(o),zIndex:u({},Kn)});v=st(v,d);for(var m=arguments.length,g=new Array(m>1?m-1:0),y=1;y<m;y++)g[y-1]=arguments[y];return(v=g.reduce((function(e,t){return st(e,t)}),v)).unstable_sxConfig=u({},un,null==d?void 0:d.unstable_sxConfig),v.unstable_sx=function(e){return dn({sx:e,theme:this})},v}var $n=Qn,Jn=$n(),er="$$material",tr=function(e){return yn(e)&&"classes"!==e},nr=yn,rr=wn({themeId:er,defaultTheme:Jn,rootShouldForwardProp:tr});function ir(e,t){var n=u({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=u({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var i=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?i&&Object.keys(i)?(n[r]=u({},a),Object.keys(i).forEach((function(e){n[r][e]=ir(i[e],a[e])}))):n[r]=a:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}var ar=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=t.useContext(Ze);return r&&(e=r,0!==Object.keys(e).length)?r:n},or=hn();var sr=function(){return ar(arguments.length>0&&void 0!==arguments[0]?arguments[0]:or)};function lr(e){var t=e.props,n=e.name,r=e.defaultTheme,i=e.themeId,a=sr(r);i&&(a=a[i]||a);var o=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?ir(t.components[n].defaultProps,r):r}({theme:a,name:n,props:t});return o}function ur(e){return lr({props:e.props,name:e.name,defaultTheme:Jn,themeId:er})}var cr=gt,dr=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},fr=function(e){return e},hr=function(){var e=fr;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=fr}}}(),pr={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function vr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=pr[t];return r?"".concat(n,"-").concat(r):"".concat(hr.generate(e),"-").concat(t)}function mr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=vr(e,t,n)})),r}function gr(e){return vr("MuiPaper",e)}mr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var yr=n(184),br=["className","component","elevation","square","variant"],xr=rr("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,r=e.ownerState;return u({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&u({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat(y("#fff",dr(r.elevation)),", ").concat(y("#fff",dr(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))})),wr=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiPaper"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.elevation,s=void 0===o?1:o,c=n.square,h=void 0!==c&&c,p=n.variant,v=void 0===p?"elevation":p,m=l(n,br),g=u({},n,{component:a,elevation:s,square:h,variant:v}),y=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return f({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},gr,i)}(g);return(0,yr.jsx)(xr,u({as:a,ownerState:g,className:d(y.root,r),ref:t},m))}));function Sr(e){return vr("MuiAlert",e)}var _r=mr("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function kr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Er(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo((function(){return n.every((function(e){return null==e}))?null:function(e){n.forEach((function(t){kr(t,e)}))}}),n)}var Cr=Er,Mr="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;var Tr,Rr=function(e){var n=t.useRef(e);return Mr((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])},Ar=Rr,Pr=!0,Ir=!1,Or={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Lr(e){e.metaKey||e.altKey||e.ctrlKey||(Pr=!0)}function Nr(){Pr=!1}function Dr(){"hidden"===this.visibilityState&&Ir&&(Pr=!0)}function Ur(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Pr||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Or[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Fr=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Lr,!0),t.addEventListener("mousedown",Nr,!0),t.addEventListener("pointerdown",Nr,!0),t.addEventListener("touchstart",Nr,!0),t.addEventListener("visibilitychange",Dr,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!Ur(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(Ir=!0,window.clearTimeout(Tr),Tr=window.setTimeout((function(){Ir=!1}),100),n.current=!1,!0)},ref:e}};function zr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jr(e,t){return jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jr(e,t)}function Hr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,jr(e,t)}var Gr=t.createContext(null);function Vr(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function Wr(e,t,n){return null!=n[t]?n[t]:e.props[t]}function qr(e,n,r){var i=Vr(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(n,i);return Object.keys(a).forEach((function(o){var s=a[o];if((0,t.isValidElement)(s)){var l=o in n,u=o in i,c=n[o],d=(0,t.isValidElement)(c)&&!c.props.in;!u||l&&!d?u||!l||d?u&&l&&(0,t.isValidElement)(c)&&(a[o]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:c.props.in,exit:Wr(s,"exit",e),enter:Wr(s,"enter",e)})):a[o]=(0,t.cloneElement)(s,{in:!1}):a[o]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:Wr(s,"exit",e),enter:Wr(s,"enter",e)})}})),a}var Xr=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Yr=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Br(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Hr(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,Vr(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:Wr(e,"appear",r),enter:Wr(e,"enter",r),exit:Wr(e,"exit",r)})}))):qr(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=Vr(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=u({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=l(e,["component","childFactory"]),a=this.state.contextValue,o=Xr(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(Gr.Provider,{value:a},o):t.createElement(Gr.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);Yr.propTypes={},Yr.defaultProps={component:"div",childFactory:function(e){return e}};var Kr=Yr,Zr=(n(2110),Ke((function(e,n){var r=e.styles,i=Ve([r],void 0,t.useContext(Ze)),a=t.useRef();return Xe((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),a.current=[t,r],function(){t.flush()}}),[n]),Xe((function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&$e(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null})));function Qr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ve(t)}var $r=function(){var e=Qr.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var Jr=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,s=e.rippleY,l=e.rippleSize,u=e.in,c=e.onExited,f=e.timeout,h=M(t.useState(!1),2),p=h[0],v=h[1],m=d(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),g={width:l,height:l,top:-l/2+s,left:-l/2+o},y=d(r.child,p&&r.childLeaving,a&&r.childPulsate);return u||p||v(!0),t.useEffect((function(){if(!u&&null!=c){var e=setTimeout(c,f);return function(){clearTimeout(e)}}}),[c,u,f]),(0,yr.jsx)("span",{className:m,style:g,children:(0,yr.jsx)("span",{className:y})})};var ei,ti,ni,ri,ii,ai,oi,si,li=mr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ui=["center","classes","className"],ci=$r(ii||(ii=ei||(ei=zr(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),di=$r(ai||(ai=ti||(ti=zr(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),fi=$r(oi||(oi=ni||(ni=zr(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),hi=rr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),pi=rr(Jr,{name:"MuiTouchRipple",slot:"Ripple"})(si||(si=ri||(ri=zr(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),li.rippleVisible,ci,550,(function(e){return e.theme.transitions.easing.easeInOut}),li.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),li.child,li.childLeaving,di,550,(function(e){return e.theme.transitions.easing.easeInOut}),li.childPulsate,fi,(function(e){return e.theme.transitions.easing.easeInOut})),vi=t.forwardRef((function(e,n){var r=ur({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,s=void 0===o?{}:o,c=r.className,f=l(r,ui),h=M(t.useState([]),2),p=h[0],v=h[1],m=t.useRef(0),g=t.useRef(null);t.useEffect((function(){g.current&&(g.current(),g.current=null)}),[p]);var y=t.useRef(!1),b=t.useRef(0),x=t.useRef(null),w=t.useRef(null);t.useEffect((function(){return function(){b.current&&clearTimeout(b.current)}}),[]);var S=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;v((function(e){return[].concat(k(e),[(0,yr.jsx)(pi,{classes:{ripple:d(s.ripple,li.ripple),rippleVisible:d(s.rippleVisible,li.rippleVisible),ripplePulsate:d(s.ripplePulsate,li.ripplePulsate),child:d(s.child,li.child),childLeaving:d(s.childLeaving,li.childLeaving),childPulsate:d(s.childPulsate,li.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},m.current)])})),m.current+=1,g.current=a}),[s]),_=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=t.pulsate,i=void 0!==r&&r,o=t.center,s=void 0===o?a||t.pulsate:o,l=t.fakeElement,u=void 0!==l&&l;if("mousedown"===(null==e?void 0:e.type)&&y.current)y.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(y.current=!0);var c,d,f,h=u?null:w.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(p.width/2),d=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,m=v.clientX,g=v.clientY;c=Math.round(m-p.left),d=Math.round(g-p.top)}if(s)(f=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(f+=1);else{var _=2*Math.max(Math.abs((h?h.clientWidth:0)-c),c)+2,k=2*Math.max(Math.abs((h?h.clientHeight:0)-d),d)+2;f=Math.sqrt(Math.pow(_,2)+Math.pow(k,2))}null!=e&&e.touches?null===x.current&&(x.current=function(){S({pulsate:i,rippleX:c,rippleY:d,rippleSize:f,cb:n})},b.current=setTimeout((function(){x.current&&(x.current(),x.current=null)}),80)):S({pulsate:i,rippleX:c,rippleY:d,rippleSize:f,cb:n})}}),[a,S]),E=t.useCallback((function(){_({},{pulsate:!0})}),[_]),C=t.useCallback((function(e,t){if(clearTimeout(b.current),"touchend"===(null==e?void 0:e.type)&&x.current)return x.current(),x.current=null,void(b.current=setTimeout((function(){C(e,t)})));x.current=null,v((function(e){return e.length>0?e.slice(1):e})),g.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:E,start:_,stop:C}}),[E,_,C]),(0,yr.jsx)(hi,u({className:d(li.root,s.root,c),ref:w},f,{children:(0,yr.jsx)(Kr,{component:null,exit:!0,children:p})}))})),mi=vi;function gi(e){return vr("MuiButtonBase",e)}var yi,bi=mr("MuiButtonBase",["root","disabled","focusVisible"]),xi=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],wi=rr("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((s(yi={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(bi.disabled),{pointerEvents:"none",cursor:"default"}),s(yi,"@media print",{colorAdjust:"exact"}),yi)),Si=t.forwardRef((function(e,n){var r=ur({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,s=r.children,c=r.className,h=r.component,p=void 0===h?"button":h,v=r.disabled,m=void 0!==v&&v,g=r.disableRipple,y=void 0!==g&&g,b=r.disableTouchRipple,x=void 0!==b&&b,w=r.focusRipple,S=void 0!==w&&w,_=r.LinkComponent,k=void 0===_?"a":_,E=r.onBlur,C=r.onClick,T=r.onContextMenu,R=r.onDragLeave,A=r.onFocus,P=r.onFocusVisible,I=r.onKeyDown,O=r.onKeyUp,L=r.onMouseDown,N=r.onMouseLeave,D=r.onMouseUp,U=r.onTouchEnd,F=r.onTouchMove,z=r.onTouchStart,B=r.tabIndex,j=void 0===B?0:B,H=r.TouchRippleProps,G=r.touchRippleRef,V=r.type,W=l(r,xi),q=t.useRef(null),X=t.useRef(null),Y=Cr(X,G),K=Fr(),Z=K.isFocusVisibleRef,Q=K.onFocus,$=K.onBlur,J=K.ref,ee=M(t.useState(!1),2),te=ee[0],ne=ee[1];m&&te&&ne(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){ne(!0),q.current.focus()}}}),[]);var re=M(t.useState(!1),2),ie=re[0],ae=re[1];t.useEffect((function(){ae(!0)}),[]);var oe=ie&&!y&&!m;function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;return Ar((function(r){return t&&t(r),!n&&X.current&&X.current[e](r),!0}))}t.useEffect((function(){te&&S&&!y&&ie&&X.current.pulsate()}),[y,S,te,ie]);var le=se("start",L),ue=se("stop",T),ce=se("stop",R),de=se("stop",D),fe=se("stop",(function(e){te&&e.preventDefault(),N&&N(e)})),he=se("start",z),pe=se("stop",U),ve=se("stop",F),me=se("stop",(function(e){$(e),!1===Z.current&&ne(!1),E&&E(e)}),!1),ge=Ar((function(e){q.current||(q.current=e.currentTarget),Q(e),!0===Z.current&&(ne(!0),P&&P(e)),A&&A(e)})),ye=function(){var e=q.current;return p&&"button"!==p&&!("A"===e.tagName&&e.href)},be=t.useRef(!1),xe=Ar((function(e){S&&!be.current&&te&&X.current&&" "===e.key&&(be.current=!0,X.current.stop(e,(function(){X.current.start(e)}))),e.target===e.currentTarget&&ye()&&" "===e.key&&e.preventDefault(),I&&I(e),e.target===e.currentTarget&&ye()&&"Enter"===e.key&&!m&&(e.preventDefault(),C&&C(e))})),we=Ar((function(e){S&&" "===e.key&&X.current&&te&&!e.defaultPrevented&&(be.current=!1,X.current.stop(e,(function(){X.current.pulsate(e)}))),O&&O(e),C&&e.target===e.currentTarget&&ye()&&" "===e.key&&!e.defaultPrevented&&C(e)})),Se=p;"button"===Se&&(W.href||W.to)&&(Se=k);var _e={};"button"===Se?(_e.type=void 0===V?"button":V,_e.disabled=m):(W.href||W.to||(_e.role="button"),m&&(_e["aria-disabled"]=m));var ke=Cr(n,J,q);var Ee=u({},r,{centerRipple:o,component:p,disabled:m,disableRipple:y,disableTouchRipple:x,focusRipple:S,tabIndex:j,focusVisible:te}),Ce=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=f({root:["root",t&&"disabled",n&&"focusVisible"]},gi,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Ee);return(0,yr.jsxs)(wi,u({as:Se,className:d(Ce.root,c),ownerState:Ee,onBlur:me,onClick:C,onContextMenu:ue,onFocus:ge,onKeyDown:xe,onKeyUp:we,onMouseDown:le,onMouseLeave:fe,onMouseUp:de,onDragLeave:ce,onTouchEnd:pe,onTouchMove:ve,onTouchStart:he,ref:ke,tabIndex:m?-1:j,type:V},_e,W,{children:[s,oe?(0,yr.jsx)(mi,u({ref:Y,center:o},H)):null]}))})),_i=Si;function ki(e){return vr("MuiIconButton",e)}var Ei=mr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Ci=["edge","children","className","color","disabled","disableFocusRipple","size"],Mi=rr(_i,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat(cr(n.color))],n.edge&&t["edge".concat(cr(n.edge))],t["size".concat(cr(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return u({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):y(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t,n=e.theme,r=e.ownerState,i=null==(t=(n.vars||n).palette)?void 0:t[r.color];return u({},"inherit"===r.color&&{color:"inherit"},"inherit"!==r.color&&"default"!==r.color&&u({color:null==i?void 0:i.main},!r.disableRipple&&{"&:hover":u({},i&&{backgroundColor:n.vars?"rgba(".concat(i.mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):y(i.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===r.size&&{padding:5,fontSize:n.typography.pxToRem(18)},"large"===r.size&&{padding:12,fontSize:n.typography.pxToRem(28)},s({},"&.".concat(Ei.disabled),{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}))})),Ti=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiIconButton"}),r=n.edge,i=void 0!==r&&r,a=n.children,o=n.className,s=n.color,c=void 0===s?"default":s,h=n.disabled,p=void 0!==h&&h,v=n.disableFocusRipple,m=void 0!==v&&v,g=n.size,y=void 0===g?"medium":g,b=l(n,Ci),x=u({},n,{edge:i,color:c,disabled:p,disableFocusRipple:m,size:y}),w=function(e){var t=e.classes,n=e.disabled,r=e.color,i=e.edge,a=e.size;return f({root:["root",n&&"disabled","default"!==r&&"color".concat(cr(r)),i&&"edge".concat(cr(i)),"size".concat(cr(a))]},ki,t)}(x);return(0,yr.jsx)(Mi,u({className:d(w.root,o),centerRipple:!0,focusRipple:!m,disabled:p,ref:t,ownerState:x},b,{children:a}))})),Ri=Ti;function Ai(e){return vr("MuiSvgIcon",e)}mr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Pi=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Ii=rr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(cr(n.color))],t["fontSize".concat(cr(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,s,l,u,c,d,f,h,p=e.theme,v=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:v.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(t=p.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=p.transitions)||null==(r=r.duration)?void 0:r.shorter}),fontSize:{inherit:"inherit",small:(null==(i=p.typography)||null==(a=i.pxToRem)?void 0:a.call(i,20))||"1.25rem",medium:(null==(o=p.typography)||null==(s=o.pxToRem)?void 0:s.call(o,24))||"1.5rem",large:(null==(l=p.typography)||null==(u=l.pxToRem)?void 0:u.call(l,35))||"2.1875rem"}[v.fontSize],color:null!=(c=null==(d=(p.vars||p).palette)||null==(d=d[v.color])?void 0:d.main)?c:{action:null==(f=(p.vars||p).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(h=(p.vars||p).palette)||null==(h=h.action)?void 0:h.disabled,inherit:void 0}[v.color]}})),Oi=t.forwardRef((function(e,n){var r=ur({props:e,name:"MuiSvgIcon"}),i=r.children,a=r.className,o=r.color,s=void 0===o?"inherit":o,c=r.component,h=void 0===c?"svg":c,p=r.fontSize,v=void 0===p?"medium":p,m=r.htmlColor,g=r.inheritViewBox,y=void 0!==g&&g,b=r.titleAccess,x=r.viewBox,w=void 0===x?"0 0 24 24":x,S=l(r,Pi),_=t.isValidElement(i)&&"svg"===i.type,k=u({},r,{color:s,component:h,fontSize:v,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:w,hasSvgAsChild:_}),E={};y||(E.viewBox=w);var C=function(e){var t=e.color,n=e.fontSize,r=e.classes;return f({root:["root","inherit"!==t&&"color".concat(cr(t)),"fontSize".concat(cr(n))]},Ai,r)}(k);return(0,yr.jsxs)(Ii,u({as:h,className:d(C.root,a),focusable:"false",color:m,"aria-hidden":!b||void 0,role:b?"img":void 0,ref:n},E,S,_&&i.props,{ownerState:k,children:[_?i.props.children:i,b?(0,yr.jsx)("title",{children:b}):null]}))}));Oi.muiName="SvgIcon";var Li=Oi;function Ni(e,n){function r(t,r){return(0,yr.jsx)(Li,u({"data-testid":"".concat(n,"Icon"),ref:r},t,{children:e}))}return r.muiName=Li.muiName,t.memo(t.forwardRef(r))}var Di=Ni((0,yr.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Ui=Ni((0,yr.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Fi=Ni((0,yr.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),zi=Ni((0,yr.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Bi=Ni((0,yr.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ji=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],Hi=rr(wr,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(cr(n.color||n.severity))]]}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?b:x,i="light"===t.palette.mode?x:b,a=n.color||n.severity;return u({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},a&&"standard"===n.variant&&s({color:t.vars?t.vars.palette.Alert["".concat(a,"Color")]:r(t.palette[a].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(a,"StandardBg")]:i(t.palette[a].light,.9)},"& .".concat(_r.icon),t.vars?{color:t.vars.palette.Alert["".concat(a,"IconColor")]}:{color:t.palette[a].main}),a&&"outlined"===n.variant&&s({color:t.vars?t.vars.palette.Alert["".concat(a,"Color")]:r(t.palette[a].light,.6),border:"1px solid ".concat((t.vars||t).palette[a].light)},"& .".concat(_r.icon),t.vars?{color:t.vars.palette.Alert["".concat(a,"IconColor")]}:{color:t.palette[a].main}),a&&"filled"===n.variant&&u({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(a,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(a,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[a].dark:t.palette[a].main,color:t.palette.getContrastText(t.palette[a].main)}))})),Gi=rr("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Vi=rr("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0",minWidth:0,overflow:"auto"}),Wi=rr("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),qi={success:(0,yr.jsx)(Di,{fontSize:"inherit"}),warning:(0,yr.jsx)(Ui,{fontSize:"inherit"}),error:(0,yr.jsx)(Fi,{fontSize:"inherit"}),info:(0,yr.jsx)(zi,{fontSize:"inherit"})},Xi=t.forwardRef((function(e,t){var n,r,i,a,o,s,c=ur({props:e,name:"MuiAlert"}),h=c.action,p=c.children,v=c.className,m=c.closeText,g=void 0===m?"Close":m,y=c.color,b=c.components,x=void 0===b?{}:b,w=c.componentsProps,S=void 0===w?{}:w,_=c.icon,k=c.iconMapping,E=void 0===k?qi:k,C=c.onClose,M=c.role,T=void 0===M?"alert":M,R=c.severity,A=void 0===R?"success":R,P=c.slotProps,I=void 0===P?{}:P,O=c.slots,L=void 0===O?{}:O,N=c.variant,D=void 0===N?"standard":N,U=l(c,ji),F=u({},c,{color:y,severity:A,variant:D}),z=function(e){var t=e.variant,n=e.color,r=e.severity,i=e.classes;return f({root:["root","".concat(t).concat(cr(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]},Sr,i)}(F),B=null!=(n=null!=(r=L.closeButton)?r:x.CloseButton)?n:Ri,j=null!=(i=null!=(a=L.closeIcon)?a:x.CloseIcon)?i:Bi,H=null!=(o=I.closeButton)?o:S.closeButton,G=null!=(s=I.closeIcon)?s:S.closeIcon;return(0,yr.jsxs)(Hi,u({role:T,elevation:0,ownerState:F,className:d(z.root,v),ref:t},U,{children:[!1!==_?(0,yr.jsx)(Gi,{ownerState:F,className:z.icon,children:_||E[A]||qi[A]}):null,(0,yr.jsx)(Vi,{ownerState:F,className:z.message,children:p}),null!=h?(0,yr.jsx)(Wi,{ownerState:F,className:z.action,children:h}):null,null==h&&C?(0,yr.jsx)(Wi,{ownerState:F,className:z.action,children:(0,yr.jsx)(B,u({size:"small","aria-label":g,title:g,color:"inherit",onClick:C},H,{children:(0,yr.jsx)(j,u({fontSize:"small"},G))}))}):null]}))})),Yi=Xi,Ki=["sx"],Zi=function(e){var t,n,r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:un;return Object.keys(e).forEach((function(t){i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function Qi(e){var t,n=e.sx,r=l(e,Ki),i=Zi(r),a=i.systemProps,o=i.otherProps;return t=Array.isArray(n)?[a].concat(k(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return at(e)?u({},a,e):a}:u({},a,n),u({},o,{sx:t})}function $i(e){return vr("MuiTypography",e)}mr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var Ji=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],ea=rr("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(cr(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return u({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),ta={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},na={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},ra=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiTypography"}),r=function(e){return na[e]||e}(n.color),i=Qi(u({},n,{color:r})),a=i.align,o=void 0===a?"inherit":a,s=i.className,c=i.component,h=i.gutterBottom,p=void 0!==h&&h,v=i.noWrap,m=void 0!==v&&v,g=i.paragraph,y=void 0!==g&&g,b=i.variant,x=void 0===b?"body1":b,w=i.variantMapping,S=void 0===w?ta:w,_=l(i,Ji),k=u({},i,{align:o,color:r,className:s,component:c,gutterBottom:p,noWrap:m,paragraph:y,variant:x,variantMapping:S}),E=c||(y?"p":S[x]||ta[x])||"span",C=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes;return f({root:["root",a,"inherit"!==e.align&&"align".concat(cr(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},$i,o)}(k);return(0,yr.jsx)(ea,u({as:E,ref:t,ownerState:k,className:d(C.root,s)},_))})),ia=ra;function aa(e){return vr("MuiAlertTitle",e)}mr("MuiAlertTitle",["root"]);var oa=["className"],sa=rr(ia,{name:"MuiAlertTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){return{fontWeight:e.theme.typography.fontWeightMedium,marginTop:-2}})),la=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiAlertTitle"}),r=n.className,i=l(n,oa),a=n,o=function(e){return f({root:["root"]},aa,e.classes)}(a);return(0,yr.jsx)(sa,u({gutterBottom:!0,component:"div",ownerState:a,ref:t,className:d(o.root,r)},i))}));function ua(e){return vr("MuiButton",e)}var ca=mr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var da=t.createContext({});var fa=t.createContext(void 0),ha=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],pa=function(e){return u({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},va=rr(_i,{shouldForwardProp:function(e){return tr(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(cr(n.color))],t["size".concat(cr(n.size))],t["".concat(n.variant,"Size").concat(cr(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState,o="light"===i.palette.mode?i.palette.grey[300]:i.palette.grey[800],l="light"===i.palette.mode?i.palette.grey.A100:i.palette.grey[700];return u({},i.typography.button,(s(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":u({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):y(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):y(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):y(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:i.vars?i.vars.palette.Button.inheritContainedHoverBg:l,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":u({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat(ca.focusVisible),u({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),s(t,"&.".concat(ca.disabled),u({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat(y(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:i.vars?i.vars.palette.Button.inheritContainedBg:o,boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(s(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(ca.focusVisible),{boxShadow:"none"}),s(t,"&:active",{boxShadow:"none"}),s(t,"&.".concat(ca.disabled),{boxShadow:"none"}),t)})),ma=rr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(cr(n.size))]]}})((function(e){var t=e.ownerState;return u({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},pa(t))})),ga=rr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(cr(n.size))]]}})((function(e){var t=e.ownerState;return u({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},pa(t))})),ya=t.forwardRef((function(e,n){var r=t.useContext(da),i=t.useContext(fa),a=ur({props:ir(r,e),name:"MuiButton"}),o=a.children,s=a.color,c=void 0===s?"primary":s,h=a.component,p=void 0===h?"button":h,v=a.className,m=a.disabled,g=void 0!==m&&m,y=a.disableElevation,b=void 0!==y&&y,x=a.disableFocusRipple,w=void 0!==x&&x,S=a.endIcon,_=a.focusVisibleClassName,k=a.fullWidth,E=void 0!==k&&k,C=a.size,M=void 0===C?"medium":C,T=a.startIcon,R=a.type,A=a.variant,P=void 0===A?"text":A,I=l(a,ha),O=u({},a,{color:c,component:p,disabled:g,disableElevation:b,disableFocusRipple:w,fullWidth:E,size:M,type:R,variant:P}),L=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return u({},o,f({root:["root",a,"".concat(a).concat(cr(t)),"size".concat(cr(i)),"".concat(a,"Size").concat(cr(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(cr(i))],endIcon:["endIcon","iconSize".concat(cr(i))]},ua,o))}(O),N=T&&(0,yr.jsx)(ma,{className:L.startIcon,ownerState:O,children:T}),D=S&&(0,yr.jsx)(ga,{className:L.endIcon,ownerState:O,children:S}),U=i||"";return(0,yr.jsxs)(va,u({ownerState:O,className:d(r.className,L.root,v,U),component:p,disabled:g,focusRipple:!w,focusVisibleClassName:d(L.focusVisible,_),ref:n,type:R},I,{classes:L,children:[N,o,D]}))})),ba=ya;var xa=t.createContext(null);function wa(){return t.useContext(xa)}var Sa="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var _a=function(e){var n=e.children,r=e.theme,i=wa(),a=t.useMemo((function(){var e=null===i?r:function(e,t){return"function"===typeof t?t(e):u({},e,t)}(i,r);return null!=e&&(e[Sa]=null!==i),e}),[r,i]);return(0,yr.jsx)(xa.Provider,{value:a,children:n})},ka={};function Ea(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.useMemo((function(){var t=e&&n[e]||n;if("function"===typeof r){var a=r(t),o=e?u({},n,s({},e,a)):a;return i?function(){return o}:o}return u({},n,e?s({},e,r):r)}),[e,n,r,i])}var Ca=function(e){var t=e.children,n=e.theme,r=e.themeId,i=ar(ka),a=wa()||ka,o=Ea(r,i,n),s=Ea(r,a,n,!0);return(0,yr.jsx)(_a,{theme:s,children:(0,yr.jsx)(Ze.Provider,{value:o,children:t})})},Ma=["theme"];function Ta(e){var t=e.theme,n=l(e,Ma),r=t[er];return(0,yr.jsx)(Ca,u({},n,{themeId:r?er:void 0,theme:r||t}))}function Ra(){var e=sr(Jn);return e[er]||e}function Aa(e){var t=e.children,n=Ra();return(0,yr.jsx)("div",{style:{display:"flex",flexDirection:"row",height:"100vh",width:"100vw",backgroundColor:n.palette.grey[200],alignItems:"stretch",justifyContent:"start"},children:t})}var Pa=wn(),Ia=["component","direction","spacing","divider","children","className","useFlexGap"],Oa=hn(),La=Pa("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return t.root}});function Na(e){return lr({props:e,name:"MuiStack",defaultTheme:Oa})}function Da(e,n){var r=t.Children.toArray(e).filter(Boolean);return r.reduce((function(e,i,a){return e.push(i),a<r.length-1&&e.push(t.cloneElement(n,{key:"separator-".concat(a)})),e}),[])}var Ua=function(e){var t=e.ownerState,n=e.theme,r=u({display:"flex",flexDirection:"column"},ht({theme:n},mt({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var i=At(n),a=Object.keys(n.breakpoints.values).reduce((function(e,n){return("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e}),{}),o=mt({values:t.direction,base:a}),l=mt({values:t.spacing,base:a});"object"===typeof o&&Object.keys(o).forEach((function(e,t,n){if(!o[e]){var r=t>0?o[n[t-1]]:"column";o[e]=r}}));r=st(r,ht({theme:n},l,(function(e,n){return t.useFlexGap?{gap:Pt(i,e)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":s({},"margin".concat((r=n?o[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),Pt(i,e))};var r})))}return r=function(e){for(var t=pt(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=[t].concat(r).reduce((function(e,t){return st(e,t)}),{});return vt(Object.keys(t),a)}(n.breakpoints,r),r};var Fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.createStyledComponent,r=void 0===n?La:n,i=e.useThemeProps,a=void 0===i?Na:i,o=e.componentName,s=void 0===o?"MuiStack":o,c=r(Ua),h=t.forwardRef((function(e,t){var n=Qi(a(e)),r=n.component,i=void 0===r?"div":r,o=n.direction,h=void 0===o?"column":o,p=n.spacing,v=void 0===p?0:p,m=n.divider,g=n.children,y=n.className,b=n.useFlexGap,x=void 0!==b&&b,w=l(n,Ia),S={direction:h,spacing:v,useFlexGap:x},_=f({root:["root"]},(function(e){return vr(s,e)}),{});return(0,yr.jsx)(c,u({as:i,ownerState:S,ref:t,className:d(_.root,y)},w,{children:m?Da(g,m):g}))}));return h}({createStyledComponent:rr("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return t.root}}),useThemeProps:function(e){return ur({props:e,name:"MuiStack"})}}),za=Fa;function Ba(e){return vr("MuiLinearProgress",e)}mr("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var ja,Ha,Ga,Va,Wa,qa,Xa,Ya,Ka,Za,Qa,$a,Ja=["className","color","value","valueBuffer","variant"],eo=$r(Xa||(Xa=ja||(ja=zr(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),to=$r(Ya||(Ya=Ha||(Ha=zr(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),no=$r(Ka||(Ka=Ga||(Ga=zr(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),ro=function(e,t){return"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?x(e.palette[t].main,.62):b(e.palette[t].main,.5)},io=rr("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["color".concat(cr(n.color))],t[n.variant]]}})((function(e){var t=e.ownerState,n=e.theme;return u({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:ro(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})})),ao=rr("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:function(e,t){var n=e.ownerState;return[t.dashed,t["dashedColor".concat(cr(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme,r=ro(n,t.color);return u({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),Qr(Za||(Za=Va||(Va=zr(["\n    animation: "," 3s infinite linear;\n  "]))),no)),oo=rr("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:function(e,t){var n=e.ownerState;return[t.bar,t["barColor".concat(cr(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((function(e){var t=e.ownerState,n=e.theme;return u({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===t.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})}),(function(e){var t=e.ownerState;return("indeterminate"===t.variant||"query"===t.variant)&&Qr(Qa||(Qa=Wa||(Wa=zr(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),eo)})),so=rr("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:function(e,t){var n=e.ownerState;return[t.bar,t["barColor".concat(cr(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((function(e){var t=e.ownerState,n=e.theme;return u({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:ro(n,t.color),transition:"transform .".concat(4,"s linear")})}),(function(e){var t=e.ownerState;return("indeterminate"===t.variant||"query"===t.variant)&&Qr($a||($a=qa||(qa=zr(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),to)})),lo=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiLinearProgress"}),r=n.className,i=n.color,a=void 0===i?"primary":i,o=n.value,s=n.valueBuffer,c=n.variant,h=void 0===c?"indeterminate":c,p=l(n,Ja),v=u({},n,{color:a,variant:h}),m=function(e){var t=e.classes,n=e.variant,r=e.color;return f({root:["root","color".concat(cr(r)),n],dashed:["dashed","dashedColor".concat(cr(r))],bar1:["bar","barColor".concat(cr(r)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&"barColor".concat(cr(r)),"buffer"===n&&"color".concat(cr(r)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]},Ba,t)}(v),g=Ra(),y={},b={bar1:{},bar2:{}};if("determinate"===h||"buffer"===h)if(void 0!==o){y["aria-valuenow"]=Math.round(o),y["aria-valuemin"]=0,y["aria-valuemax"]=100;var x=o-100;"rtl"===g.direction&&(x=-x),b.bar1.transform="translateX(".concat(x,"%)")}else 0;if("buffer"===h)if(void 0!==s){var w=(s||0)-100;"rtl"===g.direction&&(w=-w),b.bar2.transform="translateX(".concat(w,"%)")}else 0;return(0,yr.jsxs)(io,u({className:d(m.root,r),ownerState:v,role:"progressbar"},y,{ref:t},p,{children:["buffer"===h?(0,yr.jsx)(ao,{className:m.dashed,ownerState:v}):null,(0,yr.jsx)(oo,{className:m.bar1,ownerState:v,style:b.bar1}),"determinate"===h?null:(0,yr.jsx)(so,{className:m.bar2,ownerState:v,style:b.bar2})]}))})),uo=lo;function co(e){return vr("MuiCard",e)}mr("MuiCard",["root"]);var fo=["className","raised"],ho=rr(wr,{name:"MuiCard",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{overflow:"hidden"}})),po=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiCard"}),r=n.className,i=n.raised,a=void 0!==i&&i,o=l(n,fo),s=u({},n,{raised:a}),c=function(e){return f({root:["root"]},co,e.classes)}(s);return(0,yr.jsx)(ho,u({className:d(c.root,r),elevation:a?8:void 0,ref:t,ownerState:s},o))}));function vo(e){return vr("MuiCardHeader",e)}var mo=mr("MuiCardHeader",["root","avatar","action","content","title","subheader"]),go=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],yo=rr("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:function(e,t){var n;return u((s(n={},"& .".concat(mo.title),t.title),s(n,"& .".concat(mo.subheader),t.subheader),n),t.root)}})({display:"flex",alignItems:"center",padding:16}),bo=rr("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:function(e,t){return t.avatar}})({display:"flex",flex:"0 0 auto",marginRight:16}),xo=rr("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:function(e,t){return t.action}})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),wo=rr("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:function(e,t){return t.content}})({flex:"1 1 auto"}),So=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiCardHeader"}),r=n.action,i=n.avatar,a=n.className,o=n.component,s=void 0===o?"div":o,c=n.disableTypography,h=void 0!==c&&c,p=n.subheader,v=n.subheaderTypographyProps,m=n.title,g=n.titleTypographyProps,y=l(n,go),b=u({},n,{component:s,disableTypography:h}),x=function(e){return f({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},vo,e.classes)}(b),w=m;null==w||w.type===ia||h||(w=(0,yr.jsx)(ia,u({variant:i?"body2":"h5",className:x.title,component:"span",display:"block"},g,{children:w})));var S=p;return null==S||S.type===ia||h||(S=(0,yr.jsx)(ia,u({variant:i?"body2":"body1",className:x.subheader,color:"text.secondary",component:"span",display:"block"},v,{children:S}))),(0,yr.jsxs)(yo,u({className:d(x.root,a),as:s,ref:t,ownerState:b},y,{children:[i&&(0,yr.jsx)(bo,{className:x.avatar,ownerState:b,children:i}),(0,yr.jsxs)(wo,{className:x.content,ownerState:b,children:[w,S]}),r&&(0,yr.jsx)(xo,{className:x.action,ownerState:b,children:r})]}))})),_o=Ni((0,yr.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function ko(e){return vr("MuiAvatar",e)}mr("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var Eo=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],Co=rr("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return u({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&u({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),Mo=rr("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),To=rr(_o,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var Ro=t.forwardRef((function(e,n){var r=ur({props:e,name:"MuiAvatar"}),i=r.alt,a=r.children,o=r.className,s=r.component,c=void 0===s?"div":s,h=r.imgProps,p=r.sizes,v=r.src,m=r.srcSet,g=r.variant,y=void 0===g?"circular":g,b=l(r,Eo),x=null,w=function(e){var n=e.crossOrigin,r=e.referrerPolicy,i=e.src,a=e.srcSet,o=M(t.useState(!1),2),s=o[0],l=o[1];return t.useEffect((function(){if(i||a){l(!1);var e=!0,t=new Image;return t.onload=function(){e&&l("loaded")},t.onerror=function(){e&&l("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=i,a&&(t.srcset=a),function(){e=!1}}}),[n,r,i,a]),s}(u({},h,{src:v,srcSet:m})),S=v||m,_=S&&"error"!==w,k=u({},r,{colorDefault:!_,component:c,variant:y}),E=function(e){var t=e.classes;return f({root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]},ko,t)}(k);return x=_?(0,yr.jsx)(Mo,u({alt:i,srcSet:m,src:v,sizes:p,ownerState:k,className:E.img},h)):null!=a?a:S&&i?i[0]:(0,yr.jsx)(To,{ownerState:k,className:E.fallback}),(0,yr.jsx)(Co,u({as:c,ownerState:k,className:d(E.root,o),ref:n},b,{children:x}))})),Ao=Ro;function Po(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Io(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Po(e.value)&&""!==e.value||t&&Po(e.defaultValue)&&""!==e.defaultValue)}var Oo=function(e,n){return t.isValidElement(e)&&-1!==n.indexOf(e.type.muiName)};var Lo=t.createContext(void 0);function No(e){return vr("MuiFormControl",e)}mr("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var Do=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Uo=rr("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return u({},t.root,t["margin".concat(cr(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return u({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),Fo=t.forwardRef((function(e,n){var r=ur({props:e,name:"MuiFormControl"}),i=r.children,a=r.className,o=r.color,s=void 0===o?"primary":o,c=r.component,h=void 0===c?"div":c,p=r.disabled,v=void 0!==p&&p,m=r.error,g=void 0!==m&&m,y=r.focused,b=r.fullWidth,x=void 0!==b&&b,w=r.hiddenLabel,S=void 0!==w&&w,_=r.margin,k=void 0===_?"none":_,E=r.required,C=void 0!==E&&E,T=r.size,R=void 0===T?"medium":T,A=r.variant,P=void 0===A?"outlined":A,I=l(r,Do),O=u({},r,{color:s,component:h,disabled:v,error:g,fullWidth:x,hiddenLabel:S,margin:k,required:C,size:R,variant:P}),L=function(e){var t=e.classes,n=e.margin,r=e.fullWidth;return f({root:["root","none"!==n&&"margin".concat(cr(n)),r&&"fullWidth"]},No,t)}(O),N=M(t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){if(Oo(t,["Input","Select"])){var n=Oo(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),2),D=N[0],U=N[1],F=M(t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){Oo(t,["Input","Select"])&&(Io(t.props,!0)||Io(t.props.inputProps,!0))&&(e=!0)})),e})),2),z=F[0],B=F[1],j=M(t.useState(!1),2),H=j[0],G=j[1];v&&H&&G(!1);var V,W=void 0===y||v?H:y,q=t.useMemo((function(){return{adornedStart:D,setAdornedStart:U,color:s,disabled:v,error:g,filled:z,focused:W,fullWidth:x,hiddenLabel:S,size:R,onBlur:function(){G(!1)},onEmpty:function(){B(!1)},onFilled:function(){B(!0)},onFocus:function(){G(!0)},registerEffect:V,required:C,variant:P}}),[D,s,v,g,z,W,x,S,V,C,R,P]);return(0,yr.jsx)(Lo.Provider,{value:q,children:(0,yr.jsx)(Uo,u({as:h,ownerState:O,className:d(L.root,a),ref:n},I,{children:i}))})})),zo=Fo;function Bo(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}function jo(){return t.useContext(Lo)}function Ho(e){return vr("MuiFormLabel",e)}var Go=mr("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Vo=["children","className","color","component","disabled","error","filled","focused","required"],Wo=rr("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return u({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return u({color:(n.vars||n).palette.text.secondary},n.typography.body1,(s(t={lineHeight:"1.4375em",padding:0,position:"relative"},"&.".concat(Go.focused),{color:(n.vars||n).palette[r.color].main}),s(t,"&.".concat(Go.disabled),{color:(n.vars||n).palette.text.disabled}),s(t,"&.".concat(Go.error),{color:(n.vars||n).palette.error.main}),t))})),qo=rr("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return s({},"&.".concat(Go.error),{color:(t.vars||t).palette.error.main})})),Xo=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"label":a,s=l(n,Vo),c=Bo({props:n,muiFormControl:jo(),states:["color","required","focused","disabled","error","filled"]}),h=u({},n,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),p=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,s=e.required;return f({root:["root","color".concat(cr(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",a&&"error"]},Ho,t)}(h);return(0,yr.jsxs)(Wo,u({as:o,ownerState:h,className:d(p.root,i),ref:t},s,{children:[r,c.required&&(0,yr.jsxs)(qo,{ownerState:h,"aria-hidden":!0,className:p.asterisk,children:["\u2009","*"]})]}))})),Yo=Xo;function Ko(e){return vr("MuiInputLabel",e)}mr("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var Zo=["disableAnimation","margin","shrink","variant","className"],Qo=rr(Yo,{shouldForwardProp:function(e){return tr(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[s({},"& .".concat(Go.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return u({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&u({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&u({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&u({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),$o=t.forwardRef((function(e,t){var n=ur({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,a=n.shrink,o=n.className,s=l(n,Zo),c=jo(),h=a;"undefined"===typeof h&&c&&(h=c.filled||c.focused||c.adornedStart);var p=Bo({props:n,muiFormControl:c,states:["size","variant","required"]}),v=u({},n,{disableAnimation:i,formControl:c,shrink:h,size:p.size,variant:p.variant,required:p.required}),m=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink,a=e.disableAnimation,o=e.variant,s=e.required;return u({},t,f({root:["root",n&&"formControl",!a&&"animated",i&&"shrink",r&&"normal"!==r&&"size".concat(cr(r)),o],asterisk:[s&&"asterisk"]},Ko,t))}(v);return(0,yr.jsx)(Qo,u({"data-shrink":h,ownerState:v,ref:t,className:d(m.root,o)},s,{classes:m}))})),Jo=$o;n(7441);function es(e){return e&&e.ownerDocument||document}var ts=es;function ns(e){return"string"===typeof e}function rs(e,t,n){return void 0===e||ns(e)?t:u({},t,{ownerState:u({},t.ownerState,n)})}function is(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var n={};return Object.keys(e).filter((function(n){return n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)})).forEach((function(t){n[t]=e[t]})),n}function as(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])})).forEach((function(n){t[n]=e[n]})),t}var os=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function ss(e){var t,n=e.elementType,r=e.externalSlotProps,i=e.ownerState,a=e.skipResolvingSlotProps,o=void 0!==a&&a,s=l(e,os),c=o?{}:function(e,t,n){return"function"===typeof e?e(t,n):e}(r,i),f=function(e){var t=e.getSlotProps,n=e.additionalProps,r=e.externalSlotProps,i=e.externalForwardedProps,a=e.className;if(!t){var o=d(null==i?void 0:i.className,null==r?void 0:r.className,a,null==n?void 0:n.className),s=u({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),l=u({},n,i,r);return o.length>0&&(l.className=o),Object.keys(s).length>0&&(l.style=s),{props:l,internalRef:void 0}}var c=is(u({},i,r)),f=as(r),h=as(i),p=t(c),v=d(null==p?void 0:p.className,null==n?void 0:n.className,a,null==i?void 0:i.className,null==r?void 0:r.className),m=u({},null==p?void 0:p.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),g=u({},p,n,h,f);return v.length>0&&(g.className=v),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:p.ref}}(u({},s,{externalSlotProps:c}));return rs(n,u({},f.props,{ref:Er(f.internalRef,null==c?void 0:c.ref,null==(t=e.additionalProps)?void 0:t.ref)}),i)}var ls=t.createContext({});function us(e){return vr("MuiList",e)}mr("MuiList",["root","padding","dense","subheader"]);var cs=["children","className","component","dense","disablePadding","subheader"],ds=rr("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return u({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),fs=t.forwardRef((function(e,n){var r=ur({props:e,name:"MuiList"}),i=r.children,a=r.className,o=r.component,s=void 0===o?"ul":o,c=r.dense,h=void 0!==c&&c,p=r.disablePadding,v=void 0!==p&&p,m=r.subheader,g=l(r,cs),y=t.useMemo((function(){return{dense:h}}),[h]),b=u({},r,{component:s,dense:h,disablePadding:v}),x=function(e){var t=e.classes;return f({root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]},us,t)}(b);return(0,yr.jsx)(ls.Provider,{value:y,children:(0,yr.jsxs)(ds,u({as:s,className:d(x.root,a),ref:n,ownerState:b},g,{children:[m,i]}))})})),hs=fs;function ps(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}var vs=ps,ms=Mr,gs=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function ys(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function bs(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function xs(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function ws(e,t,n,r,i,a){for(var o=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(o)return!1;o=!0}var l=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&xs(s,a)&&!l)return s.focus(),!0;s=i(e,s,n)}return!1}var Ss=t.forwardRef((function(e,n){var r=e.actions,i=e.autoFocus,a=void 0!==i&&i,o=e.autoFocusItem,s=void 0!==o&&o,c=e.children,d=e.className,f=e.disabledItemsFocusable,h=void 0!==f&&f,p=e.disableListWrap,v=void 0!==p&&p,m=e.onKeyDown,g=e.variant,y=void 0===g?"selectedMenu":g,b=l(e,gs),x=t.useRef(null),w=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ms((function(){a&&x.current.focus()}),[a]),t.useImperativeHandle(r,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!x.current.style.width;if(e.clientHeight<x.current.clientHeight&&n){var r="".concat(vs(ts(e)),"px");x.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,x.current.style.width="calc(100% + ".concat(r,")")}return x.current}}}),[]);var S=Cr(x,n),_=-1;t.Children.forEach(c,(function(e,n){t.isValidElement(e)?(e.props.disabled||("selectedMenu"===y&&e.props.selected||-1===_)&&(_=n),_===n&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(_+=1)>=c.length&&(_=-1)):_===n&&(_+=1)>=c.length&&(_=-1)}));var k=t.Children.map(c,(function(e,n){if(n===_){var r={};return s&&(r.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===y&&(r.tabIndex=0),t.cloneElement(e,r)}return e}));return(0,yr.jsx)(hs,u({role:"menu",ref:S,className:d,onKeyDown:function(e){var t=x.current,n=e.key,r=ts(t).activeElement;if("ArrowDown"===n)e.preventDefault(),ws(t,r,v,h,ys);else if("ArrowUp"===n)e.preventDefault(),ws(t,r,v,h,bs);else if("Home"===n)e.preventDefault(),ws(t,null,v,h,ys);else if("End"===n)e.preventDefault(),ws(t,null,v,h,bs);else if(1===n.length){var i=w.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var s=r&&!i.repeating&&xs(r,i);i.previousKeyMatched&&(s||ws(t,r,!1,h,ys,i))?e.preventDefault():i.previousKeyMatched=!1}m&&m(e)},tabIndex:a?0:-1},b,{children:k}))})),_s=Ss;function ks(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,a)}),n)}return r.clear=function(){clearTimeout(t)},r}var Es=ks;function Cs(e){return es(e).defaultView||window}var Ms=Cs,Ts=n(4164),Rs=!1,As="unmounted",Ps="exited",Is="entering",Os="entered",Ls="exiting",Ns=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Ps,r.appearStatus=Is):i=Os:i=t.unmountOnExit||t.mountOnEnter?As:Ps,r.state={status:i},r.nextCallback=null,r}Hr(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===As?{status:Ps}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Is&&n!==Os&&(t=Is):n!==Is&&n!==Os||(t=Ls)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Is){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Ts.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ps&&this.setState({status:As})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Ts.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||Rs?this.safeSetState({status:Os},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Is},(function(){t.props.onEntering(a,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:Os},(function(){t.props.onEntered(a,o)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Ts.findDOMNode(this);t&&!Rs?(this.props.onExit(r),this.safeSetState({status:Ls},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ps},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Ps},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Ts.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===As)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,l(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Gr.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function Ds(){}Ns.contextType=Gr,Ns.propTypes={},Ns.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ds,onEntering:Ds,onEntered:Ds,onExit:Ds,onExiting:Ds,onExited:Ds},Ns.UNMOUNTED=As,Ns.EXITED=Ps,Ns.ENTERING=Is,Ns.ENTERED=Os,Ns.EXITING=Ls;var Us=Ns,Fs=function(e){return e.scrollTop};function zs(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,s=void 0===o?{}:o;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:s.transitionDelay}}var Bs=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function js(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var Hs={entering:{opacity:1,transform:js(1)},entered:{opacity:1,transform:"none"}},Gs="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Vs=t.forwardRef((function(e,n){var r=e.addEndListener,i=e.appear,a=void 0===i||i,o=e.children,s=e.easing,c=e.in,d=e.onEnter,f=e.onEntered,h=e.onEntering,p=e.onExit,v=e.onExited,m=e.onExiting,g=e.style,y=e.timeout,b=void 0===y?"auto":y,x=e.TransitionComponent,w=void 0===x?Us:x,S=l(e,Bs),_=t.useRef(),k=t.useRef(),E=Ra(),C=t.useRef(null),M=Cr(C,o.ref,n),T=function(e){return function(t){if(e){var n=C.current;void 0===t?e(n):e(n,t)}}},R=T(h),A=T((function(e,t){Fs(e);var n,r=zs({style:g,timeout:b,easing:s},{mode:"enter"}),i=r.duration,a=r.delay,o=r.easing;"auto"===b?(n=E.transitions.getAutoHeightDuration(e.clientHeight),k.current=n):n=i,e.style.transition=[E.transitions.create("opacity",{duration:n,delay:a}),E.transitions.create("transform",{duration:Gs?n:.666*n,delay:a,easing:o})].join(","),d&&d(e,t)})),P=T(f),I=T(m),O=T((function(e){var t,n=zs({style:g,timeout:b,easing:s},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===b?(t=E.transitions.getAutoHeightDuration(e.clientHeight),k.current=t):t=r,e.style.transition=[E.transitions.create("opacity",{duration:t,delay:i}),E.transitions.create("transform",{duration:Gs?t:.666*t,delay:Gs?i:i||.333*t,easing:a})].join(","),e.style.opacity=0,e.style.transform=js(.75),p&&p(e)})),L=T(v);return t.useEffect((function(){return function(){clearTimeout(_.current)}}),[]),(0,yr.jsx)(w,u({appear:a,in:c,nodeRef:C,onEnter:A,onEntered:P,onEntering:R,onExit:O,onExited:L,onExiting:I,addEndListener:function(e){"auto"===b&&(_.current=setTimeout(e,k.current||0)),r&&r(C.current,e)},timeout:"auto"===b?null:b},S,{children:function(e,n){return t.cloneElement(o,u({style:u({opacity:0,transform:js(.75),visibility:"exited"!==e||c?void 0:"hidden"},Hs[e],g,o.props.style),ref:M},n))}}))}));Vs.muiSupportAuto=!0;var Ws=Vs;function qs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}function Xs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ys(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function Ks(e,t,n){return t&&Ys(e.prototype,t),n&&Ys(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zs(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Qs(e){return parseInt(Cs(e).getComputedStyle(e).paddingRight,10)||0}function $s(e,t,n,r,i){var a=[t,n].concat(k(r));[].forEach.call(e.children,(function(e){var t=-1===a.indexOf(e),n=!function(e){var t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&Zs(e,i)}))}function Js(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function el(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=es(e);return t.body===e?Cs(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=ps(es(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(Qs(r)+i,"px");var a=es(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(Qs(e)+i,"px")}))}var o;if(r.parentNode instanceof DocumentFragment)o=es(r).body;else{var s=r.parentElement,l=Cs(r);o="HTML"===(null==s?void 0:s.nodeName)&&"scroll"===l.getComputedStyle(s).overflowY?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var tl=function(){function e(){Xs(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return Ks(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Zs(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);$s(t,e.mount,e.modalRef,r,!0);var i=Js(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=Js(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=el(r,t))}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(e);if(-1===n)return n;var r=Js(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&Zs(e.modalRef,t),$s(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{var a=i.modals[i.modals.length-1];a.modalRef&&Zs(a.modalRef,!1)}return n}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var nl=new tl;function rl(e){var n=e.container,r=e.disableEscapeKeyDown,i=void 0!==r&&r,a=e.disableScrollLock,o=void 0!==a&&a,s=e.manager,l=void 0===s?nl:s,c=e.closeAfterTransition,d=void 0!==c&&c,f=e.onTransitionEnter,h=e.onTransitionExited,p=e.children,v=e.onClose,m=e.open,g=e.rootRef,y=t.useRef({}),b=t.useRef(null),x=t.useRef(null),w=Er(x,g),S=M(t.useState(!m),2),_=S[0],k=S[1],E=function(e){return!!e&&e.props.hasOwnProperty("in")}(p),C=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(C=!1);var T=function(){return y.current.modalRef=x.current,y.current.mount=b.current,y.current},R=function(){l.mount(T(),{disableScrollLock:o}),x.current&&(x.current.scrollTop=0)},A=Rr((function(){var e=function(e){return"function"===typeof e?e():e}(n)||es(b.current).body;l.add(T(),e),x.current&&R()})),P=t.useCallback((function(){return l.isTopModal(T())}),[l]),I=Rr((function(e){b.current=e,e&&(m&&P()?R():x.current&&Zs(x.current,C))})),O=t.useCallback((function(){l.remove(T(),C)}),[C,l]);t.useEffect((function(){return function(){O()}}),[O]),t.useEffect((function(){m?A():E&&d||O()}),[m,O,E,d,A]);var L=function(e){return function(t){var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&P()&&(i||(t.stopPropagation(),v&&v(t,"escapeKeyDown")))}},N=function(e){return function(t){var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&v&&v(t,"backdropClick")}};return{getRootProps:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=is(e);delete n.onTransitionEnter,delete n.onTransitionExited;var r=u({},n,t);return u({role:"presentation"},r,{onKeyDown:L(r),ref:w})},getBackdropProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u({"aria-hidden":!0},e,{onClick:N(e),open:m})},getTransitionProps:function(){return{onEnter:qs((function(){k(!1),f&&f()}),null==p?void 0:p.props.onEnter),onExited:qs((function(){k(!0),h&&h(),d&&O()}),null==p?void 0:p.props.onExited)}},rootRef:w,portalRef:I,isTopModal:P,exited:_,hasTransition:E}}var il=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function al(e){var t=[],n=[];return Array.from(e.querySelectorAll(il)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function ol(){return!0}function sl(e){var n=e.children,r=e.disableAutoFocus,i=void 0!==r&&r,a=e.disableEnforceFocus,o=void 0!==a&&a,s=e.disableRestoreFocus,l=void 0!==s&&s,u=e.getTabbable,c=void 0===u?al:u,d=e.isEnabled,f=void 0===d?ol:d,h=e.open,p=t.useRef(!1),v=t.useRef(null),m=t.useRef(null),g=t.useRef(null),y=t.useRef(null),b=t.useRef(!1),x=t.useRef(null),w=Er(n.ref,x),S=t.useRef(null);t.useEffect((function(){h&&x.current&&(b.current=!i)}),[i,h]),t.useEffect((function(){if(h&&x.current){var e=es(x.current);return x.current.contains(e.activeElement)||(x.current.hasAttribute("tabIndex")||x.current.setAttribute("tabIndex","-1"),b.current&&x.current.focus()),function(){l||(g.current&&g.current.focus&&(p.current=!0,g.current.focus()),g.current=null)}}}),[h]),t.useEffect((function(){if(h&&x.current){var e=es(x.current),t=function(t){S.current=t,!o&&f()&&"Tab"===t.key&&e.activeElement===x.current&&t.shiftKey&&(p.current=!0,m.current&&m.current.focus())},n=function(){var t=x.current;if(null!==t)if(e.hasFocus()&&f()&&!p.current){if(!t.contains(e.activeElement)&&(!o||e.activeElement===v.current||e.activeElement===m.current)){if(e.activeElement!==y.current)y.current=null;else if(null!==y.current)return;if(b.current){var n=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(n=c(x.current)),n.length>0){var r,i,a=Boolean((null==(r=S.current)?void 0:r.shiftKey)&&"Tab"===(null==(i=S.current)?void 0:i.key)),s=n[0],l=n[n.length-1];"string"!==typeof s&&"string"!==typeof l&&(a?l.focus():s.focus())}else t.focus()}}}else p.current=!1};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);var r=setInterval((function(){e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}}),[i,o,l,f,h,c]);var _=function(e){null===g.current&&(g.current=e.relatedTarget),b.current=!0};return(0,yr.jsxs)(t.Fragment,{children:[(0,yr.jsx)("div",{tabIndex:h?0:-1,onFocus:_,ref:v,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:w,onFocus:function(e){null===g.current&&(g.current=e.relatedTarget),b.current=!0,y.current=e.target;var t=n.props.onFocus;t&&t(e)}}),(0,yr.jsx)("div",{tabIndex:h?0:-1,onFocus:_,ref:m,"data-testid":"sentinelEnd"})]})}var ll=t.forwardRef((function(e,n){var r=e.children,i=e.container,a=e.disablePortal,o=void 0!==a&&a,s=M(t.useState(null),2),l=s[0],u=s[1],c=Er(t.isValidElement(r)?r.ref:null,n);if(Mr((function(){o||u(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),Mr((function(){if(l&&!o)return kr(n,l),function(){kr(n,null)}}),[n,l,o]),o){if(t.isValidElement(r)){var d={ref:c};return t.cloneElement(r,d)}return(0,yr.jsx)(t.Fragment,{children:r})}return(0,yr.jsx)(t.Fragment,{children:l?Ts.createPortal(r,l):l})}));var ul=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],cl={entering:{opacity:1},entered:{opacity:1}},dl=t.forwardRef((function(e,n){var r=Ra(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},a=e.addEndListener,o=e.appear,s=void 0===o||o,c=e.children,d=e.easing,f=e.in,h=e.onEnter,p=e.onEntered,v=e.onEntering,m=e.onExit,g=e.onExited,y=e.onExiting,b=e.style,x=e.timeout,w=void 0===x?i:x,S=e.TransitionComponent,_=void 0===S?Us:S,k=l(e,ul),E=t.useRef(null),C=Cr(E,c.ref,n),M=function(e){return function(t){if(e){var n=E.current;void 0===t?e(n):e(n,t)}}},T=M(v),R=M((function(e,t){Fs(e);var n=zs({style:b,timeout:w,easing:d},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),h&&h(e,t)})),A=M(p),P=M(y),I=M((function(e){var t=zs({style:b,timeout:w,easing:d},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)})),O=M(g);return(0,yr.jsx)(_,u({appear:s,in:f,nodeRef:E,onEnter:R,onEntered:A,onEntering:T,onExit:I,onExited:O,onExiting:P,addEndListener:function(e){a&&a(E.current,e)},timeout:w},k,{children:function(e,n){return t.cloneElement(c,u({style:u({opacity:0,visibility:"exited"!==e||f?void 0:"hidden"},cl[e],b,c.props.style),ref:C},n))}}))})),fl=dl;function hl(e){return vr("MuiBackdrop",e)}mr("MuiBackdrop",["root","invisible"]);var pl=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],vl=rr("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return u({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),ml=t.forwardRef((function(e,t){var n,r,i,a=ur({props:e,name:"MuiBackdrop"}),o=a.children,s=a.className,c=a.component,h=void 0===c?"div":c,p=a.components,v=void 0===p?{}:p,m=a.componentsProps,g=void 0===m?{}:m,y=a.invisible,b=void 0!==y&&y,x=a.open,w=a.slotProps,S=void 0===w?{}:w,_=a.slots,k=void 0===_?{}:_,E=a.TransitionComponent,C=void 0===E?fl:E,M=a.transitionDuration,T=l(a,pl),R=u({},a,{component:h,invisible:b}),A=function(e){var t=e.classes;return f({root:["root",e.invisible&&"invisible"]},hl,t)}(R),P=null!=(n=S.root)?n:g.root;return(0,yr.jsx)(C,u({in:x,timeout:M},T,{children:(0,yr.jsx)(vl,u({"aria-hidden":!0},P,{as:null!=(r=null!=(i=k.root)?i:v.Root)?r:h,className:d(A.root,s,null==P?void 0:P.className),ownerState:u({},R,null==P?void 0:P.ownerState),classes:A,ref:t,children:o}))}))})),gl=ml;function yl(e){return vr("MuiModal",e)}mr("MuiModal",["root","hidden","backdrop"]);var bl=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],xl=rr("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return u({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),wl=rr(gl,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),Sl=t.forwardRef((function(e,n){var r,i,a,o,s,c,h=ur({name:"MuiModal",props:e}),p=h.BackdropComponent,v=void 0===p?wl:p,m=h.BackdropProps,g=h.className,y=h.closeAfterTransition,b=void 0!==y&&y,x=h.children,w=h.container,S=h.component,_=h.components,k=void 0===_?{}:_,E=h.componentsProps,C=void 0===E?{}:E,M=h.disableAutoFocus,T=void 0!==M&&M,R=h.disableEnforceFocus,A=void 0!==R&&R,P=h.disableEscapeKeyDown,I=void 0!==P&&P,O=h.disablePortal,L=void 0!==O&&O,N=h.disableRestoreFocus,D=void 0!==N&&N,U=h.disableScrollLock,F=void 0!==U&&U,z=h.hideBackdrop,B=void 0!==z&&z,j=h.keepMounted,H=void 0!==j&&j,G=h.onBackdropClick,V=h.open,W=h.slotProps,q=h.slots,X=l(h,bl),Y=u({},h,{closeAfterTransition:b,disableAutoFocus:T,disableEnforceFocus:A,disableEscapeKeyDown:I,disablePortal:L,disableRestoreFocus:D,disableScrollLock:F,hideBackdrop:B,keepMounted:H}),K=rl(u({},Y,{rootRef:n})),Z=K.getRootProps,Q=K.getBackdropProps,$=K.getTransitionProps,J=K.portalRef,ee=K.isTopModal,te=K.exited,ne=K.hasTransition,re=u({},Y,{exited:te}),ie=function(e){var t=e.open,n=e.exited;return f({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},yl,e.classes)}(re),ae={};if(void 0===x.props.tabIndex&&(ae.tabIndex="-1"),ne){var oe=$(),se=oe.onEnter,le=oe.onExited;ae.onEnter=se,ae.onExited=le}var ue=null!=(r=null!=(i=null==q?void 0:q.root)?i:k.Root)?r:xl,ce=null!=(a=null!=(o=null==q?void 0:q.backdrop)?o:k.Backdrop)?a:v,de=null!=(s=null==W?void 0:W.root)?s:C.root,fe=null!=(c=null==W?void 0:W.backdrop)?c:C.backdrop,he=ss({elementType:ue,externalSlotProps:de,externalForwardedProps:X,getSlotProps:Z,additionalProps:{ref:n,as:S},ownerState:re,className:d(g,null==de?void 0:de.className,null==ie?void 0:ie.root,!re.open&&re.exited&&(null==ie?void 0:ie.hidden))}),pe=ss({elementType:ce,externalSlotProps:fe,additionalProps:m,getSlotProps:function(e){return Q(u({},e,{onClick:function(t){G&&G(t),null!=e&&e.onClick&&e.onClick(t)}}))},className:d(null==fe?void 0:fe.className,null==m?void 0:m.className,null==ie?void 0:ie.backdrop),ownerState:re});return H||V||ne&&!te?(0,yr.jsx)(ll,{ref:J,container:w,disablePortal:L,children:(0,yr.jsxs)(ue,u({},he,{children:[!B&&v?(0,yr.jsx)(ce,u({},pe)):null,(0,yr.jsx)(sl,{disableEnforceFocus:A,disableAutoFocus:T,disableRestoreFocus:D,isEnabled:ee,open:V,children:t.cloneElement(x,ae)})]}))}):null})),_l=Sl;function kl(e){return vr("MuiPopover",e)}mr("MuiPopover",["root","paper"]);var El=["onEntering"],Cl=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Ml=["slotProps"];function Tl(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Rl(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Al(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function Pl(e){return"function"===typeof e?e():e}var Il=rr(_l,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Ol=rr(wr,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ll=t.forwardRef((function(e,n){var r,i,a,o=ur({props:e,name:"MuiPopover"}),s=o.action,c=o.anchorEl,h=o.anchorOrigin,p=void 0===h?{vertical:"top",horizontal:"left"}:h,v=o.anchorPosition,m=o.anchorReference,g=void 0===m?"anchorEl":m,y=o.children,b=o.className,x=o.container,w=o.elevation,S=void 0===w?8:w,_=o.marginThreshold,k=void 0===_?16:_,E=o.open,C=o.PaperProps,T=void 0===C?{}:C,R=o.slots,A=o.slotProps,P=o.transformOrigin,I=void 0===P?{vertical:"top",horizontal:"left"}:P,O=o.TransitionComponent,L=void 0===O?Ws:O,N=o.transitionDuration,D=void 0===N?"auto":N,U=o.TransitionProps,F=(void 0===U?{}:U).onEntering,z=o.disableScrollLock,B=void 0!==z&&z,j=l(o.TransitionProps,El),H=l(o,Cl),G=null!=(r=null==A?void 0:A.paper)?r:T,V=t.useRef(),W=Cr(V,G.ref),q=u({},o,{anchorOrigin:p,anchorReference:g,elevation:S,marginThreshold:k,externalPaperSlotProps:G,transformOrigin:I,TransitionComponent:L,transitionDuration:D,TransitionProps:j}),X=function(e){return f({root:["root"],paper:["paper"]},kl,e.classes)}(q),Y=t.useCallback((function(){if("anchorPosition"===g)return v;var e=Pl(c),t=(e&&1===e.nodeType?e:ts(V.current).body).getBoundingClientRect();return{top:t.top+Tl(t,p.vertical),left:t.left+Rl(t,p.horizontal)}}),[c,p.horizontal,p.vertical,v,g]),K=t.useCallback((function(e){return{vertical:Tl(e,I.vertical),horizontal:Rl(e,I.horizontal)}}),[I.horizontal,I.vertical]),Z=t.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=K(t);if("none"===g)return{top:null,left:null,transformOrigin:Al(n)};var r=Y(),i=r.top-n.vertical,a=r.left-n.horizontal,o=i+t.height,s=a+t.width,l=Ms(Pl(c)),u=l.innerHeight-k,d=l.innerWidth-k;if(null!==k&&i<k){var f=i-k;i-=f,n.vertical+=f}else if(null!==k&&o>u){var h=o-u;i-=h,n.vertical+=h}if(null!==k&&a<k){var p=a-k;a-=p,n.horizontal+=p}else if(s>d){var v=s-d;a-=v,n.horizontal+=v}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:Al(n)}}),[c,g,Y,K,k]),Q=M(t.useState(E),2),$=Q[0],J=Q[1],ee=t.useCallback((function(){var e=V.current;if(e){var t=Z(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,J(!0)}}),[Z]);t.useEffect((function(){return B&&window.addEventListener("scroll",ee),function(){return window.removeEventListener("scroll",ee)}}),[c,B,ee]);t.useEffect((function(){E&&ee()})),t.useImperativeHandle(s,(function(){return E?{updatePosition:function(){ee()}}:null}),[E,ee]),t.useEffect((function(){if(E){var e=Es((function(){ee()})),t=Ms(c);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[c,E,ee]);var te=D;"auto"!==D||L.muiSupportAuto||(te=void 0);var ne=x||(c?ts(Pl(c)).body:void 0),re=null!=(i=null==R?void 0:R.root)?i:Il,ie=null!=(a=null==R?void 0:R.paper)?a:Ol,ae=ss({elementType:ie,externalSlotProps:u({},G,{style:$?G.style:u({},G.style,{opacity:0})}),additionalProps:{elevation:S,ref:W},ownerState:q,className:d(X.paper,null==G?void 0:G.className)}),oe=ss({elementType:re,externalSlotProps:(null==A?void 0:A.root)||{},externalForwardedProps:H,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ne,open:E},ownerState:q,className:d(X.root,b)}),se=oe.slotProps,le=l(oe,Ml);return(0,yr.jsx)(re,u({},le,!ns(re)&&{slotProps:se,disableScrollLock:B},{children:(0,yr.jsx)(L,u({appear:!0,in:E,onEntering:function(e,t){F&&F(e,t),ee()},onExited:function(){J(!1)},timeout:te},j,{children:(0,yr.jsx)(ie,u({},ae,{children:y}))}))}))})),Nl=Ll;function Dl(e){return vr("MuiMenu",e)}mr("MuiMenu",["root","paper","list"]);var Ul=["onEntering"],Fl=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],zl={vertical:"top",horizontal:"right"},Bl={vertical:"top",horizontal:"left"},jl=rr(Nl,{shouldForwardProp:function(e){return tr(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Hl=rr(Ol,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Gl=rr(_s,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),Vl=t.forwardRef((function(e,n){var r,i,a=ur({props:e,name:"MuiMenu"}),o=a.autoFocus,s=void 0===o||o,c=a.children,h=a.className,p=a.disableAutoFocusItem,v=void 0!==p&&p,m=a.MenuListProps,g=void 0===m?{}:m,y=a.onClose,b=a.open,x=a.PaperProps,w=void 0===x?{}:x,S=a.PopoverClasses,_=a.transitionDuration,k=void 0===_?"auto":_,E=a.TransitionProps,C=(void 0===E?{}:E).onEntering,M=a.variant,T=void 0===M?"selectedMenu":M,R=a.slots,A=void 0===R?{}:R,P=a.slotProps,I=void 0===P?{}:P,O=l(a.TransitionProps,Ul),L=l(a,Fl),N=Ra(),D="rtl"===N.direction,U=u({},a,{autoFocus:s,disableAutoFocusItem:v,MenuListProps:g,onEntering:C,PaperProps:w,transitionDuration:k,TransitionProps:O,variant:T}),F=function(e){return f({root:["root"],paper:["paper"],list:["list"]},Dl,e.classes)}(U),z=s&&!v&&b,B=t.useRef(null),j=-1;t.Children.map(c,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===T&&e.props.selected||-1===j)&&(j=n))}));var H=null!=(r=A.paper)?r:Hl,G=null!=(i=I.paper)?i:w,V=ss({elementType:A.root,externalSlotProps:I.root,ownerState:U,className:[F.root,h]}),W=ss({elementType:H,externalSlotProps:G,ownerState:U,className:F.paper});return(0,yr.jsx)(jl,u({onClose:y,anchorOrigin:{vertical:"bottom",horizontal:D?"right":"left"},transformOrigin:D?zl:Bl,slots:{paper:H,root:A.root},slotProps:{root:V,paper:W},open:b,ref:n,transitionDuration:k,TransitionProps:u({onEntering:function(e,t){B.current&&B.current.adjustStyleForScrollbar(e,N),C&&C(e,t)}},O),ownerState:U},L,{classes:S,children:(0,yr.jsx)(Gl,u({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),y&&y(e,"tabKeyDown"))},actions:B,autoFocus:s&&(-1===j||v),autoFocusItem:z,variant:T},g,{className:d(F.list,g.className),children:c}))}))})),Wl=Vl;function ql(e){return vr("MuiNativeSelect",e)}var Xl=mr("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Yl=["className","disabled","error","IconComponent","inputRef","variant"],Kl=function(e){var t,n=e.ownerState,r=e.theme;return u((s(t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":u({},r.vars?{backgroundColor:"rgba(".concat(r.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"}},"&.".concat(Xl.disabled),{cursor:"default"}),s(t,"&[multiple]",{height:"auto"}),s(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:(r.vars||r).palette.background.paper}),s(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:(r.vars||r).shape.borderRadius,"&:focus":{borderRadius:(r.vars||r).shape.borderRadius},"&&&":{paddingRight:32}})},Zl=rr("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:tr,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],n.error&&t.error,s({},"&.".concat(Xl.multiple),t.multiple)]}})(Kl),Ql=function(e){var t=e.ownerState,n=e.theme;return u(s({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active},"&.".concat(Xl.disabled),{color:(n.vars||n).palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},$l=rr("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(cr(n.variant))],n.open&&t.iconOpen]}})(Ql),Jl=t.forwardRef((function(e,n){var r=e.className,i=e.disabled,a=e.error,o=e.IconComponent,s=e.inputRef,c=e.variant,h=void 0===c?"standard":c,p=l(e,Yl),v=u({},e,{disabled:i,variant:h,error:a}),m=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return f({select:["select",n,r&&"disabled",i&&"multiple",e.error&&"error"],icon:["icon","icon".concat(cr(n)),a&&"iconOpen",r&&"disabled"]},ql,t)}(v);return(0,yr.jsxs)(t.Fragment,{children:[(0,yr.jsx)(Zl,u({ownerState:v,className:d(m.select,r),disabled:i,ref:s||n},p)),e.multiple?null:(0,yr.jsx)($l,{as:o,ownerState:v,className:m.icon})]})})),eu=Jl;function tu(e){var n=e.controlled,r=e.default,i=(e.name,e.state,t.useRef(void 0!==n).current),a=M(t.useState(r),2),o=a[0],s=a[1];return[i?n:o,t.useCallback((function(e){i||s(e)}),[])]}var nu=tu;function ru(e){return vr("MuiSelect",e)}var iu,au=mr("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),ou=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],su=rr("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[s({},"&.".concat(au.select),t.select),s({},"&.".concat(au.select),t[n.variant]),s({},"&.".concat(au.error),t.error),s({},"&.".concat(au.multiple),t.multiple)]}})(Kl,s({},"&.".concat(au.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),lu=rr("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(cr(n.variant))],n.open&&t.iconOpen]}})(Ql),uu=rr("input",{shouldForwardProp:function(e){return nr(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function cu(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function du(e){return null==e||"string"===typeof e&&!e.trim()}var fu=t.forwardRef((function(e,n){var r,i=e["aria-describedby"],a=e["aria-label"],o=e.autoFocus,s=e.autoWidth,c=e.children,p=e.className,v=e.defaultOpen,m=e.defaultValue,g=e.disabled,y=e.displayEmpty,b=e.error,x=void 0!==b&&b,w=e.IconComponent,S=e.inputRef,_=e.labelId,k=e.MenuProps,E=void 0===k?{}:k,C=e.multiple,T=e.name,R=e.onBlur,A=e.onChange,P=e.onClose,I=e.onFocus,O=e.onOpen,L=e.open,N=e.readOnly,D=e.renderValue,U=e.SelectDisplayProps,F=void 0===U?{}:U,z=e.tabIndex,B=e.value,j=e.variant,H=void 0===j?"standard":j,G=l(e,ou),V=M(nu({controlled:B,default:m,name:"Select"}),2),W=V[0],q=V[1],X=M(nu({controlled:L,default:v,name:"Select"}),2),Y=X[0],K=X[1],Z=t.useRef(null),Q=t.useRef(null),$=M(t.useState(null),2),J=$[0],ee=$[1],te=t.useRef(null!=L).current,ne=M(t.useState(),2),re=ne[0],ie=ne[1],ae=Cr(n,S),oe=t.useCallback((function(e){Q.current=e,e&&ee(e)}),[]),se=null==J?void 0:J.parentNode;t.useImperativeHandle(ae,(function(){return{focus:function(){Q.current.focus()},node:Z.current,value:W}}),[W]),t.useEffect((function(){v&&Y&&J&&!te&&(ie(s?null:se.clientWidth),Q.current.focus())}),[J,s]),t.useEffect((function(){o&&Q.current.focus()}),[o]),t.useEffect((function(){if(_){var e=ts(Q.current).getElementById(_);if(e){var t=function(){getSelection().isCollapsed&&Q.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[_]);var le,ue,ce=function(e,t){e?O&&O(t):P&&P(t),te||(ie(s?null:se.clientWidth),K(e))},de=t.Children.toArray(c),fe=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(C){n=Array.isArray(W)?W.slice():[];var r=W.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),W!==n&&(q(n),A)){var i=t.nativeEvent||t,a=new i.constructor(i.type,i);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:T}}),A(a,e)}C||ce(!1,t)}}},he=null!==J&&Y;delete G["aria-invalid"];var pe=[],ve=!1;(Io({value:W})||y)&&(D?le=D(W):ve=!0);var me=de.map((function(e){if(!t.isValidElement(e))return null;var n;if(C){if(!Array.isArray(W))throw new Error(h(2));(n=W.some((function(t){return cu(t,e.props.value)})))&&ve&&pe.push(e.props.children)}else(n=cu(W,e.props.value))&&ve&&(ue=e.props.children);return n&&!0,t.cloneElement(e,{"aria-selected":n?"true":"false",onClick:fe(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})}));ve&&(le=C?0===pe.length?null:pe.reduce((function(e,t,n){return e.push(t),n<pe.length-1&&e.push(", "),e}),[]):ue);var ge,ye=re;!s&&te&&J&&(ye=se.clientWidth),ge="undefined"!==typeof z?z:g?null:0;var be=F.id||(T?"mui-component-select-".concat(T):void 0),xe=u({},e,{variant:H,value:W,open:he,error:x}),we=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return f({select:["select",n,r&&"disabled",i&&"multiple",e.error&&"error"],icon:["icon","icon".concat(cr(n)),a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},ru,t)}(xe),Se=u({},E.PaperProps,null==(r=E.slotProps)?void 0:r.paper);return(0,yr.jsxs)(t.Fragment,{children:[(0,yr.jsx)(su,u({ref:oe,tabIndex:ge,role:"button","aria-disabled":g?"true":void 0,"aria-expanded":he?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[_,be].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:function(e){if(!N){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ce(!0,e))}},onMouseDown:g||N?null:function(e){0===e.button&&(e.preventDefault(),Q.current.focus(),ce(!0,e))},onBlur:function(e){!he&&R&&(Object.defineProperty(e,"target",{writable:!0,value:{value:W,name:T}}),R(e))},onFocus:I},F,{ownerState:xe,className:d(F.className,we.select,p),id:be,children:du(le)?iu||(iu=(0,yr.jsx)("span",{className:"notranslate",children:"\u200b"})):le})),(0,yr.jsx)(uu,u({"aria-invalid":x,value:Array.isArray(W)?W.join(","):W,name:T,ref:Z,"aria-hidden":!0,onChange:function(e){var t=de.find((function(t){return t.props.value===e.target.value}));void 0!==t&&(q(t.props.value),A&&A(e,t))},tabIndex:-1,disabled:g,className:we.nativeInput,autoFocus:o,ownerState:xe},G)),(0,yr.jsx)(lu,{as:w,className:we.icon,ownerState:xe}),(0,yr.jsx)(Wl,u({id:"menu-".concat(T||""),anchorEl:se,open:he,onClose:function(e){ce(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},E,{MenuListProps:u({"aria-labelledby":_,role:"listbox",disableListWrap:!0},E.MenuListProps),slotProps:{paper:u({},Se,{style:u({minWidth:ye},null!=Se?Se.style:null)})},children:me}))]})})),hu=fu,pu=Ni((0,yr.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),vu=["onChange","maxRows","minRows","style","value"];function mu(e){return parseInt(e,10)||0}var gu={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function yu(e){return void 0===e||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}var bu=t.forwardRef((function(e,n){var r=e.onChange,i=e.maxRows,a=e.minRows,o=void 0===a?1:a,s=e.style,c=e.value,d=l(e,vu),f=t.useRef(null!=c).current,h=t.useRef(null),p=Er(n,h),v=t.useRef(null),m=t.useRef(0),g=M(t.useState({outerHeightStyle:0}),2),y=g[0],b=g[1],x=t.useCallback((function(){var t=h.current,n=Cs(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};var r=v.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var a=n.boxSizing,s=mu(n.paddingBottom)+mu(n.paddingTop),l=mu(n.borderBottomWidth)+mu(n.borderTopWidth),u=r.scrollHeight;r.value="x";var c=r.scrollHeight,d=u;return o&&(d=Math.max(Number(o)*c,d)),i&&(d=Math.min(Number(i)*c,d)),{outerHeightStyle:(d=Math.max(d,c))+("border-box"===a?s+l:0),overflow:Math.abs(d-u)<=1}}),[i,o,e.placeholder]),w=function(e,t){var n=t.outerHeightStyle,r=t.overflow;return m.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(m.current+=1,{overflow:r,outerHeightStyle:n}):e},S=t.useCallback((function(){var e=x();yu(e)||b((function(t){return w(t,e)}))}),[x]),_=function(){var e=x();yu(e)||Ts.flushSync((function(){b((function(t){return w(t,e)}))}))};t.useEffect((function(){var e,t=ks((function(){m.current=0,h.current&&_()})),n=h.current,r=Cs(n);return r.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver((function(){m.current=0,h.current&&_()}))).observe(n),function(){t.clear(),r.removeEventListener("resize",t),e&&e.disconnect()}})),Mr((function(){S()})),t.useEffect((function(){m.current=0}),[c]);return(0,yr.jsxs)(t.Fragment,{children:[(0,yr.jsx)("textarea",u({value:c,onChange:function(e){m.current=0,f||S(),r&&r(e)},ref:p,rows:o,style:u({height:y.outerHeightStyle,overflow:y.overflow?"hidden":void 0},s)},d)),(0,yr.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:u({},gu,s,{paddingTop:0,paddingBottom:0})})]})}));function xu(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,yr.jsx)(Zr,{styles:i})}var wu=function(e){var t=e.styles,n=e.themeId,r=e.defaultTheme,i=sr(void 0===r?{}:r),a="function"===typeof t?t(n&&i[n]||i):t;return(0,yr.jsx)(xu,{styles:a})};var Su=function(e){return(0,yr.jsx)(wu,u({},e,{defaultTheme:Jn,themeId:er}))};function _u(e){return vr("MuiInputBase",e)}var ku=mr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Eu=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Cu=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(cr(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Mu=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},Tu=rr("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Cu})((function(e){var t=e.theme,n=e.ownerState;return u({},t.typography.body1,s({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(ku.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&u({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),Ru=rr("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Mu})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,a=u({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),o={opacity:"0 !important"},l=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return u((s(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(ku.formControl," &"),{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":l,"&:focus::-moz-placeholder":l,"&:focus:-ms-input-placeholder":l,"&:focus::-ms-input-placeholder":l}),s(t,"&.".concat(ku.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),s(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),Au=(0,yr.jsx)(Su,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Pu=t.forwardRef((function(e,n){var r,i=ur({props:e,name:"MuiInputBase"}),a=i["aria-describedby"],o=i.autoComplete,s=i.autoFocus,c=i.className,p=i.components,v=void 0===p?{}:p,m=i.componentsProps,g=void 0===m?{}:m,y=i.defaultValue,b=i.disabled,x=i.disableInjectingGlobalStyles,w=i.endAdornment,S=i.fullWidth,_=void 0!==S&&S,k=i.id,E=i.inputComponent,C=void 0===E?"input":E,T=i.inputProps,R=void 0===T?{}:T,A=i.inputRef,P=i.maxRows,I=i.minRows,O=i.multiline,L=void 0!==O&&O,N=i.name,D=i.onBlur,U=i.onChange,F=i.onClick,z=i.onFocus,B=i.onKeyDown,j=i.onKeyUp,H=i.placeholder,G=i.readOnly,V=i.renderSuffix,W=i.rows,q=i.slotProps,X=void 0===q?{}:q,Y=i.slots,K=void 0===Y?{}:Y,Z=i.startAdornment,Q=i.type,$=void 0===Q?"text":Q,J=i.value,ee=l(i,Eu),te=null!=R.value?R.value:J,ne=t.useRef(null!=te).current,re=t.useRef(),ie=t.useCallback((function(e){0}),[]),ae=Cr(re,A,R.ref,ie),oe=M(t.useState(!1),2),se=oe[0],le=oe[1],ue=jo();var ce=Bo({props:i,muiFormControl:ue,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ce.focused=ue?ue.focused:se,t.useEffect((function(){!ue&&b&&se&&(le(!1),D&&D())}),[ue,b,se,D]);var de=ue&&ue.onFilled,fe=ue&&ue.onEmpty,he=t.useCallback((function(e){Io(e)?de&&de():fe&&fe()}),[de,fe]);ms((function(){ne&&he({value:te})}),[te,he,ne]);t.useEffect((function(){he(re.current)}),[]);var pe=C,ve=R;L&&"input"===pe&&(ve=u(W?{type:void 0,minRows:W,maxRows:W}:{type:void 0,maxRows:P,minRows:I},ve),pe=bu);t.useEffect((function(){ue&&ue.setAdornedStart(Boolean(Z))}),[ue,Z]);var me=u({},i,{color:ce.color||"primary",disabled:ce.disabled,endAdornment:w,error:ce.error,focused:ce.focused,formControl:ue,fullWidth:_,hiddenLabel:ce.hiddenLabel,multiline:L,size:ce.size,startAdornment:Z,type:$}),ge=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,s=e.formControl,l=e.fullWidth,u=e.hiddenLabel,c=e.multiline,d=e.readOnly,h=e.size,p=e.startAdornment,v=e.type;return f({root:["root","color".concat(cr(n)),r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",s&&"formControl",h&&"medium"!==h&&"size".concat(cr(h)),c&&"multiline",p&&"adornedStart",a&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===v&&"inputTypeSearch",c&&"inputMultiline","small"===h&&"inputSizeSmall",u&&"inputHiddenLabel",p&&"inputAdornedStart",a&&"inputAdornedEnd",d&&"readOnly"]},_u,t)}(me),ye=K.root||v.Root||Tu,be=X.root||g.root||{},xe=K.input||v.Input||Ru;return ve=u({},ve,null!=(r=X.input)?r:g.input),(0,yr.jsxs)(t.Fragment,{children:[!x&&Au,(0,yr.jsxs)(ye,u({},be,!ns(ye)&&{ownerState:u({},me,be.ownerState)},{ref:n,onClick:function(e){re.current&&e.currentTarget===e.target&&re.current.focus(),F&&F(e)}},ee,{className:d(ge.root,be.className,c,G&&"MuiInputBase-readOnly"),children:[Z,(0,yr.jsx)(Lo.Provider,{value:null,children:(0,yr.jsx)(xe,u({ownerState:me,"aria-invalid":ce.error,"aria-describedby":a,autoComplete:o,autoFocus:s,defaultValue:y,disabled:ce.disabled,id:k,onAnimationStart:function(e){he("mui-auto-fill-cancel"===e.animationName?re.current:{value:"x"})},name:N,placeholder:H,readOnly:G,required:ce.required,rows:W,value:te,onKeyDown:B,onKeyUp:j,type:$},ve,!ns(xe)&&{as:pe,ownerState:u({},me,ve.ownerState)},{ref:ae,className:d(ge.input,ve.className,G&&"MuiInputBase-readOnly"),onBlur:function(e){D&&D(e),R.onBlur&&R.onBlur(e),ue&&ue.onBlur?ue.onBlur(e):le(!1)},onChange:function(e){if(!ne){var t=e.target||re.current;if(null==t)throw new Error(h(1));he({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];R.onChange&&R.onChange.apply(R,[e].concat(r)),U&&U.apply(void 0,[e].concat(r))},onFocus:function(e){ce.disabled?e.stopPropagation():(z&&z(e),R.onFocus&&R.onFocus(e),ue&&ue.onFocus?ue.onFocus(e):le(!0))}}))}),w,V?V(u({},ce,{startAdornment:Z})):null]}))]})})),Iu=Pu;function Ou(e){return vr("MuiInput",e)}var Lu=u({},ku,mr("MuiInput",["root","underline","input"])),Nu=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Du=rr(Tu,{shouldForwardProp:function(e){return tr(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(k(Cu(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(i="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),u({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(s(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(Lu.focused,":after"),{transform:"scaleX(1) translateX(0)"}),s(t,"&.".concat(Lu.error),{"&:before, &:after":{borderBottomColor:(n.vars||n).palette.error.main}}),s(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),s(t,"&:hover:not(.".concat(Lu.disabled,", .").concat(Lu.error,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),s(t,"&.".concat(Lu.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),Uu=rr(Ru,{name:"MuiInput",slot:"Input",overridesResolver:Mu})({}),Fu=t.forwardRef((function(e,t){var n,r,i,a,o=ur({props:e,name:"MuiInput"}),s=o.disableUnderline,c=o.components,d=void 0===c?{}:c,h=o.componentsProps,p=o.fullWidth,v=void 0!==p&&p,m=o.inputComponent,g=void 0===m?"input":m,y=o.multiline,b=void 0!==y&&y,x=o.slotProps,w=o.slots,S=void 0===w?{}:w,_=o.type,k=void 0===_?"text":_,E=l(o,Nu),C=function(e){var t=e.classes;return u({},t,f({root:["root",!e.disableUnderline&&"underline"],input:["input"]},Ou,t))}(o),M={root:{ownerState:{disableUnderline:s}}},T=(null!=x?x:h)?st(null!=x?x:h,M):M,R=null!=(n=null!=(r=S.root)?r:d.Root)?n:Du,A=null!=(i=null!=(a=S.input)?a:d.Input)?i:Uu;return(0,yr.jsx)(Iu,u({slots:{root:R,input:A},slotProps:T,fullWidth:v,inputComponent:g,multiline:b,ref:t,type:k},E,{classes:C}))}));Fu.muiName="Input";var zu=Fu;function Bu(e){return vr("MuiFilledInput",e)}var ju=u({},ku,mr("MuiFilledInput",["root","underline","input"])),Hu=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Gu=rr(Tu,{shouldForwardProp:function(e){return tr(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(k(Cu(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r,i=e.theme,a=e.ownerState,o="light"===i.palette.mode,l=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",c=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",d=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",f=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return u((s(t={position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:c,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:d,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:c}}},"&.".concat(ju.focused),{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:c}),s(t,"&.".concat(ju.disabled),{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:f}),t),!a.disableUnderline&&(s(n={"&:after":{borderBottom:"2px solid ".concat(null==(r=(i.vars||i).palette[a.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(ju.focused,":after"),{transform:"scaleX(1) translateX(0)"}),s(n,"&.".concat(ju.error),{"&:before, &:after":{borderBottomColor:(i.vars||i).palette.error.main}}),s(n,"&:before",{borderBottom:"1px solid ".concat(i.vars?"rgba(".concat(i.vars.palette.common.onBackgroundChannel," / ").concat(i.vars.opacity.inputUnderline,")"):l),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"}),s(n,"&:hover:not(.".concat(ju.disabled,", .").concat(ju.error,"):before"),{borderBottom:"1px solid ".concat((i.vars||i).palette.text.primary)}),s(n,"&.".concat(ju.disabled,":before"),{borderBottomStyle:"dotted"}),n),a.startAdornment&&{paddingLeft:12},a.endAdornment&&{paddingRight:12},a.multiline&&u({padding:"25px 12px 8px"},"small"===a.size&&{paddingTop:21,paddingBottom:4},a.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),Vu=rr(Ru,{name:"MuiFilledInput",slot:"Input",overridesResolver:Mu})((function(e){var t=e.theme,n=e.ownerState;return u({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&s({"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),Wu=t.forwardRef((function(e,t){var n,r,i,a,o=ur({props:e,name:"MuiFilledInput"}),s=o.components,c=void 0===s?{}:s,d=o.componentsProps,h=o.fullWidth,p=void 0!==h&&h,v=o.inputComponent,m=void 0===v?"input":v,g=o.multiline,y=void 0!==g&&g,b=o.slotProps,x=o.slots,w=void 0===x?{}:x,S=o.type,_=void 0===S?"text":S,k=l(o,Hu),E=u({},o,{fullWidth:p,inputComponent:m,multiline:y,type:_}),C=function(e){var t=e.classes;return u({},t,f({root:["root",!e.disableUnderline&&"underline"],input:["input"]},Bu,t))}(o),M={root:{ownerState:E},input:{ownerState:E}},T=(null!=b?b:d)?st(null!=b?b:d,M):M,R=null!=(n=null!=(r=w.root)?r:c.Root)?n:Gu,A=null!=(i=null!=(a=w.input)?a:c.Input)?i:Vu;return(0,yr.jsx)(Iu,u({slots:{root:R,input:A},componentsProps:T,fullWidth:p,inputComponent:m,multiline:y,ref:t,type:_},k,{classes:C}))}));Wu.muiName="Input";var qu,Xu=Wu,Yu=["children","classes","className","label","notched"],Ku=rr("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Zu=rr("legend")((function(e){var t=e.ownerState,n=e.theme;return u({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&u({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function Qu(e){return vr("MuiOutlinedInput",e)}var $u=u({},ku,mr("MuiOutlinedInput",["root","notchedOutline","input"])),Ju=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],ec=rr(Tu,{shouldForwardProp:function(e){return tr(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:Cu})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return u((s(t={position:"relative",borderRadius:(n.vars||n).shape.borderRadius},"&:hover .".concat($u.notchedOutline),{borderColor:(n.vars||n).palette.text.primary}),s(t,"@media (hover: none)",s({},"&:hover .".concat($u.notchedOutline),{borderColor:n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):i})),s(t,"&.".concat($u.focused," .").concat($u.notchedOutline),{borderColor:(n.vars||n).palette[r.color].main,borderWidth:2}),s(t,"&.".concat($u.error," .").concat($u.notchedOutline),{borderColor:(n.vars||n).palette.error.main}),s(t,"&.".concat($u.disabled," .").concat($u.notchedOutline),{borderColor:(n.vars||n).palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&u({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),tc=rr((function(e){var t=e.className,n=e.label,r=e.notched,i=l(e,Yu),a=null!=n&&""!==n,o=u({},e,{notched:r,withLabel:a});return(0,yr.jsx)(Ku,u({"aria-hidden":!0,className:t,ownerState:o},i,{children:(0,yr.jsx)(Zu,{ownerState:o,children:a?(0,yr.jsx)("span",{children:n}):qu||(qu=(0,yr.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){var t=e.theme,n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),nc=rr(Ru,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Mu})((function(e){var t=e.theme,n=e.ownerState;return u({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&s({"&:-webkit-autofill":{borderRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),rc=t.forwardRef((function(e,n){var r,i,a,o,s,c=ur({props:e,name:"MuiOutlinedInput"}),d=c.components,h=void 0===d?{}:d,p=c.fullWidth,v=void 0!==p&&p,m=c.inputComponent,g=void 0===m?"input":m,y=c.label,b=c.multiline,x=void 0!==b&&b,w=c.notched,S=c.slots,_=void 0===S?{}:S,k=c.type,E=void 0===k?"text":k,C=l(c,Ju),M=function(e){var t=e.classes;return u({},t,f({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Qu,t))}(c),T=jo(),R=Bo({props:c,muiFormControl:T,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),A=u({},c,{color:R.color||"primary",disabled:R.disabled,error:R.error,focused:R.focused,formControl:T,fullWidth:v,hiddenLabel:R.hiddenLabel,multiline:x,size:R.size,type:E}),P=null!=(r=null!=(i=_.root)?i:h.Root)?r:ec,I=null!=(a=null!=(o=_.input)?o:h.Input)?a:nc;return(0,yr.jsx)(Iu,u({slots:{root:P,input:I},renderSuffix:function(e){return(0,yr.jsx)(tc,{ownerState:A,className:M.notchedOutline,label:null!=y&&""!==y&&R.required?s||(s=(0,yr.jsxs)(t.Fragment,{children:[y,"\u2009","*"]})):y,notched:"undefined"!==typeof w?w:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:v,inputComponent:g,multiline:x,ref:n,type:E},C,{classes:u({},M,{notchedOutline:null})}))}));rc.muiName="Input";var ic=rc,ac=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],oc=["root"],sc={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return tr(e)&&"variant"!==e},slot:"Root"},lc=rr(zu,sc)(""),uc=rr(ic,sc)(""),cc=rr(Xu,sc)(""),dc=t.forwardRef((function(e,n){var r=ur({name:"MuiSelect",props:e}),i=r.autoWidth,a=void 0!==i&&i,o=r.children,s=r.classes,c=void 0===s?{}:s,f=r.className,h=r.defaultOpen,p=void 0!==h&&h,v=r.displayEmpty,m=void 0!==v&&v,g=r.IconComponent,y=void 0===g?pu:g,b=r.id,x=r.input,w=r.inputProps,S=r.label,_=r.labelId,k=r.MenuProps,E=r.multiple,C=void 0!==E&&E,M=r.native,T=void 0!==M&&M,R=r.onClose,A=r.onOpen,P=r.open,I=r.renderValue,O=r.SelectDisplayProps,L=r.variant,N=void 0===L?"outlined":L,D=l(r,ac),U=T?eu:hu,F=Bo({props:r,muiFormControl:jo(),states:["variant","error"]}),z=F.variant||N,B=u({},r,{variant:z,classes:c}),j=function(e){return e.classes}(B),H=l(j,oc),G=x||{standard:(0,yr.jsx)(lc,{ownerState:B}),outlined:(0,yr.jsx)(uc,{label:S,ownerState:B}),filled:(0,yr.jsx)(cc,{ownerState:B})}[z],V=Cr(n,G.ref);return(0,yr.jsx)(t.Fragment,{children:t.cloneElement(G,u({inputComponent:U,inputProps:u({children:o,error:F.error,IconComponent:y,variant:z,type:void 0,multiple:C},T?{id:b}:{autoWidth:a,defaultOpen:p,displayEmpty:m,labelId:_,MenuProps:k,onClose:R,onOpen:A,open:P,renderValue:I,SelectDisplayProps:u({id:b},O)},w,{classes:w?st(H,w.classes):H},x?x.props.inputProps:{})},C&&T&&"outlined"===z?{notched:!0}:{},{ref:V,className:d(G.props.className,f,j.root)},!x&&{variant:z},D))})}));dc.muiName="Select";var fc=dc;function hc(e){return vr("MuiDivider",e)}var pc=mr("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function vc(e){return vr("MuiListItemIcon",e)}var mc=mr("MuiListItemIcon",["root","alignItemsFlexStart"]);function gc(e){return vr("MuiListItemText",e)}var yc=mr("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function bc(e){return vr("MuiMenuItem",e)}var xc=mr("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),wc=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Sc=rr(_i,{shouldForwardProp:function(e){return tr(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r=e.ownerState;return u({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},(s(t={"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(xc.selected),s({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):y(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(xc.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):y(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),s(t,"&.".concat(xc.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):y(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):y(n.palette.primary.main,n.palette.action.selectedOpacity)}}),s(t,"&.".concat(xc.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),s(t,"&.".concat(xc.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),s(t,"& + .".concat(pc.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),s(t,"& + .".concat(pc.inset),{marginLeft:52}),s(t,"& .".concat(yc.root),{marginTop:0,marginBottom:0}),s(t,"& .".concat(yc.inset),{paddingLeft:36}),s(t,"& .".concat(mc.root),{minWidth:36}),t),!r.dense&&s({},n.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&u({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,s({},"& .".concat(mc.root," svg"),{fontSize:"1.25rem"})))})),_c=t.forwardRef((function(e,n){var r=ur({props:e,name:"MuiMenuItem"}),i=r.autoFocus,a=void 0!==i&&i,o=r.component,s=void 0===o?"li":o,c=r.dense,h=void 0!==c&&c,p=r.divider,v=void 0!==p&&p,m=r.disableGutters,g=void 0!==m&&m,y=r.focusVisibleClassName,b=r.role,x=void 0===b?"menuitem":b,w=r.tabIndex,S=r.className,_=l(r,wc),k=t.useContext(ls),E=t.useMemo((function(){return{dense:h||k.dense||!1,disableGutters:g}}),[k.dense,h,g]),C=t.useRef(null);ms((function(){a&&C.current&&C.current.focus()}),[a]);var M,T=u({},r,{dense:E.dense,divider:v,disableGutters:g}),R=function(e){var t=e.disabled,n=e.dense,r=e.divider,i=e.disableGutters,a=e.selected,o=e.classes;return u({},o,f({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",a&&"selected"]},bc,o))}(r),A=Cr(C,n);return r.disabled||(M=void 0!==w?w:-1),(0,yr.jsx)(ls.Provider,{value:E,children:(0,yr.jsx)(Sc,u({ref:A,role:x,tabIndex:M,component:s,focusVisibleClassName:d(R.focusVisible,y),className:d(R.root,S)},_,{ownerState:T,classes:R}))})})),kc=_c;function Ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ec(Object(n),!0).forEach((function(t){Rc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mc(e){return Mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(e)}function Tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ac(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||Ic(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pc(e){return function(e){if(Array.isArray(e))return Oc(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ic(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ic(e,t){if(e){if("string"===typeof e)return Oc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oc(e,t):void 0}}function Oc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lc=function(){},Nc={},Dc={},Uc=null,Fc={mark:Lc,measure:Lc};try{"undefined"!==typeof window&&(Nc=window),"undefined"!==typeof document&&(Dc=document),"undefined"!==typeof MutationObserver&&(Uc=MutationObserver),"undefined"!==typeof performance&&(Fc=performance)}catch(Ine){}var zc,Bc,jc,Hc,Gc,Vc=(Nc.navigator||{}).userAgent,Wc=void 0===Vc?"":Vc,qc=Nc,Xc=Dc,Yc=Uc,Kc=Fc,Zc=(qc.document,!!Xc.documentElement&&!!Xc.head&&"function"===typeof Xc.addEventListener&&"function"===typeof Xc.createElement),Qc=~Wc.indexOf("MSIE")||~Wc.indexOf("Trident/"),$c="___FONT_AWESOME___",Jc=16,ed="fa",td="svg-inline--fa",nd="data-fa-i2svg",rd="data-fa-pseudo-element",id="data-fa-pseudo-element-pending",ad="data-prefix",od="data-icon",sd="fontawesome-i2svg",ld="async",ud=["HTML","HEAD","STYLE","SCRIPT"],cd=function(){try{return!0}catch(Ine){return!1}}(),dd="classic",fd="sharp",hd=[dd,fd];function pd(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[dd]}})}var vd=pd((Rc(zc={},dd,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Rc(zc,fd,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),zc)),md=pd((Rc(Bc={},dd,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Rc(Bc,fd,{solid:"fass",regular:"fasr",light:"fasl"}),Bc)),gd=pd((Rc(jc={},dd,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Rc(jc,fd,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),jc)),yd=pd((Rc(Hc={},dd,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Rc(Hc,fd,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),Hc)),bd=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,xd="fa-layers-text",wd=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Sd=pd((Rc(Gc={},dd,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Rc(Gc,fd,{900:"fass",400:"fasr",300:"fasl"}),Gc)),_d=[1,2,3,4,5,6,7,8,9,10],kd=_d.concat([11,12,13,14,15,16,17,18,19,20]),Ed=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Cd={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Md=new Set;Object.keys(md[dd]).map(Md.add.bind(Md)),Object.keys(md[fd]).map(Md.add.bind(Md));var Td=[].concat(hd,Pc(Md),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Cd.GROUP,Cd.SWAP_OPACITY,Cd.PRIMARY,Cd.SECONDARY]).concat(_d.map((function(e){return"".concat(e,"x")}))).concat(kd.map((function(e){return"w-".concat(e)}))),Rd=qc.FontAwesomeConfig||{};if(Xc&&"function"===typeof Xc.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=Ac(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=Xc.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(Rd[r]=i)}))}var Ad={styleDefault:"solid",familyDefault:"classic",cssPrefix:ed,replacementClass:td,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Rd.familyPrefix&&(Rd.cssPrefix=Rd.familyPrefix);var Pd=Cc(Cc({},Ad),Rd);Pd.autoReplaceSvg||(Pd.observeMutations=!1);var Id={};Object.keys(Ad).forEach((function(e){Object.defineProperty(Id,e,{enumerable:!0,set:function(t){Pd[e]=t,Od.forEach((function(e){return e(Id)}))},get:function(){return Pd[e]}})})),Object.defineProperty(Id,"familyPrefix",{enumerable:!0,set:function(e){Pd.cssPrefix=e,Od.forEach((function(e){return e(Id)}))},get:function(){return Pd.cssPrefix}}),qc.FontAwesomeConfig=Id;var Od=[];var Ld=Jc,Nd={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var Dd="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ud(){for(var e=12,t="";e-- >0;)t+=Dd[62*Math.random()|0];return t}function Fd(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function zd(e){return e.classList?Fd(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function Bd(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function jd(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function Hd(e){return e.size!==Nd.size||e.x!==Nd.x||e.y!==Nd.y||e.rotate!==Nd.rotate||e.flipX||e.flipY}var Gd=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function Vd(){var e=ed,t=td,n=Id.cssPrefix,r=Id.replacementClass,i=Gd;if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var Wd=!1;function qd(){Id.autoAddCss&&!Wd&&(!function(e){if(e&&Zc){var t=Xc.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=Xc.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}Xc.head.insertBefore(t,r)}}(Vd()),Wd=!0)}var Xd={mixout:function(){return{dom:{css:Vd,insertCss:qd}}},hooks:function(){return{beforeDOMElementCreation:function(){qd()},beforeI2svg:function(){qd()}}}},Yd=qc||{};Yd[$c]||(Yd[$c]={}),Yd[$c].styles||(Yd[$c].styles={}),Yd[$c].hooks||(Yd[$c].hooks={}),Yd[$c].shims||(Yd[$c].shims=[]);var Kd=Yd[$c],Zd=[],Qd=!1;function $d(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?Bd(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(Bd(e[n]),'" ')}),"").trim()}(r),">").concat(a.map($d).join(""),"</").concat(t,">")}function Jd(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}Zc&&((Qd=(Xc.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Xc.readyState))||Xc.addEventListener("DOMContentLoaded",(function e(){Xc.removeEventListener("DOMContentLoaded",e),Qd=1,Zd.map((function(e){return e()}))})));var ef=function(e,t,n,r){var i,a,o,s=Object.keys(e),l=s.length,u=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[s[0]]):(i=0,o=n);i<l;i++)o=u(o,e[a=s[i]],a,e);return o};function tf(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function nf(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function rf(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=nf(t);"function"!==typeof Kd.hooks.addPack||r?Kd.styles[e]=Cc(Cc({},Kd.styles[e]||{}),i):Kd.hooks.addPack(e,nf(t)),"fas"===e&&rf("fa",t)}var af,of,sf,lf=Kd.styles,uf=Kd.shims,cf=(Rc(af={},dd,Object.values(gd[dd])),Rc(af,fd,Object.values(gd[fd])),af),df=null,ff={},hf={},pf={},vf={},mf={},gf=(Rc(of={},dd,Object.keys(vd[dd])),Rc(of,fd,Object.keys(vd[fd])),of);function yf(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~Td.indexOf(n))?null:a}var bf=function(){var e=function(e){return ef(lf,(function(t,n,r){return t[r]=ef(n,e,{}),t}),{})};ff=e((function(e,t,n){if(t[3]&&(e[t[3]]=n),t[2]){var r=t[2].filter((function(e){return"number"===typeof e}));r.forEach((function(t){e[t.toString(16)]=n}))}return e})),hf=e((function(e,t,n){if(e[n]=n,t[2]){var r=t[2].filter((function(e){return"string"===typeof e}));r.forEach((function(t){e[t]=n}))}return e})),mf=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in lf||Id.autoFetchSvg,n=ef(uf,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});pf=n.names,vf=n.unicodes,df=Ef(Id.styleDefault,{family:Id.familyDefault})};function xf(e,t){return(ff[e]||{})[t]}function wf(e,t){return(mf[e]||{})[t]}function Sf(e){return pf[e]||{prefix:null,iconName:null}}function _f(){return df}!function(e){Od.push(e)}((function(e){df=Ef(e.styleDefault,{family:Id.familyDefault})})),bf();var kf=function(){return{prefix:null,iconName:null,rest:[]}};function Ef(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?dd:t,r=vd[n][e],i=md[n][e]||md[n][r],a=e in Kd.styles?e:null;return i||a||null}var Cf=(Rc(sf={},dd,Object.keys(gd[dd])),Rc(sf,fd,Object.keys(gd[fd])),sf);function Mf(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==n&&n,i=(Rc(t={},dd,"".concat(Id.cssPrefix,"-").concat(dd)),Rc(t,fd,"".concat(Id.cssPrefix,"-").concat(fd)),t),a=null,o=dd;(e.includes(i[dd])||e.some((function(e){return Cf[dd].includes(e)})))&&(o=dd),(e.includes(i[fd])||e.some((function(e){return Cf[fd].includes(e)})))&&(o=fd);var s=e.reduce((function(e,t){var n=yf(Id.cssPrefix,t);if(lf[t]?(t=cf[o].includes(t)?yd[o][t]:t,a=t,e.prefix=t):gf[o].indexOf(t)>-1?(a=t,e.prefix=Ef(t,{family:o})):n?e.iconName=n:t!==Id.replacementClass&&t!==i[dd]&&t!==i[fd]&&e.rest.push(t),!r&&e.prefix&&e.iconName){var s="fa"===a?Sf(e.iconName):{},l=wf(e.prefix,e.iconName);s.prefix&&(a=null),e.iconName=s.iconName||l||e.iconName,e.prefix=s.prefix||e.prefix,"far"!==e.prefix||lf.far||!lf.fas||Id.autoFetchSvg||(e.prefix="fas")}return e}),kf());return(e.includes("fa-brands")||e.includes("fab"))&&(s.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(s.prefix="fad"),s.prefix||o!==fd||!lf.fass&&!Id.autoFetchSvg||(s.prefix="fass",s.iconName=wf(s.prefix,s.iconName)||s.iconName),"fa"!==s.prefix&&"fa"!==a||(s.prefix=_f()||"fas"),s}var Tf=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=Cc(Cc({},e.definitions[t]||{}),i[t]),rf(t,i[t]);var n=gd[dd][t];n&&rf(n,i[t]),bf()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,s=o[2];e[i]||(e[i]={}),s.length>0&&s.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&Tc(t.prototype,n),r&&Tc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Rf=[],Af={},Pf={},If=Object.keys(Pf);function Of(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Af[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function Lf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(Af[e]||[]).forEach((function(e){e.apply(null,n)}))}function Nf(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Pf[e]?Pf[e].apply(null,t):void 0}function Df(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||_f();if(t)return t=wf(n,t)||t,Jd(Uf.definitions,n,t)||Jd(Kd.styles,n,t)}var Uf=new Tf,Ff={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Zc?(Lf("beforeI2svg",e),Nf("pseudoElements2svg",e),Nf("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot;!1===Id.autoReplaceSvg&&(Id.autoReplaceSvg=!0),Id.observeMutations=!0,e=function(){Bf({autoReplaceSvgRoot:n}),Lf("watch",t)},Zc&&(Qd?setTimeout(e,0):Zd.push(e))}},zf={noAuto:function(){Id.autoReplaceSvg=!1,Id.observeMutations=!1,Lf("noAuto")},config:Id,dom:Ff,parse:{icon:function(e){if(null===e)return null;if("object"===Mc(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:wf(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=Ef(e[0]);return{prefix:n,iconName:wf(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(Id.cssPrefix,"-"))>-1||e.match(bd))){var r=Mf(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||_f(),iconName:wf(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=_f();return{prefix:i,iconName:wf(i,e)||e}}}},library:Uf,findIconDefinition:Df,toHtml:$d},Bf=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?Xc:e;(Object.keys(Kd.styles).length>0||Id.autoFetchSvg)&&Zc&&Id.autoReplaceSvg&&zf.dom.i2svg({node:t})};function jf(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return $d(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(Zc){var t=Xc.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Hf(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,s=e.symbol,l=e.title,u=e.maskId,c=e.titleId,d=e.extra,f=e.watchable,h=void 0!==f&&f,p=r.found?r:n,v=p.width,m=p.height,g="fak"===i,y=[Id.replacementClass,a?"".concat(Id.cssPrefix,"-").concat(a):""].filter((function(e){return-1===d.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(d.classes).join(" "),b={children:[],attributes:Cc(Cc({},d.attributes),{},{"data-prefix":i,"data-icon":a,class:y,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(m)})},x=g&&!~d.classes.indexOf("fa-fw")?{width:"".concat(v/m*16*.0625,"em")}:{};h&&(b.attributes[nd]=""),l&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(c||Ud())},children:[l]}),delete b.attributes.title);var w=Cc(Cc({},b),{},{prefix:i,iconName:a,main:n,mask:r,maskId:u,transform:o,symbol:s,styles:Cc(Cc({},x),d.styles)}),S=r.found&&n.found?Nf("generateAbstractMask",w)||{children:[],attributes:{}}:Nf("generateAbstractIcon",w)||{children:[],attributes:{}},_=S.children,k=S.attributes;return w.children=_,w.attributes=k,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(Id.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Cc(Cc({},i),{},{id:o}),children:r}]}]}(w):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(Hd(o)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=jd(Cc(Cc({},a),{},{"transform-origin":"".concat(s.x+o.x/16,"em ").concat(s.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(w)}function Gf(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,s=e.watchable,l=void 0!==s&&s,u=Cc(Cc(Cc({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});l&&(u[nd]="");var c=Cc({},o.styles);Hd(i)&&(c.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?Jc:n,i=e.height,a=void 0===i?Jc:i,o=e.startCentered,s=void 0!==o&&o,l="";return l+=s&&Qc?"translate(".concat(t.x/Ld-r/2,"em, ").concat(t.y/Ld-a/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/Ld,"em), calc(-50% + ").concat(t.y/Ld,"em)) "):"translate(".concat(t.x/Ld,"em, ").concat(t.y/Ld,"em) "),l+="scale(".concat(t.size/Ld*(t.flipX?-1:1),", ").concat(t.size/Ld*(t.flipY?-1:1),") "),l+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);var d=jd(c);d.length>0&&(u.style=d);var f=[];return f.push({tag:"span",attributes:u,children:[t]}),a&&f.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),f}var Vf=Kd.styles;function Wf(e){var t=e[0],n=e[1],r=Ac(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(Id.cssPrefix,"-").concat(Cd.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Id.cssPrefix,"-").concat(Cd.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Id.cssPrefix,"-").concat(Cd.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var qf={found:!1,width:512,height:512};function Xf(e,t){var n=t;return"fa"===t&&null!==Id.styleDefault&&(t=_f()),new Promise((function(r,i){Nf("missingIconAbstract");if("fa"===n){var a=Sf(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&Vf[t]&&Vf[t][e])return r(Wf(Vf[t][e]));!function(e,t){cd||Id.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(Cc(Cc({},qf),{},{icon:Id.showMissingIcons&&e&&Nf("missingIconAbstract")||{}}))}))}var Yf=function(){},Kf=Id.measurePerformance&&Kc&&Kc.mark&&Kc.measure?Kc:{mark:Yf,measure:Yf},Zf='FA "6.4.2"',Qf=function(e){Kf.mark("".concat(Zf," ").concat(e," ends")),Kf.measure("".concat(Zf," ").concat(e),"".concat(Zf," ").concat(e," begins"),"".concat(Zf," ").concat(e," ends"))},$f={begin:function(e){return Kf.mark("".concat(Zf," ").concat(e," begins")),function(){return Qf(e)}},end:Qf},Jf=function(){};function eh(e){return"string"===typeof(e.getAttribute?e.getAttribute(nd):null)}function th(e){return Xc.createElementNS("http://www.w3.org/2000/svg",e)}function nh(e){return Xc.createElement(e)}function rh(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?th:nh:t;if("string"===typeof e)return Xc.createTextNode(e);var r=n(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){r.appendChild(rh(e,{ceFn:n}))})),r}var ih={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(rh(e),t)})),null===t.getAttribute(nd)&&Id.keepOriginalSource){var n=Xc.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~zd(t).indexOf(Id.replacementClass))return ih.replace(e);var r=new RegExp("".concat(Id.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===Id.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return $d(e)})).join("\n");t.setAttribute(nd,""),t.innerHTML=a}};function ah(e){e()}function oh(e,t){var n="function"===typeof t?t:Jf;if(0===e.length)n();else{var r=ah;Id.mutateApproach===ld&&(r=qc.requestAnimationFrame||ah),r((function(){var t=!0===Id.autoReplaceSvg?ih.replace:ih[Id.autoReplaceSvg]||ih.replace,r=$f.begin("mutate");e.map(t),r(),n()}))}}var sh=!1;function lh(){sh=!0}function uh(){sh=!1}var ch=null;function dh(e){if(Yc&&Id.observeMutations){var t=e.treeCallback,n=void 0===t?Jf:t,r=e.nodeCallback,i=void 0===r?Jf:r,a=e.pseudoElementsCallback,o=void 0===a?Jf:a,s=e.observeMutationsRoot,l=void 0===s?Xc:s;ch=new Yc((function(e){if(!sh){var t=_f();Fd(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!eh(e.addedNodes[0])&&(Id.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&Id.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&eh(e.target)&&~Ed.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(ad):null,n=e.getAttribute?e.getAttribute(od):null;return t&&n}(e.target)){var r=Mf(zd(e.target)),a=r.prefix,s=r.iconName;e.target.setAttribute(ad,a||t),s&&e.target.setAttribute(od,s)}else(function(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(Id.replacementClass)})(e.target)&&i(e.target)}))}})),Zc&&ch.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function fh(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=Mf(zd(e));return i.prefix||(i.prefix=_f()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(hf[e]||{})[t]}(i.prefix,e.innerText)||xf(i.prefix,tf(e.innerText))),!i.iconName&&Id.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function hh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=fh(e),r=n.iconName,i=n.prefix,a=n.rest,o=function(e){var t=Fd(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return Id.autoA11y&&(n?t["aria-labelledby"]="".concat(Id.replacementClass,"-title-").concat(r||Ud()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),s=Of("parseNodeAttributes",{},e),l=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return Cc({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:Nd,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:l,attributes:o}},s)}var ph=Kd.styles;function vh(e){var t="nest"===Id.autoReplaceSvg?hh(e,{styleParser:!1}):hh(e);return~t.extra.classes.indexOf(xd)?Nf("generateLayersText",e,t):Nf("generateSvgReplacementMutation",e,t)}var mh=new Set;function gh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Zc)return Promise.resolve();var n=Xc.documentElement.classList,r=function(e){return n.add("".concat(sd,"-").concat(e))},i=function(e){return n.remove("".concat(sd,"-").concat(e))},a=Id.autoFetchSvg?mh:hd.map((function(e){return"fa-".concat(e)})).concat(Object.keys(ph));a.includes("fa")||a.push("fa");var o=[".".concat(xd,":not([").concat(nd,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(nd,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var s=[];try{s=Fd(e.querySelectorAll(o))}catch(Ine){}if(!(s.length>0))return Promise.resolve();r("pending"),i("complete");var l=$f.begin("onTree"),u=s.reduce((function(e,t){try{var n=vh(t);n&&e.push(n)}catch(Ine){cd||"MissingIcon"===Ine.name&&console.error(Ine)}return e}),[]);return new Promise((function(e,n){Promise.all(u).then((function(n){oh(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),l(),e()}))})).catch((function(e){l(),n(e)}))}))}function yh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;vh(e).then((function(e){e&&oh([e],t)}))}function bh(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:Df(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Df(i||{})),e(r,Cc(Cc({},n),{},{mask:i}))}}hd.map((function(e){mh.add("fa-".concat(e))})),Object.keys(vd[dd]).map(mh.add.bind(mh)),Object.keys(vd[fd]).map(mh.add.bind(mh)),mh=Pc(mh);var xh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Nd:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,s=void 0===o?null:o,l=t.maskId,u=void 0===l?null:l,c=t.title,d=void 0===c?null:c,f=t.titleId,h=void 0===f?null:f,p=t.classes,v=void 0===p?[]:p,m=t.attributes,g=void 0===m?{}:m,y=t.styles,b=void 0===y?{}:y;if(e){var x=e.prefix,w=e.iconName,S=e.icon;return jf(Cc({type:"icon"},e),(function(){return Lf("beforeDOMElementCreation",{iconDefinition:e,params:t}),Id.autoA11y&&(d?g["aria-labelledby"]="".concat(Id.replacementClass,"-title-").concat(h||Ud()):(g["aria-hidden"]="true",g.focusable="false")),Hf({icons:{main:Wf(S),mask:s?Wf(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:x,iconName:w,transform:Cc(Cc({},Nd),r),symbol:a,title:d,maskId:u,titleId:h,extra:{attributes:g,styles:b,classes:v}})}))}},wh={mixout:function(){return{icon:bh(xh)}},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=gh,e.nodeCallback=yh,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?Xc:t,r=e.callback;return gh(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,s=t.symbol,l=t.mask,u=t.maskId,c=t.extra;return new Promise((function(t,d){Promise.all([Xf(n,a),l.iconName?Xf(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(l){var d=Ac(l,2),f=d[0],h=d[1];t([e,Hf({icons:{main:f,mask:h},prefix:a,iconName:n,transform:o,symbol:s,maskId:u,title:r,titleId:i,extra:c,watchable:!0})])})).catch(d)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=jd(e.styles);return o.length>0&&(r.style=o),Hd(a)&&(t=Nf("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},Sh={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return jf({type:"layer"},(function(){Lf("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(Id.cssPrefix,"-layers")].concat(Pc(r)).join(" ")},children:n}]}))}}}},_h={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,s=void 0===o?{}:o,l=t.styles,u=void 0===l?{}:l;return jf({type:"counter",content:e},(function(){return Lf("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.title,r=e.extra,i=Cc(Cc(Cc({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=jd(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:e.toString(),title:r,extra:{attributes:s,styles:u,classes:["".concat(Id.cssPrefix,"-layers-counter")].concat(Pc(a))}})}))}}}},kh={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Nd:n,i=t.title,a=void 0===i?null:i,o=t.classes,s=void 0===o?[]:o,l=t.attributes,u=void 0===l?{}:l,c=t.styles,d=void 0===c?{}:c;return jf({type:"text",content:e},(function(){return Lf("beforeDOMElementCreation",{content:e,params:t}),Gf({content:e,transform:Cc(Cc({},Nd),r),title:a,extra:{attributes:u,styles:d,classes:["".concat(Id.cssPrefix,"-layers-text")].concat(Pc(s))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(Qc){var s=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();a=l.width/s,o=l.height/s}return Id.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,Gf({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},Eh=new RegExp('"',"ug"),Ch=[1105920,1112319];function Mh(e,t){var n="".concat(id).concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=Fd(e.children).filter((function(e){return e.getAttribute(rd)===t}))[0],o=qc.getComputedStyle(e,t),s=o.getPropertyValue("font-family").match(wd),l=o.getPropertyValue("font-weight"),u=o.getPropertyValue("content");if(a&&!s)return e.removeChild(a),r();if(s&&"none"!==u&&""!==u){var c=o.getPropertyValue("content"),d=~["Sharp"].indexOf(s[2])?fd:dd,f=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(s[2])?md[d][s[2].toLowerCase()]:Sd[d][l],h=function(e){var t=e.replace(Eh,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=Ch[0]&&n<=Ch[1],i=2===t.length&&t[0]===t[1];return{value:tf(i?t[0]:t),isSecondary:r||i}}(c),p=h.value,v=h.isSecondary,m=s[0].startsWith("FontAwesome"),g=xf(f,p),y=g;if(m){var b=function(e){var t=vf[e],n=xf("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(p);b.iconName&&b.prefix&&(g=b.iconName,f=b.prefix)}if(!g||v||a&&a.getAttribute(ad)===f&&a.getAttribute(od)===y)r();else{e.setAttribute(n,y),a&&e.removeChild(a);var x={iconName:null,title:null,titleId:null,prefix:null,transform:Nd,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},w=x.extra;w.attributes[rd]=t,Xf(g,f).then((function(i){var a=Hf(Cc(Cc({},x),{},{icons:{main:i,mask:kf()},prefix:f,iconName:y,extra:w,watchable:!0})),o=Xc.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return $d(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function Th(e){return Promise.all([Mh(e,"::before"),Mh(e,"::after")])}function Rh(e){return e.parentNode!==document.head&&!~ud.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(rd)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function Ah(e){if(Zc)return new Promise((function(t,n){var r=Fd(e.querySelectorAll("*")).filter(Rh).map(Th),i=$f.begin("searchPseudoElements");lh(),Promise.all(r).then((function(){i(),uh(),t()})).catch((function(){i(),uh(),n()}))}))}var Ph={hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=Ah,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?Xc:t;Id.searchPseudoElements&&Ah(n)}}},Ih=!1,Oh=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Lh={mixout:function(){return{parse:{transform:function(e){return Oh(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=Oh(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),u={outer:a,inner:{transform:"".concat(o," ").concat(s," ").concat(l)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:Cc({},u.outer),children:[{tag:"g",attributes:Cc({},u.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:Cc(Cc({},t.icon.attributes),u.path)}]}]}}}},Nh={x:0,y:0,width:"100%",height:"100%"};function Dh(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var Uh={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?Mf(n.split(" ").map((function(e){return e.trim()}))):kf();return r.prefix||(r.prefix=_f()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,s=e.transform,l=i.width,u=i.icon,c=a.width,d=a.icon,f=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:s,containerWidth:c,iconWidth:l}),h={tag:"rect",attributes:Cc(Cc({},Nh),{},{fill:"white"})},p=u.children?{children:u.children.map(Dh)}:{},v={tag:"g",attributes:Cc({},f.inner),children:[Dh(Cc({tag:u.tag,attributes:Cc(Cc({},u.attributes),f.path)},p))]},m={tag:"g",attributes:Cc({},f.outer),children:[v]},g="mask-".concat(o||Ud()),y="clip-".concat(o||Ud()),b={tag:"mask",attributes:Cc(Cc({},Nh),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,m]},x={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=d,"g"===t.tag?t.children:[t])},b]};return n.push(x,{tag:"rect",attributes:Cc({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},Nh)}),{children:n,attributes:r}}}},Fh={provides:function(e){var t=!1;qc.matchMedia&&(t=qc.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:Cc(Cc({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=Cc(Cc({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Cc(Cc({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:Cc(Cc({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Cc(Cc({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:Cc(Cc({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Cc(Cc({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:Cc(Cc({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Cc(Cc({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},zh=[Xd,wh,Sh,_h,kh,Ph,{mixout:function(){return{dom:{unwatch:function(){lh(),Ih=!0}}}},hooks:function(){return{bootstrap:function(){dh(Of("mutationObserverCallbacks",{}))},noAuto:function(){ch&&ch.disconnect()},watch:function(e){var t=e.observeMutationsRoot;Ih?uh():dh(Of("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},Lh,Uh,Fh,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}];!function(e,t){var n=t.mixoutsTo;Rf=e,Af={},Object.keys(Pf).forEach((function(e){-1===If.indexOf(e)&&delete Pf[e]})),Rf.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===Mc(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){Af[e]||(Af[e]=[]),Af[e].push(r[e])}))}e.provides&&e.provides(Pf)}))}(zh,{mixoutsTo:zf});var Bh=zf.parse,jh=zf.icon,Hh=n(2007),Gh=n.n(Hh);function Vh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vh(Object(n),!0).forEach((function(t){Xh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qh(e){return qh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(e)}function Xh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yh(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kh(e){return function(e){if(Array.isArray(e))return Zh(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Zh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qh(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var $h=["style"];var Jh=!1;try{Jh=!0}catch(Ine){}function ep(e){return e&&"object"===qh(e)&&e.prefix&&e.iconName&&e.icon?e:Bh.icon?Bh.icon(e):null===e?null:e&&"object"===qh(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function tp(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Xh({},e,t):{}}var np=t.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,a=e.className,o=e.title,s=e.titleId,l=e.maskId,u=ep(n),c=tp("classes",[].concat(Kh(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,s=e.flash,l=e.spin,u=e.spinPulse,c=e.spinReverse,d=e.pulse,f=e.fixedWidth,h=e.inverse,p=e.border,v=e.listItem,m=e.flip,g=e.size,y=e.rotation,b=e.pull,x=(Xh(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":s,"fa-spin":l,"fa-spin-reverse":c,"fa-spin-pulse":u,"fa-pulse":d,"fa-fw":f,"fa-inverse":h,"fa-border":p,"fa-li":v,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(g),"undefined"!==typeof g&&null!==g),Xh(t,"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),Xh(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),Xh(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(x).map((function(e){return x[e]?e:null})).filter((function(e){return e}))}(e)),Kh(a.split(" ")))),d=tp("transform","string"===typeof e.transform?Bh.transform(e.transform):e.transform),f=tp("mask",ep(r)),h=jh(u,Wh(Wh(Wh(Wh({},c),d),f),{},{symbol:i,title:o,titleId:s,maskId:l}));if(!h)return function(){var e;!Jh&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",u),null;var p=h.abstract,v={ref:t};return Object.keys(e).forEach((function(t){np.defaultProps.hasOwnProperty(t)||(v[t]=e[t])})),rp(p[0],v)}));np.displayName="FontAwesomeIcon",np.propTypes={beat:Gh().bool,border:Gh().bool,beatFade:Gh().bool,bounce:Gh().bool,className:Gh().string,fade:Gh().bool,flash:Gh().bool,mask:Gh().oneOfType([Gh().object,Gh().array,Gh().string]),maskId:Gh().string,fixedWidth:Gh().bool,inverse:Gh().bool,flip:Gh().oneOf([!0,!1,"horizontal","vertical","both"]),icon:Gh().oneOfType([Gh().object,Gh().array,Gh().string]),listItem:Gh().bool,pull:Gh().oneOf(["right","left"]),pulse:Gh().bool,rotation:Gh().oneOf([0,90,180,270]),shake:Gh().bool,size:Gh().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Gh().bool,spinPulse:Gh().bool,spinReverse:Gh().bool,symbol:Gh().oneOfType([Gh().bool,Gh().string]),title:Gh().string,titleId:Gh().string,transform:Gh().oneOfType([Gh().string,Gh().object]),swapOpacity:Gh().bool},np.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var rp=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=function(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=Qh(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[Qh(t)]=r}return e}),{attrs:{}}),o=r.style,s=void 0===o?{}:o,l=Yh(r,$h);return a.attrs.style=Wh(Wh({},a.attrs.style),s),t.apply(void 0,[n.tag,Wh(Wh({},a.attrs),l)].concat(Kh(i)))}.bind(null,t.createElement),ip={prefix:"fas",iconName:"arrow-down-9-1",icon:[576,512,["sort-numeric-desc","sort-numeric-down-alt"],"f886","M160 480c9 0 17.5-3.8 23.6-10.4l88-96c11.9-13 11.1-33.3-2-45.2s-33.3-11.1-45.2 2L192 365.7V64c0-17.7-14.3-32-32-32s-32 14.3-32 32V365.7L95.6 330.4c-11.9-13-32.2-13.9-45.2-2s-13.9 32.2-2 45.2l88 96C142.5 476.2 151 480 160 480zM450.7 294c-8.3-6-19.1-7.7-28.8-4.4l-48 16c-16.8 5.6-25.8 23.7-20.2 40.5s23.7 25.8 40.5 20.2l5.9-2V416H384c-17.7 0-32 14.3-32 32s14.3 32 32 32h48 48c17.7 0 32-14.3 32-32s-14.3-32-32-32H464V320c0-10.3-4.9-19.9-13.3-26zM418.3 91a32 32 0 1 1 27.4 57.9A32 32 0 1 1 418.3 91zM405.1 203.8l-6.8 9.2c-10.5 14.2-7.5 34.2 6.7 44.8s34.2 7.5 44.8-6.7l48.8-65.8c14-18.9 21.5-41.7 21.5-65.2c0-48.6-39.4-88-88-88s-88 39.4-88 88c0 39.2 25.6 72.4 61.1 83.8z"]},ap={prefix:"fas",iconName:"list",icon:[512,512,["list-squares"],"f03a","M40 48C26.7 48 16 58.7 16 72v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM16 232v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V232c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V392c0-13.3-10.7-24-24-24H40z"]},op={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 20.9 58.2 27 94.7zm-209 0H18.6C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352H135.3zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6H493.4z"]},sp={prefix:"fas",iconName:"ban",icon:[512,512,[128683,"cancel"],"f05e","M367.2 412.5L99.5 144.8C77.1 176.1 64 214.5 64 256c0 106 86 192 192 192c41.5 0 79.9-13.1 111.2-35.5zm45.3-45.3C434.9 335.9 448 297.5 448 256c0-106-86-192-192-192c-41.5 0-79.9 13.1-111.2 35.5L412.5 367.2zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},lp={prefix:"fas",iconName:"weight-hanging",icon:[512,512,[],"f5cd","M224 96a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm122.5 32c3.5-10 5.5-20.8 5.5-32c0-53-43-96-96-96s-96 43-96 96c0 11.2 1.9 22 5.5 32H120c-22 0-41.2 15-46.6 36.4l-72 288c-3.6 14.3-.4 29.5 8.7 41.2S33.2 512 48 512H464c14.8 0 28.7-6.8 37.8-18.5s12.3-26.8 8.7-41.2l-72-288C433.2 143 414 128 392 128H346.5z"]},up={prefix:"fas",iconName:"caret-up",icon:[320,512,[],"f0d8","M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"]},cp={prefix:"fas",iconName:"arrow-down-wide-short",icon:[576,512,["sort-amount-asc","sort-amount-down"],"f160","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 480c-17.7 0-32-14.3-32-32s14.3-32 32-32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320z"]},dp={prefix:"fas",iconName:"magnifying-glass-chart",icon:[512,512,[],"e522","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zm-312 8v64c0 13.3 10.7 24 24 24s24-10.7 24-24l0-64c0-13.3-10.7-24-24-24s-24 10.7-24 24zm80-96V280c0 13.3 10.7 24 24 24s24-10.7 24-24V120c0-13.3-10.7-24-24-24s-24 10.7-24 24zm80 64v96c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},fp={prefix:"fas",iconName:"scale-unbalanced",icon:[640,512,["balance-scale-left"],"f515","M522.1 62.4c16.8-5.6 25.8-23.7 20.2-40.5S518.6-3.9 501.9 1.6l-113 37.7C375 15.8 349.3 0 320 0c-44.2 0-80 35.8-80 80c0 3 .2 5.9 .5 8.8L117.9 129.6c-16.8 5.6-25.8 23.7-20.2 40.5s23.7 25.8 40.5 20.2l135.5-45.2c4.5 3.2 9.3 5.9 14.4 8.2V480c0 17.7 14.3 32 32 32H512c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V153.3c21-9.2 37.2-27 44.2-49l125.9-42zM439.6 288L512 163.8 584.4 288H439.6zM512 384c62.9 0 115.2-34 126-78.9c2.6-11-1-22.3-6.7-32.1L536.1 109.8c-5-8.6-14.2-13.8-24.1-13.8s-19.1 5.3-24.1 13.8L392.7 273.1c-5.7 9.8-9.3 21.1-6.7 32.1C396.8 350 449.1 384 512 384zM129.2 291.8L201.6 416H56.7l72.4-124.2zM3.2 433.1C14 478 66.3 512 129.2 512s115.2-34 126-78.9c2.6-11-1-22.3-6.7-32.1L153.2 237.8c-5-8.6-14.2-13.8-24.1-13.8s-19.1 5.3-24.1 13.8L9.9 401.1c-5.7 9.8-9.3 21.1-6.7 32.1z"]},hp={prefix:"fas",iconName:"arrow-up-1-9",icon:[576,512,["sort-numeric-up"],"f163","M450.7 38c8.3 6 13.3 15.7 13.3 26v96h16c17.7 0 32 14.3 32 32s-14.3 32-32 32H432 384c-17.7 0-32-14.3-32-32s14.3-32 32-32h16V108.4l-5.9 2c-16.8 5.6-34.9-3.5-40.5-20.2s3.5-34.9 20.2-40.5l48-16c9.8-3.3 20.5-1.6 28.8 4.4zM160 32c9 0 17.5 3.8 23.6 10.4l88 96c11.9 13 11.1 33.3-2 45.2s-33.3 11.1-45.2-2L192 146.3V448c0 17.7-14.3 32-32 32s-32-14.3-32-32V146.3L95.6 181.6c-11.9 13-32.2 13.9-45.2 2s-13.9-32.2-2-45.2l88-96C142.5 35.8 151 32 160 32zM445.7 364.9A32 32 0 1 0 418.3 307a32 32 0 1 0 27.4 57.9zm-40.7 54.9C369.6 408.4 344 375.2 344 336c0-48.6 39.4-88 88-88s88 39.4 88 88c0 23.5-7.5 46.3-21.5 65.2L449.7 467c-10.5 14.2-30.6 17.2-44.8 6.7s-17.2-30.6-6.7-44.8l6.8-9.2z"]},pp={prefix:"fas",iconName:"circle-nodes",icon:[512,512,[],"e4e2","M418.4 157.9c35.3-8.3 61.6-40 61.6-77.9c0-44.2-35.8-80-80-80c-43.4 0-78.7 34.5-80 77.5L136.2 151.1C121.7 136.8 101.9 128 80 128c-44.2 0-80 35.8-80 80s35.8 80 80 80c12.2 0 23.8-2.7 34.1-7.6L259.7 407.8c-2.4 7.6-3.7 15.8-3.7 24.2c0 44.2 35.8 80 80 80s80-35.8 80-80c0-27.7-14-52.1-35.4-66.4l37.8-207.7zM156.3 232.2c2.2-6.9 3.5-14.2 3.7-21.7l183.8-73.5c3.6 3.5 7.4 6.7 11.6 9.5L317.6 354.1c-5.5 1.3-10.8 3.1-15.8 5.5L156.3 232.2z"]},vp={prefix:"fas",iconName:"dna",icon:[448,512,[129516],"f471","M416 0c17.7 0 32 14.3 32 32c0 59.8-30.3 107.5-69.4 146.6c-28 28-62.5 53.5-97.3 77.4l-2.5 1.7c-11.9 8.1-23.8 16.1-35.5 23.9l0 0 0 0 0 0-1.6 1c-6 4-11.9 7.9-17.8 11.9c-20.9 14-40.8 27.7-59.3 41.5H283.3c-9.8-7.4-20.1-14.7-30.7-22.1l7-4.7 3-2c15.1-10.1 30.9-20.6 46.7-31.6c25 18.1 48.9 37.3 69.4 57.7C417.7 372.5 448 420.2 448 480c0 17.7-14.3 32-32 32s-32-14.3-32-32H64c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-59.8 30.3-107.5 69.4-146.6c28-28 62.5-53.5 97.3-77.4c-34.8-23.9-69.3-49.3-97.3-77.4C30.3 139.5 0 91.8 0 32C0 14.3 14.3 0 32 0S64 14.3 64 32H384c0-17.7 14.3-32 32-32zM338.6 384H109.4c-10.1 10.6-18.6 21.3-25.5 32H364.1c-6.8-10.7-15.3-21.4-25.5-32zM109.4 128H338.6c10.1-10.7 18.6-21.3 25.5-32H83.9c6.8 10.7 15.3 21.3 25.5 32zm55.4 48c18.4 13.8 38.4 27.5 59.3 41.5c20.9-14 40.8-27.7 59.3-41.5H164.7z"]},mp={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"]},gp={prefix:"fas",iconName:"stop",icon:[384,512,[9209],"f04d","M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"]},yp={prefix:"fas",iconName:"arrows-turn-to-dots",icon:[512,512,[],"e4c1","M249.4 25.4c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3L269.3 96 416 96c53 0 96 43 96 96v32c0 17.7-14.3 32-32 32s-32-14.3-32-32V192c0-17.7-14.3-32-32-32l-146.7 0 25.4 25.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0l-80-80c-12.5-12.5-12.5-32.8 0-45.3l80-80zm13.3 256l80 80c12.5 12.5 12.5 32.8 0 45.3l-80 80c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 416 96 416c-17.7 0-32 14.3-32 32v32c0 17.7-14.3 32-32 32s-32-14.3-32-32V448c0-53 43-96 96-96l146.7 0-25.4-25.4c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0zM384 384a64 64 0 1 1 128 0 64 64 0 1 1 -128 0zM64 192A64 64 0 1 1 64 64a64 64 0 1 1 0 128z"]},bp={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},xp={prefix:"fas",iconName:"computer",icon:[640,512,[],"e4e5","M384 96V320H64L64 96H384zM64 32C28.7 32 0 60.7 0 96V320c0 35.3 28.7 64 64 64H181.3l-10.7 32H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H352c17.7 0 32-14.3 32-32s-14.3-32-32-32H277.3l-10.7-32H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm464 0c-26.5 0-48 21.5-48 48V432c0 26.5 21.5 48 48 48h64c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48H528zm16 64h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H544c-8.8 0-16-7.2-16-16s7.2-16 16-16zm-16 80c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H544c-8.8 0-16-7.2-16-16zm32 160a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},wp={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},Sp=wp,_p={prefix:"fas",iconName:"arrow-up-short-wide",icon:[576,512,["sort-amount-up-alt"],"f885","M151.6 42.4C145.5 35.8 137 32 128 32s-17.5 3.8-23.6 10.4l-88 96c-11.9 13-11.1 33.3 2 45.2s33.3 11.1 45.2-2L96 146.3V448c0 17.7 14.3 32 32 32s32-14.3 32-32V146.3l32.4 35.4c11.9 13 32.2 13.9 45.2 2s13.9-32.2 2-45.2l-88-96zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h32c17.7 0 32-14.3 32-32s-14.3-32-32-32H320zm0 128c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H320zm0 128c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H320zm0 128c-17.7 0-32 14.3-32 32s14.3 32 32 32H544c17.7 0 32-14.3 32-32s-14.3-32-32-32H320z"]},kp={prefix:"fas",iconName:"scale-balanced",icon:[640,512,[9878,"balance-scale"],"f24e","M384 32H512c17.7 0 32 14.3 32 32s-14.3 32-32 32H398.4c-5.2 25.8-22.9 47.1-46.4 57.3V448H512c17.7 0 32 14.3 32 32s-14.3 32-32 32H320 128c-17.7 0-32-14.3-32-32s14.3-32 32-32H288V153.3c-23.5-10.3-41.2-31.6-46.4-57.3H128c-17.7 0-32-14.3-32-32s14.3-32 32-32H256c14.6-19.4 37.8-32 64-32s49.4 12.6 64 32zm55.6 288H584.4L512 195.8 439.6 320zM512 416c-62.9 0-115.2-34-126-78.9c-2.6-11 1-22.3 6.7-32.1l95.2-163.2c5-8.6 14.2-13.8 24.1-13.8s19.1 5.3 24.1 13.8l95.2 163.2c5.7 9.8 9.3 21.1 6.7 32.1C627.2 382 574.9 416 512 416zM126.8 195.8L54.4 320H199.3L126.8 195.8zM.9 337.1c-2.6-11 1-22.3 6.7-32.1l95.2-163.2c5-8.6 14.2-13.8 24.1-13.8s19.1 5.3 24.1 13.8l95.2 163.2c5.7 9.8 9.3 21.1 6.7 32.1C242 382 189.7 416 126.8 416S11.7 382 .9 337.1z"]},Ep={prefix:"fas",iconName:"paper-plane",icon:[512,512,[61913],"f1d8","M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480V396.4c0-4 1.5-7.8 4.2-10.7L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"]},Cp=0;var Mp=r["useId".toString()];function Tp(e){if(void 0!==Mp){var n=Mp();return null!=e?e:n}return function(e){var n=M(t.useState(e),2),r=n[0],i=n[1],a=e||r;return t.useEffect((function(){null==r&&i("mui-".concat(Cp+=1))}),[r]),a}(e)}function Rp(e){return vr("MuiDialog",e)}var Ap=mr("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var Pp=t.createContext({}),Ip=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Op=rr(gl,{name:"MuiDialog",slot:"Backdrop",overrides:function(e,t){return t.backdrop}})({zIndex:-1}),Lp=rr(_l,{name:"MuiDialog",slot:"Root",overridesResolver:function(e,t){return t.root}})({"@media print":{position:"absolute !important"}}),Np=rr("div",{name:"MuiDialog",slot:"Container",overridesResolver:function(e,t){var n=e.ownerState;return[t.container,t["scroll".concat(cr(n.scroll))]]}})((function(e){var t=e.ownerState;return u({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),Dp=rr(wr,{name:"MuiDialog",slot:"Paper",overridesResolver:function(e,t){var n=e.ownerState;return[t.paper,t["scrollPaper".concat(cr(n.scroll))],t["paperWidth".concat(cr(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((function(e){var t=e.theme,n=e.ownerState;return u({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&s({maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)")},"&.".concat(Ap.paperScrollBody),s({},t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})),n.maxWidth&&"xs"!==n.maxWidth&&s({maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)},"&.".concat(Ap.paperScrollBody),s({},t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64),{maxWidth:"calc(100% - 64px)"})),n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&s({margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0},"&.".concat(Ap.paperScrollBody),{margin:0,maxWidth:"100%"}))})),Up=t.forwardRef((function(e,n){var r=ur({props:e,name:"MuiDialog"}),i=Ra(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},o=r["aria-describedby"],s=r["aria-labelledby"],c=r.BackdropComponent,h=r.BackdropProps,p=r.children,v=r.className,m=r.disableEscapeKeyDown,g=void 0!==m&&m,y=r.fullScreen,b=void 0!==y&&y,x=r.fullWidth,w=void 0!==x&&x,S=r.maxWidth,_=void 0===S?"sm":S,k=r.onBackdropClick,E=r.onClose,C=r.open,M=r.PaperComponent,T=void 0===M?wr:M,R=r.PaperProps,A=void 0===R?{}:R,P=r.scroll,I=void 0===P?"paper":P,O=r.TransitionComponent,L=void 0===O?fl:O,N=r.transitionDuration,D=void 0===N?a:N,U=r.TransitionProps,F=l(r,Ip),z=u({},r,{disableEscapeKeyDown:g,fullScreen:b,fullWidth:w,maxWidth:_,scroll:I}),B=function(e){var t=e.classes,n=e.scroll,r=e.maxWidth,i=e.fullWidth,a=e.fullScreen;return f({root:["root"],container:["container","scroll".concat(cr(n))],paper:["paper","paperScroll".concat(cr(n)),"paperWidth".concat(cr(String(r))),i&&"paperFullWidth",a&&"paperFullScreen"]},Rp,t)}(z),j=t.useRef(),H=Tp(s),G=t.useMemo((function(){return{titleId:H}}),[H]);return(0,yr.jsx)(Lp,u({className:d(B.root,v),closeAfterTransition:!0,components:{Backdrop:Op},componentsProps:{backdrop:u({transitionDuration:D,as:c},h)},disableEscapeKeyDown:g,onClose:E,open:C,ref:n,onClick:function(e){j.current&&(j.current=null,k&&k(e),E&&E(e,"backdropClick"))},ownerState:z},F,{children:(0,yr.jsx)(L,u({appear:!0,in:C,timeout:D,role:"presentation"},U,{children:(0,yr.jsx)(Np,{className:d(B.container),onMouseDown:function(e){j.current=e.target===e.currentTarget},ownerState:z,children:(0,yr.jsx)(Dp,u({as:T,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":H},A,{className:d(B.paper,A.className),ownerState:z,children:(0,yr.jsx)(Pp.Provider,{value:G,children:p})}))})}))}))})),Fp=Up;function zp(e){return vr("MuiTab",e)}var Bp,jp=mr("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Hp=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Gp=rr(_i,{name:"MuiTab",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.label&&n.icon&&t.labelIcon,t["textColor".concat(cr(n.textColor))],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState;return u({},i.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},a.label&&{flexDirection:"top"===a.iconPosition||"bottom"===a.iconPosition?"column":"row"},{lineHeight:1.25},a.icon&&a.label&&s({minHeight:72,paddingTop:9,paddingBottom:9},"& > .".concat(jp.iconWrapper),u({},"top"===a.iconPosition&&{marginBottom:6},"bottom"===a.iconPosition&&{marginTop:6},"start"===a.iconPosition&&{marginRight:i.spacing(1)},"end"===a.iconPosition&&{marginLeft:i.spacing(1)})),"inherit"===a.textColor&&(s(t={color:"inherit",opacity:.6},"&.".concat(jp.selected),{opacity:1}),s(t,"&.".concat(jp.disabled),{opacity:(i.vars||i).palette.action.disabledOpacity}),t),"primary"===a.textColor&&(s(n={color:(i.vars||i).palette.text.secondary},"&.".concat(jp.selected),{color:(i.vars||i).palette.primary.main}),s(n,"&.".concat(jp.disabled),{color:(i.vars||i).palette.text.disabled}),n),"secondary"===a.textColor&&(s(r={color:(i.vars||i).palette.text.secondary},"&.".concat(jp.selected),{color:(i.vars||i).palette.secondary.main}),s(r,"&.".concat(jp.disabled),{color:(i.vars||i).palette.text.disabled}),r),a.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},a.wrapped&&{fontSize:i.typography.pxToRem(12)})})),Vp=t.forwardRef((function(e,n){var r=ur({props:e,name:"MuiTab"}),i=r.className,a=r.disabled,o=void 0!==a&&a,s=r.disableFocusRipple,c=void 0!==s&&s,h=r.fullWidth,p=r.icon,v=r.iconPosition,m=void 0===v?"top":v,g=r.indicator,y=r.label,b=r.onChange,x=r.onClick,w=r.onFocus,S=r.selected,_=r.selectionFollowsFocus,k=r.textColor,E=void 0===k?"inherit":k,C=r.value,M=r.wrapped,T=void 0!==M&&M,R=l(r,Hp),A=u({},r,{disabled:o,disableFocusRipple:c,selected:S,icon:!!p,iconPosition:m,label:!!y,fullWidth:h,textColor:E,wrapped:T}),P=function(e){var t=e.classes,n=e.textColor,r=e.fullWidth,i=e.wrapped,a=e.icon,o=e.label,s=e.selected,l=e.disabled;return f({root:["root",a&&o&&"labelIcon","textColor".concat(cr(n)),r&&"fullWidth",i&&"wrapped",s&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]},zp,t)}(A),I=p&&y&&t.isValidElement(p)?t.cloneElement(p,{className:d(P.iconWrapper,p.props.className)}):p;return(0,yr.jsxs)(Gp,u({focusRipple:!c,className:d(P.root,i),ref:n,role:"tab","aria-selected":S,disabled:o,onClick:function(e){!S&&b&&b(e,C),x&&x(e)},onFocus:function(e){_&&!S&&b&&b(e,C),w&&w(e)},ownerState:A,tabIndex:S?0:-1},R,{children:["top"===m||"start"===m?(0,yr.jsxs)(t.Fragment,{children:[I,y]}):(0,yr.jsxs)(t.Fragment,{children:[y,I]}),g]}))})),Wp=Vp,qp=t.createContext(null);function Xp(e){var n=e.children,r=e.value,i=function(){var e=M(t.useState(null),2),n=e[0],r=e[1];return t.useEffect((function(){r("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),n}(),a=t.useMemo((function(){return{idPrefix:i,value:r}}),[i,r]);return(0,yr.jsx)(qp.Provider,{value:a,children:n})}function Yp(){return t.useContext(qp)}function Kp(e,t){return null===e.idPrefix?null:"".concat(e.idPrefix,"-P-").concat(t)}function Zp(e,t){return null===e.idPrefix?null:"".concat(e.idPrefix,"-T-").concat(t)}function Qp(){if(Bp)return Bp;var e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),Bp="reverse",e.scrollLeft>0?Bp="default":(e.scrollLeft=1,0===e.scrollLeft&&(Bp="negative")),document.body.removeChild(e),Bp}function $p(e,t){var n=e.scrollLeft;if("rtl"!==t)return n;switch(Qp()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function Jp(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}var ev=["onChange"],tv={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};var nv=Ni((0,yr.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),rv=Ni((0,yr.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function iv(e){return vr("MuiTabScrollButton",e)}var av=mr("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),ov=["className","slots","slotProps","direction","orientation","disabled"],sv=rr(_i,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.orientation&&t[n.orientation]]}})((function(e){var t=e.ownerState;return u(s({width:40,flexShrink:0,opacity:.8},"&.".concat(av.disabled),{opacity:0}),"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:"rotate(".concat(t.isRtl?-90:90,"deg)")}})})),lv=t.forwardRef((function(e,t){var n,r,i=ur({props:e,name:"MuiTabScrollButton"}),a=i.className,o=i.slots,s=void 0===o?{}:o,c=i.slotProps,h=void 0===c?{}:c,p=i.direction,v=l(i,ov),m=u({isRtl:"rtl"===Ra().direction},i),g=function(e){var t=e.classes;return f({root:["root",e.orientation,e.disabled&&"disabled"]},iv,t)}(m),y=null!=(n=s.StartScrollButtonIcon)?n:nv,b=null!=(r=s.EndScrollButtonIcon)?r:rv,x=ss({elementType:y,externalSlotProps:h.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m}),w=ss({elementType:b,externalSlotProps:h.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m});return(0,yr.jsx)(sv,u({component:"div",className:d(g.root,a),ref:t,role:null,ownerState:m,tabIndex:null},v,{children:"left"===p?(0,yr.jsx)(y,u({},x)):(0,yr.jsx)(b,u({},w))}))}));function uv(e){return vr("MuiTabs",e)}var cv=mr("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),dv=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],fv=function(e,t){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild},hv=function(e,t){return e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild},pv=function(e,t,n){for(var r=!1,i=n(e,t);i;){if(i===e.firstChild){if(r)return;r=!0}var a=i.disabled||"true"===i.getAttribute("aria-disabled");if(i.hasAttribute("tabindex")&&!a)return void i.focus();i=n(e,i)}},vv=rr("div",{name:"MuiTabs",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[s({},"& .".concat(cv.scrollButtons),t.scrollButtons),s({},"& .".concat(cv.scrollButtons),n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile),t.root,n.vertical&&t.vertical]}})((function(e){var t=e.ownerState,n=e.theme;return u({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&s({},"& .".concat(cv.scrollButtons),s({},n.breakpoints.down("sm"),{display:"none"})))})),mv=rr("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:function(e,t){var n=e.ownerState;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})((function(e){var t=e.ownerState;return u({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),gv=rr("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:function(e,t){var n=e.ownerState;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})((function(e){var t=e.ownerState;return u({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})})),yv=rr("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:function(e,t){return t.indicator}})((function(e){var t=e.ownerState,n=e.theme;return u({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})})),bv=rr((function(e){var n=e.onChange,r=l(e,ev),i=t.useRef(),a=t.useRef(null),o=function(){i.current=a.current.offsetHeight-a.current.clientHeight};return ms((function(){var e=Es((function(){var e=i.current;o(),e!==i.current&&n(i.current)})),t=Ms(a.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}),[n]),t.useEffect((function(){o(),n(i.current)}),[n]),(0,yr.jsx)("div",u({style:tv,ref:a},r))}))({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),xv={},wv=t.forwardRef((function(e,n){var r=ur({props:e,name:"MuiTabs"}),i=Ra(),a="rtl"===i.direction,o=r["aria-label"],c=r["aria-labelledby"],h=r.action,p=r.centered,v=void 0!==p&&p,m=r.children,g=r.className,y=r.component,b=void 0===y?"div":y,x=r.allowScrollButtonsMobile,w=void 0!==x&&x,S=r.indicatorColor,_=void 0===S?"primary":S,k=r.onChange,E=r.orientation,C=void 0===E?"horizontal":E,T=r.ScrollButtonComponent,R=void 0===T?lv:T,A=r.scrollButtons,P=void 0===A?"auto":A,I=r.selectionFollowsFocus,O=r.slots,L=void 0===O?{}:O,N=r.slotProps,D=void 0===N?{}:N,U=r.TabIndicatorProps,F=void 0===U?{}:U,z=r.TabScrollButtonProps,B=void 0===z?{}:z,j=r.textColor,H=void 0===j?"primary":j,G=r.value,V=r.variant,W=void 0===V?"standard":V,q=r.visibleScrollbar,X=void 0!==q&&q,Y=l(r,dv),K="scrollable"===W,Z="vertical"===C,Q=Z?"scrollTop":"scrollLeft",$=Z?"top":"left",J=Z?"bottom":"right",ee=Z?"clientHeight":"clientWidth",te=Z?"height":"width",ne=u({},r,{component:b,allowScrollButtonsMobile:w,indicatorColor:_,orientation:C,vertical:Z,scrollButtons:P,textColor:H,variant:W,visibleScrollbar:X,fixed:!K,hideScrollbar:K&&!X,scrollableX:K&&!Z,scrollableY:K&&Z,centered:v&&!K,scrollButtonsHideMobile:!w}),re=function(e){var t=e.vertical,n=e.fixed,r=e.hideScrollbar,i=e.scrollableX;return f({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",e.scrollableY&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",e.centered&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",e.scrollButtonsHideMobile&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},uv,e.classes)}(ne),ie=ss({elementType:L.StartScrollButtonIcon,externalSlotProps:D.startScrollButtonIcon,ownerState:ne}),ae=ss({elementType:L.EndScrollButtonIcon,externalSlotProps:D.endScrollButtonIcon,ownerState:ne});var oe=M(t.useState(!1),2),se=oe[0],le=oe[1],ue=M(t.useState(xv),2),ce=ue[0],de=ue[1],fe=M(t.useState(!1),2),he=fe[0],pe=fe[1],ve=M(t.useState(!1),2),me=ve[0],ge=ve[1],ye=M(t.useState(!1),2),be=ye[0],xe=ye[1],we=M(t.useState({overflow:"hidden",scrollbarWidth:0}),2),Se=we[0],_e=we[1],ke=new Map,Ee=t.useRef(null),Ce=t.useRef(null),Me=function(){var e,t,n=Ee.current;if(n){var r=n.getBoundingClientRect();e={clientWidth:n.clientWidth,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollLeftNormalized:$p(n,i.direction),scrollWidth:n.scrollWidth,top:r.top,bottom:r.bottom,left:r.left,right:r.right}}if(n&&!1!==G){var a=Ce.current.children;if(a.length>0){var o=a[ke.get(G)];0,t=o?o.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},Te=Ar((function(){var e,t,n=Me(),r=n.tabsMeta,i=n.tabMeta,o=0;if(Z)t="top",i&&r&&(o=i.top-r.top+r.scrollTop);else if(t=a?"right":"left",i&&r){var l=a?r.scrollLeftNormalized+r.clientWidth-r.scrollWidth:r.scrollLeft;o=(a?-1:1)*(i[t]-r[t]+l)}var u=(s(e={},t,o),s(e,te,i?i[te]:0),e);if(isNaN(ce[t])||isNaN(ce[te]))de(u);else{var c=Math.abs(ce[t]-u[t]),d=Math.abs(ce[te]-u[te]);(c>=1||d>=1)&&de(u)}})),Re=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).animation;void 0===t||t?function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},a=r.ease,o=void 0===a?Jp:a,s=r.duration,l=void 0===s?300:s,u=null,c=t[e],d=!1,f=function(){d=!0};c===n?i(new Error("Element already at target position")):requestAnimationFrame((function r(a){if(d)i(new Error("Animation cancelled"));else{null===u&&(u=a);var s=Math.min(1,(a-u)/l);t[e]=o(s)*(n-c)+c,s>=1?requestAnimationFrame((function(){i(null)})):requestAnimationFrame(r)}}))}(Q,Ee.current,e,{duration:i.transitions.duration.standard}):Ee.current[Q]=e},Ae=function(e){var t=Ee.current[Q];Z?t+=e:(t+=e*(a?-1:1),t*=a&&"reverse"===Qp()?-1:1),Re(t)},Pe=function(){for(var e=Ee.current[ee],t=0,n=Array.from(Ce.current.children),r=0;r<n.length;r+=1){var i=n[r];if(t+i[ee]>e){0===r&&(t=e);break}t+=i[ee]}return t},Ie=function(){Ae(-1*Pe())},Oe=function(){Ae(Pe())},Le=t.useCallback((function(e){_e({overflow:null,scrollbarWidth:e})}),[]),Ne=Ar((function(e){var t=Me(),n=t.tabsMeta,r=t.tabMeta;if(r&&n)if(r[$]<n[$]){var i=n[Q]+(r[$]-n[$]);Re(i,{animation:e})}else if(r[J]>n[J]){var a=n[Q]+(r[J]-n[J]);Re(a,{animation:e})}})),De=Ar((function(){K&&!1!==P&&xe(!be)}));t.useEffect((function(){var e,t=Es((function(){Ee.current&&Te()})),n=Ms(Ee.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t),Array.from(Ce.current.children).forEach((function(t){e.observe(t)}))),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[Te]),t.useEffect((function(){var e=Array.from(Ce.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&K&&!1!==P){var n=e[0],r=e[t-1],i={root:Ee.current,threshold:.99},a=new IntersectionObserver((function(e){pe(!e[0].isIntersecting)}),i);a.observe(n);var o=new IntersectionObserver((function(e){ge(!e[0].isIntersecting)}),i);return o.observe(r),function(){a.disconnect(),o.disconnect()}}}),[K,P,be,null==m?void 0:m.length]),t.useEffect((function(){le(!0)}),[]),t.useEffect((function(){Te()})),t.useEffect((function(){Ne(xv!==ce)}),[Ne,ce]),t.useImperativeHandle(h,(function(){return{updateIndicator:Te,updateScrollButtons:De}}),[Te,De]);var Ue=(0,yr.jsx)(yv,u({},F,{className:d(re.indicator,F.className),ownerState:ne,style:u({},ce,F.style)})),Fe=0,ze=t.Children.map(m,(function(e){if(!t.isValidElement(e))return null;var n=void 0===e.props.value?Fe:e.props.value;ke.set(n,Fe);var r=n===G;return Fe+=1,t.cloneElement(e,u({fullWidth:"fullWidth"===W,indicator:r&&!se&&Ue,selected:r,selectionFollowsFocus:I,onChange:k,textColor:H,value:n},1!==Fe||!1!==G||e.props.tabIndex?{}:{tabIndex:0}))})),Be=function(){var e={};e.scrollbarSizeListener=K?(0,yr.jsx)(bv,{onChange:Le,className:d(re.scrollableX,re.hideScrollbar)}):null;var t=K&&("auto"===P&&(he||me)||!0===P);return e.scrollButtonStart=t?(0,yr.jsx)(R,u({slots:{StartScrollButtonIcon:L.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:ie},orientation:C,direction:a?"right":"left",onClick:Ie,disabled:!he},B,{className:d(re.scrollButtons,B.className)})):null,e.scrollButtonEnd=t?(0,yr.jsx)(R,u({slots:{EndScrollButtonIcon:L.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:ae},orientation:C,direction:a?"left":"right",onClick:Oe,disabled:!me},B,{className:d(re.scrollButtons,B.className)})):null,e}();return(0,yr.jsxs)(vv,u({className:d(re.root,g),ownerState:ne,ref:n,as:b},Y,{children:[Be.scrollButtonStart,Be.scrollbarSizeListener,(0,yr.jsxs)(mv,{className:re.scroller,ownerState:ne,style:s({overflow:Se.overflow},Z?"margin".concat(a?"Left":"Right"):"marginBottom",X?void 0:-Se.scrollbarWidth),ref:Ee,children:[(0,yr.jsx)(gv,{"aria-label":o,"aria-labelledby":c,"aria-orientation":"vertical"===C?"vertical":null,className:re.flexContainer,ownerState:ne,onKeyDown:function(e){var t=Ce.current,n=ts(t).activeElement;if("tab"===n.getAttribute("role")){var r="horizontal"===C?"ArrowLeft":"ArrowUp",i="horizontal"===C?"ArrowRight":"ArrowDown";switch("horizontal"===C&&a&&(r="ArrowRight",i="ArrowLeft"),e.key){case r:e.preventDefault(),pv(t,n,hv);break;case i:e.preventDefault(),pv(t,n,fv);break;case"Home":e.preventDefault(),pv(t,null,fv);break;case"End":e.preventDefault(),pv(t,null,hv)}}},ref:Ce,role:"tablist",children:ze}),se&&Ue]}),Be.scrollButtonEnd]}))})),Sv=wv,_v=["children"],kv=t.forwardRef((function(e,n){var r=e.children,i=l(e,_v),a=Yp();if(null===a)throw new TypeError("No TabContext provided");var o=t.Children.map(r,(function(e){return t.isValidElement(e)?t.cloneElement(e,{"aria-controls":Kp(a,e.props.value),id:Zp(a,e.props.value)}):null}));return(0,yr.jsx)(Sv,u({},i,{ref:n,value:a.value,children:o}))})),Ev=kv;function Cv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}function Mv(e){return vr("MuiTabPanel",e)}mr("MuiTabPanel",["root"]);var Tv=["children","className","value"],Rv=rr("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){return{padding:e.theme.spacing(3)}})),Av=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiTabPanel"}),r=n.children,i=n.className,a=n.value,o=l(n,Tv),s=u({},n),c=function(e){return Cv({root:["root"]},Mv,e.classes)}(s),f=Yp();if(null===f)throw new TypeError("No TabContext provided");var h=Kp(f,a),p=Zp(f,a);return(0,yr.jsx)(Rv,u({"aria-labelledby":p,className:d(c.root,i),hidden:a!==f.value,id:h,ref:t,role:"tabpanel",ownerState:s},o,{children:a===f.value&&r}))})),Pv=Av;function Iv(e){return e.substring(2).toLowerCase()}function Ov(e){var n=e.children,r=e.disableReactTree,i=void 0!==r&&r,a=e.mouseEvent,o=void 0===a?"onClick":a,s=e.onClickAway,l=e.touchEvent,u=void 0===l?"onTouchEnd":l,c=t.useRef(!1),d=t.useRef(null),f=t.useRef(!1),h=t.useRef(!1);t.useEffect((function(){return setTimeout((function(){f.current=!0}),0),function(){f.current=!1}}),[]);var p=Er(n.ref,d),v=Rr((function(e){var t=h.current;h.current=!1;var n=es(d.current);!f.current||!d.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,n)||(c.current?c.current=!1:(e.composedPath?e.composedPath().indexOf(d.current)>-1:!n.documentElement.contains(e.target)||d.current.contains(e.target))||!i&&t||s(e))})),m=function(e){return function(t){h.current=!0;var r=n.props[e];r&&r(t)}},g={ref:p};return!1!==u&&(g[u]=m(u)),t.useEffect((function(){if(!1!==u){var e=Iv(u),t=es(d.current),n=function(){c.current=!0};return t.addEventListener(e,v),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,v),t.removeEventListener("touchmove",n)}}}),[v,u]),!1!==o&&(g[o]=m(o)),t.useEffect((function(){if(!1!==o){var e=Iv(o),t=es(d.current);return t.addEventListener(e,v),function(){t.removeEventListener(e,v)}}}),[v,o]),(0,yr.jsx)(t.Fragment,{children:t.cloneElement(n,g)})}function Lv(e){return vr("MuiSnackbarContent",e)}mr("MuiSnackbarContent",["root","message","action"]);var Nv=["action","className","message","role"],Dv=rr(wr,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t=e.theme,n="light"===t.palette.mode?.8:.98,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return g(e)>.5?b(e,t):x(e,t)}(t.palette.background.default,n);return u({},t.typography.body2,s({color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(r),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1},t.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288}))})),Uv=rr("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0"}),Fv=rr("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),zv=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiSnackbarContent"}),r=n.action,i=n.className,a=n.message,o=n.role,s=void 0===o?"alert":o,c=l(n,Nv),h=n,p=function(e){return f({root:["root"],action:["action"],message:["message"]},Lv,e.classes)}(h);return(0,yr.jsxs)(Dv,u({role:s,square:!0,elevation:6,className:d(p.root,i),ownerState:h,ref:t},c,{children:[(0,yr.jsx)(Uv,{className:p.message,ownerState:h,children:a}),r?(0,yr.jsx)(Fv,{className:p.action,ownerState:h,children:r}):null]}))}));function Bv(e){return vr("MuiSnackbar",e)}mr("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);var jv,Hv,Gv=["onEnter","onExited"],Vv=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Wv=rr("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["anchorOrigin".concat(cr(n.anchorOrigin.vertical)).concat(cr(n.anchorOrigin.horizontal))]]}})((function(e){var t=e.theme,n=e.ownerState;return u({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===n.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===n.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===n.anchorOrigin.horizontal&&{justifyContent:"flex-end"},s({},t.breakpoints.up("sm"),u({},"top"===n.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===n.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},"left"===n.anchorOrigin.horizontal&&{left:24,right:"auto"},"right"===n.anchorOrigin.horizontal&&{right:24,left:"auto"})))})),qv=t.forwardRef((function(e,n){var r=ur({props:e,name:"MuiSnackbar"}),i=Ra(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},o=r.action,s=r.anchorOrigin,c=void 0===s?{vertical:"bottom",horizontal:"left"}:s,d=c.vertical,h=c.horizontal,p=r.autoHideDuration,v=void 0===p?null:p,m=r.children,g=r.className,y=r.ClickAwayListenerProps,b=r.ContentProps,x=r.disableWindowBlurListener,w=void 0!==x&&x,S=r.message,_=r.open,k=r.TransitionComponent,E=void 0===k?Ws:k,C=r.transitionDuration,T=void 0===C?a:C,R=r.TransitionProps,A=void 0===R?{}:R,P=A.onEnter,I=A.onExited,O=l(r.TransitionProps,Gv),L=l(r,Vv),N=u({},r,{anchorOrigin:{vertical:d,horizontal:h},autoHideDuration:v,disableWindowBlurListener:w,TransitionComponent:E,transitionDuration:T}),D=function(e){var t=e.classes,n=e.anchorOrigin;return f({root:["root","anchorOrigin".concat(cr(n.vertical)).concat(cr(n.horizontal))]},Bv,t)}(N),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoHideDuration,r=void 0===n?null:n,i=e.disableWindowBlurListener,a=void 0!==i&&i,o=e.onClose,s=e.open,l=e.resumeHideDuration,c=t.useRef();t.useEffect((function(){if(s)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||null==o||o(e,"escapeKeyDown")}}),[s,o]);var d=Rr((function(e,t){null==o||o(e,t)})),f=Rr((function(e){o&&null!=e&&(clearTimeout(c.current),c.current=setTimeout((function(){d(null,"timeout")}),e))}));t.useEffect((function(){return s&&f(r),function(){clearTimeout(c.current)}}),[s,r,f]);var h=function(){clearTimeout(c.current)},p=t.useCallback((function(){null!=r&&f(null!=l?l:.5*r)}),[r,l,f]),v=function(e){return function(t){var n=e.onFocus;null==n||n(t),h()}},m=function(e){return function(t){var n=e.onMouseEnter;null==n||n(t),h()}},g=function(e){return function(t){var n=e.onMouseLeave;null==n||n(t),p()}};return t.useEffect((function(){if(!a&&s)return window.addEventListener("focus",p),window.addEventListener("blur",h),function(){window.removeEventListener("focus",p),window.removeEventListener("blur",h)}}),[a,p,s]),{getRootProps:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=u({},is(e),is(n));return u({role:"presentation"},n,r,{onBlur:(t=r,function(e){var n=t.onBlur;null==n||n(e),p()}),onFocus:v(r),onMouseEnter:m(r),onMouseLeave:g(r)})},onClickAway:function(e){null==o||o(e,"clickaway")}}}(u({},N)),F=U.getRootProps,z=U.onClickAway,B=M(t.useState(!0),2),j=B[0],H=B[1],G=ss({elementType:Wv,getSlotProps:F,externalForwardedProps:L,ownerState:N,additionalProps:{ref:n},className:[D.root,g]});return!_&&j?null:(0,yr.jsx)(Ov,u({onClickAway:z},y,{children:(0,yr.jsx)(Wv,u({},G,{children:(0,yr.jsx)(E,u({appear:!0,in:_,timeout:T,direction:"top"===d?"down":"up",onEnter:function(e,t){H(!1),P&&P(e,t)},onExited:function(e){H(!0),I&&I(e)}},O,{children:m||(0,yr.jsx)(zv,u({message:S,action:o},b))}))}))}))})),Xv=qv;function Yv(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Ine){return!1}}function Kv(e,t,n){return Kv=Yv()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&jr(i,n.prototype),i},Kv.apply(null,arguments)}function Zv(e,t){if(null==e)return{};var n,r,i=l(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qv(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jv(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function em(e){return E(e)||S(e)||_(e)||C()}function tm(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jr(e,t)}function nm(e){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nm(e)}function rm(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Br(e)}function im(e){var t=Yv();return function(){var n,r=nm(e);if(t){var i=nm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rm(this,n)}}function am(e){var t="function"===typeof Map?new Map:void 0;return am=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Kv(e,arguments,nm(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),jr(r,e)},am(e)}function om(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function sm(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){om(a,r,i,o,s,"next",e)}function s(e){om(a,r,i,o,s,"throw",e)}o(void 0)}))}}function lm(){return lm="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nm(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},lm.apply(this,arguments)}function um(){um=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),s=new P(r||[]);return i(o,"_invoke",{value:M(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",p="suspendedYield",v="executing",m="completed",g={};function y(){}function b(){}function x(){}var w={};c(w,s,(function(){return this}));var S=Object.getPrototypeOf,_=S&&S(S(I([])));_&&_!==n&&r.call(_,s)&&(w=_);var k=x.prototype=y.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,s,l){var u=f(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function M(t,n,r){var i=h;return function(a,o){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var l=T(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var u=f(t,n,r);if("normal"===u.type){if(i=r.done?m:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=m,r.method="throw",r.arg=u.arg)}}}function T(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=f(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=x,i(k,"constructor",{value:x,configurable:!0}),i(x,"constructor",{value:b,configurable:!0}),b.displayName=c(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,c(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(C.prototype),c(C.prototype,l,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new C(d(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(k),c(k,u,"Generator"),c(k,s,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}var cm="154",dm={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},fm={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},hm=0,pm=1,vm=2,mm=3,gm=0,ym=1,bm=2,xm=3,wm=0,Sm=1,_m=2,km=2,Em=0,Cm=1,Mm=2,Tm=3,Rm=4,Am=5,Pm=100,Im=101,Om=102,Lm=103,Nm=104,Dm=200,Um=201,Fm=202,zm=203,Bm=204,jm=205,Hm=206,Gm=207,Vm=208,Wm=209,qm=210,Xm=0,Ym=1,Km=2,Zm=3,Qm=4,$m=5,Jm=6,eg=7,tg=0,ng=1,rg=2,ig=0,ag=1,og=2,sg=3,lg=4,ug=5,cg=300,dg=301,fg=302,hg=303,pg=304,vg=306,mg=1e3,gg=1001,yg=1002,bg=1003,xg=1004,wg=1004,Sg=1005,_g=1005,kg=1006,Eg=1007,Cg=1007,Mg=1008,Tg=1008,Rg=1009,Ag=1010,Pg=1011,Ig=1012,Og=1013,Lg=1014,Ng=1015,Dg=1016,Ug=1017,Fg=1018,zg=1020,Bg=1021,jg=1023,Hg=1024,Gg=1025,Vg=1026,Wg=1027,qg=1028,Xg=1029,Yg=1030,Kg=1031,Zg=1033,Qg=33776,$g=33777,Jg=33778,ey=33779,ty=35840,ny=35841,ry=35842,iy=35843,ay=36196,oy=37492,sy=37496,ly=37808,uy=37809,cy=37810,dy=37811,fy=37812,hy=37813,py=37814,vy=37815,my=37816,gy=37817,yy=37818,by=37819,xy=37820,wy=37821,Sy=36492,_y=36283,ky=36284,Ey=36285,Cy=36286,My=2200,Ty=2201,Ry=2202,Ay=2300,Py=2301,Iy=2302,Oy=2400,Ly=2401,Ny=2402,Dy=2500,Uy=2501,Fy=0,zy=1,By=2,jy=3e3,Hy=3001,Gy=3200,Vy=3201,Wy=0,qy=1,Xy="",Yy="srgb",Ky="srgb-linear",Zy="display-p3",Qy=0,$y=7680,Jy=7681,eb=7682,tb=7683,nb=34055,rb=34056,ib=5386,ab=512,ob=513,sb=514,lb=515,ub=516,cb=517,db=518,fb=519,hb=512,pb=513,vb=514,mb=515,gb=516,yb=517,bb=518,xb=519,wb=35044,Sb=35048,_b=35040,kb=35045,Eb=35049,Cb=35041,Mb=35046,Tb=35050,Rb=35042,Ab="100",Pb="300 es",Ib=1035,Ob=2e3,Lb=2001,Nb=function(){function e(){Xs(this,e)}return Ks(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),Db=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Ub=1234567,Fb=Math.PI/180,zb=180/Math.PI;function Bb(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Db[255&e]+Db[e>>8&255]+Db[e>>16&255]+Db[e>>24&255]+"-"+Db[255&t]+Db[t>>8&255]+"-"+Db[t>>16&15|64]+Db[t>>24&255]+"-"+Db[63&n|128]+Db[n>>8&255]+"-"+Db[n>>16&255]+Db[n>>24&255]+Db[255&r]+Db[r>>8&255]+Db[r>>16&255]+Db[r>>24&255]).toLowerCase()}function jb(e,t,n){return Math.max(t,Math.min(n,e))}function Hb(e,t){return(e%t+t)%t}function Gb(e,t,n){return(1-n)*e+n*t}function Vb(e){return 0===(e&e-1)&&0!==e}function Wb(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function qb(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function Xb(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Yb(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var Kb={DEG2RAD:Fb,RAD2DEG:zb,generateUUID:Bb,clamp:jb,euclideanModulo:Hb,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Gb,damp:function(e,t,n,r){return Gb(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Hb(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Ub=e);var t=Ub+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Fb},radToDeg:function(e){return e*zb},isPowerOfTwo:Vb,ceilPowerOfTwo:Wb,floorPowerOfTwo:qb,setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((t+r)/2),c=o((t+r)/2),d=a((t-r)/2),f=o((t-r)/2),h=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*c,l*d,l*f,s*u);break;case"YZY":e.set(l*f,s*c,l*d,s*u);break;case"ZXZ":e.set(l*d,l*f,s*c,s*u);break;case"XZX":e.set(s*c,l*p,l*h,s*u);break;case"YXY":e.set(l*h,s*c,l*p,s*u);break;case"ZYZ":e.set(l*p,l*h,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:Yb,denormalize:Xb},Zb=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Xs(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return Ks(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(jb(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:um().mark((function e(){return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(),Qb=function(){function e(t,n,r,i,a,o,s,l,u){Xs(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,l,u)}return Ks(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],d=n[2],f=n[5],h=n[8],p=r[0],v=r[3],m=r[6],g=r[1],y=r[4],b=r[7],x=r[2],w=r[5],S=r[8];return i[0]=a*p+o*g+s*x,i[3]=a*v+o*y+s*w,i[6]=a*m+o*b+s*S,i[1]=l*p+u*g+c*x,i[4]=l*v+u*y+c*w,i[7]=l*m+u*b+c*S,i[2]=d*p+f*g+h*x,i[5]=d*v+f*y+h*w,i[8]=d*m+f*b+h*S,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-n*i*u+n*o*s+r*i*l-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*a-o*l,d=o*s-u*i,f=l*i-a*s,h=t*c+n*d+r*f;if(0===h)return this.set(0,0,0,0,0,0,0,0,0);var p=1/h;return e[0]=c*p,e[1]=(r*l-u*n)*p,e[2]=(o*n-r*a)*p,e[3]=d*p,e[4]=(u*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=f*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply($b.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply($b.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply($b.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}(),$b=new Qb;function Jb(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var ex={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function tx(e,t){return new ex[e](t)}function nx(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}var rx={};function ix(e){e in rx||(rx[e]=!0,console.warn(e))}function ax(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function ox(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var sx=(new Qb).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),lx=(new Qb).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);var ux,cx=(s(jv={},Ky,(function(e){return e})),s(jv,Yy,(function(e){return e.convertSRGBToLinear()})),s(jv,Zy,(function(e){return e.convertSRGBToLinear().applyMatrix3(lx)})),jv),dx=(s(Hv={},Ky,(function(e){return e})),s(Hv,Yy,(function(e){return e.convertLinearToSRGB()})),s(Hv,Zy,(function(e){return e.applyMatrix3(sx).convertLinearToSRGB()})),Hv),fx={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!e},get workingColorSpace(){return Ky},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;var r=cx[t],i=dx[n];if(void 0===r||void 0===i)throw new Error('Unsupported color space conversion, "'.concat(t,'" to "').concat(n,'".'));return i(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},hx=function(){function e(){Xs(this,e)}return Ks(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===ux&&(ux=nx("canvas")),ux.width=e.width,ux.height=e.height;var n=ux.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=ux}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=nx("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,a=0;a<i.length;a++)i[a]=255*ax(i[a]/255);return n.putImageData(r,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*ax(o[s]/255)):o[s]=ax(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),px=0,vx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Xs(this,e),this.isSource=!0,Object.defineProperty(this,"id",{value:px++}),this.uuid=Bb(),this.data=t,this.version=0}return Ks(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(mx(r[a].image)):i.push(mx(r[a]))}else i=mx(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function mx(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?hx.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var gx=0,yx=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gg,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:gg,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:kg,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Mg,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:jg,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Rg,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Xy;return Xs(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty(Br(e),"id",{value:gx++}),e.uuid=Bb(),e.name="",e.source=new vx(r),e.mipmaps=[],e.mapping=i,e.channel=0,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=l,e.anisotropy=d,e.format=u,e.internalFormat=null,e.type=c,e.offset=new Zb(0,0),e.repeat=new Zb(1,1),e.center=new Zb(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new Qb,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,"string"===typeof f?e.colorSpace=f:(ix("THREE.Texture: Property .encoding has been replaced by .colorSpace."),e.colorSpace=f===Hy?Yy:Xy),e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return Ks(n,[{key:"image",get:function(){return this.source.data},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(this.mapping!==cg)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case mg:e.x=e.x-Math.floor(e.x);break;case gg:e.x=e.x<0?0:1;break;case yg:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case mg:e.y=e.y-Math.floor(e.y);break;case gg:e.y=e.y<0?0:1;break;case yg:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}},{key:"encoding",get:function(){return ix("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Yy?Hy:jy},set:function(e){ix("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Hy?Yy:Xy}}]),n}(Nb);yx.DEFAULT_IMAGE=null,yx.DEFAULT_MAPPING=cg,yx.DEFAULT_ANISOTROPY=1;var bx=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Xs(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}return Ks(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,s=e.elements,l=s[0],u=s[4],c=s[8],d=s[1],f=s[5],h=s[9],p=s[2],v=s[6],m=s[10];if(Math.abs(u-d)<a&&Math.abs(c-p)<a&&Math.abs(h-v)<a){if(Math.abs(u+d)<o&&Math.abs(c+p)<o&&Math.abs(h+v)<o&&Math.abs(l+f+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(l+1)/2,y=(f+1)/2,b=(m+1)/2,x=(u+d)/4,w=(c+p)/4,S=(h+v)/4;return g>y&&g>b?g<a?(n=0,r=.707106781,i=.707106781):(r=x/(n=Math.sqrt(g)),i=w/n):y>b?y<a?(n=.707106781,r=0,i=.707106781):(n=x/(r=Math.sqrt(y)),i=S/r):b<a?(n=.707106781,r=.707106781,i=0):(n=w/(i=Math.sqrt(b)),r=S/i),this.set(n,r,i,t),this}var _=Math.sqrt((v-h)*(v-h)+(c-p)*(c-p)+(d-u)*(d-u));return Math.abs(_)<.001&&(_=1),this.x=(v-h)/_,this.y=(c-p)/_,this.z=(d-u)/_,this.w=Math.acos((l+f+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:um().mark((function e(){return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(),xx=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Xs(this,n),(e=t.call(this)).isWebGLRenderTarget=!0,e.width=r,e.height=i,e.depth=1,e.scissor=new bx(0,0,r,i),e.scissorTest=!1,e.viewport=new bx(0,0,r,i);var o={width:r,height:i,depth:1};return void 0!==a.encoding&&(ix("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),a.colorSpace=a.encoding===Hy?Yy:Xy),e.texture=new yx(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.flipY=!1,e.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,e.texture.internalFormat=void 0!==a.internalFormat?a.internalFormat:null,e.texture.minFilter=void 0!==a.minFilter?a.minFilter:kg,e.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,e.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,e.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,e.samples=void 0!==a.samples?a.samples:0,e}return Ks(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new vx(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Nb),wx=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Xs(this,n),(e=t.call(this,null)).isDataArrayTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=bg,e.minFilter=bg,e.wrapR=gg,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return Ks(n)}(yx),Sx=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Xs(this,n),(e=t.call(this,r,i)).isWebGLArrayRenderTarget=!0,e.depth=a,e.texture=new wx(null,r,i,a),e.texture.isRenderTargetTexture=!0,e}return Ks(n)}(xx),_x=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Xs(this,n),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=bg,e.minFilter=bg,e.wrapR=gg,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return Ks(n)}(yx),kx=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Xs(this,n),(e=t.call(this,r,i)).isWebGL3DRenderTarget=!0,e.depth=a,e.texture=new _x(null,r,i,a),e.texture.isRenderTargetTexture=!0,e}return Ks(n)}(xx),Ex=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Xs(this,n),(e=t.call(this,r,i,o)).isWebGLMultipleRenderTargets=!0;var s=e.texture;e.texture=[];for(var l=0;l<a;l++)e.texture[l]=s.clone(),e.texture[l].isRenderTargetTexture=!0;return e}return Ks(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(var t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}]),n}(xx),Cx=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Xs(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}return Ks(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(i/2),d=s(n/2),f=s(r/2),h=s(i/2);switch(a){case"XYZ":this._x=d*u*c+l*f*h,this._y=l*f*c-d*u*h,this._z=l*u*h+d*f*c,this._w=l*u*c-d*f*h;break;case"YXZ":this._x=d*u*c+l*f*h,this._y=l*f*c-d*u*h,this._z=l*u*h-d*f*c,this._w=l*u*c+d*f*h;break;case"ZXY":this._x=d*u*c-l*f*h,this._y=l*f*c+d*u*h,this._z=l*u*h+d*f*c,this._w=l*u*c-d*f*h;break;case"ZYX":this._x=d*u*c-l*f*h,this._y=l*f*c+d*u*h,this._z=l*u*h-d*f*c,this._w=l*u*c+d*f*h;break;case"YZX":this._x=d*u*c+l*f*h,this._y=l*f*c+d*u*h,this._z=l*u*h-d*f*c,this._w=l*u*c-d*f*h;break;case"XZY":this._x=d*u*c-l*f*h,this._y=l*f*c-d*u*h,this._z=l*u*h+d*f*c,this._w=l*u*c+d*f*h;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],d=n+o+c;if(d>0){var f=.5/Math.sqrt(d+1);this._w=.25/f,this._x=(u-s)*f,this._y=(i-l)*f,this._z=(a-r)*f}else if(n>o&&n>c){var h=2*Math.sqrt(1+n-o-c);this._w=(u-s)/h,this._x=.25*h,this._y=(r+a)/h,this._z=(i+l)/h}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(i-l)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(s+u)/p}else{var v=2*Math.sqrt(1+c-n-o);this._w=(a-r)/v,this._x=(i+l)/v,this._y=(s+u)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(jb(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),d=Math.sin((1-t)*c)/u,f=Math.sin(t*c)/u;return this._w=a*d+this._w*f,this._x=n*d+this._x*f,this._y=r*d+this._y*f,this._z=i*d+this._z*f,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"toJSON",value:function(){return this.toArray()}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:um().mark((function e(){return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],d=i[a+0],f=i[a+1],h=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===o)return e[t+0]=d,e[t+1]=f,e[t+2]=h,void(e[t+3]=p);if(c!==p||s!==d||l!==f||u!==h){var v=1-o,m=s*d+l*f+u*h+c*p,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,m*g);v=Math.sin(v*x)/b,o=Math.sin(o*x)/b}var w=o*g;if(s=s*v+d*w,l=l*v+f*w,u=u*v+h*w,c=c*v+p*w,v===1-o){var S=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=S,l*=S,u*=S,c*=S}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[a],d=i[a+1],f=i[a+2],h=i[a+3];return e[t]=o*h+u*c+s*f-l*d,e[t+1]=s*h+u*d+l*c-o*f,e[t+2]=l*h+u*f+o*d-s*c,e[t+3]=u*h-o*c-s*d-l*f,e}}]),t}(),Mx=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Xs(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}return Ks(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(Rx.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(Rx.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*n,u=s*n+o*t-i*r,c=s*r+i*n-a*t,d=-i*t-a*n-o*r;return this.x=l*s+d*-i+u*-o-c*-a,this.y=u*s+d*-a+c*-i-l*-o,this.z=c*s+d*-o+l*-a-u*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return Tx.copy(this).projectOnVector(e),this.sub(Tx)}},{key:"reflect",value:function(e){return this.sub(Tx.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(jb(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"setFromColor",value:function(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:um().mark((function e(){return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),Tx=new Mx,Rx=new Cx,Ax=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mx(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mx(-1/0,-1/0,-1/0);Xs(this,e),this.isBox3=!0,this.min=t,this.max=n}return Ks(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t+=3)this.expandByPoint(Ix.fromArray(e,t));return this}},{key:"setFromBufferAttribute",value:function(e){this.makeEmpty();for(var t=0,n=e.count;t<n;t++)this.expandByPoint(Ix.fromBufferAttribute(e,t));return this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Ix.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),Ox.copy(e.boundingBox),Ox.applyMatrix4(e.matrixWorld),this.union(Ox);else{var n=e.geometry;if(void 0!==n)if(t&&void 0!==n.attributes&&void 0!==n.attributes.position)for(var r=n.attributes.position,i=0,a=r.count;i<a;i++)Ix.fromBufferAttribute(r,i).applyMatrix4(e.matrixWorld),this.expandByPoint(Ix);else null===n.boundingBox&&n.computeBoundingBox(),Ox.copy(n.boundingBox),Ox.applyMatrix4(e.matrixWorld),this.union(Ox)}for(var o=e.children,s=0,l=o.length;s<l;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Ix),Ix.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Bx),jx.subVectors(this.max,Bx),Lx.subVectors(e.a,Bx),Nx.subVectors(e.b,Bx),Dx.subVectors(e.c,Bx),Ux.subVectors(Nx,Lx),Fx.subVectors(Dx,Nx),zx.subVectors(Lx,Dx);var t=[0,-Ux.z,Ux.y,0,-Fx.z,Fx.y,0,-zx.z,zx.y,Ux.z,0,-Ux.x,Fx.z,0,-Fx.x,zx.z,0,-zx.x,-Ux.y,Ux.x,0,-Fx.y,Fx.x,0,-zx.y,zx.x,0];return!!Vx(t,Lx,Nx,Dx,jx)&&(!!Vx(t=[1,0,0,0,1,0,0,0,1],Lx,Nx,Dx,jx)&&(Hx.crossVectors(Ux,Fx),Vx(t=[Hx.x,Hx.y,Hx.z],Lx,Nx,Dx,jx)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,Ix).distanceTo(e)}},{key:"getBoundingSphere",value:function(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Ix).length()),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Px[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Px[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Px[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Px[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Px[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Px[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Px[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Px[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Px)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),Px=[new Mx,new Mx,new Mx,new Mx,new Mx,new Mx,new Mx,new Mx],Ix=new Mx,Ox=new Ax,Lx=new Mx,Nx=new Mx,Dx=new Mx,Ux=new Mx,Fx=new Mx,zx=new Mx,Bx=new Mx,jx=new Mx,Hx=new Mx,Gx=new Mx;function Vx(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){Gx.fromArray(e,a);var s=i.x*Math.abs(Gx.x)+i.y*Math.abs(Gx.y)+i.z*Math.abs(Gx.z),l=t.dot(Gx),u=n.dot(Gx),c=r.dot(Gx);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var Wx=new Ax,qx=new Mx,Xx=new Mx,Yx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mx,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;Xs(this,e),this.center=t,this.radius=n}return Ks(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):Wx.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;qx.subVectors(e,this.center);var t=qx.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.addScaledVector(qx,r/n),this.radius+=r}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Xx.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(qx.copy(e.center).add(Xx)),this.expandByPoint(qx.copy(e.center).sub(Xx))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Kx=new Mx,Zx=new Mx,Qx=new Mx,$x=new Mx,Jx=new Mx,ew=new Mx,tw=new Mx,nw=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mx,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mx(0,0,-1);Xs(this,e),this.origin=t,this.direction=n}return Ks(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,Kx)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=Kx.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Kx.copy(this.origin).addScaledVector(this.direction,t),Kx.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){Zx.copy(e).add(t).multiplyScalar(.5),Qx.copy(t).sub(e).normalize(),$x.copy(this.origin).sub(Zx);var i,a,o,s,l=.5*e.distanceTo(t),u=-this.direction.dot(Qx),c=$x.dot(this.direction),d=-$x.dot(Qx),f=$x.lengthSq(),h=Math.abs(1-u*u);if(h>0)if(a=u*c-d,s=l*h,(i=u*d-c)>=0)if(a>=-s)if(a<=s){var p=1/h;o=(i*=p)*(i+u*(a*=p)+2*c)+a*(u*i+a+2*d)+f}else a=l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*d)+f;else a=-l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*d)+f;else a<=-s?o=-(i=Math.max(0,-(-u*l+c)))*i+(a=i>0?-l:Math.min(Math.max(-l,-d),l))*(a+2*d)+f:a<=s?(i=0,o=(a=Math.min(Math.max(-l,-d),l))*(a+2*d)+f):o=-(i=Math.max(0,-(u*l+c)))*i+(a=i>0?l:Math.min(Math.max(-l,-d),l))*(a+2*d)+f;else a=u>0?-l:l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*d)+f;return n&&n.copy(this.origin).addScaledVector(this.direction,i),r&&r.copy(Zx).addScaledVector(Qx,a),o}},{key:"intersectSphere",value:function(e,t){Kx.subVectors(e.center,this.origin);var n=Kx.dot(this.direction),r=Kx.dot(Kx)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),u>=0?(i=(e.min.y-d.y)*u,a=(e.max.y-d.y)*u):(i=(e.max.y-d.y)*u,a=(e.min.y-d.y)*u),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(e.min.z-d.z)*c,s=(e.max.z-d.z)*c):(o=(e.max.z-d.z)*c,s=(e.min.z-d.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,Kx)}},{key:"intersectTriangle",value:function(e,t,n,r,i){Jx.subVectors(t,e),ew.subVectors(n,e),tw.crossVectors(Jx,ew);var a,o=this.direction.dot(tw);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}$x.subVectors(this.origin,e);var s=a*this.direction.dot(ew.crossVectors($x,ew));if(s<0)return null;var l=a*this.direction.dot(Jx.cross($x));if(l<0)return null;if(s+l>o)return null;var u=-a*$x.dot(tw);return u<0?null:this.at(u/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),rw=function(){function e(t,n,r,i,a,o,s,l,u,c,d,f,h,p,v,m){Xs(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,l,u,c,d,f,h,p,v,m)}return Ks(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l,u,c,d,f,h,p,v){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=l,m[6]=u,m[10]=c,m[14]=d,m[3]=f,m[7]=h,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/iw.setFromMatrixColumn(e,0).length(),i=1/iw.setFromMatrixColumn(e,1).length(),a=1/iw.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var d=a*u,f=a*c,h=o*u,p=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=f+h*l,t[5]=d-p*l,t[9]=-o*s,t[2]=p-d*l,t[6]=h+f*l,t[10]=a*s}else if("YXZ"===e.order){var v=s*u,m=s*c,g=l*u,y=l*c;t[0]=v+y*o,t[4]=g*o-m,t[8]=a*l,t[1]=a*c,t[5]=a*u,t[9]=-o,t[2]=m*o-g,t[6]=y+v*o,t[10]=a*s}else if("ZXY"===e.order){var b=s*u,x=s*c,w=l*u,S=l*c;t[0]=b-S*o,t[4]=-a*c,t[8]=w+x*o,t[1]=x+w*o,t[5]=a*u,t[9]=S-b*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var _=a*u,k=a*c,E=o*u,C=o*c;t[0]=s*u,t[4]=E*l-k,t[8]=_*l+C,t[1]=s*c,t[5]=C*l+_,t[9]=k*l-E,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var M=a*s,T=a*l,R=o*s,A=o*l;t[0]=s*u,t[4]=A-M*c,t[8]=R*c+T,t[1]=c,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=T*c+R,t[10]=M-A*c}else if("XZY"===e.order){var P=a*s,I=a*l,O=o*s,L=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=P*c+L,t[5]=a*u,t[9]=I*c-O,t[2]=O*c-I,t[6]=o*u,t[10]=L*c+P}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(ow,e,sw)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return cw.subVectors(e,t),0===cw.lengthSq()&&(cw.z=1),cw.normalize(),lw.crossVectors(n,cw),0===lw.lengthSq()&&(1===Math.abs(n.z)?cw.x+=1e-4:cw.z+=1e-4,cw.normalize(),lw.crossVectors(n,cw)),lw.normalize(),uw.crossVectors(cw,lw),r[0]=lw.x,r[4]=uw.x,r[8]=cw.x,r[1]=lw.y,r[5]=uw.y,r[9]=cw.y,r[2]=lw.z,r[6]=uw.z,r[10]=cw.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],d=n[9],f=n[13],h=n[2],p=n[6],v=n[10],m=n[14],g=n[3],y=n[7],b=n[11],x=n[15],w=r[0],S=r[4],_=r[8],k=r[12],E=r[1],C=r[5],M=r[9],T=r[13],R=r[2],A=r[6],P=r[10],I=r[14],O=r[3],L=r[7],N=r[11],D=r[15];return i[0]=a*w+o*E+s*R+l*O,i[4]=a*S+o*C+s*A+l*L,i[8]=a*_+o*M+s*P+l*N,i[12]=a*k+o*T+s*I+l*D,i[1]=u*w+c*E+d*R+f*O,i[5]=u*S+c*C+d*A+f*L,i[9]=u*_+c*M+d*P+f*N,i[13]=u*k+c*T+d*I+f*D,i[2]=h*w+p*E+v*R+m*O,i[6]=h*S+p*C+v*A+m*L,i[10]=h*_+p*M+v*P+m*N,i[14]=h*k+p*T+v*I+m*D,i[3]=g*w+y*E+b*R+x*O,i[7]=g*S+y*C+b*A+x*L,i[11]=g*_+y*M+b*P+x*N,i[15]=g*k+y*T+b*I+x*D,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],d=e[10],f=e[14];return e[3]*(+i*s*c-r*l*c-i*o*d+n*l*d+r*o*f-n*s*f)+e[7]*(+t*s*f-t*l*d+i*a*d-r*a*f+r*l*u-i*s*u)+e[11]*(+t*l*c-t*o*f-i*a*c+n*a*f+i*o*u-n*l*u)+e[15]*(-r*o*u-t*s*c+t*o*d+r*a*c-n*a*d+n*s*u)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],d=e[10],f=e[11],h=e[12],p=e[13],v=e[14],m=e[15],g=c*v*l-p*d*l+p*s*f-o*v*f-c*s*m+o*d*m,y=h*d*l-u*v*l-h*s*f+a*v*f+u*s*m-a*d*m,b=u*p*l-h*c*l+h*o*f-a*p*f-u*o*m+a*c*m,x=h*c*s-u*p*s-h*o*d+a*p*d+u*o*v-a*c*v,w=t*g+n*y+r*b+i*x;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var S=1/w;return e[0]=g*S,e[1]=(p*d*i-c*v*i-p*r*f+n*v*f+c*r*m-n*d*m)*S,e[2]=(o*v*i-p*s*i+p*r*l-n*v*l-o*r*m+n*s*m)*S,e[3]=(c*s*i-o*d*i-c*r*l+n*d*l+o*r*f-n*s*f)*S,e[4]=y*S,e[5]=(u*v*i-h*d*i+h*r*f-t*v*f-u*r*m+t*d*m)*S,e[6]=(h*s*i-a*v*i-h*r*l+t*v*l+a*r*m-t*s*m)*S,e[7]=(a*d*i-u*s*i+u*r*l-t*d*l-a*r*f+t*s*f)*S,e[8]=b*S,e[9]=(h*c*i-u*p*i-h*n*f+t*p*f+u*n*m-t*c*m)*S,e[10]=(a*p*i-h*o*i+h*n*l-t*p*l-a*n*m+t*o*m)*S,e[11]=(u*o*i-a*c*i-u*n*l+t*c*l+a*n*f-t*o*f)*S,e[12]=x*S,e[13]=(u*p*r-h*c*r+h*n*d-t*p*d-u*n*v+t*c*v)*S,e[14]=(h*o*r-a*p*r-h*n*s+t*p*s+a*n*v-t*o*v)*S,e[15]=(a*c*r-u*o*r+u*n*s-t*c*s-a*n*d+t*o*d)*S,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,u=a+a,c=o+o,d=i*l,f=i*u,h=i*c,p=a*u,v=a*c,m=o*c,g=s*l,y=s*u,b=s*c,x=n.x,w=n.y,S=n.z;return r[0]=(1-(p+m))*x,r[1]=(f+b)*x,r[2]=(h-y)*x,r[3]=0,r[4]=(f-b)*w,r[5]=(1-(d+m))*w,r[6]=(v+g)*w,r[7]=0,r[8]=(h+y)*S,r[9]=(v-g)*S,r[10]=(1-(d+p))*S,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=iw.set(r[0],r[1],r[2]).length(),a=iw.set(r[4],r[5],r[6]).length(),o=iw.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],aw.copy(this);var s=1/i,l=1/a,u=1/o;return aw.elements[0]*=s,aw.elements[1]*=s,aw.elements[2]*=s,aw.elements[4]*=l,aw.elements[5]*=l,aw.elements[6]*=l,aw.elements[8]*=u,aw.elements[9]*=u,aw.elements[10]*=u,t.setFromRotationMatrix(aw),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var o,s,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ob,u=this.elements,c=2*i/(t-e),d=2*i/(n-r),f=(t+e)/(t-e),h=(n+r)/(n-r);if(l===Ob)o=-(a+i)/(a-i),s=-2*a*i/(a-i);else{if(l!==Lb)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);o=-a/(a-i),s=-a*i/(a-i)}return u[0]=c,u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=d,u[9]=h,u[13]=0,u[2]=0,u[6]=0,u[10]=o,u[14]=s,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o,s,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ob,u=this.elements,c=1/(t-e),d=1/(n-r),f=1/(a-i),h=(t+e)*c,p=(n+r)*d;if(l===Ob)o=(a+i)*f,s=-2*f;else{if(l!==Lb)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);o=i*f,s=-1*f}return u[0]=2*c,u[4]=0,u[8]=0,u[12]=-h,u[1]=0,u[5]=2*d,u[9]=0,u[13]=-p,u[2]=0,u[6]=0,u[10]=s,u[14]=-o,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),iw=new Mx,aw=new rw,ow=new Mx(0,0,0),sw=new Mx(1,1,1),lw=new Mx,uw=new Mx,cw=new Mx,dw=new rw,fw=new Cx,hw=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_ORDER;Xs(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}return Ks(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],u=r[9],c=r[2],d=r[6],f=r[10];switch(t){case"XYZ":this._y=Math.asin(jb(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-jb(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(jb(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-jb(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(jb(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-jb(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return dw.makeRotationFromQuaternion(e),this.setFromRotationMatrix(dw,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return fw.setFromEuler(this),this.setFromQuaternion(fw,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:um().mark((function e(){return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))}]),t}();hw.DEFAULT_ORDER="XYZ";var pw=function(){function e(){Xs(this,e),this.mask=1}return Ks(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),vw=0,mw=new Mx,gw=new Cx,yw=new rw,bw=new Mx,xw=new Mx,ww=new Mx,Sw=new Cx,_w=new Mx(1,0,0),kw=new Mx(0,1,0),Ew=new Mx(0,0,1),Cw={type:"added"},Mw={type:"removed"},Tw=function(e){tm(n,e);var t=im(n);function n(){var e;Xs(this,n),(e=t.call(this)).isObject3D=!0,Object.defineProperty(Br(e),"id",{value:vw++}),e.uuid=Bb(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DEFAULT_UP.clone();var r=new Mx,i=new hw,a=new Cx,o=new Mx(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties(Br(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new rw},normalMatrix:{value:new Qb}}),e.matrix=new rw,e.matrixWorld=new rw,e.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,e.matrixWorldNeedsUpdate=!1,e.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,e.layers=new pw,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return Ks(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return gw.setFromAxisAngle(e,t),this.quaternion.multiply(gw),this}},{key:"rotateOnWorldAxis",value:function(e,t){return gw.setFromAxisAngle(e,t),this.quaternion.premultiply(gw),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(_w,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(kw,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(Ew,e)}},{key:"translateOnAxis",value:function(e,t){return mw.copy(e).applyQuaternion(this.quaternion),this.position.add(mw.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(_w,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(kw,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(Ew,e)}},{key:"localToWorld",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(yw.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?bw.copy(e):bw.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),xw.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?yw.lookAt(xw,bw,this.up):yw.lookAt(bw,xw,this.up),this.quaternion.setFromRotationMatrix(yw),r&&(yw.extractRotation(r.matrixWorld),gw.setFromRotationMatrix(yw),this.quaternion.premultiply(gw.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Cw)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Mw)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(Mw)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),yw.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),yw.multiply(e.parent.matrixWorld)),e.applyMatrix4(yw),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getObjectsByProperty",value:function(e,t){var n=[];this[e]===t&&n.push(this);for(var r=0,i=this.children.length;r<i;r++){var a=this.children[r].getObjectsByProperty(e,t);a.length>0&&(n=n.concat(a))}return n}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xw,e,ww),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xw,Sw,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++){var i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++){var o=r[i];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];i(e.shapes,u)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],d=0,f=this.material.length;d<f;d++)c.push(i(e.materials,this.material[d]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var h=0;h<this.children.length;h++)r.children.push(this.children[h].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var v=this.animations[p];r.animations.push(i(e.animations,v))}}if(t){var m=k(e.geometries),g=k(e.materials),y=k(e.textures),b=k(e.images),x=k(e.shapes),w=k(e.skeletons),S=k(e.animations),_=k(e.nodes);m.length>0&&(n.geometries=m),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),b.length>0&&(n.images=b),x.length>0&&(n.shapes=x),w.length>0&&(n.skeletons=w),S.length>0&&(n.animations=S),_.length>0&&(n.nodes=_)}return n.object=r,n;function k(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(Nb);Tw.DEFAULT_UP=new Mx(0,1,0),Tw.DEFAULT_MATRIX_AUTO_UPDATE=!0,Tw.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var Rw=new Mx,Aw=new Mx,Pw=new Mx,Iw=new Mx,Ow=new Mx,Lw=new Mx,Nw=new Mx,Dw=new Mx,Uw=new Mx,Fw=new Mx,zw=!1,Bw=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mx,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mx,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Mx;Xs(this,e),this.a=t,this.b=n,this.c=r}return Ks(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return Rw.subVectors(this.c,this.b),Aw.subVectors(this.a,this.b),.5*Rw.cross(Aw).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return!1===zw&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),zw=!0),e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"getInterpolation",value:function(t,n,r,i,a){return e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;Ow.subVectors(a,i),Lw.subVectors(o,i),Dw.subVectors(e,i);var s=Ow.dot(Dw),l=Lw.dot(Dw);if(s<=0&&l<=0)return t.copy(i);Uw.subVectors(e,a);var u=Ow.dot(Uw),c=Lw.dot(Uw);if(u>=0&&c<=u)return t.copy(a);var d=s*c-u*l;if(d<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(i).addScaledVector(Ow,n);Fw.subVectors(e,o);var f=Ow.dot(Fw),h=Lw.dot(Fw);if(h>=0&&f<=h)return t.copy(o);var p=f*l-s*h;if(p<=0&&l>=0&&h<=0)return r=l/(l-h),t.copy(i).addScaledVector(Lw,r);var v=u*h-f*c;if(v<=0&&c-u>=0&&f-h>=0)return Nw.subVectors(o,a),r=(c-u)/(c-u+(f-h)),t.copy(a).addScaledVector(Nw,r);var m=1/(v+p+d);return n=p*m,r=d*m,t.copy(i).addScaledVector(Ow,n).addScaledVector(Lw,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),Rw.subVectors(e,t),r.cross(Rw);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){Rw.subVectors(r,t),Aw.subVectors(n,t),Pw.subVectors(e,t);var a=Rw.dot(Rw),o=Rw.dot(Aw),s=Rw.dot(Pw),l=Aw.dot(Aw),u=Aw.dot(Pw),c=a*l-o*o;if(0===c)return i.set(-2,-1,-1);var d=1/c,f=(l*s-o*u)*d,h=(a*u-o*s)*d;return i.set(1-f-h,h,f)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,Iw),Iw.x>=0&&Iw.y>=0&&Iw.x+Iw.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,o,s){return!1===zw&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),zw=!0),this.getInterpolation(e,t,n,r,i,a,o,s)}},{key:"getInterpolation",value:function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,Iw),s.setScalar(0),s.addScaledVector(i,Iw.x),s.addScaledVector(a,Iw.y),s.addScaledVector(o,Iw.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return Rw.subVectors(n,t),Aw.subVectors(e,t),Rw.cross(Aw).dot(r)<0}}]),e}(),jw=0,Hw=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.call(this)).isMaterial=!0,Object.defineProperty(Br(e),"id",{value:jw++}),e.uuid=Bb(),e.name="",e.type="Material",e.blending=Cm,e.side=wm,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.alphaHash=!1,e.blendSrc=Bm,e.blendDst=jm,e.blendEquation=Pm,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=Zm,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=fb,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=$y,e.stencilZFail=$y,e.stencilZPass=$y,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.forceSinglePass=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return Ks(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}else console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."))}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Cm&&(n.blending=this.blending),this.side!==wm&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=this.alphaHash),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(Nb),Gw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Vw={h:0,s:0,l:0},Ww={h:0,s:0,l:0};function qw(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}var Xw=function(e){function t(e,n,r){return Xs(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}return Ks(t,[{key:"set",value:function(e,t,n){if(void 0===t&&void 0===n){var r=e;r&&r.isColor?this.copy(r):"number"===typeof r?this.setHex(r):"string"===typeof r&&this.setStyle(r)}else this.setRGB(e,t,n);return this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yy;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,fx.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fx.workingColorSpace;return this.r=e,this.g=t,this.b=n,fx.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fx.workingColorSpace;if(e=Hb(e,1),t=jb(t,0,1),n=jb(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=qw(a,i,e+1/3),this.g=qw(a,i,e),this.b=qw(a,i,e-1/3)}return fx.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yy;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){var i,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var s=t[1],l=s.length;if(3===l)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(6===l)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yy,n=Gw[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=ax(e.r),this.g=ax(e.g),this.b=ax(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=ox(e.r),this.g=ox(e.g),this.b=ox(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yy;return fx.fromWorkingColorSpace(Yw.copy(this),e),65536*Math.round(jb(255*Yw.r,0,255))+256*Math.round(jb(255*Yw.g,0,255))+Math.round(jb(255*Yw.b,0,255))}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yy;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fx.workingColorSpace;fx.fromWorkingColorSpace(Yw.copy(this),t);var n,r,i=Yw.r,a=Yw.g,o=Yw.b,s=Math.max(i,a,o),l=Math.min(i,a,o),u=(l+s)/2;if(l===s)n=0,r=0;else{var c=s-l;switch(r=u<=.5?c/(s+l):c/(2-s-l),s){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4}n/=6}return e.h=n,e.s=r,e.l=u,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fx.workingColorSpace;return fx.fromWorkingColorSpace(Yw.copy(this),t),e.r=Yw.r,e.g=Yw.g,e.b=Yw.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yy;fx.fromWorkingColorSpace(Yw.copy(this),e);var t=Yw.r,n=Yw.g,r=Yw.b;return e!==Yy?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(Vw),Vw.h+=e,Vw.s+=t,Vw.l+=n,this.setHSL(Vw.h,Vw.s,Vw.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(Vw),e.getHSL(Ww);var n=Gb(Vw.h,Ww.h,t),r=Gb(Vw.s,Ww.s,t),i=Gb(Vw.l,Ww.l,t);return this.setHSL(n,r,i),this}},{key:"setFromVector3",value:function(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}},{key:"applyMatrix3",value:function(e){var t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:um().mark((function e(){return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),Yw=new Xw;Xw.NAMES=Gw;var Kw=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).isMeshBasicMaterial=!0,r.type="MeshBasicMaterial",r.color=new Xw(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=tg,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(Hw),Zw=Qw();function Qw(){for(var e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512),a=0;a<256;++a){var o=a-127;o<-27?(r[a]=0,r[256|a]=32768,i[a]=24,i[256|a]=24):o<-14?(r[a]=1024>>-o-14,r[256|a]=1024>>-o-14|32768,i[a]=-o-1,i[256|a]=-o-1):o<=15?(r[a]=o+15<<10,r[256|a]=o+15<<10|32768,i[a]=13,i[256|a]=13):o<128?(r[a]=31744,r[256|a]=64512,i[a]=24,i[256|a]=24):(r[a]=31744,r[256|a]=64512,i[a]=13,i[256|a]=13)}for(var s=new Uint32Array(2048),l=new Uint32Array(64),u=new Uint32Array(64),c=1;c<1024;++c){for(var d=c<<13,f=0;0===(8388608&d);)d<<=1,f-=8388608;d&=-8388609,f+=947912704,s[c]=d|f}for(var h=1024;h<2048;++h)s[h]=939524096+(h-1024<<13);for(var p=1;p<31;++p)l[p]=p<<23;l[31]=1199570944,l[32]=2147483648;for(var v=33;v<63;++v)l[v]=2147483648+(v-32<<23);l[63]=3347054592;for(var m=1;m<64;++m)32!==m&&(u[m]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:l,offsetTable:u}}function $w(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=jb(e,-65504,65504),Zw.floatView[0]=e;var t=Zw.uint32View[0],n=t>>23&511;return Zw.baseTable[n]+((8388607&t)>>Zw.shiftTable[n])}function Jw(e){var t=e>>10;return Zw.uint32View[0]=Zw.mantissaTable[Zw.offsetTable[t]+(1023&e)]+Zw.exponentTable[t],Zw.floatView[0]}var eS={toHalfFloat:$w,fromHalfFloat:Jw},tS=new Mx,nS=new Zb,rS=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Xs(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=r,this.usage=wb,this.updateRange={offset:0,count:-1},this.gpuType=Ng,this.version=0}return Ks(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)nS.fromBufferAttribute(this,t),nS.applyMatrix3(e),this.setXY(t,nS.x,nS.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)tS.fromBufferAttribute(this,r),tS.applyMatrix3(e),this.setXYZ(r,tS.x,tS.y,tS.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)tS.fromBufferAttribute(this,t),tS.applyMatrix4(e),this.setXYZ(t,tS.x,tS.y,tS.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)tS.fromBufferAttribute(this,t),tS.applyNormalMatrix(e),this.setXYZ(t,tS.x,tS.y,tS.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)tS.fromBufferAttribute(this,t),tS.transformDirection(e),this.setXYZ(t,tS.x,tS.y,tS.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=Xb(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=Yb(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=Xb(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=Yb(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=Xb(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Yb(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=Xb(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=Yb(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=Yb(t,this.array),n=Yb(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Yb(t,this.array),n=Yb(n,this.array),r=Yb(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Yb(t,this.array),n=Yb(n,this.array),r=Yb(r,this.array),i=Yb(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==wb&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}]),e}(),iS=function(e){tm(n,e);var t=im(n);function n(e,r,i){return Xs(this,n),t.call(this,new Int8Array(e),r,i)}return Ks(n)}(rS),aS=function(e){tm(n,e);var t=im(n);function n(e,r,i){return Xs(this,n),t.call(this,new Uint8Array(e),r,i)}return Ks(n)}(rS),oS=function(e){tm(n,e);var t=im(n);function n(e,r,i){return Xs(this,n),t.call(this,new Uint8ClampedArray(e),r,i)}return Ks(n)}(rS),sS=function(e){tm(n,e);var t=im(n);function n(e,r,i){return Xs(this,n),t.call(this,new Int16Array(e),r,i)}return Ks(n)}(rS),lS=function(e){tm(n,e);var t=im(n);function n(e,r,i){return Xs(this,n),t.call(this,new Uint16Array(e),r,i)}return Ks(n)}(rS),uS=function(e){tm(n,e);var t=im(n);function n(e,r,i){return Xs(this,n),t.call(this,new Int32Array(e),r,i)}return Ks(n)}(rS),cS=function(e){tm(n,e);var t=im(n);function n(e,r,i){return Xs(this,n),t.call(this,new Uint32Array(e),r,i)}return Ks(n)}(rS),dS=function(e){tm(n,e);var t=im(n);function n(e,r,i){var a;return Xs(this,n),(a=t.call(this,new Uint16Array(e),r,i)).isFloat16BufferAttribute=!0,a}return Ks(n,[{key:"getX",value:function(e){var t=Jw(this.array[e*this.itemSize]);return this.normalized&&(t=Xb(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=Yb(t,this.array)),this.array[e*this.itemSize]=$w(t),this}},{key:"getY",value:function(e){var t=Jw(this.array[e*this.itemSize+1]);return this.normalized&&(t=Xb(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=Yb(t,this.array)),this.array[e*this.itemSize+1]=$w(t),this}},{key:"getZ",value:function(e){var t=Jw(this.array[e*this.itemSize+2]);return this.normalized&&(t=Xb(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Yb(t,this.array)),this.array[e*this.itemSize+2]=$w(t),this}},{key:"getW",value:function(e){var t=Jw(this.array[e*this.itemSize+3]);return this.normalized&&(t=Xb(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=Yb(t,this.array)),this.array[e*this.itemSize+3]=$w(t),this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=Yb(t,this.array),n=Yb(n,this.array)),this.array[e+0]=$w(t),this.array[e+1]=$w(n),this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Yb(t,this.array),n=Yb(n,this.array),r=Yb(r,this.array)),this.array[e+0]=$w(t),this.array[e+1]=$w(n),this.array[e+2]=$w(r),this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Yb(t,this.array),n=Yb(n,this.array),r=Yb(r,this.array),i=Yb(i,this.array)),this.array[e+0]=$w(t),this.array[e+1]=$w(n),this.array[e+2]=$w(r),this.array[e+3]=$w(i),this}}]),n}(rS),fS=function(e){tm(n,e);var t=im(n);function n(e,r,i){return Xs(this,n),t.call(this,new Float32Array(e),r,i)}return Ks(n)}(rS),hS=function(e){tm(n,e);var t=im(n);function n(e,r,i){return Xs(this,n),t.call(this,new Float64Array(e),r,i)}return Ks(n)}(rS),pS=0,vS=new rw,mS=new Tw,gS=new Mx,yS=new Ax,bS=new Ax,xS=new Mx,wS=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty(Br(e),"id",{value:pS++}),e.uuid=Bb(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return Ks(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(Jb(e)?cS:lS)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new Qb).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return vS.makeRotationFromQuaternion(e),this.applyMatrix4(vS),this}},{key:"rotateX",value:function(e){return vS.makeRotationX(e),this.applyMatrix4(vS),this}},{key:"rotateY",value:function(e){return vS.makeRotationY(e),this.applyMatrix4(vS),this}},{key:"rotateZ",value:function(e){return vS.makeRotationZ(e),this.applyMatrix4(vS),this}},{key:"translate",value:function(e,t,n){return vS.makeTranslation(e,t,n),this.applyMatrix4(vS),this}},{key:"scale",value:function(e,t,n){return vS.makeScale(e,t,n),this.applyMatrix4(vS),this}},{key:"lookAt",value:function(e){return mS.lookAt(e),mS.updateMatrix(),this.applyMatrix4(mS.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(gS).negate(),this.translate(gS.x,gS.y,gS.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new fS(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Ax);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Mx(-1/0,-1/0,-1/0),new Mx(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];yS.setFromBufferAttribute(i),this.morphTargetsRelative?(xS.addVectors(this.boundingBox.min,yS.min),this.boundingBox.expandByPoint(xS),xS.addVectors(this.boundingBox.max,yS.max),this.boundingBox.expandByPoint(xS)):(this.boundingBox.expandByPoint(yS.min),this.boundingBox.expandByPoint(yS.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Yx);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Mx,1/0);if(e){var n=this.boundingSphere.center;if(yS.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];bS.setFromBufferAttribute(a),this.morphTargetsRelative?(xS.addVectors(yS.min,bS.min),yS.expandByPoint(xS),xS.addVectors(yS.max,bS.max),yS.expandByPoint(xS)):(yS.expandByPoint(bS.min),yS.expandByPoint(bS.max))}yS.getCenter(n);for(var o=0,s=0,l=e.count;s<l;s++)xS.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(xS));if(t)for(var u=0,c=t.length;u<c;u++)for(var d=t[u],f=this.morphTargetsRelative,h=0,p=d.count;h<p;h++)xS.fromBufferAttribute(d,h),f&&(gS.fromBufferAttribute(e,h),xS.add(gS)),o=Math.max(o,n.distanceToSquared(xS));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new rS(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,l=[],u=[],c=0;c<o;c++)l[c]=new Mx,u[c]=new Mx;var d=new Mx,f=new Mx,h=new Mx,p=new Zb,v=new Zb,m=new Zb,g=new Mx,y=new Mx,b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(var x=0,w=b.length;x<w;++x)for(var S=b[x],_=S.start,k=_,E=_+S.count;k<E;k+=3)D(n[k+0],n[k+1],n[k+2]);for(var C=new Mx,M=new Mx,T=new Mx,R=new Mx,A=0,P=b.length;A<P;++A)for(var I=b[A],O=I.start,L=O,N=O+I.count;L<N;L+=3)U(n[L+0]),U(n[L+1]),U(n[L+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function D(e,t,n){d.fromArray(r,3*e),f.fromArray(r,3*t),h.fromArray(r,3*n),p.fromArray(a,2*e),v.fromArray(a,2*t),m.fromArray(a,2*n),f.sub(d),h.sub(d),v.sub(p),m.sub(p);var i=1/(v.x*m.y-m.x*v.y);isFinite(i)&&(g.copy(f).multiplyScalar(m.y).addScaledVector(h,-v.y).multiplyScalar(i),y.copy(h).multiplyScalar(v.x).addScaledVector(f,-m.x).multiplyScalar(i),l[e].add(g),l[t].add(g),l[n].add(g),u[e].add(y),u[t].add(y),u[n].add(y))}function U(e){T.fromArray(i,3*e),R.copy(T);var t=l[e];C.copy(t),C.sub(T.multiplyScalar(T.dot(t))).normalize(),M.crossVectors(R,t);var n=M.dot(u[e])<0?-1:1;s[4*e]=C.x,s[4*e+1]=C.y,s[4*e+2]=C.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new rS(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new Mx,o=new Mx,s=new Mx,l=new Mx,u=new Mx,c=new Mx,d=new Mx,f=new Mx;if(e)for(var h=0,p=e.count;h<p;h+=3){var v=e.getX(h+0),m=e.getX(h+1),g=e.getX(h+2);a.fromBufferAttribute(t,v),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),d.subVectors(s,o),f.subVectors(a,o),d.cross(f),l.fromBufferAttribute(n,v),u.fromBufferAttribute(n,m),c.fromBufferAttribute(n,g),l.add(d),u.add(d),c.add(d),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(m,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,b=t.count;y<b;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),d.subVectors(s,o),f.subVectors(a,o),d.cross(f),n.setXYZ(y+0,d.x,d.y,d.z),n.setXYZ(y+1,d.x,d.y,d.z),n.setXYZ(y+2,d.x,d.y,d.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)xS.fromBufferAttribute(e,t),xS.normalize(),e.setXYZ(t,xS.x,xS.y,xS.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,l=0,u=t.length;l<u;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new rS(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],r);t.setAttribute(a,o)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],d=0,f=c.length;d<f;d++){var h=e(c[d],r);u.push(h)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,v=0,m=p.length;v<m;v++){var g=p[v];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},l=!1;for(var u in this.morphAttributes){for(var c=this.morphAttributes[u],d=[],f=0,h=c.length;f<h;f++){var p=c[f];d.push(p.toJSON(e.data))}d.length>0&&(s[u]=d,l=!0)}l&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(e.data.groups=JSON.parse(JSON.stringify(v)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,d=u.length;c<d;c++)l.push(u[c].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var f=e.groups,h=0,p=f.length;h<p;h++){var v=f[h];this.addGroup(v.start,v.count,v.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Nb),SS=new rw,_S=new nw,kS=new Yx,ES=new Mx,CS=new Mx,MS=new Mx,TS=new Mx,RS=new Mx,AS=new Mx,PS=new Zb,IS=new Zb,OS=new Zb,LS=new Mx,NS=new Mx,DS=new Mx,US=new Mx,FS=new Mx,zS=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wS,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Kw;return Xs(this,n),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return Ks(n,[{key:"copy",value:function(e,t){return lm(nm(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}},{key:"getVertexPosition",value:function(e,t){var n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);var o=this.morphTargetInfluences;if(i&&o){AS.set(0,0,0);for(var s=0,l=i.length;s<l;s++){var u=o[s],c=i[s];0!==u&&(RS.fromBufferAttribute(c,e),a?AS.addScaledVector(RS,u):AS.addScaledVector(RS.sub(t),u))}t.add(AS)}return t}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),kS.copy(n.boundingSphere),kS.applyMatrix4(i),_S.copy(e.ray).recast(e.near),!1===kS.containsPoint(_S.origin)){if(null===_S.intersectSphere(kS,ES))return;if(_S.origin.distanceToSquared(ES)>Math.pow(e.far-e.near,2))return}SS.copy(i).invert(),_S.copy(e.ray).applyMatrix4(SS),null!==n.boundingBox&&!1===_S.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,_S)}}},{key:"_computeIntersections",value:function(e,t,n){var r,i=this.geometry,a=this.material,o=i.index,s=i.attributes.position,l=i.attributes.uv,u=i.attributes.uv1,c=i.attributes.normal,d=i.groups,f=i.drawRange;if(null!==o)if(Array.isArray(a))for(var h=0,p=d.length;h<p;h++)for(var v=d[h],m=a[v.materialIndex],g=Math.max(v.start,f.start),y=Math.min(o.count,Math.min(v.start+v.count,f.start+f.count));g<y;g+=3){(r=BS(this,m,e,n,l,u,c,o.getX(g),o.getX(g+1),o.getX(g+2)))&&(r.faceIndex=Math.floor(g/3),r.face.materialIndex=v.materialIndex,t.push(r))}else for(var b=Math.max(0,f.start),x=Math.min(o.count,f.start+f.count);b<x;b+=3){(r=BS(this,a,e,n,l,u,c,o.getX(b),o.getX(b+1),o.getX(b+2)))&&(r.faceIndex=Math.floor(b/3),t.push(r))}else if(void 0!==s)if(Array.isArray(a))for(var w=0,S=d.length;w<S;w++)for(var _=d[w],k=a[_.materialIndex],E=Math.max(_.start,f.start),C=Math.min(s.count,Math.min(_.start+_.count,f.start+f.count));E<C;E+=3){(r=BS(this,k,e,n,l,u,c,E,E+1,E+2))&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=_.materialIndex,t.push(r))}else for(var M=Math.max(0,f.start),T=Math.min(s.count,f.start+f.count);M<T;M+=3){(r=BS(this,a,e,n,l,u,c,M,M+1,M+2))&&(r.faceIndex=Math.floor(M/3),t.push(r))}}}]),n}(Tw);function BS(e,t,n,r,i,a,o,s,l,u){e.getVertexPosition(s,CS),e.getVertexPosition(l,MS),e.getVertexPosition(u,TS);var c=function(e,t,n,r,i,a,o,s){if(null===(t.side===Sm?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side===wm,s)))return null;FS.copy(s),FS.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(FS);return l<n.near||l>n.far?null:{distance:l,point:FS.clone(),object:e}}(e,t,n,r,CS,MS,TS,US);if(c){i&&(PS.fromBufferAttribute(i,s),IS.fromBufferAttribute(i,l),OS.fromBufferAttribute(i,u),c.uv=Bw.getInterpolation(US,CS,MS,TS,PS,IS,OS,new Zb)),a&&(PS.fromBufferAttribute(a,s),IS.fromBufferAttribute(a,l),OS.fromBufferAttribute(a,u),c.uv1=Bw.getInterpolation(US,CS,MS,TS,PS,IS,OS,new Zb),c.uv2=c.uv1),o&&(LS.fromBufferAttribute(o,s),NS.fromBufferAttribute(o,l),DS.fromBufferAttribute(o,u),c.normal=Bw.getInterpolation(US,CS,MS,TS,LS,NS,DS,new Mx),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));var d={a:s,b:l,c:u,normal:new Mx,materialIndex:0};Bw.getNormal(CS,MS,TS,d.normal),c.face=d}return c}var jS=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;Xs(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:l};var u=Br(e);o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);var c=[],d=[],f=[],h=[],p=0,v=0;function m(e,t,n,r,i,a,o,s,l,m,g){for(var y=a/l,b=o/m,x=a/2,w=o/2,S=s/2,_=l+1,k=m+1,E=0,C=0,M=new Mx,T=0;T<k;T++)for(var R=T*b-w,A=0;A<_;A++){var P=A*y-x;M[e]=P*r,M[t]=R*i,M[n]=S,d.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=s>0?1:-1,f.push(M.x,M.y,M.z),h.push(A/l),h.push(1-T/m),E+=1}for(var I=0;I<m;I++)for(var O=0;O<l;O++){var L=p+O+_*I,N=p+O+_*(I+1),D=p+(O+1)+_*(I+1),U=p+(O+1)+_*I;c.push(L,N,U),c.push(N,D,U),C+=6}u.addGroup(v,C,g),v+=C,p+=E}return m("z","y","x",-1,-1,a,i,r,l,s,0),m("z","y","x",1,-1,a,i,-r,l,s,1),m("x","z","y",1,1,r,a,i,o,l,2),m("x","z","y",1,-1,r,a,-i,o,l,3),m("x","y","z",1,-1,r,i,a,o,s,4),m("x","y","z",-1,-1,r,i,-a,o,s,5),e.setIndex(c),e.setAttribute("position",new fS(d,3)),e.setAttribute("normal",new fS(f,3)),e.setAttribute("uv",new fS(h,2)),e}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(wS);function HS(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function GS(e){for(var t={},n=0;n<e.length;n++){var r=HS(e[n]);for(var i in r)t[i]=r[i]}return t}function VS(e){return null===e.getRenderTarget()?e.outputColorSpace:Ky}var WS={clone:HS,merge:GS},qS=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).isShaderMaterial=!0,r.type="ShaderMaterial",r.defines={},r.uniforms={},r.uniformsGroups=[],r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.forceSinglePass=!0,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&r.setValues(e),r}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=HS(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=lm(nm(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),n}(Hw),XS=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new rw,e.projectionMatrix=new rw,e.projectionMatrixInverse=new rw,e.coordinateSystem=Ob,e}return Ks(n,[{key:"copy",value:function(e,t){return lm(nm(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){lm(nm(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){lm(nm(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Tw),YS=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return Xs(this,n),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return Ks(n,[{key:"copy",value:function(e,t){return lm(nm(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*zb*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*Fb*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*zb*Math.atan(Math.tan(.5*Fb*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*Fb*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=lm(nm(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(XS),KS=-90,ZS=function(e){tm(n,e);var t=im(n);function n(e,r,i){var a;Xs(this,n),(a=t.call(this)).type="CubeCamera",a.renderTarget=i,a.coordinateSystem=null;var o=new YS(KS,1,e,r);o.layers=a.layers,a.add(o);var s=new YS(KS,1,e,r);s.layers=a.layers,a.add(s);var l=new YS(KS,1,e,r);l.layers=a.layers,a.add(l);var u=new YS(KS,1,e,r);u.layers=a.layers,a.add(u);var c=new YS(KS,1,e,r);c.layers=a.layers,a.add(c);var d=new YS(KS,1,e,r);return d.layers=a.layers,a.add(d),a}return Ks(n,[{key:"updateCoordinateSystem",value:function(){var e,t=this.coordinateSystem,n=this.children.concat(),r=M(n,6),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=Jv(n);try{for(c.s();!(e=c.n()).done;){var d=e.value;this.remove(d)}}catch(v){c.e(v)}finally{c.f()}if(t===Ob)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else{if(t!==Lb)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1)}var f,h=Jv(n);try{for(h.s();!(f=h.n()).done;){var p=f.value;this.add(p),p.updateMatrixWorld()}}catch(v){h.e(v)}finally{h.f()}}},{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());var r=M(this.children,6),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=e.getRenderTarget(),d=e.toneMapping,f=e.xr.enabled;e.toneMapping=ig,e.xr.enabled=!1;var h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,l),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,u),e.setRenderTarget(c),e.toneMapping=d,e.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}]),n}(Tw),QS=function(e){tm(n,e);var t=im(n);function n(e,r,i,a,o,s,l,u,c,d){var f;return Xs(this,n),e=void 0!==e?e:[],r=void 0!==r?r:dg,(f=t.call(this,e,r,i,a,o,s,l,u,c,d)).isCubeTexture=!0,f.flipY=!1,f}return Ks(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(yx),$S=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Xs(this,n),(e=t.call(this,r,r,i)).isWebGLCubeRenderTarget=!0;var a={width:r,height:r,depth:1},o=[a,a,a,a,a,a];return void 0!==i.encoding&&(ix("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Hy?Yy:Xy),e.texture=new QS(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,e.texture.minFilter=void 0!==i.minFilter?i.minFilter:kg,e}return Ks(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new jS(5,5,5),o=new qS({name:"CubemapFromEquirect",uniforms:HS(n),vertexShader:r,fragmentShader:i,side:Sm,blending:Em});o.uniforms.tEquirect.value=t;var s=new zS(a,o),l=t.minFilter;return t.minFilter===Mg&&(t.minFilter=kg),new ZS(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(xx),JS=new Mx,e_=new Mx,t_=new Qb,n_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mx(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Xs(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return Ks(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=JS.subVectors(n,t).cross(e_.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}},{key:"intersectLine",value:function(e,t){var n=e.delta(JS),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||t_.getNormalMatrix(e),r=this.coplanarPoint(JS).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),r_=new Yx,i_=new Mx,a_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new n_,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new n_,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new n_,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new n_,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new n_,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new n_;Xs(this,e),this.planes=[t,n,r,i,a,o]}return Ks(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ob,n=this.planes,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=r[6],d=r[7],f=r[8],h=r[9],p=r[10],v=r[11],m=r[12],g=r[13],y=r[14],b=r[15];if(n[0].setComponents(s-i,d-l,v-f,b-m).normalize(),n[1].setComponents(s+i,d+l,v+f,b+m).normalize(),n[2].setComponents(s+a,d+u,v+h,b+g).normalize(),n[3].setComponents(s-a,d-u,v-h,b-g).normalize(),n[4].setComponents(s-o,d-c,v-p,b-y).normalize(),t===Ob)n[5].setComponents(s+o,d+c,v+p,b+y).normalize();else{if(t!==Lb)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(o,c,p,y).normalize()}return this}},{key:"intersectsObject",value:function(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),r_.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{var t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),r_.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(r_)}},{key:"intersectsSprite",value:function(e){return r_.center.set(0,0,0),r_.radius=.7071067811865476,r_.applyMatrix4(e.matrixWorld),this.intersectsSphere(r_)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(i_.x=r.normal.x>0?e.max.x:e.min.x,i_.y=r.normal.y>0?e.max.y:e.min.y,i_.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(i_)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function o_(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function s_(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var i,a=t.array,o=t.usage,s=e.createBuffer();if(e.bindBuffer(r,s),e.bufferData(r,a,o),t.onUploadCallback(),a instanceof Float32Array)i=e.FLOAT;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=e.HALF_FLOAT}else i=e.UNSIGNED_SHORT;else if(a instanceof Int16Array)i=e.SHORT;else if(a instanceof Uint32Array)i=e.UNSIGNED_INT;else if(a instanceof Int32Array)i=e.INT;else if(a instanceof Int8Array)i=e.BYTE;else if(a instanceof Uint8Array)i=e.UNSIGNED_BYTE;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=e.UNSIGNED_BYTE}return{buffer:s,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){var a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(o.buffer,t,i),o.version=t.version)}}}}var l_=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Xs(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var s=r/2,l=i/2,u=Math.floor(a),c=Math.floor(o),d=u+1,f=c+1,h=r/u,p=i/c,v=[],m=[],g=[],y=[],b=0;b<f;b++)for(var x=b*p-l,w=0;w<d;w++){var S=w*h-s;m.push(S,-x,0),g.push(0,0,1),y.push(w/u),y.push(1-b/c)}for(var _=0;_<c;_++)for(var k=0;k<u;k++){var E=k+d*_,C=k+d*(_+1),M=k+1+d*(_+1),T=k+1+d*_;v.push(E,C,T),v.push(C,M,T)}return e.setIndex(v),e.setAttribute("position",new fS(m,3)),e.setAttribute("normal",new fS(g,3)),e.setAttribute("uv",new fS(y,2)),e}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(wS),u_={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, vMapUv );\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},c_={common:{diffuse:{value:new Xw(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Qb},alphaMap:{value:null},alphaMapTransform:{value:new Qb},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Qb}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Qb}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Qb}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Qb},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Qb},normalScale:{value:new Zb(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Qb},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Qb}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Qb}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Qb}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Xw(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Xw(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Qb},alphaTest:{value:0},uvTransform:{value:new Qb}},sprite:{diffuse:{value:new Xw(16777215)},opacity:{value:1},center:{value:new Zb(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Qb},alphaMap:{value:null},alphaMapTransform:{value:new Qb},alphaTest:{value:0}}},d_={basic:{uniforms:GS([c_.common,c_.specularmap,c_.envmap,c_.aomap,c_.lightmap,c_.fog]),vertexShader:u_.meshbasic_vert,fragmentShader:u_.meshbasic_frag},lambert:{uniforms:GS([c_.common,c_.specularmap,c_.envmap,c_.aomap,c_.lightmap,c_.emissivemap,c_.bumpmap,c_.normalmap,c_.displacementmap,c_.fog,c_.lights,{emissive:{value:new Xw(0)}}]),vertexShader:u_.meshlambert_vert,fragmentShader:u_.meshlambert_frag},phong:{uniforms:GS([c_.common,c_.specularmap,c_.envmap,c_.aomap,c_.lightmap,c_.emissivemap,c_.bumpmap,c_.normalmap,c_.displacementmap,c_.fog,c_.lights,{emissive:{value:new Xw(0)},specular:{value:new Xw(1118481)},shininess:{value:30}}]),vertexShader:u_.meshphong_vert,fragmentShader:u_.meshphong_frag},standard:{uniforms:GS([c_.common,c_.envmap,c_.aomap,c_.lightmap,c_.emissivemap,c_.bumpmap,c_.normalmap,c_.displacementmap,c_.roughnessmap,c_.metalnessmap,c_.fog,c_.lights,{emissive:{value:new Xw(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:u_.meshphysical_vert,fragmentShader:u_.meshphysical_frag},toon:{uniforms:GS([c_.common,c_.aomap,c_.lightmap,c_.emissivemap,c_.bumpmap,c_.normalmap,c_.displacementmap,c_.gradientmap,c_.fog,c_.lights,{emissive:{value:new Xw(0)}}]),vertexShader:u_.meshtoon_vert,fragmentShader:u_.meshtoon_frag},matcap:{uniforms:GS([c_.common,c_.bumpmap,c_.normalmap,c_.displacementmap,c_.fog,{matcap:{value:null}}]),vertexShader:u_.meshmatcap_vert,fragmentShader:u_.meshmatcap_frag},points:{uniforms:GS([c_.points,c_.fog]),vertexShader:u_.points_vert,fragmentShader:u_.points_frag},dashed:{uniforms:GS([c_.common,c_.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:u_.linedashed_vert,fragmentShader:u_.linedashed_frag},depth:{uniforms:GS([c_.common,c_.displacementmap]),vertexShader:u_.depth_vert,fragmentShader:u_.depth_frag},normal:{uniforms:GS([c_.common,c_.bumpmap,c_.normalmap,c_.displacementmap,{opacity:{value:1}}]),vertexShader:u_.meshnormal_vert,fragmentShader:u_.meshnormal_frag},sprite:{uniforms:GS([c_.sprite,c_.fog]),vertexShader:u_.sprite_vert,fragmentShader:u_.sprite_frag},background:{uniforms:{uvTransform:{value:new Qb},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:u_.background_vert,fragmentShader:u_.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:u_.backgroundCube_vert,fragmentShader:u_.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:u_.cube_vert,fragmentShader:u_.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:u_.equirect_vert,fragmentShader:u_.equirect_frag},distanceRGBA:{uniforms:GS([c_.common,c_.displacementmap,{referencePosition:{value:new Mx},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:u_.distanceRGBA_vert,fragmentShader:u_.distanceRGBA_frag},shadow:{uniforms:GS([c_.lights,c_.fog,{color:{value:new Xw(0)},opacity:{value:1}}]),vertexShader:u_.shadow_vert,fragmentShader:u_.shadow_frag}};d_.physical={uniforms:GS([d_.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Qb},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Qb},clearcoatNormalScale:{value:new Zb(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Qb},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Qb},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Qb},sheen:{value:0},sheenColor:{value:new Xw(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Qb},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Qb},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Qb},transmissionSamplerSize:{value:new Zb},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Qb},attenuationDistance:{value:0},attenuationColor:{value:new Xw(0)},specularColor:{value:new Xw(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Qb},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Qb},anisotropyVector:{value:new Zb},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Qb}}]),vertexShader:u_.meshphysical_vert,fragmentShader:u_.meshphysical_frag};var f_={r:0,b:0,g:0};function h_(e,t,n,r,i,a,o){var s,l,u=new Xw(0),c=!0===a?0:1,d=null,f=0,h=null;function p(t,n){t.getRGB(f_,VS(e)),r.buffers.color.setClear(f_.r,f_.g,f_.b,n,o)}return{getClearColor:function(){return u},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;u.set(e),p(u,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){p(u,c=e)},render:function(a,v){var m=!1,g=!0===v.isScene?v.background:null;switch(g&&g.isTexture&&(g=(v.backgroundBlurriness>0?n:t).get(g)),null===g?p(u,c):g&&g.isColor&&(p(g,1),m=!0),e.xr.getEnvironmentBlendMode()){case"opaque":m=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),m=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),m=!0}(e.autoClear||m)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),g&&(g.isCubeTexture||g.mapping===vg)?(void 0===l&&((l=new zS(new jS(1,1,1),new qS({name:"BackgroundCubeMaterial",uniforms:HS(d_.backgroundCube.uniforms),vertexShader:d_.backgroundCube.vertexShader,fragmentShader:d_.backgroundCube.fragmentShader,side:Sm,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),l.material.uniforms.envMap.value=g,l.material.uniforms.flipEnvMap.value=g.isCubeTexture&&!1===g.isRenderTargetTexture?-1:1,l.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,l.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,l.material.toneMapped=g.colorSpace!==Yy,d===g&&f===g.version&&h===e.toneMapping||(l.material.needsUpdate=!0,d=g,f=g.version,h=e.toneMapping),l.layers.enableAll(),a.unshift(l,l.geometry,l.material,0,0,null)):g&&g.isTexture&&(void 0===s&&((s=new zS(new l_(2,2),new qS({name:"BackgroundMaterial",uniforms:HS(d_.background.uniforms),vertexShader:d_.background.vertexShader,fragmentShader:d_.background.fragmentShader,side:wm,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=g,s.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,s.material.toneMapped=g.colorSpace!==Yy,!0===g.matrixAutoUpdate&&g.updateMatrix(),s.material.uniforms.uvTransform.value.copy(g.matrix),d===g&&f===g.version&&h===e.toneMapping||(s.material.needsUpdate=!0,d=g,f=g.version,h=e.toneMapping),s.layers.enableAll(),a.unshift(s,s.geometry,s.material,0,0,null))}}}function p_(e,t,n,r){var i=e.getParameter(e.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},l=h(null),u=l,c=!1;function d(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function f(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function h(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){for(var e=u.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function v(e){m(e,0)}function m(n,i){var a=u.newAttributes,o=u.enabledAttributes,s=u.attributeDivisors;(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function g(){for(var t=u.newAttributes,n=u.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,r,i,a,o,s){!0===s?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function b(){x(),c=!0,u!==l&&d((u=l).object)}function x(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,f,b,x){var w=!1;if(o){var S=function(t,n,i){var o=!0===i.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);var u=l[n.id];void 0===u&&(u={},l[n.id]=u);var c=u[o];void 0===c&&(c=h(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),u[o]=c);return c}(b,f,l);u!==S&&d((u=S).object),w=function(e,t,n,r){var i=u.attributes,a=t.attributes,o=0,s=n.getAttributes();for(var l in s){if(s[l].location>=0){var c=i[l],d=a[l];if(void 0===d&&("instanceMatrix"===l&&e.instanceMatrix&&(d=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(d=e.instanceColor)),void 0===c)return!0;if(c.attribute!==d)return!0;if(d&&c.data!==d.data)return!0;o++}}return u.attributesNum!==o||u.index!==r}(i,b,f,x),w&&function(e,t,n,r){var i={},a=t.attributes,o=0,s=n.getAttributes();for(var l in s){if(s[l].location>=0){var c=a[l];void 0===c&&("instanceMatrix"===l&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(c=e.instanceColor));var d={};d.attribute=c,c&&c.data&&(d.data=c.data),i[l]=d,o++}}u.attributes=i,u.attributesNum=o,u.index=r}(i,b,f,x)}else{var _=!0===l.wireframe;u.geometry===b.id&&u.program===f.id&&u.wireframe===_||(u.geometry=b.id,u.program=f.id,u.wireframe=_,w=!0)}null!==x&&n.update(x,e.ELEMENT_ARRAY_BUFFER),(w||c)&&(c=!1,function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();var l=s.attributes,u=o.getAttributes(),c=a.defaultAttributeValues;for(var d in u){var f=u[d];if(f.location>=0){var h=l[d];if(void 0===h&&("instanceMatrix"===d&&i.instanceMatrix&&(h=i.instanceMatrix),"instanceColor"===d&&i.instanceColor&&(h=i.instanceColor)),void 0!==h){var b=h.normalized,x=h.itemSize,w=n.get(h);if(void 0===w)continue;var S=w.buffer,_=w.type,k=w.bytesPerElement,E=!0===r.isWebGL2&&(_===e.INT||_===e.UNSIGNED_INT||h.gpuType===Og);if(h.isInterleavedBufferAttribute){var C=h.data,M=C.stride,T=h.offset;if(C.isInstancedInterleavedBuffer){for(var R=0;R<f.locationSize;R++)m(f.location+R,C.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=C.meshPerAttribute*C.count)}else for(var A=0;A<f.locationSize;A++)v(f.location+A);e.bindBuffer(e.ARRAY_BUFFER,S);for(var P=0;P<f.locationSize;P++)y(f.location+P,x/f.locationSize,_,b,M*k,(T+x/f.locationSize*P)*k,E)}else{if(h.isInstancedBufferAttribute){for(var I=0;I<f.locationSize;I++)m(f.location+I,h.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=h.meshPerAttribute*h.count)}else for(var O=0;O<f.locationSize;O++)v(f.location+O);e.bindBuffer(e.ARRAY_BUFFER,S);for(var L=0;L<f.locationSize;L++)y(f.location+L,x/f.locationSize,_,b,x*k,x/f.locationSize*L*k,E)}}else if(void 0!==c){var N=c[d];if(void 0!==N)switch(N.length){case 2:e.vertexAttrib2fv(f.location,N);break;case 3:e.vertexAttrib3fv(f.location,N);break;case 4:e.vertexAttrib4fv(f.location,N);break;default:e.vertexAttrib1fv(f.location,N)}}}}g()}(i,l,f,b),null!==x&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.get(x).buffer))},reset:b,resetDefaultState:x,dispose:function(){for(var e in b(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)f(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)f(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)f(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:p,enableAttribute:v,disableUnusedAttributes:g}}function v_(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var l,u;if(a)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](i,r,o,s),n.update(o,i,s)}}}function m_(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=a||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=e.getParameter(e.MAX_TEXTURE_SIZE),h=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),p=e.getParameter(e.MAX_VERTEX_ATTRIBS),v=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),m=e.getParameter(e.MAX_VARYING_VECTORS),g=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),y=d>0,b=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:d,maxTextureSize:f,maxCubemapSize:h,maxAttributes:p,maxVertexUniforms:v,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:y&&b,maxSamples:a?e.getParameter(e.MAX_SAMPLES):0}}function g_(e){var t=this,n=null,r=0,i=!1,a=!1,o=new n_,s=new Qb,l={value:null,needsUpdate:!1};function u(e,n,r,i){var a=null!==e?e.length:0,u=null;if(0!==a){if(u=l.value,!0!==i||null===u){var c=r+4*a,d=n.matrixWorldInverse;s.getNormalMatrix(d),(null===u||u.length<c)&&(u=new Float32Array(c));for(var f=0,h=r;f!==a;++f,h+=4)o.copy(e[f]).applyMatrix4(d,s),o.normal.toArray(u,h),u[h+3]=o.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){var n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=u(e,t,0)},this.setState=function(o,s,c){var d=o.clippingPlanes,f=o.clipIntersection,h=o.clipShadows,p=e.get(o);if(!i||null===d||0===d.length||a&&!h)a?u(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{var v=a?0:r,m=4*v,g=p.clippingState||null;l.value=g,g=u(d,s,m,c);for(var y=0;y!==m;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=v}}}function y_(e){var t=new WeakMap;function n(e,t){return t===hg?e.mapping=dg:t===pg&&(e.mapping=fg),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var a=i.mapping;if(a===hg||a===pg){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=new $S(o.height/2);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}var b_=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return Xs(this,n),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=a,e.bottom=o,e.near=s,e.far=l,e.updateProjectionMatrix(),e}return Ks(n,[{key:"copy",value:function(e,t){return lm(nm(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=lm(nm(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(XS),x_=[.125,.215,.35,.446,.526,.582],w_=20,S_=new b_,__=new Xw,k_=null,E_=(1+Math.sqrt(5))/2,C_=1/E_,M_=[new Mx(1,1,1),new Mx(-1,1,1),new Mx(1,1,-1),new Mx(-1,1,-1),new Mx(0,E_,C_),new Mx(0,E_,-C_),new Mx(C_,0,E_),new Mx(-C_,0,E_),new Mx(E_,C_,0),new Mx(-E_,C_,0)],T_=function(){function e(t){Xs(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return Ks(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;k_=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=I_(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=P_(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(k_),e.scissorTest=!1,A_(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===dg||e.mapping===fg?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),k_=this._renderer.getRenderTarget();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:kg,minFilter:kg,generateMipmaps:!1,type:Dg,format:jg,colorSpace:Ky,depthBuffer:!1},r=R_(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=R_(e,t,n);var i=this._lodMax,a=function(e){for(var t=[],n=[],r=[],i=e,a=e-4+1+x_.length,o=0;o<a;o++){var s=Math.pow(2,i);n.push(s);var l=1/s;o>e-4?l=x_[o-e+4-1]:0===o&&(l=0),r.push(l);for(var u=1/(s-2),c=-u,d=1+u,f=[c,c,d,c,d,d,c,c,d,d,c,d],h=6,p=6,v=3,m=2,g=1,y=new Float32Array(v*p*h),b=new Float32Array(m*p*h),x=new Float32Array(g*p*h),w=0;w<h;w++){var S=w%3*2/3-1,_=w>2?0:-1,k=[S,_,0,S+2/3,_,0,S+2/3,_+1,0,S,_,0,S+2/3,_+1,0,S,_+1,0];y.set(k,v*p*w),b.set(f,m*p*w);var E=[w,w,w,w,w,w];x.set(E,g*p*w)}var C=new wS;C.setAttribute("position",new rS(y,v)),C.setAttribute("uv",new rS(b,m)),C.setAttribute("faceIndex",new rS(x,g)),t.push(C),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(w_),i=new Mx(0,1,0),a=new qS({name:"SphericalGaussianBlur",defines:{n:w_,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:Em,depthTest:!1,depthWrite:!1});return a}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new zS(this._lodPlanes[0],e);this._renderer.compile(t,S_)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new YS(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.toneMapping;s.getClearColor(__),s.toneMapping=ig,s.autoClear=!1;var c=new Kw({name:"PMREM.Background",side:Sm,depthWrite:!1,depthTest:!1}),d=new zS(new jS,c),f=!1,h=e.background;h?h.isColor&&(c.color.copy(h),e.background=null,f=!0):(c.color.copy(__),f=!0);for(var p=0;p<6;p++){var v=p%3;0===v?(i.up.set(0,a[p],0),i.lookAt(o[p],0,0)):1===v?(i.up.set(0,0,a[p]),i.lookAt(0,o[p],0)):(i.up.set(0,a[p],0),i.lookAt(0,0,o[p]));var m=this._cubeSize;A_(r,v*m,p>2?m:0,m,m),s.setRenderTarget(r),f&&s.render(d,i),s.render(e,i)}d.geometry.dispose(),d.material.dispose(),s.toneMapping=u,s.autoClear=l,e.background=h}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===dg||e.mapping===fg;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=I_()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=P_());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new zS(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var o=this._cubeSize;A_(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,S_)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=M_[(r-1)%M_.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new zS(this._lodPlanes[r],l),c=l.uniforms,d=this._sizeLods[n]-1,f=isFinite(i)?Math.PI/(2*d):2*Math.PI/39,h=i/f,p=isFinite(i)?1+Math.floor(3*h):w_;p>w_&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(w_));for(var v=[],m=0,g=0;g<w_;++g){var y=g/h,b=Math.exp(-y*y/2);v.push(b),0===g?m+=b:g<p&&(m+=2*b)}for(var x=0;x<v.length;x++)v[x]=v[x]/m;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=v,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var w=this._lodMax;c.dTheta.value=f,c.mipInt.value=w-n;var S=this._sizeLods[r];A_(t,3*S*(r>w-4?r-w+4:0),4*(this._cubeSize-S),3*S,2*S),s.setRenderTarget(t),s.render(u,S_)}}]),e}();function R_(e,t,n){var r=new xx(e,t,n);return r.texture.mapping=vg,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function A_(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function P_(){return new qS({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:Em,depthTest:!1,depthWrite:!1})}function I_(){return new qS({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:Em,depthTest:!1,depthWrite:!1})}function O_(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=a===hg||a===pg,s=a===dg||a===fg;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var l=t.get(i);return null===n&&(n=new T_(e)),l=o?n.fromEquirectangular(i,l):n.fromCubemap(i,l),t.set(i,l),l.texture}if(t.has(i))return t.get(i).texture;var u=i.image;if(o&&u&&u.height>0||s&&u&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(u)){null===n&&(n=new T_(e));var c=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function L_(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function N_(e,t,n,r){var i={},a=new WeakMap;function o(e){var s=e.target;for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);for(var u in s.morphAttributes)for(var c=s.morphAttributes[u],d=0,f=c.length;d<f;d++)t.remove(c[d]);s.removeEventListener("dispose",o),delete i[s.id];var h=a.get(s);h&&(t.remove(h),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],d=s[l+1],f=s[l+2];n.push(c,d,d,f,f,c)}}else{var h=i.array;o=i.version;for(var p=0,v=h.length/3-1;p<v;p+=3){var m=p+0,g=p+1,y=p+2;n.push(m,g,g,y,y,m)}}var b=new(Jb(n)?cS:lS)(n,1);b.version=o;var x=a.get(e);x&&t.remove(x),a.set(e,b)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){var r=n.attributes;for(var i in r)t.update(r[i],e.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],l=0,u=s.length;l<u;l++)t.update(s[l],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function D_(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,l,u){if(0!==u){var c,d;if(s)c=e,d="drawElementsInstanced";else if(d="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[d](i,l,a,r*o,u),n.update(l,i,u)}}}function U_(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function F_(e,t){return e[0]-t[0]}function z_(e,t){return Math.abs(t[1])-Math.abs(e[1])}function B_(e,t,n){for(var r={},i=new Float32Array(8),a=new WeakMap,o=new bx,s=[],l=0;l<8;l++)s[l]=[l,0];return{update:function(l,u,c){var d=l.morphTargetInfluences;if(!0===t.isWebGL2){var f=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,h=void 0!==f?f.length:0,p=a.get(u);if(void 0===p||p.count!==h){void 0!==p&&p.texture.dispose();var v=void 0!==u.morphAttributes.position,m=void 0!==u.morphAttributes.normal,g=void 0!==u.morphAttributes.color,y=u.morphAttributes.position||[],b=u.morphAttributes.normal||[],x=u.morphAttributes.color||[],w=0;!0===v&&(w=1),!0===m&&(w=2),!0===g&&(w=3);var S=u.attributes.position.count*w,_=1;S>t.maxTextureSize&&(_=Math.ceil(S/t.maxTextureSize),S=t.maxTextureSize);var k=new Float32Array(S*_*4*h),E=new wx(k,S,_,h);E.type=Ng,E.needsUpdate=!0;for(var C=4*w,M=0;M<h;M++)for(var T=y[M],R=b[M],A=x[M],P=S*_*4*M,I=0;I<T.count;I++){var O=I*C;!0===v&&(o.fromBufferAttribute(T,I),k[P+O+0]=o.x,k[P+O+1]=o.y,k[P+O+2]=o.z,k[P+O+3]=0),!0===m&&(o.fromBufferAttribute(R,I),k[P+O+4]=o.x,k[P+O+5]=o.y,k[P+O+6]=o.z,k[P+O+7]=0),!0===g&&(o.fromBufferAttribute(A,I),k[P+O+8]=o.x,k[P+O+9]=o.y,k[P+O+10]=o.z,k[P+O+11]=4===A.itemSize?o.w:1)}p={count:h,texture:E,size:new Zb(S,_)},a.set(u,p),u.addEventListener("dispose",(function e(){E.dispose(),a.delete(u),u.removeEventListener("dispose",e)}))}for(var L=0,N=0;N<d.length;N++)L+=d[N];var D=u.morphTargetsRelative?1:1-L;c.getUniforms().setValue(e,"morphTargetBaseInfluence",D),c.getUniforms().setValue(e,"morphTargetInfluences",d),c.getUniforms().setValue(e,"morphTargetsTexture",p.texture,n),c.getUniforms().setValue(e,"morphTargetsTextureSize",p.size)}else{var U=void 0===d?0:d.length,F=r[u.id];if(void 0===F||F.length!==U){F=[];for(var z=0;z<U;z++)F[z]=[z,0];r[u.id]=F}for(var B=0;B<U;B++){var j=F[B];j[0]=B,j[1]=d[B]}F.sort(z_);for(var H=0;H<8;H++)H<U&&F[H][1]?(s[H][0]=F[H][0],s[H][1]=F[H][1]):(s[H][0]=Number.MAX_SAFE_INTEGER,s[H][1]=0);s.sort(F_);for(var G=u.morphAttributes.position,V=u.morphAttributes.normal,W=0,q=0;q<8;q++){var X=s[q],Y=X[0],K=X[1];Y!==Number.MAX_SAFE_INTEGER&&K?(G&&u.getAttribute("morphTarget"+q)!==G[Y]&&u.setAttribute("morphTarget"+q,G[Y]),V&&u.getAttribute("morphNormal"+q)!==V[Y]&&u.setAttribute("morphNormal"+q,V[Y]),i[q]=K,W+=K):(G&&!0===u.hasAttribute("morphTarget"+q)&&u.deleteAttribute("morphTarget"+q),V&&!0===u.hasAttribute("morphNormal"+q)&&u.deleteAttribute("morphNormal"+q),i[q]=0)}var Z=u.morphTargetsRelative?1:1-W;c.getUniforms().setValue(e,"morphTargetBaseInfluence",Z),c.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function j_(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){var s=r.render.frame,l=o.geometry,u=t.get(o,l);if(i.get(u)!==s&&(t.update(u),i.set(u,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),i.get(o)!==s&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),i.set(o,s))),o.isSkinnedMesh){var c=o.skeleton;i.get(c)!==s&&(c.update(),i.set(c,s))}return u},dispose:function(){i=new WeakMap}}}var H_=new yx,G_=new wx,V_=new _x,W_=new QS,q_=[],X_=[],Y_=new Float32Array(16),K_=new Float32Array(9),Z_=new Float32Array(4);function Q_(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=q_[i];if(void 0===a&&(a=new Float32Array(i),q_[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function $_(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function J_(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function ek(e,t){var n=X_[t];void 0===n&&(n=new Int32Array(t),X_[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function tk(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function nk(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if($_(n,t))return;e.uniform2fv(this.addr,t),J_(n,t)}}function rk(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if($_(n,t))return;e.uniform3fv(this.addr,t),J_(n,t)}}function ik(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if($_(n,t))return;e.uniform4fv(this.addr,t),J_(n,t)}}function ak(e,t){var n=this.cache,r=t.elements;if(void 0===r){if($_(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),J_(n,t)}else{if($_(n,r))return;Z_.set(r),e.uniformMatrix2fv(this.addr,!1,Z_),J_(n,r)}}function ok(e,t){var n=this.cache,r=t.elements;if(void 0===r){if($_(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),J_(n,t)}else{if($_(n,r))return;K_.set(r),e.uniformMatrix3fv(this.addr,!1,K_),J_(n,r)}}function sk(e,t){var n=this.cache,r=t.elements;if(void 0===r){if($_(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),J_(n,t)}else{if($_(n,r))return;Y_.set(r),e.uniformMatrix4fv(this.addr,!1,Y_),J_(n,r)}}function lk(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function uk(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if($_(n,t))return;e.uniform2iv(this.addr,t),J_(n,t)}}function ck(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if($_(n,t))return;e.uniform3iv(this.addr,t),J_(n,t)}}function dk(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if($_(n,t))return;e.uniform4iv(this.addr,t),J_(n,t)}}function fk(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function hk(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if($_(n,t))return;e.uniform2uiv(this.addr,t),J_(n,t)}}function pk(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if($_(n,t))return;e.uniform3uiv(this.addr,t),J_(n,t)}}function vk(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if($_(n,t))return;e.uniform4uiv(this.addr,t),J_(n,t)}}function mk(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||H_,i)}function gk(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||V_,i)}function yk(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||W_,i)}function bk(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||G_,i)}function xk(e,t){e.uniform1fv(this.addr,t)}function wk(e,t){var n=Q_(t,this.size,2);e.uniform2fv(this.addr,n)}function Sk(e,t){var n=Q_(t,this.size,3);e.uniform3fv(this.addr,n)}function _k(e,t){var n=Q_(t,this.size,4);e.uniform4fv(this.addr,n)}function kk(e,t){var n=Q_(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Ek(e,t){var n=Q_(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Ck(e,t){var n=Q_(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Mk(e,t){e.uniform1iv(this.addr,t)}function Tk(e,t){e.uniform2iv(this.addr,t)}function Rk(e,t){e.uniform3iv(this.addr,t)}function Ak(e,t){e.uniform4iv(this.addr,t)}function Pk(e,t){e.uniform1uiv(this.addr,t)}function Ik(e,t){e.uniform2uiv(this.addr,t)}function Ok(e,t){e.uniform3uiv(this.addr,t)}function Lk(e,t){e.uniform4uiv(this.addr,t)}function Nk(e,t,n){var r=this.cache,i=t.length,a=ek(n,i);$_(r,a)||(e.uniform1iv(this.addr,a),J_(r,a));for(var o=0;o!==i;++o)n.setTexture2D(t[o]||H_,a[o])}function Dk(e,t,n){var r=this.cache,i=t.length,a=ek(n,i);$_(r,a)||(e.uniform1iv(this.addr,a),J_(r,a));for(var o=0;o!==i;++o)n.setTexture3D(t[o]||V_,a[o])}function Uk(e,t,n){var r=this.cache,i=t.length,a=ek(n,i);$_(r,a)||(e.uniform1iv(this.addr,a),J_(r,a));for(var o=0;o!==i;++o)n.setTextureCube(t[o]||W_,a[o])}function Fk(e,t,n){var r=this.cache,i=t.length,a=ek(n,i);$_(r,a)||(e.uniform1iv(this.addr,a),J_(r,a));for(var o=0;o!==i;++o)n.setTexture2DArray(t[o]||G_,a[o])}var zk=Ks((function e(t,n,r){Xs(this,e),this.id=t,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return tk;case 35664:return nk;case 35665:return rk;case 35666:return ik;case 35674:return ak;case 35675:return ok;case 35676:return sk;case 5124:case 35670:return lk;case 35667:case 35671:return uk;case 35668:case 35672:return ck;case 35669:case 35673:return dk;case 5125:return fk;case 36294:return hk;case 36295:return pk;case 36296:return vk;case 35678:case 36198:case 36298:case 36306:case 35682:return mk;case 35679:case 36299:case 36307:return gk;case 35680:case 36300:case 36308:case 36293:return yk;case 36289:case 36303:case 36311:case 36292:return bk}}(n.type)})),Bk=Ks((function e(t,n,r){Xs(this,e),this.id=t,this.addr=r,this.cache=[],this.size=n.size,this.setValue=function(e){switch(e){case 5126:return xk;case 35664:return wk;case 35665:return Sk;case 35666:return _k;case 35674:return kk;case 35675:return Ek;case 35676:return Ck;case 5124:case 35670:return Mk;case 35667:case 35671:return Tk;case 35668:case 35672:return Rk;case 35669:case 35673:return Ak;case 5125:return Pk;case 36294:return Ik;case 36295:return Ok;case 36296:return Lk;case 35678:case 36198:case 36298:case 36306:case 35682:return Nk;case 35679:case 36299:case 36307:return Dk;case 35680:case 36300:case 36308:case 36293:return Uk;case 36289:case 36303:case 36311:case 36292:return Fk}}(n.type)})),jk=function(){function e(t){Xs(this,e),this.id=t,this.seq=[],this.map={}}return Ks(e,[{key:"setValue",value:function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}}}]),e}(),Hk=/(\w+)(\])?(\[|\.)?/g;function Gk(e,t){e.seq.push(t),e.map[t.id]=t}function Vk(e,t,n){var r=e.name,i=r.length;for(Hk.lastIndex=0;;){var a=Hk.exec(r),o=Hk.lastIndex,s=a[1],l="]"===a[2],u=a[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===i){Gk(n,void 0===u?new zk(s,e,t):new Bk(s,e,t));break}var c=n.map[s];void 0===c&&Gk(n,c=new jk(s)),n=c}}var Wk=function(){function e(t,n){Xs(this,e),this.seq=[],this.map={};for(var r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var a=t.getActiveUniform(n,i);Vk(a,t.getUniformLocation(n,a.name),this)}}return Ks(e,[{key:"setValue",value:function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)}},{key:"setOptional",value:function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)}}],[{key:"upload",value:function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n}}]),e}();function qk(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var Xk=0;function Yk(e,t,n){var r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var a=/ERROR: 0:(\d+)/.exec(i);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length),o=i;o<a;o++){var s=o+1;r.push("".concat(s===t?">":" "," ").concat(s,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),o)}return i}function Kk(e,t){var n=function(e){switch(e){case Ky:return["Linear","( value )"];case Yy:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Zk(e,t){var n;switch(t){case ag:n="Linear";break;case og:n="Reinhard";break;case sg:n="OptimizedCineon";break;case lg:n="ACESFilmic";break;case ug:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Qk(e){return""!==e}function $k(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Jk(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var eE=/^[ \t]*#include +<([\w\d./]+)>/gm;function tE(e){return e.replace(eE,rE)}var nE=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function rE(e,t){var n=u_[t];if(void 0===n){var r=nE.get(t);if(void 0===r)throw new Error("Can not resolve #include <"+t+">");n=u_[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,r)}return tE(n)}var iE=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function aE(e){return e.replace(iE,oE)}function oE(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function sE(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function lE(e,t,n,r){var i,a,o=e.getContext(),s=n.defines,l=n.vertexShader,u=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===ym?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===bm?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===xm&&(t="SHADOWMAP_TYPE_VSM"),t}(n),d=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case dg:case fg:t="ENVMAP_TYPE_CUBE";break;case vg:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),f=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===fg&&(t="ENVMAP_MODE_REFRACTION");return t}(n),h=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case tg:t="ENVMAP_BLENDING_MULTIPLY";break;case ng:t="ENVMAP_BLENDING_MIX";break;case rg:t="ENVMAP_BLENDING_ADD"}return t}(n),p=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),v=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Qk).join("\n")}(n),m=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),g=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Qk).join("\n")).length>0&&(i+="\n"),(a=[v,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Qk).join("\n")).length>0&&(a+="\n")):(i=[sE(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Qk).join("\n"),a=[v,sE(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",n.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ig?"#define TONE_MAPPING":"",n.toneMapping!==ig?u_.tonemapping_pars_fragment:"",n.toneMapping!==ig?Zk("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",u_.colorspace_pars_fragment,Kk("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Qk).join("\n")),l=Jk(l=$k(l=tE(l),n),n),u=Jk(u=$k(u=tE(u),n),n),l=aE(l),u=aE(u),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===Pb?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Pb?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var b,x,w=y+i+l,S=y+a+u,_=qk(o,o.VERTEX_SHADER,w),k=qk(o,o.FRAGMENT_SHADER,S);if(o.attachShader(g,_),o.attachShader(g,k),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){var E=o.getProgramInfoLog(g).trim(),C=o.getShaderInfoLog(_).trim(),M=o.getShaderInfoLog(k).trim(),T=!0,R=!0;if(!1===o.getProgramParameter(g,o.LINK_STATUS))if(T=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(o,g,_,k);else{var A=Yk(o,_,"vertex"),P=Yk(o,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(g,o.VALIDATE_STATUS)+"\n\nProgram Info Log: "+E+"\n"+A+"\n"+P)}else""!==E?console.warn("THREE.WebGLProgram: Program Info Log:",E):""!==C&&""!==M||(R=!1);R&&(this.diagnostics={runnable:T,programLog:E,vertexShader:{log:C,prefix:i},fragmentShader:{log:M,prefix:a}})}return o.deleteShader(_),o.deleteShader(k),this.getUniforms=function(){return void 0===b&&(b=new Wk(o,g)),b},this.getAttributes=function(){return void 0===x&&(x=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name,s=1;a.type===e.FLOAT_MAT2&&(s=2),a.type===e.FLOAT_MAT3&&(s=3),a.type===e.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(o,g)),x},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Xk++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=_,this.fragmentShader=k,this}var uE=0,cE=function(){function e(){Xs(this,e),this.shaderCache=new Map,this.materialCache=new Map}return Ks(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=Jv(this.materialCache.get(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code)}}catch(i){n.e(i)}finally{n.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new dE(e),t.set(e,n)),n}}]),e}(),dE=Ks((function e(t){Xs(this,e),this.id=uE++,this.code=t,this.usedTimes=0}));function fE(e,t,n,r,i,a,o){var s=new pw,l=new cE,u=[],c=i.isWebGL2,d=i.logarithmicDepthBuffer,f=i.vertexTextures,h=i.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(e){return 0===e?"uv":"uv".concat(e)}return{getParameters:function(a,s,u,m,g){var y=m.fog,b=g.geometry,x=a.isMeshStandardMaterial?m.environment:null,w=(a.isMeshStandardMaterial?n:t).get(a.envMap||x),S=w&&w.mapping===vg?w.image.height:null,_=p[a.type];null!==a.precision&&(h=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",h,"instead.");var k,E,C,M,T=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,R=void 0!==T?T.length:0,A=0;if(void 0!==b.morphAttributes.position&&(A=1),void 0!==b.morphAttributes.normal&&(A=2),void 0!==b.morphAttributes.color&&(A=3),_){var P=d_[_];k=P.vertexShader,E=P.fragmentShader}else k=a.vertexShader,E=a.fragmentShader,l.update(a),C=l.getVertexShaderID(a),M=l.getFragmentShaderID(a);var I=e.getRenderTarget(),O=!0===g.isInstancedMesh,L=!!a.map,N=!!a.matcap,D=!!w,U=!!a.aoMap,F=!!a.lightMap,z=!!a.bumpMap,B=!!a.normalMap,j=!!a.displacementMap,H=!!a.emissiveMap,G=!!a.metalnessMap,V=!!a.roughnessMap,W=a.anisotropy>0,q=a.clearcoat>0,X=a.iridescence>0,Y=a.sheen>0,K=a.transmission>0,Z=W&&!!a.anisotropyMap,Q=q&&!!a.clearcoatMap,$=q&&!!a.clearcoatNormalMap,J=q&&!!a.clearcoatRoughnessMap,ee=X&&!!a.iridescenceMap,te=X&&!!a.iridescenceThicknessMap,ne=Y&&!!a.sheenColorMap,re=Y&&!!a.sheenRoughnessMap,ie=!!a.specularMap,ae=!!a.specularColorMap,oe=!!a.specularIntensityMap,se=K&&!!a.transmissionMap,le=K&&!!a.thicknessMap,ue=!!a.gradientMap,ce=!!a.alphaMap,de=a.alphaTest>0,fe=!!a.alphaHash,he=!!a.extensions,pe=!!b.attributes.uv1,ve=!!b.attributes.uv2,me=!!b.attributes.uv3;return{isWebGL2:c,shaderID:_,shaderType:a.type,shaderName:a.name,vertexShader:k,fragmentShader:E,defines:a.defines,customVertexShaderID:C,customFragmentShaderID:M,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:h,instancing:O,instancingColor:O&&null!==g.instanceColor,supportsVertexTextures:f,outputColorSpace:null===I?e.outputColorSpace:!0===I.isXRRenderTarget?I.texture.colorSpace:Ky,map:L,matcap:N,envMap:D,envMapMode:D&&w.mapping,envMapCubeUVHeight:S,aoMap:U,lightMap:F,bumpMap:z,normalMap:B,displacementMap:f&&j,emissiveMap:H,normalMapObjectSpace:B&&a.normalMapType===qy,normalMapTangentSpace:B&&a.normalMapType===Wy,metalnessMap:G,roughnessMap:V,anisotropy:W,anisotropyMap:Z,clearcoat:q,clearcoatMap:Q,clearcoatNormalMap:$,clearcoatRoughnessMap:J,iridescence:X,iridescenceMap:ee,iridescenceThicknessMap:te,sheen:Y,sheenColorMap:ne,sheenRoughnessMap:re,specularMap:ie,specularColorMap:ae,specularIntensityMap:oe,transmission:K,transmissionMap:se,thicknessMap:le,gradientMap:ue,opaque:!1===a.transparent&&a.blending===Cm,alphaMap:ce,alphaTest:de,alphaHash:fe,combine:a.combine,mapUv:L&&v(a.map.channel),aoMapUv:U&&v(a.aoMap.channel),lightMapUv:F&&v(a.lightMap.channel),bumpMapUv:z&&v(a.bumpMap.channel),normalMapUv:B&&v(a.normalMap.channel),displacementMapUv:j&&v(a.displacementMap.channel),emissiveMapUv:H&&v(a.emissiveMap.channel),metalnessMapUv:G&&v(a.metalnessMap.channel),roughnessMapUv:V&&v(a.roughnessMap.channel),anisotropyMapUv:Z&&v(a.anisotropyMap.channel),clearcoatMapUv:Q&&v(a.clearcoatMap.channel),clearcoatNormalMapUv:$&&v(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:J&&v(a.clearcoatRoughnessMap.channel),iridescenceMapUv:ee&&v(a.iridescenceMap.channel),iridescenceThicknessMapUv:te&&v(a.iridescenceThicknessMap.channel),sheenColorMapUv:ne&&v(a.sheenColorMap.channel),sheenRoughnessMapUv:re&&v(a.sheenRoughnessMap.channel),specularMapUv:ie&&v(a.specularMap.channel),specularColorMapUv:ae&&v(a.specularColorMap.channel),specularIntensityMapUv:oe&&v(a.specularIntensityMap.channel),transmissionMapUv:se&&v(a.transmissionMap.channel),thicknessMapUv:le&&v(a.thicknessMap.channel),alphaMapUv:ce&&v(a.alphaMap.channel),vertexTangents:!!b.attributes.tangent&&(B||W),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,vertexUv1s:pe,vertexUv2s:ve,vertexUv3s:me,pointsUvs:!0===g.isPoints&&!!b.attributes.uv&&(L||ce),fog:!!y,useFog:!0===a.fog,fogExp2:y&&y.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===g.isSkinnedMesh,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:R,morphTextureStride:A,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:ig,useLegacyLights:e.useLegacyLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===_m,flipSided:a.side===Sm,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:he&&!0===a.extensions.derivatives,extensionFragDepth:he&&!0===a.extensions.fragDepth,extensionDrawBuffers:he&&!0===a.extensions.drawBuffers,extensionShaderTextureLOD:he&&!0===a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUv1s&&s.enable(13);t.vertexUv2s&&s.enable(14);t.vertexUv3s&&s.enable(15);t.vertexTangents&&s.enable(16);t.anisotropy&&s.enable(17);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.useLegacyLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.opaque&&s.enable(17);t.pointsUvs&&s.enable(18);e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=p[e.type];if(n){var r=d_[n];t=WS.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,o=u.length;i<o;i++){var s=u[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new lE(e,n,t,a),u.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function hE(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function pE(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function vE(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function mE(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,u){var c=a(e,t,o,s,l,u);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,l,u){var c=a(e,t,o,s,l,u);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||pE),r.length>1&&r.sort(t||vE),i.length>1&&i.sort(t||vE)}}}function gE(){var e=new WeakMap;return{get:function(t,n){var r,i=e.get(t);return void 0===i?(r=new mE,e.set(t,[r])):n>=i.length?(r=new mE,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function yE(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Mx,color:new Xw};break;case"SpotLight":n={position:new Mx,direction:new Mx,color:new Xw,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Mx,color:new Xw,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Mx,skyColor:new Xw,groundColor:new Xw};break;case"RectAreaLight":n={color:new Xw,position:new Mx,halfWidth:new Mx,halfHeight:new Mx}}return e[t.id]=n,n}}}var bE=0;function xE(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function wE(e,t){for(var n=new yE,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Zb};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Zb,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0},a=0;a<9;a++)i.probe.push(new Mx);var o=new Mx,s=new rw,l=new rw;return{setup:function(a,o){for(var s=0,l=0,u=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var d=0,f=0,h=0,p=0,v=0,m=0,g=0,y=0,b=0,x=0;a.sort(xE);for(var w=!0===o?Math.PI:1,S=0,_=a.length;S<_;S++){var k=a[S],E=k.color,C=k.intensity,M=k.distance,T=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)s+=E.r*C*w,l+=E.g*C*w,u+=E.b*C*w;else if(k.isLightProbe)for(var R=0;R<9;R++)i.probe[R].addScaledVector(k.sh.coefficients[R],C);else if(k.isDirectionalLight){var A=n.get(k);if(A.color.copy(k.color).multiplyScalar(k.intensity*w),k.castShadow){var P=k.shadow,I=r.get(k);I.shadowBias=P.bias,I.shadowNormalBias=P.normalBias,I.shadowRadius=P.radius,I.shadowMapSize=P.mapSize,i.directionalShadow[d]=I,i.directionalShadowMap[d]=T,i.directionalShadowMatrix[d]=k.shadow.matrix,m++}i.directional[d]=A,d++}else if(k.isSpotLight){var O=n.get(k);O.position.setFromMatrixPosition(k.matrixWorld),O.color.copy(E).multiplyScalar(C*w),O.distance=M,O.coneCos=Math.cos(k.angle),O.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),O.decay=k.decay,i.spot[h]=O;var L=k.shadow;if(k.map&&(i.spotLightMap[b]=k.map,b++,L.updateMatrices(k),k.castShadow&&x++),i.spotLightMatrix[h]=L.matrix,k.castShadow){var N=r.get(k);N.shadowBias=L.bias,N.shadowNormalBias=L.normalBias,N.shadowRadius=L.radius,N.shadowMapSize=L.mapSize,i.spotShadow[h]=N,i.spotShadowMap[h]=T,y++}h++}else if(k.isRectAreaLight){var D=n.get(k);D.color.copy(E).multiplyScalar(C),D.halfWidth.set(.5*k.width,0,0),D.halfHeight.set(0,.5*k.height,0),i.rectArea[p]=D,p++}else if(k.isPointLight){var U=n.get(k);if(U.color.copy(k.color).multiplyScalar(k.intensity*w),U.distance=k.distance,U.decay=k.decay,k.castShadow){var F=k.shadow,z=r.get(k);z.shadowBias=F.bias,z.shadowNormalBias=F.normalBias,z.shadowRadius=F.radius,z.shadowMapSize=F.mapSize,z.shadowCameraNear=F.camera.near,z.shadowCameraFar=F.camera.far,i.pointShadow[f]=z,i.pointShadowMap[f]=T,i.pointShadowMatrix[f]=k.shadow.matrix,g++}i.point[f]=U,f++}else if(k.isHemisphereLight){var B=n.get(k);B.skyColor.copy(k.color).multiplyScalar(C*w),B.groundColor.copy(k.groundColor).multiplyScalar(C*w),i.hemi[v]=B,v++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=c_.LTC_FLOAT_1,i.rectAreaLTC2=c_.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=c_.LTC_HALF_1,i.rectAreaLTC2=c_.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=u;var j=i.hash;j.directionalLength===d&&j.pointLength===f&&j.spotLength===h&&j.rectAreaLength===p&&j.hemiLength===v&&j.numDirectionalShadows===m&&j.numPointShadows===g&&j.numSpotShadows===y&&j.numSpotMaps===b||(i.directional.length=d,i.spot.length=h,i.rectArea.length=p,i.point.length=f,i.hemi.length=v,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=y,i.spotShadowMap.length=y,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=g,i.spotLightMatrix.length=y+b-x,i.spotLightMap.length=b,i.numSpotLightShadowsWithMaps=x,j.directionalLength=d,j.pointLength=f,j.spotLength=h,j.rectAreaLength=p,j.hemiLength=v,j.numDirectionalShadows=m,j.numPointShadows=g,j.numSpotShadows=y,j.numSpotMaps=b,i.version=bE++)},setupView:function(e,t){for(var n=0,r=0,a=0,u=0,c=0,d=t.matrixWorldInverse,f=0,h=e.length;f<h;f++){var p=e[f];if(p.isDirectionalLight){var v=i.directional[n];v.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(d),n++}else if(p.isSpotLight){var m=i.spot[a];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(d),m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(d),a++}else if(p.isRectAreaLight){var g=i.rectArea[u];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(d),l.identity(),s.copy(p.matrixWorld),s.premultiply(d),l.extractRotation(s),g.halfWidth.set(.5*p.width,0,0),g.halfHeight.set(0,.5*p.height,0),g.halfWidth.applyMatrix4(l),g.halfHeight.applyMatrix4(l),u++}else if(p.isPointLight){var y=i.point[r];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(d),r++}else if(p.isHemisphereLight){var b=i.hemi[c];b.direction.setFromMatrixPosition(p.matrixWorld),b.direction.transformDirection(d),c++}}},state:i}}function SE(e,t){var n=new wE(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function _E(e,t){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.get(r);return void 0===o?(i=new SE(e,t),n.set(r,[i])):a>=o.length?(i=new SE(e,t),o.push(i)):i=o[a],i},dispose:function(){n=new WeakMap}}}var kE=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).isMeshDepthMaterial=!0,r.type="MeshDepthMaterial",r.depthPacking=Gy,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.setValues(e),r}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(Hw),EE=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).isMeshDistanceMaterial=!0,r.type="MeshDistanceMaterial",r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.setValues(e),r}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(Hw);function CE(e,t,n){var r,i=new a_,a=new Zb,o=new Zb,l=new bx,u=new kE({depthPacking:Vy}),c=new EE,d={},f=n.maxTextureSize,h=(s(r={},wm,Sm),s(r,Sm,wm),s(r,_m,_m),r),p=new qS({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Zb},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),v=p.clone();v.defines.HORIZONTAL_PASS=1;var m=new wS;m.setAttribute("position",new rS(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var g=new zS(m,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=ym;var b=this.type;function x(n,r){var i=t.update(g);p.defines.VSM_SAMPLES!==n.blurSamples&&(p.defines.VSM_SAMPLES=n.blurSamples,v.defines.VSM_SAMPLES=n.blurSamples,p.needsUpdate=!0,v.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new xx(a.x,a.y)),p.uniforms.shadow_pass.value=n.map.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,p,g,null),v.uniforms.shadow_pass.value=n.mapPass.texture,v.uniforms.resolution.value=n.mapSize,v.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,v,g,null)}function w(t,n,r,i){var a=null,o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?c:u,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){var s=a.uuid,l=n.uuid,f=d[s];void 0===f&&(f={},d[s]=f);var p=f[l];void 0===p&&(p=a.clone(),f[l]=p),a=p}(a.visible=n.visible,a.wireframe=n.wireframe,a.side=i===xm?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:h[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial)&&(e.properties.get(a).light=r);return a}function S(n,r,a,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===xm)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=t.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,d=0,f=c.length;d<f;d++){var h=c[d],p=u[h.materialIndex];if(p&&p.visible){var v=w(n,p,o,s);e.renderBufferDirect(a,null,l,v,n,h)}}else if(u.visible){var m=w(n,u,o,s);e.renderBufferDirect(a,null,l,m,n,null)}}for(var g=n.children,y=0,b=g.length;y<b;y++)S(g[y],r,a,o,s)}}this.render=function(t,n,r){if(!1!==y.enabled&&(!1!==y.autoUpdate||!1!==y.needsUpdate)&&0!==t.length){var s=e.getRenderTarget(),u=e.getActiveCubeFace(),c=e.getActiveMipmapLevel(),d=e.state;d.setBlending(Em),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var h=b!==xm&&this.type===xm,p=b===xm&&this.type!==xm,v=0,m=t.length;v<m;v++){var g=t[v],w=g.shadow;if(void 0!==w){if(!1!==w.autoUpdate||!1!==w.needsUpdate){a.copy(w.mapSize);var _=w.getFrameExtents();if(a.multiply(_),o.copy(w.mapSize),(a.x>f||a.y>f)&&(a.x>f&&(o.x=Math.floor(f/_.x),a.x=o.x*_.x,w.mapSize.x=o.x),a.y>f&&(o.y=Math.floor(f/_.y),a.y=o.y*_.y,w.mapSize.y=o.y)),null===w.map||!0===h||!0===p){var k=this.type!==xm?{minFilter:bg,magFilter:bg}:{};null!==w.map&&w.map.dispose(),w.map=new xx(a.x,a.y,k),w.map.texture.name=g.name+".shadowMap",w.camera.updateProjectionMatrix()}e.setRenderTarget(w.map),e.clear();for(var E=w.getViewportCount(),C=0;C<E;C++){var M=w.getViewport(C);l.set(o.x*M.x,o.y*M.y,o.x*M.z,o.y*M.w),d.viewport(l),w.updateMatrices(g,C),i=w.getFrustum(),S(n,r,w.camera,g,this.type)}!0!==w.isPointLightShadow&&this.type===xm&&x(w,r),w.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}b=this.type,y.needsUpdate=!1,e.setRenderTarget(s,u,c)}}}function ME(e,t,n){var r,i,a=n.isWebGL2;var o=new function(){var t=!1,n=new bx,r=null,i=new bx(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},l=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(t){t?G(e.DEPTH_TEST):V(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case Xm:e.depthFunc(e.NEVER);break;case Ym:e.depthFunc(e.ALWAYS);break;case Km:e.depthFunc(e.LESS);break;case Zm:e.depthFunc(e.LEQUAL);break;case Qm:e.depthFunc(e.EQUAL);break;case $m:e.depthFunc(e.GEQUAL);break;case Jm:e.depthFunc(e.GREATER);break;case eg:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},u=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(n){t||(n?G(e.STENCIL_TEST):V(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null}}},c=new WeakMap,d=new WeakMap,f={},h={},p=new WeakMap,v=[],m=null,g=!1,y=null,b=null,x=null,w=null,S=null,_=null,k=null,E=!1,C=null,M=null,T=null,R=null,A=null,P=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),I=!1,O=0,L=e.getParameter(e.VERSION);-1!==L.indexOf("WebGL")?(O=parseFloat(/^WebGL (\d)/.exec(L)[1]),I=O>=1):-1!==L.indexOf("OpenGL ES")&&(O=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),I=O>=2);var N=null,D={},U=e.getParameter(e.SCISSOR_BOX),F=e.getParameter(e.VIEWPORT),z=(new bx).fromArray(U),B=(new bx).fromArray(F);function j(t,n,r,i){var o=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var l=0;l<r;l++)!a||t!==e.TEXTURE_3D&&t!==e.TEXTURE_2D_ARRAY?e.texImage2D(n+l,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,o);return s}var H={};function G(t){!0!==f[t]&&(e.enable(t),f[t]=!0)}function V(t){!1!==f[t]&&(e.disable(t),f[t]=!1)}H[e.TEXTURE_2D]=j(e.TEXTURE_2D,e.TEXTURE_2D,1),H[e.TEXTURE_CUBE_MAP]=j(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),a&&(H[e.TEXTURE_2D_ARRAY]=j(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),H[e.TEXTURE_3D]=j(e.TEXTURE_3D,e.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),l.setClear(1),u.setClear(0),G(e.DEPTH_TEST),l.setFunc(Zm),K(!1),Z(pm),G(e.CULL_FACE),Y(Em);var W=(s(r={},Pm,e.FUNC_ADD),s(r,Im,e.FUNC_SUBTRACT),s(r,Om,e.FUNC_REVERSE_SUBTRACT),r);if(a)W[Lm]=e.MIN,W[Nm]=e.MAX;else{var q=t.get("EXT_blend_minmax");null!==q&&(W[Lm]=q.MIN_EXT,W[Nm]=q.MAX_EXT)}var X=(s(i={},Dm,e.ZERO),s(i,Um,e.ONE),s(i,Fm,e.SRC_COLOR),s(i,Bm,e.SRC_ALPHA),s(i,qm,e.SRC_ALPHA_SATURATE),s(i,Vm,e.DST_COLOR),s(i,Hm,e.DST_ALPHA),s(i,zm,e.ONE_MINUS_SRC_COLOR),s(i,jm,e.ONE_MINUS_SRC_ALPHA),s(i,Wm,e.ONE_MINUS_DST_COLOR),s(i,Gm,e.ONE_MINUS_DST_ALPHA),i);function Y(t,n,r,i,a,o,s,l){if(t!==Em){if(!1===g&&(G(e.BLEND),g=!0),t===Am)a=a||n,o=o||r,s=s||i,n===b&&a===S||(e.blendEquationSeparate(W[n],W[a]),b=n,S=a),r===x&&i===w&&o===_&&s===k||(e.blendFuncSeparate(X[r],X[i],X[o],X[s]),x=r,w=i,_=o,k=s),y=t,E=!1;else if(t!==y||l!==E){if(b===Pm&&S===Pm||(e.blendEquation(e.FUNC_ADD),b=Pm,S=Pm),l)switch(t){case Cm:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case Mm:e.blendFunc(e.ONE,e.ONE);break;case Tm:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case Rm:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case Cm:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case Mm:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case Tm:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case Rm:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}x=null,w=null,_=null,k=null,y=t,E=l}}else!0===g&&(V(e.BLEND),g=!1)}function K(t){C!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),C=t)}function Z(t){t!==hm?(G(e.CULL_FACE),t!==M&&(t===pm?e.cullFace(e.BACK):t===vm?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):V(e.CULL_FACE),M=t}function Q(t,n,r){t?(G(e.POLYGON_OFFSET_FILL),R===n&&A===r||(e.polygonOffset(n,r),R=n,A=r)):V(e.POLYGON_OFFSET_FILL)}return{buffers:{color:o,depth:l,stencil:u},enable:G,disable:V,bindFramebuffer:function(t,n){return h[t]!==n&&(e.bindFramebuffer(t,n),h[t]=n,a&&(t===e.DRAW_FRAMEBUFFER&&(h[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(h[e.DRAW_FRAMEBUFFER]=n)),!0)},drawBuffers:function(r,i){var a=v,o=!1;if(r)if(void 0===(a=p.get(i))&&(a=[],p.set(i,a)),r.isWebGLMultipleRenderTargets){var s=r.texture;if(a.length!==s.length||a[0]!==e.COLOR_ATTACHMENT0){for(var l=0,u=s.length;l<u;l++)a[l]=e.COLOR_ATTACHMENT0+l;a.length=s.length,o=!0}}else a[0]!==e.COLOR_ATTACHMENT0&&(a[0]=e.COLOR_ATTACHMENT0,o=!0);else a[0]!==e.BACK&&(a[0]=e.BACK,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return m!==t&&(e.useProgram(t),m=t,!0)},setBlending:Y,setMaterial:function(t,n){t.side===_m?V(e.CULL_FACE):G(e.CULL_FACE);var r=t.side===Sm;n&&(r=!r),K(r),t.blending===Cm&&!1===t.transparent?Y(Em):Y(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),l.setFunc(t.depthFunc),l.setTest(t.depthTest),l.setMask(t.depthWrite),o.setMask(t.colorWrite);var i=t.stencilWrite;u.setTest(i),i&&(u.setMask(t.stencilWriteMask),u.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),u.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Q(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?G(e.SAMPLE_ALPHA_TO_COVERAGE):V(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:K,setCullFace:Z,setLineWidth:function(t){t!==T&&(I&&e.lineWidth(t),T=t)},setPolygonOffset:Q,setScissorTest:function(t){t?G(e.SCISSOR_TEST):V(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+P-1),N!==t&&(e.activeTexture(t),N=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===N?e.TEXTURE0+P-1:N);var i=D[r];void 0===i&&(i={type:void 0,texture:void 0},D[r]=i),i.type===t&&i.texture===n||(N!==r&&(e.activeTexture(r),N=r),e.bindTexture(t,n||H[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=D[N];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){var r=d.get(n);void 0===r&&(r=new WeakMap,d.set(n,r));var i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){var r=d.get(n).get(t);c.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),c.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===z.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),z.copy(t))},viewport:function(t){!1===B.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),B.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),!0===a&&(e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),f={},N=null,D={},h={},p=new WeakMap,v=[],m=null,g=!1,y=null,b=null,x=null,w=null,S=null,_=null,k=null,E=!1,C=null,M=null,T=null,R=null,A=null,z.set(0,0,e.canvas.width,e.canvas.height),B.set(0,0,e.canvas.width,e.canvas.height),o.reset(),l.reset(),u.reset()}}}function TE(e,t,n,r,i,a,o){var l,u,c,d,f=i.isWebGL2,h=i.maxTextures,p=i.maxCubemapSize,v=i.maxTextureSize,m=i.maxSamples,g=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,y="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),b=new WeakMap,x=new WeakMap,w=!1;try{w="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(X){}function S(e,t){return w?new OffscreenCanvas(e,t):nx("canvas")}function _(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?qb:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===d&&(d=S(o,s));var l=n?S(o,s):d;return l.width=o,l.height=s,l.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function k(e){return Vb(e.width)&&Vb(e.height)}function E(e,t){return e.generateMipmaps&&t&&e.minFilter!==bg&&e.minFilter!==kg}function C(t){e.generateMipmap(t)}function M(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===f)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=r;return r===e.RED&&(i===e.FLOAT&&(s=e.R32F),i===e.HALF_FLOAT&&(s=e.R16F),i===e.UNSIGNED_BYTE&&(s=e.R8)),r===e.RG&&(i===e.FLOAT&&(s=e.RG32F),i===e.HALF_FLOAT&&(s=e.RG16F),i===e.UNSIGNED_BYTE&&(s=e.RG8)),r===e.RGBA&&(i===e.FLOAT&&(s=e.RGBA32F),i===e.HALF_FLOAT&&(s=e.RGBA16F),i===e.UNSIGNED_BYTE&&(s=a===Yy&&!1===o?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)),s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function T(e,t,n){return!0===E(e,n)||e.isFramebufferTexture&&e.minFilter!==bg&&e.minFilter!==kg?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function R(t){return t===bg||t===xg||t===Sg?e.NEAREST:e.LINEAR}function A(e){var t=e.target;t.removeEventListener("dispose",A),function(e){var t=r.get(e);if(void 0===t.__webglInit)return;var n=e.source,i=x.get(n);if(i){var a=i[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&I(e),0===Object.keys(i).length&&x.delete(n)}r.remove(e)}(t),t.isVideoTexture&&b.delete(t)}function P(t){var n=t.target;n.removeEventListener("dispose",P),function(t){var n=t.texture,i=r.get(t),a=r.get(n);void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(i.__webglFramebuffer[s]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(var l=0;l<i.__webglColorRenderbuffer.length;l++)i.__webglColorRenderbuffer[l]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[l]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var u=0,c=n.length;u<c;u++){var d=r.get(n[u]);d.__webglTexture&&(e.deleteTexture(d.__webglTexture),o.memory.textures--),r.remove(n[u])}r.remove(n),r.remove(t)}(n)}function I(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete x.get(i)[n.__cacheKey],o.memory.textures--}var O=0;function L(t,i){var a=r.get(t);if(t.isVideoTexture&&function(e){var t=o.render.frame;b.get(e)!==t&&(b.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version){var s=t.image;if(null===s)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==s.complete)return void B(a,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}var N=(s(l={},mg,e.REPEAT),s(l,gg,e.CLAMP_TO_EDGE),s(l,yg,e.MIRRORED_REPEAT),l),D=(s(u={},bg,e.NEAREST),s(u,xg,e.NEAREST_MIPMAP_NEAREST),s(u,Sg,e.NEAREST_MIPMAP_LINEAR),s(u,kg,e.LINEAR),s(u,Eg,e.LINEAR_MIPMAP_NEAREST),s(u,Mg,e.LINEAR_MIPMAP_LINEAR),u),U=(s(c={},hb,e.NEVER),s(c,xb,e.ALWAYS),s(c,pb,e.LESS),s(c,mb,e.LEQUAL),s(c,vb,e.EQUAL),s(c,bb,e.GEQUAL),s(c,gb,e.GREATER),s(c,yb,e.NOTEQUAL),c);function F(n,a,o){if(o?(e.texParameteri(n,e.TEXTURE_WRAP_S,N[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,N[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,N[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,D[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,D[a.minFilter])):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),a.wrapS===gg&&a.wrapT===gg||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,e.TEXTURE_MAG_FILTER,R(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,R(a.minFilter)),a.minFilter!==bg&&a.minFilter!==kg&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,U[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(a.magFilter===bg)return;if(a.minFilter!==Sg&&a.minFilter!==Mg)return;if(a.type===Ng&&!1===t.has("OES_texture_float_linear"))return;if(!1===f&&a.type===Dg&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function z(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",A));var i=n.source,a=x.get(i);void 0===a&&(a={},x.set(i,a));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;var l=a[t.__cacheKey];void 0!==l&&(a[t.__cacheKey].usedTimes--,0===l.usedTimes&&I(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function B(t,i,o){var s=e.TEXTURE_2D;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(s=e.TEXTURE_2D_ARRAY),i.isData3DTexture&&(s=e.TEXTURE_3D);var l=z(t,i),u=i.source;n.bindTexture(s,t.__webglTexture,e.TEXTURE0+o);var c=r.get(u);if(u.version!==c.__version||!0===l){n.activeTexture(e.TEXTURE0+o),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);var d,h=function(e){return!f&&(e.wrapS!==gg||e.wrapT!==gg||e.minFilter!==bg&&e.minFilter!==kg)}(i)&&!1===k(i.image),p=_(i.image,h,!1,v),m=k(p=q(i,p))||f,g=a.convert(i.format,i.colorSpace),y=a.convert(i.type),b=M(i.internalFormat,g,y,i.colorSpace);F(s,i,m);var x=i.mipmaps,w=f&&!0!==i.isVideoTexture,S=void 0===c.__version||!0===l,R=T(i,p,m);if(i.isDepthTexture)b=e.DEPTH_COMPONENT,f?b=i.type===Ng?e.DEPTH_COMPONENT32F:i.type===Lg?e.DEPTH_COMPONENT24:i.type===zg?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT16:i.type===Ng&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===Vg&&b===e.DEPTH_COMPONENT&&i.type!==Ig&&i.type!==Lg&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Lg,y=a.convert(i.type)),i.format===Wg&&b===e.DEPTH_COMPONENT&&(b=e.DEPTH_STENCIL,i.type!==zg&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=zg,y=a.convert(i.type))),S&&(w?n.texStorage2D(e.TEXTURE_2D,1,b,p.width,p.height):n.texImage2D(e.TEXTURE_2D,0,b,p.width,p.height,0,g,y,null));else if(i.isDataTexture)if(x.length>0&&m){w&&S&&n.texStorage2D(e.TEXTURE_2D,R,b,x[0].width,x[0].height);for(var A=0,P=x.length;A<P;A++)d=x[A],w?n.texSubImage2D(e.TEXTURE_2D,A,0,0,d.width,d.height,g,y,d.data):n.texImage2D(e.TEXTURE_2D,A,b,d.width,d.height,0,g,y,d.data);i.generateMipmaps=!1}else w?(S&&n.texStorage2D(e.TEXTURE_2D,R,b,p.width,p.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,p.width,p.height,g,y,p.data)):n.texImage2D(e.TEXTURE_2D,0,b,p.width,p.height,0,g,y,p.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){w&&S&&n.texStorage3D(e.TEXTURE_2D_ARRAY,R,b,x[0].width,x[0].height,p.depth);for(var I=0,O=x.length;I<O;I++)d=x[I],i.format!==jg?null!==g?w?n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,I,0,0,0,d.width,d.height,p.depth,g,d.data,0,0):n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,I,b,d.width,d.height,p.depth,0,d.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):w?n.texSubImage3D(e.TEXTURE_2D_ARRAY,I,0,0,0,d.width,d.height,p.depth,g,y,d.data):n.texImage3D(e.TEXTURE_2D_ARRAY,I,b,d.width,d.height,p.depth,0,g,y,d.data)}else{w&&S&&n.texStorage2D(e.TEXTURE_2D,R,b,x[0].width,x[0].height);for(var L=0,N=x.length;L<N;L++)d=x[L],i.format!==jg?null!==g?w?n.compressedTexSubImage2D(e.TEXTURE_2D,L,0,0,d.width,d.height,g,d.data):n.compressedTexImage2D(e.TEXTURE_2D,L,b,d.width,d.height,0,d.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):w?n.texSubImage2D(e.TEXTURE_2D,L,0,0,d.width,d.height,g,y,d.data):n.texImage2D(e.TEXTURE_2D,L,b,d.width,d.height,0,g,y,d.data)}else if(i.isDataArrayTexture)w?(S&&n.texStorage3D(e.TEXTURE_2D_ARRAY,R,b,p.width,p.height,p.depth),n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,p.width,p.height,p.depth,g,y,p.data)):n.texImage3D(e.TEXTURE_2D_ARRAY,0,b,p.width,p.height,p.depth,0,g,y,p.data);else if(i.isData3DTexture)w?(S&&n.texStorage3D(e.TEXTURE_3D,R,b,p.width,p.height,p.depth),n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,p.width,p.height,p.depth,g,y,p.data)):n.texImage3D(e.TEXTURE_3D,0,b,p.width,p.height,p.depth,0,g,y,p.data);else if(i.isFramebufferTexture){if(S)if(w)n.texStorage2D(e.TEXTURE_2D,R,b,p.width,p.height);else for(var D=p.width,U=p.height,B=0;B<R;B++)n.texImage2D(e.TEXTURE_2D,B,b,D,U,0,g,y,null),D>>=1,U>>=1}else if(x.length>0&&m){w&&S&&n.texStorage2D(e.TEXTURE_2D,R,b,x[0].width,x[0].height);for(var j=0,H=x.length;j<H;j++)d=x[j],w?n.texSubImage2D(e.TEXTURE_2D,j,0,0,g,y,d):n.texImage2D(e.TEXTURE_2D,j,b,g,y,d);i.generateMipmaps=!1}else w?(S&&n.texStorage2D(e.TEXTURE_2D,R,b,p.width,p.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,g,y,p)):n.texImage2D(e.TEXTURE_2D,0,b,g,y,p);E(i,m)&&C(s),c.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function j(t,i,o,s,l){var u=a.convert(o.format,o.colorSpace),c=a.convert(o.type),d=M(o.internalFormat,u,c,o.colorSpace);r.get(i).__hasExternalTextures||(l===e.TEXTURE_3D||l===e.TEXTURE_2D_ARRAY?n.texImage3D(l,0,d,i.width,i.height,i.depth,0,u,c,null):n.texImage2D(l,0,d,i.width,i.height,0,u,c,null)),n.bindFramebuffer(e.FRAMEBUFFER,t),W(i)?g.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,s,l,r.get(o).__webglTexture,0,V(i)):(l===e.TEXTURE_2D||l>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&l<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,s,l,r.get(o).__webglTexture,0),n.bindFramebuffer(e.FRAMEBUFFER,null)}function H(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){var i=e.DEPTH_COMPONENT16;if(r||W(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===Ng?i=e.DEPTH_COMPONENT32F:o.type===Lg&&(i=e.DEPTH_COMPONENT24));var s=V(n);W(n)?g.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,s,i,n.width,n.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,s,i,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,i,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){var l=V(n);r&&!1===W(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,l,e.DEPTH24_STENCIL8,n.width,n.height):W(n)?g.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,l,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else for(var u=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],c=0;c<u.length;c++){var d=u[c],f=a.convert(d.format,d.colorSpace),h=a.convert(d.type),p=M(d.internalFormat,f,h,d.colorSpace),v=V(n);r&&!1===W(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,v,p,n.width,n.height):W(n)?g.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,v,p,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,p,n.width,n.height)}e.bindRenderbuffer(e.RENDERBUFFER,null)}function G(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),L(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture,o=V(i);if(i.depthTexture.format===Vg)W(i)?g.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0);else{if(i.depthTexture.format!==Wg)throw new Error("Unknown depthTexture format");W(i)?g.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),H(i.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),H(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}function V(e){return Math.min(m,e.samples)}function W(e){var n=r.get(e);return f&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function q(e,n){var r=e.colorSpace,i=e.format,a=e.type;return!0===e.isCompressedTexture||e.format===Ib||r!==Ky&&r!==Xy&&(r===Yy?!1===f?!0===t.has("EXT_sRGB")&&i===jg?(e.format=Ib,e.minFilter=kg,e.generateMipmaps=!1):n=hx.sRGBToLinear(n):i===jg&&a===Rg||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",r)),n}this.allocateTextureUnit=function(){var e=O;return e>=h&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+h),O+=1,e},this.resetTextureUnits=function(){O=0},this.setTexture2D=L,this.setTexture2DArray=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?B(a,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?B(a,t,i):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,i){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,i,o){if(6!==i.image.length)return;var s=z(t,i),l=i.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+o);var u=r.get(l);if(l.version!==u.__version||!0===s){n.activeTexture(e.TEXTURE0+o),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);for(var c=i.isCompressedTexture||i.image[0].isCompressedTexture,d=i.image[0]&&i.image[0].isDataTexture,h=[],v=0;v<6;v++)h[v]=c||d?d?i.image[v].image:i.image[v]:_(i.image[v],!1,!0,p),h[v]=q(i,h[v]);var m,g=h[0],y=k(g)||f,b=a.convert(i.format,i.colorSpace),x=a.convert(i.type),w=M(i.internalFormat,b,x,i.colorSpace),S=f&&!0!==i.isVideoTexture,R=void 0===u.__version||!0===s,A=T(i,g,y);if(F(e.TEXTURE_CUBE_MAP,i,y),c){S&&R&&n.texStorage2D(e.TEXTURE_CUBE_MAP,A,w,g.width,g.height);for(var P=0;P<6;P++){m=h[P].mipmaps;for(var I=0;I<m.length;I++){var O=m[I];i.format!==jg?null!==b?S?n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+P,I,0,0,O.width,O.height,b,O.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+P,I,w,O.width,O.height,0,O.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):S?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+P,I,0,0,O.width,O.height,b,x,O.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+P,I,w,O.width,O.height,0,b,x,O.data)}}}else{m=i.mipmaps,S&&R&&(m.length>0&&A++,n.texStorage2D(e.TEXTURE_CUBE_MAP,A,w,h[0].width,h[0].height));for(var L=0;L<6;L++)if(d){S?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+L,0,0,0,h[L].width,h[L].height,b,x,h[L].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+L,0,w,h[L].width,h[L].height,0,b,x,h[L].data);for(var N=0;N<m.length;N++){var D=m[N].image[L].image;S?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+L,N+1,0,0,D.width,D.height,b,x,D.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+L,N+1,w,D.width,D.height,0,b,x,D.data)}}else{S?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+L,0,0,0,b,x,h[L]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+L,0,w,b,x,h[L]);for(var U=0;U<m.length;U++){var B=m[U];S?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+L,U+1,0,0,b,x,B.image[L]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+L,U+1,w,b,x,B.image[L])}}}E(i,y)&&C(e.TEXTURE_CUBE_MAP),u.__version=l.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(o,t,i):n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture,e.TEXTURE0+i)},this.rebindTextures=function(t,n,i){var a=r.get(t);void 0!==n&&j(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),void 0!==i&&G(t)},this.setupRenderTarget=function(t){var s=t.texture,l=r.get(t),u=r.get(s);t.addEventListener("dispose",P),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=s.version,o.memory.textures++);var c=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,h=k(t)||f;if(c){l.__webglFramebuffer=[];for(var p=0;p<6;p++)l.__webglFramebuffer[p]=e.createFramebuffer()}else{if(l.__webglFramebuffer=e.createFramebuffer(),d)if(i.drawBuffers)for(var v=t.texture,m=0,g=v.length;m<g;m++){var y=r.get(v[m]);void 0===y.__webglTexture&&(y.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(f&&t.samples>0&&!1===W(t)){var b=d?s:[s];l.__webglMultisampledFramebuffer=e.createFramebuffer(),l.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,l.__webglMultisampledFramebuffer);for(var x=0;x<b.length;x++){var w=b[x];l.__webglColorRenderbuffer[x]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,l.__webglColorRenderbuffer[x]);var S=a.convert(w.format,w.colorSpace),_=a.convert(w.type),T=M(w.internalFormat,S,_,w.colorSpace,!0===t.isXRRenderTarget),R=V(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,R,T,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+x,e.RENDERBUFFER,l.__webglColorRenderbuffer[x])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(l.__webglDepthRenderbuffer=e.createRenderbuffer(),H(l.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(c){n.bindTexture(e.TEXTURE_CUBE_MAP,u.__webglTexture),F(e.TEXTURE_CUBE_MAP,s,h);for(var A=0;A<6;A++)j(l.__webglFramebuffer[A],t,s,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+A);E(s,h)&&C(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(var I=t.texture,O=0,L=I.length;O<L;O++){var N=I[O],D=r.get(N);n.bindTexture(e.TEXTURE_2D,D.__webglTexture),F(e.TEXTURE_2D,N,h),j(l.__webglFramebuffer,t,N,e.COLOR_ATTACHMENT0+O,e.TEXTURE_2D),E(N,h)&&C(e.TEXTURE_2D)}n.unbindTexture()}else{var U=e.TEXTURE_2D;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(f?U=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(U,u.__webglTexture),F(U,s,h),j(l.__webglFramebuffer,t,s,e.COLOR_ATTACHMENT0,U),E(s,h)&&C(U),n.unbindTexture()}t.depthBuffer&&G(t)},this.updateRenderTargetMipmap=function(t){for(var i=k(t)||f,a=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture],o=0,s=a.length;o<s;o++){var l=a[o];if(E(l,i)){var u=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,c=r.get(l).__webglTexture;n.bindTexture(u,c),C(u),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(f&&t.samples>0&&!1===W(t)){var i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height,s=e.COLOR_BUFFER_BIT,l=[],u=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=r.get(t),d=!0===t.isWebGLMultipleRenderTargets;if(d)for(var h=0;h<i.length;h++)n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+h,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+h,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,c.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglFramebuffer);for(var p=0;p<i.length;p++){l.push(e.COLOR_ATTACHMENT0+p),t.depthBuffer&&l.push(u);var v=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;if(!1===v&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d&&e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,c.__webglColorRenderbuffer[p]),!0===v&&(e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[u]),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[u])),d){var m=r.get(i[p]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,m,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),y&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,l)}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(var g=0;g<i.length;g++){n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+g,e.RENDERBUFFER,c.__webglColorRenderbuffer[g]);var b=r.get(i[g]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+g,e.TEXTURE_2D,b,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=G,this.setupFrameBufferTexture=j,this.useMultisampledRTT=W}function RE(e,t,n){var r=n.isWebGL2;return{convert:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xy;if(n===Rg)return e.UNSIGNED_BYTE;if(n===Ug)return e.UNSIGNED_SHORT_4_4_4_4;if(n===Fg)return e.UNSIGNED_SHORT_5_5_5_1;if(n===Ag)return e.BYTE;if(n===Pg)return e.SHORT;if(n===Ig)return e.UNSIGNED_SHORT;if(n===Og)return e.INT;if(n===Lg)return e.UNSIGNED_INT;if(n===Ng)return e.FLOAT;if(n===Dg)return r?e.HALF_FLOAT:null!==(i=t.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(n===Bg)return e.ALPHA;if(n===jg)return e.RGBA;if(n===Hg)return e.LUMINANCE;if(n===Gg)return e.LUMINANCE_ALPHA;if(n===Vg)return e.DEPTH_COMPONENT;if(n===Wg)return e.DEPTH_STENCIL;if(n===Ib)return null!==(i=t.get("EXT_sRGB"))?i.SRGB_ALPHA_EXT:null;if(n===qg)return e.RED;if(n===Xg)return e.RED_INTEGER;if(n===Yg)return e.RG;if(n===Kg)return e.RG_INTEGER;if(n===Zg)return e.RGBA_INTEGER;if(n===Qg||n===$g||n===Jg||n===ey)if(a===Yy){if(null===(i=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===Qg)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===$g)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Jg)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===ey)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===Qg)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===$g)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Jg)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===ey)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===ty||n===ny||n===ry||n===iy){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===ty)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===ny)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===ry)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===iy)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===ay)return null!==(i=t.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===oy||n===sy){if(null===(i=t.get("WEBGL_compressed_texture_etc")))return null;if(n===oy)return a===Yy?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===sy)return a===Yy?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===ly||n===uy||n===cy||n===dy||n===fy||n===hy||n===py||n===vy||n===my||n===gy||n===yy||n===by||n===xy||n===wy){if(null===(i=t.get("WEBGL_compressed_texture_astc")))return null;if(n===ly)return a===Yy?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===uy)return a===Yy?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===cy)return a===Yy?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===dy)return a===Yy?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===fy)return a===Yy?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===hy)return a===Yy?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===py)return a===Yy?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===vy)return a===Yy?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===my)return a===Yy?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===gy)return a===Yy?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===yy)return a===Yy?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===by)return a===Yy?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===xy)return a===Yy?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===wy)return a===Yy?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===Sy){if(null===(i=t.get("EXT_texture_compression_bptc")))return null;if(n===Sy)return a===Yy?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(n===_y||n===ky||n===Ey||n===Cy){if(null===(i=t.get("EXT_texture_compression_rgtc")))return null;if(n===Sy)return i.COMPRESSED_RED_RGTC1_EXT;if(n===ky)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Ey)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Cy)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===zg?r?e.UNSIGNED_INT_24_8:null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}var AE=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Xs(this,n),(e=t.call(this)).isArrayCamera=!0,e.cameras=r,e}return Ks(n)}(YS),PE=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.call(this)).isGroup=!0,e.type="Group",e}return Ks(n)}(Tw),IE={type:"move"},OE=function(){function e(){Xs(this,e),this._targetRay=null,this._grip=null,this._hand=null}return Ks(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new PE,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new PE,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Mx,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Mx),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new PE,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Mx,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Mx),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"connect",value:function(e){if(e&&e.hand){var t=this._hand;if(t){var n,r=Jv(e.hand.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this._getHandJoint(t,i)}}catch(a){r.e(a)}finally{r.f()}}}return this.dispatchEvent({type:"connected",data:e}),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;var u,c=Jv(e.hand.values());try{for(c.s();!(u=c.n()).done;){var d=u.value,f=t.getJointPose(d,n),h=this._getHandJoint(l,d);null!==f&&(h.matrix.fromArray(f.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,h.jointRadius=f.radius),h.visible=null!==f}}catch(g){c.e(g)}finally{c.f()}var p=l.joints["index-finger-tip"],v=l.joints["thumb-tip"],m=p.position.distanceTo(v.position);l.inputState.pinching&&m>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&m<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);null!==o&&(null===(r=t.getPose(e.targetRaySpace,n))&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(IE)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}},{key:"_getHandJoint",value:function(e,t){if(void 0===e.joints[t.jointName]){var n=new PE;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}]),e}(),LE=function(e){tm(n,e);var t=im(n);function n(e,r,i,a,o,s,l,u,c,d){var f;if(Xs(this,n),(d=void 0!==d?d:Vg)!==Vg&&d!==Wg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&d===Vg&&(i=Lg),void 0===i&&d===Wg&&(i=zg),(f=t.call(this,null,a,o,s,l,u,d,i,c)).isDepthTexture=!0,f.image={width:e,height:r},f.magFilter=void 0!==l?l:bg,f.minFilter=void 0!==u?u:bg,f.flipY=!1,f.generateMipmaps=!1,f.compareFunction=null,f}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.compareFunction=e.compareFunction,this}},{key:"toJSON",value:function(e){var t=lm(nm(n.prototype),"toJSON",this).call(this,e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}]),n}(yx),NE=function(e){tm(n,e);var t=im(n);function n(e,r){var i,a;Xs(this,n);var o=Br(a=t.call(this)),s=null,l=1,u=null,c="local-floor",d=1,f=null,h=null,p=null,v=null,m=null,g=null,y=r.getContextAttributes(),b=null,x=null,w=[],S=[],_=new YS;_.layers.enable(1),_.viewport=new bx;var k=new YS;k.layers.enable(2),k.viewport=new bx;var E=[_,k],C=new AE;C.layers.enable(1),C.layers.enable(2);var M=null,T=null;function R(e){var t=S.indexOf(e.inputSource);if(-1!==t){var n=w[t];void 0!==n&&(n.update(e.inputSource,e.frame,f||u),n.dispatchEvent({type:e.type,data:e.inputSource}))}}function A(){s.removeEventListener("select",R),s.removeEventListener("selectstart",R),s.removeEventListener("selectend",R),s.removeEventListener("squeeze",R),s.removeEventListener("squeezestart",R),s.removeEventListener("squeezeend",R),s.removeEventListener("end",A),s.removeEventListener("inputsourceschange",P);for(var t=0;t<w.length;t++){var n=S[t];null!==n&&(S[t]=null,w[t].disconnect(n))}M=null,T=null,e.setRenderTarget(b),m=null,v=null,p=null,s=null,x=null,D.stop(),o.isPresenting=!1,o.dispatchEvent({type:"sessionend"})}function P(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],r=S.indexOf(n);r>=0&&(S[r]=null,w[r].disconnect(n))}for(var i=0;i<e.added.length;i++){var a=e.added[i],o=S.indexOf(a);if(-1===o){for(var s=0;s<w.length;s++){if(s>=S.length){S.push(a),o=s;break}if(null===S[s]){S[s]=a,o=s;break}}if(-1===o)break}var l=w[o];l&&l.connect(a)}}a.cameraAutoUpdate=!0,a.enabled=!1,a.isPresenting=!1,a.getController=function(e){var t=w[e];return void 0===t&&(t=new OE,w[e]=t),t.getTargetRaySpace()},a.getControllerGrip=function(e){var t=w[e];return void 0===t&&(t=new OE,w[e]=t),t.getGripSpace()},a.getHand=function(e){var t=w[e];return void 0===t&&(t=new OE,w[e]=t),t.getHandSpace()},a.setFramebufferScaleFactor=function(e){l=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},a.setReferenceSpaceType=function(e){c=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},a.getReferenceSpace=function(){return f||u},a.setReferenceSpace=function(e){f=e},a.getBaseLayer=function(){return null!==v?v:m},a.getBinding=function(){return p},a.getFrame=function(){return g},a.getSession=function(){return s},a.setSession=function(t){return(i=i||sm(um().mark((function t(n){var i,a,h,g,w;return um().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(s=n)){t.next=25;break}if(b=e.getRenderTarget(),s.addEventListener("select",R),s.addEventListener("selectstart",R),s.addEventListener("selectend",R),s.addEventListener("squeeze",R),s.addEventListener("squeezestart",R),s.addEventListener("squeezeend",R),s.addEventListener("end",A),s.addEventListener("inputsourceschange",P),!0===y.xrCompatible){t.next=14;break}return t.next=14,r.makeXRCompatible();case 14:return void 0===s.renderState.layers||!1===e.capabilities.isWebGL2?(i={antialias:void 0!==s.renderState.layers||y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:l},m=new XRWebGLLayer(s,r,i),s.updateRenderState({baseLayer:m}),x=new xx(m.framebufferWidth,m.framebufferHeight,{format:jg,type:Rg,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})):(a=null,h=null,g=null,y.depth&&(g=y.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,a=y.stencil?Wg:Vg,h=y.stencil?zg:Lg),w={colorFormat:r.RGBA8,depthFormat:g,scaleFactor:l},p=new XRWebGLBinding(s,r),v=p.createProjectionLayer(w),s.updateRenderState({layers:[v]}),x=new xx(v.textureWidth,v.textureHeight,{format:jg,type:Rg,depthTexture:new LE(v.textureWidth,v.textureHeight,h,void 0,void 0,void 0,void 0,void 0,void 0,a),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0}),e.properties.get(x).__ignoreDepthValues=v.ignoreDepthValues),x.isXRRenderTarget=!0,this.setFoveation(d),f=null,t.next=20,s.requestReferenceSpace(c);case 20:u=t.sent,D.setContext(s),D.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"});case 25:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)},a.getEnvironmentBlendMode=function(){if(null!==s)return s.environmentBlendMode};var I=new Mx,O=new Mx;function L(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}a.updateCamera=function(e){if(null!==s){C.near=k.near=_.near=e.near,C.far=k.far=_.far=e.far,M===C.near&&T===C.far||(s.updateRenderState({depthNear:C.near,depthFar:C.far}),M=C.near,T=C.far);var t=e.parent,n=C.cameras;L(C,t);for(var r=0;r<n.length;r++)L(n[r],t);2===n.length?function(e,t,n){I.setFromMatrixPosition(t.matrixWorld),O.setFromMatrixPosition(n.matrixWorld);var r=I.distanceTo(O),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],d=(a[8]+1)/a[0],f=o*c,h=o*d,p=r/(-c+d),v=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(v),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+p,g=s+p,y=f-v,b=h+(r-v),x=l*s/g*m,w=u*s/g*m;e.projectionMatrix.makePerspective(y,b,x,w,m,g),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(C,_,k):C.projectionMatrix.copy(_.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0);for(var r=e.children,i=0,a=r.length;i<a;i++)r[i].updateMatrixWorld(!0);e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*zb*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,C,t)}},a.getCamera=function(){return C},a.getFoveation=function(){if(null!==v||null!==m)return d},a.setFoveation=function(e){d=e,null!==v&&(v.fixedFoveation=e),null!==m&&void 0!==m.fixedFoveation&&(m.fixedFoveation=e)};var N=null;var D=new o_;return D.setAnimationLoop((function(t,n){if(h=n.getViewerPose(f||u),g=n,null!==h){var r=h.views;null!==m&&(e.setRenderTargetFramebuffer(x,m.framebuffer),e.setRenderTarget(x));var i=!1;r.length!==C.cameras.length&&(C.cameras.length=0,i=!0);for(var a=0;a<r.length;a++){var s=r[a],l=null;if(null!==m)l=m.getViewport(s);else{var c=p.getViewSubImage(v,s);l=c.viewport,0===a&&(e.setRenderTargetTextures(x,c.colorTexture,v.ignoreDepthValues?void 0:c.depthStencilTexture),e.setRenderTarget(x))}var d=E[a];void 0===d&&((d=new YS).layers.enable(a),d.viewport=new bx,E[a]=d),d.matrix.fromArray(s.transform.matrix),d.matrix.decompose(d.position,d.quaternion,d.scale),d.projectionMatrix.fromArray(s.projectionMatrix),d.projectionMatrixInverse.copy(d.projectionMatrix).invert(),d.viewport.set(l.x,l.y,l.width,l.height),0===a&&(C.matrix.copy(d.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),!0===i&&C.cameras.push(d)}}for(var y=0;y<w.length;y++){var b=S[y],_=w[y];null!==b&&void 0!==_&&_.update(b,n,f||u)}N&&N(t,n),n.detectedPlanes&&o.dispatchEvent({type:"planesdetected",data:n}),g=null})),a.setAnimationLoop=function(e){N=e},a.dispose=function(){},a}return Ks(n)}(Nb);function DE(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,i.side===Sm&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),i.side===Sm&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);var a=t.get(i).envMap;if(a&&(r.envMap.value=a,r.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;var o=!0===e.useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*o,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,VS(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,r){e.metalness.value=r.metalness,r.metalnessMap&&(e.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,e.metalnessMapTransform));e.roughness.value=r.roughness,r.roughnessMap&&(e.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,e.roughnessMapTransform));var i=t.get(r).envMap;i&&(e.envMapIntensity.value=r.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===Sm&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){var r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function UE(e,t,n,r){var i={},a={},o=[],s=n.isWebGL2?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(e,t,n){var r=e.value;if(void 0===n[t]){if("number"===typeof r)n[t]=r;else{for(var i=Array.isArray(r)?r:[r],a=[],o=0;o<i.length;o++)a.push(i[o].clone());n[t]=a}return!0}if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else for(var s=Array.isArray(n[t])?n[t]:[n[t]],l=Array.isArray(r)?r:[r],u=0;u<s.length;u++){var c=s[u];if(!1===c.equals(l[u]))return c.copy(l[u]),!0}return!1}function u(e){var t={boundary:0,storage:0};return"number"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function c(t){var n=t.target;n.removeEventListener("dispose",c);var r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){var n=t.program;r.uniformBlockBinding(e,n)},update:function(n,d){var f=i[n.id];void 0===f&&(!function(e){for(var t=e.uniforms,n=0,r=16,i=0,a=0,o=t.length;a<o;a++){for(var s=t[a],l={boundary:0,storage:0},c=Array.isArray(s.value)?s.value:[s.value],d=0,f=c.length;d<f;d++){var h=u(c[d]);l.boundary+=h.boundary,l.storage+=h.storage}if(s.__data=new Float32Array(l.storage/Float32Array.BYTES_PER_ELEMENT),s.__offset=n,a>0)0!==(i=n%r)&&r-i-l.boundary<0&&(n+=r-i,s.__offset=n);n+=l.storage}i=n%r,i>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),f=function(t){var n=function(){for(var e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;var r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=f,n.addEventListener("dispose",c));var h=d.program;r.updateUBOMapping(n,h);var p=t.render.frame;a[n.id]!==p&&(!function(t){var n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(var o=0,s=r.length;o<s;o++){var c=r[o];if(!0===l(c,o,a)){for(var d=c.__offset,f=Array.isArray(c.value)?c.value:[c.value],h=0,p=0;p<f.length;p++){var v=f[p],m=u(v);"number"===typeof v?(c.__data[0]=v,e.bufferSubData(e.UNIFORM_BUFFER,d+h,c.__data)):v.isMatrix3?(c.__data[0]=v.elements[0],c.__data[1]=v.elements[1],c.__data[2]=v.elements[2],c.__data[3]=v.elements[0],c.__data[4]=v.elements[3],c.__data[5]=v.elements[4],c.__data[6]=v.elements[5],c.__data[7]=v.elements[0],c.__data[8]=v.elements[6],c.__data[9]=v.elements[7],c.__data[10]=v.elements[8],c.__data[11]=v.elements[0]):(v.toArray(c.__data,h),h+=m.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,d,c.__data)}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=p)},dispose:function(){for(var t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}var FE=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Xs(this,e);var n,r=t.canvas,i=void 0===r?function(){var e=nx("canvas");return e.style.display="block",e}():r,a=t.context,o=void 0===a?null:a,s=t.depth,l=void 0===s||s,u=t.stencil,c=void 0===u||u,d=t.alpha,f=void 0!==d&&d,h=t.antialias,p=void 0!==h&&h,v=t.premultipliedAlpha,m=void 0===v||v,g=t.preserveDrawingBuffer,y=void 0!==g&&g,b=t.powerPreference,x=void 0===b?"default":b,w=t.failIfMajorPerformanceCaveat,S=void 0!==w&&w;this.isWebGLRenderer=!0,n=null!==o?o.getContextAttributes().alpha:f;var _=new Uint32Array(4),k=new Int32Array(4),E=null,C=null,M=[],T=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Yy,this.useLegacyLights=!0,this.toneMapping=ig,this.toneMappingExposure=1;var R=this,A=!1,P=0,I=0,O=null,L=-1,N=null,D=new bx,U=new bx,F=null,z=new Xw(0),B=0,j=i.width,H=i.height,G=1,V=null,W=null,q=new bx(0,0,j,H),X=new bx(0,0,j,H),Y=!1,K=new a_,Z=!1,Q=!1,$=null,J=new rw,ee=new Zb,te=new Mx,ne={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function re(){return null===O?G:1}var ie,ae,oe,se,le,ue,ce,de,fe,he,pe,ve,me,ge,ye,be,xe,we,Se,_e,ke,Ee,Ce,Me,Te=o;function Re(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=i.getContext(r,t);if(null!==a)return a}return null}try{var Ae={alpha:!0,depth:l,stencil:c,antialias:p,premultipliedAlpha:m,preserveDrawingBuffer:y,powerPreference:x,failIfMajorPerformanceCaveat:S};if("setAttribute"in i&&i.setAttribute("data-engine","three.js r".concat(cm)),i.addEventListener("webglcontextlost",Le,!1),i.addEventListener("webglcontextrestored",Ne,!1),i.addEventListener("webglcontextcreationerror",De,!1),null===Te){var Pe=["webgl2","webgl","experimental-webgl"];if(!0===R.isWebGL1Renderer&&Pe.shift(),null===(Te=Re(Pe,Ae)))throw Re(Pe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}"undefined"!==typeof WebGLRenderingContext&&Te instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===Te.getShaderPrecisionFormat&&(Te.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ye){throw console.error("THREE.WebGLRenderer: "+Ye.message),Ye}function Ie(){ie=new L_(Te),ae=new m_(Te,ie,t),ie.init(ae),Ee=new RE(Te,ie,ae),oe=new ME(Te,ie,ae),se=new U_(Te),le=new hE,ue=new TE(Te,ie,oe,le,ae,Ee,se),ce=new y_(R),de=new O_(R),fe=new s_(Te,ae),Ce=new p_(Te,ie,fe,ae),he=new N_(Te,fe,se,Ce),pe=new j_(Te,he,fe,se),Se=new B_(Te,ae,ue),be=new g_(le),ve=new fE(R,ce,de,ie,ae,Ce,be),me=new DE(R,le),ge=new gE,ye=new _E(ie,ae),we=new h_(R,ce,de,oe,pe,n,m),xe=new CE(R,pe,ae),Me=new UE(Te,se,ae,oe),_e=new v_(Te,ie,se,ae),ke=new D_(Te,ie,se,ae),se.programs=ve.programs,R.capabilities=ae,R.extensions=ie,R.properties=le,R.renderLists=ge,R.shadowMap=xe,R.state=oe,R.info=se}Ie();var Oe=new NE(R,Te);function Le(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function Ne(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1;var e=se.autoReset,t=xe.enabled,n=xe.autoUpdate,r=xe.needsUpdate,i=xe.type;Ie(),se.autoReset=e,xe.enabled=t,xe.autoUpdate=n,xe.needsUpdate=r,xe.type=i}function De(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Ue(e){var t=e.target;t.removeEventListener("dispose",Ue),function(e){(function(e){var t=le.get(e).programs;void 0!==t&&(t.forEach((function(e){ve.releaseProgram(e)})),e.isShaderMaterial&&ve.releaseShaderCache(e))})(e),le.remove(e)}(t)}this.xr=Oe,this.getContext=function(){return Te},this.getContextAttributes=function(){return Te.getContextAttributes()},this.forceContextLoss=function(){var e=ie.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=ie.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(e){void 0!==e&&(G=e,this.setSize(j,H,!1))},this.getSize=function(e){return e.set(j,H)},this.setSize=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Oe.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(j=e,H=t,i.width=Math.floor(e*G),i.height=Math.floor(t*G),!0===n&&(i.style.width=e+"px",i.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(j*G,H*G).floor()},this.setDrawingBufferSize=function(e,t,n){j=e,H=t,G=n,i.width=Math.floor(e*n),i.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(D)},this.getViewport=function(e){return e.copy(q)},this.setViewport=function(e,t,n,r){e.isVector4?q.set(e.x,e.y,e.z,e.w):q.set(e,t,n,r),oe.viewport(D.copy(q).multiplyScalar(G).floor())},this.getScissor=function(e){return e.copy(X)},this.setScissor=function(e,t,n,r){e.isVector4?X.set(e.x,e.y,e.z,e.w):X.set(e,t,n,r),oe.scissor(U.copy(X).multiplyScalar(G).floor())},this.getScissorTest=function(){return Y},this.setScissorTest=function(e){oe.setScissorTest(Y=e)},this.setOpaqueSort=function(e){V=e},this.setTransparentSort=function(e){W=e},this.getClearColor=function(e){return e.copy(we.getClearColor())},this.setClearColor=function(){we.setClearColor.apply(we,arguments)},this.getClearAlpha=function(){return we.getClearAlpha()},this.setClearAlpha=function(){we.setClearAlpha.apply(we,arguments)},this.clear=function(){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){var r=!1;if(null!==O){var i=O.texture.format;r=i===Zg||i===Kg||i===Xg}if(r){var a=O.texture.type,o=a===Rg||a===Lg||a===Ig||a===zg||a===Ug||a===Fg,s=we.getClearColor(),l=we.getClearAlpha(),u=s.r,c=s.g,d=s.b;o?(_[0]=u,_[1]=c,_[2]=d,_[3]=l,Te.clearBufferuiv(Te.COLOR,0,_)):(k[0]=u,k[1]=c,k[2]=d,k[3]=l,Te.clearBufferiv(Te.COLOR,0,k))}else n|=Te.COLOR_BUFFER_BIT}e&&(n|=Te.DEPTH_BUFFER_BIT),t&&(n|=Te.STENCIL_BUFFER_BIT),Te.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",Le,!1),i.removeEventListener("webglcontextrestored",Ne,!1),i.removeEventListener("webglcontextcreationerror",De,!1),ge.dispose(),ye.dispose(),le.dispose(),ce.dispose(),de.dispose(),pe.dispose(),Ce.dispose(),Me.dispose(),ve.dispose(),Oe.dispose(),Oe.removeEventListener("sessionstart",ze),Oe.removeEventListener("sessionend",Be),$&&($.dispose(),$=null),je.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=ne);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=ne);ue.resetTextureUnits();var a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===O?R.outputColorSpace:!0===O.isXRRenderTarget?O.texture.colorSpace:Ky,l=(r.isMeshStandardMaterial?de:ce).get(r.envMap||o),u=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),d=!!n.morphAttributes.position,f=!!n.morphAttributes.normal,h=!!n.morphAttributes.color,p=r.toneMapped?R.toneMapping:ig,v=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,m=void 0!==v?v.length:0,g=le.get(r),y=C.state.lights;if(!0===Z&&(!0===Q||e!==N)){var b=e===N&&r.id===L;be.setState(r,e,b)}var x=!1;r.version===g.__version?g.needsLights&&g.lightsStateVersion!==y.state.version||g.outputColorSpace!==s||i.isInstancedMesh&&!1===g.instancing?x=!0:i.isInstancedMesh||!0!==g.instancing?i.isSkinnedMesh&&!1===g.skinning?x=!0:i.isSkinnedMesh||!0!==g.skinning?g.envMap!==l||!0===r.fog&&g.fog!==a?x=!0:void 0===g.numClippingPlanes||g.numClippingPlanes===be.numPlanes&&g.numIntersection===be.numIntersection?(g.vertexAlphas!==u||g.vertexTangents!==c||g.morphTargets!==d||g.morphNormals!==f||g.morphColors!==h||g.toneMapping!==p||!0===ae.isWebGL2&&g.morphTargetsCount!==m)&&(x=!0):x=!0:x=!0:x=!0:(x=!0,g.__version=r.version);var w=g.currentProgram;!0===x&&(w=qe(r,t,i));var S=!1,_=!1,k=!1,E=w.getUniforms(),M=g.uniforms;oe.useProgram(w.program)&&(S=!0,_=!0,k=!0);r.id!==L&&(L=r.id,_=!0);if(S||N!==e){if(E.setValue(Te,"projectionMatrix",e.projectionMatrix),ae.logarithmicDepthBuffer&&E.setValue(Te,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),N!==e&&(N=e,_=!0,k=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var T=E.map.cameraPosition;void 0!==T&&T.setValue(Te,te.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&E.setValue(Te,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&E.setValue(Te,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){E.setOptional(Te,i,"bindMatrix"),E.setOptional(Te,i,"bindMatrixInverse");var A=i.skeleton;A&&(ae.floatVertexTextures?(null===A.boneTexture&&A.computeBoneTexture(),E.setValue(Te,"boneTexture",A.boneTexture,ue),E.setValue(Te,"boneTextureSize",A.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}var P=n.morphAttributes;(void 0!==P.position||void 0!==P.normal||void 0!==P.color&&!0===ae.isWebGL2)&&Se.update(i,n,w);(_||g.receiveShadow!==i.receiveShadow)&&(g.receiveShadow=i.receiveShadow,E.setValue(Te,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(M.envMap.value=l,M.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);_&&(E.setValue(Te,"toneMappingExposure",R.toneMappingExposure),g.needsLights&&function(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}(M,k),a&&!0===r.fog&&me.refreshFogUniforms(M,a),me.refreshMaterialUniforms(M,r,G,H,$),Wk.upload(Te,g.uniformsList,M,ue));r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Wk.upload(Te,g.uniformsList,M,ue),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&E.setValue(Te,"center",i.center);if(E.setValue(Te,"modelViewMatrix",i.modelViewMatrix),E.setValue(Te,"normalMatrix",i.normalMatrix),E.setValue(Te,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var I=r.uniformsGroups,D=0,U=I.length;D<U;D++)if(ae.isWebGL2){var F=I[D];Me.update(F,w),Me.bind(F,w)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return w}(e,t,n,r,i);oe.setMaterial(r,o);var l=n.index,u=1;!0===r.wireframe&&(l=he.getWireframeAttribute(n),u=2);var c=n.drawRange,d=n.attributes.position,f=c.start*u,h=(c.start+c.count)*u;null!==a&&(f=Math.max(f,a.start*u),h=Math.min(h,(a.start+a.count)*u)),null!==l?(f=Math.max(f,0),h=Math.min(h,l.count)):void 0!==d&&null!==d&&(f=Math.max(f,0),h=Math.min(h,d.count));var p=h-f;if(!(p<0||p===1/0)){var v;Ce.setup(i,r,s,n,l);var m=_e;if(null!==l&&(v=fe.get(l),(m=ke).setIndex(v)),i.isMesh)!0===r.wireframe?(oe.setLineWidth(r.wireframeLinewidth*re()),m.setMode(Te.LINES)):m.setMode(Te.TRIANGLES);else if(i.isLine){var g=r.linewidth;void 0===g&&(g=1),oe.setLineWidth(g*re()),i.isLineSegments?m.setMode(Te.LINES):i.isLineLoop?m.setMode(Te.LINE_LOOP):m.setMode(Te.LINE_STRIP)}else i.isPoints?m.setMode(Te.POINTS):i.isSprite&&m.setMode(Te.TRIANGLES);if(i.isInstancedMesh)m.renderInstances(f,p,i.count);else if(n.isInstancedBufferGeometry){var y=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,b=Math.min(n.instanceCount,y);m.renderInstances(f,p,b)}else m.render(f,p)}},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===_m&&!1===e.forceSinglePass?(e.side=Sm,e.needsUpdate=!0,qe(e,t,n),e.side=wm,e.needsUpdate=!0,qe(e,t,n),e.side=_m):qe(e,t,n)}(C=ye.get(e)).init(),T.push(C),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(C.pushLight(e),e.castShadow&&C.pushShadow(e))})),C.setupLights(R.useLegacyLights),e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++){n(r[i],e,t)}else n(r,e,t)})),T.pop(),C=null};var Fe=null;function ze(){je.stop()}function Be(){je.start()}var je=new o_;function He(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)C.pushLight(e),e.castShadow&&C.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||K.intersectsSprite(e)){r&&te.setFromMatrixPosition(e.matrixWorld).applyMatrix4(J);var i=pe.update(e),a=e.material;a.visible&&E.push(e,i,a,n,te.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||K.intersectsObject(e))){var o=pe.update(e),s=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),te.copy(e.boundingSphere.center)):(null===o.boundingSphere&&o.computeBoundingSphere(),te.copy(o.boundingSphere.center)),te.applyMatrix4(e.matrixWorld).applyMatrix4(J)),Array.isArray(s))for(var l=o.groups,u=0,c=l.length;u<c;u++){var d=l[u],f=s[d.materialIndex];f&&f.visible&&E.push(e,o,f,n,te.z,d)}else s.visible&&E.push(e,o,s,n,te.z,null)}for(var h=e.children,p=0,v=h.length;p<v;p++)He(h[p],t,n,r)}}function Ge(e,t,n,r){var i=e.opaque,a=e.transmissive,o=e.transparent;C.setupLightsView(n),!0===Z&&be.setGlobalState(R.clippingPlanes,n),a.length>0&&function(e,t,n,r){var i=ae.isWebGL2;null===$&&($=new xx(1,1,{generateMipmaps:!0,type:ie.has("EXT_color_buffer_half_float")?Dg:Rg,minFilter:Mg,samples:i?4:0}));R.getDrawingBufferSize(ee),i?$.setSize(ee.x,ee.y):$.setSize(qb(ee.x),qb(ee.y));var a=R.getRenderTarget();R.setRenderTarget($),R.getClearColor(z),(B=R.getClearAlpha())<1&&R.setClearColor(16777215,.5);R.clear();var o=R.toneMapping;R.toneMapping=ig,Ve(e,n,r),ue.updateMultisampleRenderTarget($),ue.updateRenderTargetMipmap($);for(var s=!1,l=0,u=t.length;l<u;l++){var c=t[l],d=c.object,f=c.geometry,h=c.material,p=c.group;if(h.side===_m&&d.layers.test(r.layers)){var v=h.side;h.side=Sm,h.needsUpdate=!0,We(d,n,r,f,h,p),h.side=v,h.needsUpdate=!0,s=!0}}!0===s&&(ue.updateMultisampleRenderTarget($),ue.updateRenderTargetMipmap($));R.setRenderTarget(a),R.setClearColor(z,B),R.toneMapping=o}(i,a,t,n),r&&oe.viewport(D.copy(r)),i.length>0&&Ve(i,t,n),a.length>0&&Ve(a,t,n),o.length>0&&Ve(o,t,n),oe.buffers.depth.setTest(!0),oe.buffers.depth.setMask(!0),oe.buffers.color.setMask(!0),oe.setPolygonOffset(!1)}function Ve(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,l=o.geometry,u=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&We(s,t,n,l,u,c)}}function We(e,t,n,r,i,a){e.onBeforeRender(R,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(R,t,n,r,e,a),!0===i.transparent&&i.side===_m&&!1===i.forceSinglePass?(i.side=Sm,i.needsUpdate=!0,R.renderBufferDirect(n,t,r,i,e,a),i.side=wm,i.needsUpdate=!0,R.renderBufferDirect(n,t,r,i,e,a),i.side=_m):R.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(R,t,n,r,i,a)}function qe(e,t,n){!0!==t.isScene&&(t=ne);var r=le.get(e),i=C.state.lights,a=C.state.shadowsArray,o=i.state.version,s=ve.getParameters(e,i.state,a,t,n),l=ve.getProgramCacheKey(s),u=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?de:ce).get(e.envMap||r.environment),void 0===u&&(e.addEventListener("dispose",Ue),u=new Map,r.programs=u);var c=u.get(l);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return Xe(e,s),c}else s.uniforms=ve.getUniforms(e),e.onBuild(n,s,R),e.onBeforeCompile(s,R),c=ve.acquireProgram(s,l),u.set(l,c),r.uniforms=s.uniforms;var d=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=be.uniform),Xe(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotLightMatrix.value=i.state.spotLightMatrix,d.spotLightMap.value=i.state.spotLightMap,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix);var f=c.getUniforms(),h=Wk.seqWithValue(f.seq,d);return r.currentProgram=c,r.uniformsList=h,c}function Xe(e,t){var n=le.get(e);n.outputColorSpace=t.outputColorSpace,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}je.setAnimationLoop((function(e){Fe&&Fe(e)})),"undefined"!==typeof self&&je.setContext(self),this.setAnimationLoop=function(e){Fe=e,Oe.setAnimationLoop(e),null===e?je.stop():je.start()},Oe.addEventListener("sessionstart",ze),Oe.addEventListener("sessionend",Be),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==A){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===Oe.enabled&&!0===Oe.isPresenting&&(!0===Oe.cameraAutoUpdate&&Oe.updateCamera(t),t=Oe.getCamera()),!0===e.isScene&&e.onBeforeRender(R,e,t,O),(C=ye.get(e,T.length)).init(),T.push(C),J.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),K.setFromProjectionMatrix(J),Q=this.localClippingEnabled,Z=be.init(this.clippingPlanes,Q),(E=ge.get(e,M.length)).init(),M.push(E),He(e,t,0,R.sortObjects),E.finish(),!0===R.sortObjects&&E.sort(V,W),this.info.render.frame++,!0===Z&&be.beginShadows();var n=C.state.shadowsArray;if(xe.render(n,e,t),!0===Z&&be.endShadows(),!0===this.info.autoReset&&this.info.reset(),we.render(E,e),C.setupLights(R.useLegacyLights),t.isArrayCamera)for(var r=t.cameras,i=0,a=r.length;i<a;i++){var o=r[i];Ge(E,e,o,o.viewport)}else Ge(E,e,t);null!==O&&(ue.updateMultisampleRenderTarget(O),ue.updateRenderTargetMipmap(O)),!0===e.isScene&&e.onAfterRender(R,e,t),Ce.resetDefaultState(),L=-1,N=null,T.pop(),C=T.length>0?T[T.length-1]:null,M.pop(),E=M.length>0?M[M.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return O},this.setRenderTargetTextures=function(e,t,n){le.get(e.texture).__webglTexture=t,le.get(e.depthTexture).__webglTexture=n;var r=le.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===ie.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=le.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;O=e,P=t,I=n;var r=!0,i=null,a=!1,o=!1;if(e){var s=le.get(e);void 0!==s.__useDefaultFramebuffer?(oe.bindFramebuffer(Te.FRAMEBUFFER,null),r=!1):void 0===s.__webglFramebuffer?ue.setupRenderTarget(e):s.__hasExternalTextures&&ue.rebindTextures(e,le.get(e.texture).__webglTexture,le.get(e.depthTexture).__webglTexture);var l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(o=!0);var u=le.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=u[t],a=!0):i=ae.isWebGL2&&e.samples>0&&!1===ue.useMultisampledRTT(e)?le.get(e).__webglMultisampledFramebuffer:u,D.copy(e.viewport),U.copy(e.scissor),F=e.scissorTest}else D.copy(q).multiplyScalar(G).floor(),U.copy(X).multiplyScalar(G).floor(),F=Y;if(oe.bindFramebuffer(Te.FRAMEBUFFER,i)&&ae.drawBuffers&&r&&oe.drawBuffers(e,i),oe.viewport(D),oe.scissor(U),oe.setScissorTest(F),a){var c=le.get(e.texture);Te.framebufferTexture2D(Te.FRAMEBUFFER,Te.COLOR_ATTACHMENT0,Te.TEXTURE_CUBE_MAP_POSITIVE_X+t,c.__webglTexture,n)}else if(o){var d=le.get(e.texture),f=t||0;Te.framebufferTextureLayer(Te.FRAMEBUFFER,Te.COLOR_ATTACHMENT0,d.__webglTexture,n||0,f)}L=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=le.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){oe.bindFramebuffer(Te.FRAMEBUFFER,s);try{var l=e.texture,u=l.format,c=l.type;if(u!==jg&&Ee.convert(u)!==Te.getParameter(Te.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var d=c===Dg&&(ie.has("EXT_color_buffer_half_float")||ae.isWebGL2&&ie.has("EXT_color_buffer_float"));if(c!==Rg&&Ee.convert(c)!==Te.getParameter(Te.IMPLEMENTATION_COLOR_READ_TYPE)&&(c!==Ng||!(ae.isWebGL2||ie.has("OES_texture_float")||ie.has("WEBGL_color_buffer_float")))&&!d)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&Te.readPixels(t,n,r,i,Ee.convert(u),Ee.convert(c),a)}finally{var f=null!==O?le.get(O).__webglFramebuffer:null;oe.bindFramebuffer(Te.FRAMEBUFFER,f)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);ue.setTexture2D(t,0),Te.copyTexSubImage2D(Te.TEXTURE_2D,n,0,0,e.x,e.y,i,a),oe.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=Ee.convert(n.format),s=Ee.convert(n.type);ue.setTexture2D(n,0),Te.pixelStorei(Te.UNPACK_FLIP_Y_WEBGL,n.flipY),Te.pixelStorei(Te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),Te.pixelStorei(Te.UNPACK_ALIGNMENT,n.unpackAlignment),t.isDataTexture?Te.texSubImage2D(Te.TEXTURE_2D,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?Te.compressedTexSubImage2D(Te.TEXTURE_2D,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):Te.texSubImage2D(Te.TEXTURE_2D,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&Te.generateMipmap(Te.TEXTURE_2D),oe.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(R.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,l=e.max.z-e.min.z+1,u=Ee.convert(r.format),c=Ee.convert(r.type);if(r.isData3DTexture)ue.setTexture3D(r,0),a=Te.TEXTURE_3D;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");ue.setTexture2DArray(r,0),a=Te.TEXTURE_2D_ARRAY}Te.pixelStorei(Te.UNPACK_FLIP_Y_WEBGL,r.flipY),Te.pixelStorei(Te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),Te.pixelStorei(Te.UNPACK_ALIGNMENT,r.unpackAlignment);var d=Te.getParameter(Te.UNPACK_ROW_LENGTH),f=Te.getParameter(Te.UNPACK_IMAGE_HEIGHT),h=Te.getParameter(Te.UNPACK_SKIP_PIXELS),p=Te.getParameter(Te.UNPACK_SKIP_ROWS),v=Te.getParameter(Te.UNPACK_SKIP_IMAGES),m=n.isCompressedTexture?n.mipmaps[0]:n.image;Te.pixelStorei(Te.UNPACK_ROW_LENGTH,m.width),Te.pixelStorei(Te.UNPACK_IMAGE_HEIGHT,m.height),Te.pixelStorei(Te.UNPACK_SKIP_PIXELS,e.min.x),Te.pixelStorei(Te.UNPACK_SKIP_ROWS,e.min.y),Te.pixelStorei(Te.UNPACK_SKIP_IMAGES,e.min.z),n.isDataTexture||n.isData3DTexture?Te.texSubImage3D(a,i,t.x,t.y,t.z,o,s,l,u,c,m.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Te.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,s,l,u,m.data)):Te.texSubImage3D(a,i,t.x,t.y,t.z,o,s,l,u,c,m),Te.pixelStorei(Te.UNPACK_ROW_LENGTH,d),Te.pixelStorei(Te.UNPACK_IMAGE_HEIGHT,f),Te.pixelStorei(Te.UNPACK_SKIP_PIXELS,h),Te.pixelStorei(Te.UNPACK_SKIP_ROWS,p),Te.pixelStorei(Te.UNPACK_SKIP_IMAGES,v),0===i&&r.generateMipmaps&&Te.generateMipmap(a),oe.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?ue.setTextureCube(e,0):e.isData3DTexture?ue.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ue.setTexture2DArray(e,0):ue.setTexture2D(e,0),oe.unbindTexture()},this.resetState=function(){P=0,I=0,O=null,oe.reset(),Ce.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}return Ks(e,[{key:"coordinateSystem",get:function(){return Ob}},{key:"physicallyCorrectLights",get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}},{key:"outputEncoding",get:function(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Yy?Hy:jy},set:function(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Hy?Yy:Ky}}]),e}(),zE=function(e){tm(n,e);var t=im(n);function n(){return Xs(this,n),t.apply(this,arguments)}return Ks(n)}(FE);zE.prototype.isWebGL1Renderer=!0;var BE,jE=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;Xs(this,e),this.isFogExp2=!0,this.name="",this.color=new Xw(t),this.density=n}return Ks(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}(),HE=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;Xs(this,e),this.isFog=!0,this.name="",this.color=new Xw(t),this.near=n,this.far=r}return Ks(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}(),GE=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.call(this)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.backgroundBlurriness=0,e.backgroundIntensity=1,e.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:Br(e)})),e}return Ks(n,[{key:"copy",value:function(e,t){return lm(nm(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=lm(nm(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}]),n}(Tw),VE=function(){function e(t,n){Xs(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=wb,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Bb()}return Ks(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Bb()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Bb()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}(),WE=new Mx,qE=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Xs(this,e),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=i}return Ks(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)WE.fromBufferAttribute(this,t),WE.applyMatrix4(e),this.setXYZ(t,WE.x,WE.y,WE.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)WE.fromBufferAttribute(this,t),WE.applyNormalMatrix(e),this.setXYZ(t,WE.x,WE.y,WE.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)WE.fromBufferAttribute(this,t),WE.transformDirection(e),this.setXYZ(t,WE.x,WE.y,WE.z);return this}},{key:"setX",value:function(e,t){return this.normalized&&(t=Yb(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=Yb(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Yb(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=Yb(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){var t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Xb(t,this.array)),t}},{key:"getY",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Xb(t,this.array)),t}},{key:"getZ",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Xb(t,this.array)),t}},{key:"getW",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Xb(t,this.array)),t}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Yb(t,this.array),n=Yb(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Yb(t,this.array),n=Yb(n,this.array),r=Yb(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Yb(t,this.array),n=Yb(n,this.array),r=Yb(r,this.array),i=Yb(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new rS(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}(),XE=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).isSpriteMaterial=!0,r.type="SpriteMaterial",r.color=new Xw(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.fog=!0,r.setValues(e),r}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(Hw),YE=new Mx,KE=new Mx,ZE=new Mx,QE=new Zb,$E=new Zb,JE=new rw,eC=new Mx,tC=new Mx,nC=new Mx,rC=new Zb,iC=new Zb,aC=new Zb,oC=function(e){tm(n,e);var t=im(n);function n(e){var r;if(Xs(this,n),(r=t.call(this)).isSprite=!0,r.type="Sprite",void 0===BE){BE=new wS;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new VE(i,5);BE.setIndex([0,1,2,0,2,3]),BE.setAttribute("position",new qE(a,3,0,!1)),BE.setAttribute("uv",new qE(a,2,3,!1))}return r.geometry=BE,r.material=void 0!==e?e:new XE,r.center=new Zb(.5,.5),r}return Ks(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),KE.setFromMatrixScale(this.matrixWorld),JE.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ZE.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&KE.multiplyScalar(-ZE.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;sC(eC.set(-.5,-.5,0),ZE,a,KE,n,r),sC(tC.set(.5,-.5,0),ZE,a,KE,n,r),sC(nC.set(.5,.5,0),ZE,a,KE,n,r),rC.set(0,0),iC.set(1,0),aC.set(1,1);var o=e.ray.intersectTriangle(eC,tC,nC,!1,YE);if(null!==o||(sC(tC.set(-.5,.5,0),ZE,a,KE,n,r),iC.set(0,1),null!==(o=e.ray.intersectTriangle(eC,nC,tC,!1,YE)))){var s=e.ray.origin.distanceTo(YE);s<e.near||s>e.far||t.push({distance:s,point:YE.clone(),uv:Bw.getInterpolation(YE,eC,tC,nC,rC,iC,aC,new Zb),face:null,object:this})}}},{key:"copy",value:function(e,t){return lm(nm(n.prototype),"copy",this).call(this,e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(Tw);function sC(e,t,n,r,i,a){QE.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?($E.x=a*QE.x-i*QE.y,$E.y=i*QE.x+a*QE.y):$E.copy(QE),e.copy(t),e.x+=$E.x,e.y+=$E.y,e.applyMatrix4(JE)}var lC=new Mx,uC=new Mx,cC=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.call(this))._currentLevel=0,e.type="LOD",Object.defineProperties(Br(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return Ks(n,[{key:"copy",value:function(e){lm(nm(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,r=0,i=t.length;r<i;r++){var a=t[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Math.abs(t);var r,i=this.levels;for(r=0;r<i.length&&!(t<i[r].distance);r++);return i.splice(r,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r;n++){var i=t[n].distance;if(t[n].object.visible&&(i-=i*t[n].hysteresis),e<i)break}return t[n-1].object}return null}},{key:"raycast",value:function(e,t){if(this.levels.length>0){lC.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(lC);this.getObjectForDistance(n).raycast(e,t)}}},{key:"update",value:function(e){var t=this.levels;if(t.length>1){lC.setFromMatrixPosition(e.matrixWorld),uC.setFromMatrixPosition(this.matrixWorld);var n,r,i=lC.distanceTo(uC)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r;n++){var a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),!(i>=a))break;t[n-1].object.visible=!1,t[n].object.visible=!0}for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){var t=lm(nm(n.prototype),"toJSON",this).call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,i=0,a=r.length;i<a;i++){var o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}]),n}(Tw),dC=new Mx,fC=new bx,hC=new bx,pC=new Mx,vC=new rw,mC=new Mx,gC=new Yx,yC=new rw,bC=new nw,xC=function(e){tm(n,e);var t=im(n);function n(e,r){var i;return Xs(this,n),(i=t.call(this,e,r)).isSkinnedMesh=!0,i.type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new rw,i.bindMatrixInverse=new rw,i.boundingBox=null,i.boundingSphere=null,i}return Ks(n,[{key:"computeBoundingBox",value:function(){var e=this.geometry;null===this.boundingBox&&(this.boundingBox=new Ax),this.boundingBox.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)mC.fromBufferAttribute(t,n),this.applyBoneTransform(n,mC),this.boundingBox.expandByPoint(mC)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Yx),this.boundingSphere.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)mC.fromBufferAttribute(t,n),this.applyBoneTransform(n,mC),this.boundingSphere.expandByPoint(mC)}},{key:"copy",value:function(e,t){return lm(nm(n.prototype),"copy",this).call(this,e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}},{key:"raycast",value:function(e,t){var n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),gC.copy(this.boundingSphere),gC.applyMatrix4(r),!1!==e.ray.intersectsSphere(gC)&&(yC.copy(r).invert(),bC.copy(e.ray).applyMatrix4(yC),null!==this.boundingBox&&!1===bC.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,bC)))}},{key:"getVertexPosition",value:function(e,t){return lm(nm(n.prototype),"getVertexPosition",this).call(this,e,t),this.applyBoneTransform(e,t),t}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new bx,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){lm(nm(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"applyBoneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;fC.fromBufferAttribute(r.attributes.skinIndex,e),hC.fromBufferAttribute(r.attributes.skinWeight,e),dC.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=hC.getComponent(i);if(0!==a){var o=fC.getComponent(i);vC.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(pC.copy(dC).applyMatrix4(vC),a)}}return t.applyMatrix4(this.bindMatrixInverse)}},{key:"boneTransform",value:function(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}]),n}(zS),wC=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.call(this)).isBone=!0,e.type="Bone",e}return Ks(n)}(Tw),SC=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:bg,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:bg,h=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return Xs(this,n),(e=t.call(this,null,l,u,c,d,f,o,s,h,p)).isDataTexture=!0,e.image={data:r,width:i,height:a},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return Ks(n)}(yx),_C=new rw,kC=new rw,EC=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Xs(this,e),this.uuid=Bb(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}return Ks(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new rw)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new rw;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:kC;_C.multiplyMatrices(o,t[i]),_C.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=Wb(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new SC(t,e,e,jg,Ng);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],a=t[i];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),a=new wC),this.bones.push(a),this.boneInverses.push((new rw).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var a=t[r];e.bones.push(a.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),e}(),CC=function(e){tm(n,e);var t=im(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Xs(this,n),(a=t.call(this,e,r,i)).isInstancedBufferAttribute=!0,a.meshPerAttribute=o,a}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=lm(nm(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(rS),MC=new rw,TC=new rw,RC=[],AC=new Ax,PC=new rw,IC=new zS,OC=new Yx,LC=function(e){tm(n,e);var t=im(n);function n(e,r,i){var a;Xs(this,n),(a=t.call(this,e,r)).isInstancedMesh=!0,a.instanceMatrix=new CC(new Float32Array(16*i),16),a.instanceColor=null,a.count=i,a.boundingBox=null,a.boundingSphere=null;for(var o=0;o<i;o++)a.setMatrixAt(o,PC);return a}return Ks(n,[{key:"computeBoundingBox",value:function(){var e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new Ax),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,MC),AC.copy(e.boundingBox).applyMatrix4(MC),this.boundingBox.union(AC)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new Yx),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,MC),OC.copy(e.boundingSphere).applyMatrix4(MC),this.boundingSphere.union(OC)}},{key:"copy",value:function(e,t){return lm(nm(n.prototype),"copy",this).call(this,e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(IC.geometry=this.geometry,IC.material=this.material,void 0!==IC.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),OC.copy(this.boundingSphere),OC.applyMatrix4(n),!1!==e.ray.intersectsSphere(OC)))for(var i=0;i<r;i++){this.getMatrixAt(i,MC),TC.multiplyMatrices(n,MC),IC.matrixWorld=TC,IC.raycast(e,RC);for(var a=0,o=RC.length;a<o;a++){var s=RC[a];s.instanceId=i,s.object=this,t.push(s)}RC.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new CC(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(zS),NC=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).isLineBasicMaterial=!0,r.type="LineBasicMaterial",r.color=new Xw(16777215),r.map=null,r.linewidth=1,r.linecap="round",r.linejoin="round",r.fog=!0,r.setValues(e),r}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}]),n}(Hw),DC=new Mx,UC=new Mx,FC=new rw,zC=new nw,BC=new Yx,jC=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wS,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new NC;return Xs(this,n),(e=t.call(this)).isLine=!0,e.type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return Ks(n,[{key:"copy",value:function(e,t){return lm(nm(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)DC.fromBufferAttribute(t,r-1),UC.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=DC.distanceTo(UC);e.setAttribute("lineDistance",new fS(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),BC.copy(n.boundingSphere),BC.applyMatrix4(r),BC.radius+=i,!1!==e.ray.intersectsSphere(BC)){FC.copy(r).invert(),zC.copy(e.ray).applyMatrix4(FC);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new Mx,u=new Mx,c=new Mx,d=new Mx,f=this.isLineSegments?2:1,h=n.index,p=n.attributes.position;if(null!==h)for(var v=Math.max(0,a.start),m=Math.min(h.count,a.start+a.count)-1;v<m;v+=f){var g=h.getX(v),y=h.getX(v+1);if(l.fromBufferAttribute(p,g),u.fromBufferAttribute(p,y),!(zC.distanceSqToSegment(l,u,d,c)>s)){d.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(d);b<e.near||b>e.far||t.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(var x=Math.max(0,a.start),w=Math.min(p.count,a.start+a.count)-1;x<w;x+=f){if(l.fromBufferAttribute(p,x),u.fromBufferAttribute(p,x+1),!(zC.distanceSqToSegment(l,u,d,c)>s)){d.applyMatrix4(this.matrixWorld);var S=e.ray.origin.distanceTo(d);S<e.near||S>e.far||t.push({distance:S,point:c.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(Tw),HC=new Mx,GC=new Mx,VC=function(e){tm(n,e);var t=im(n);function n(e,r){var i;return Xs(this,n),(i=t.call(this,e,r)).isLineSegments=!0,i.type="LineSegments",i}return Ks(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)HC.fromBufferAttribute(t,r),GC.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+HC.distanceTo(GC);e.setAttribute("lineDistance",new fS(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}]),n}(jC),WC=function(e){tm(n,e);var t=im(n);function n(e,r){var i;return Xs(this,n),(i=t.call(this,e,r)).isLineLoop=!0,i.type="LineLoop",i}return Ks(n)}(jC),qC=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).isPointsMaterial=!0,r.type="PointsMaterial",r.color=new Xw(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.fog=!0,r.setValues(e),r}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(Hw),XC=new rw,YC=new nw,KC=new Yx,ZC=new Mx,QC=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wS,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qC;return Xs(this,n),(e=t.call(this)).isPoints=!0,e.type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return Ks(n,[{key:"copy",value:function(e,t){return lm(nm(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),KC.copy(n.boundingSphere),KC.applyMatrix4(r),KC.radius+=i,!1!==e.ray.intersectsSphere(KC)){XC.copy(r).invert(),YC.copy(e.ray).applyMatrix4(XC);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,u=n.attributes.position;if(null!==l)for(var c=Math.max(0,a.start),d=Math.min(l.count,a.start+a.count);c<d;c++){var f=l.getX(c);ZC.fromBufferAttribute(u,f),$C(ZC,f,s,r,e,t,this)}else for(var h=Math.max(0,a.start),p=Math.min(u.count,a.start+a.count);h<p;h++)ZC.fromBufferAttribute(u,h),$C(ZC,h,s,r,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(Tw);function $C(e,t,n,r,i,a,o){var s=YC.distanceSqToPoint(e);if(s<n){var l=new Mx;YC.closestPointToPoint(e,l),l.applyMatrix4(r);var u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:o})}}var JC=function(e){tm(n,e);var t=im(n);function n(e,r,i,a,o,s,l,u,c){var d;Xs(this,n),(d=t.call(this,e,r,i,a,o,s,l,u,c)).isVideoTexture=!0,d.minFilter=void 0!==s?s:kg,d.magFilter=void 0!==o?o:kg,d.generateMipmaps=!1;var f=Br(d);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){f.needsUpdate=!0,e.requestVideoFrameCallback(t)})),d}return Ks(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(yx),eM=function(e){tm(n,e);var t=im(n);function n(e,r){var i;return Xs(this,n),(i=t.call(this,{width:e,height:r})).isFramebufferTexture=!0,i.magFilter=bg,i.minFilter=bg,i.generateMipmaps=!1,i.needsUpdate=!0,i}return Ks(n)}(yx),tM=function(e){tm(n,e);var t=im(n);function n(e,r,i,a,o,s,l,u,c,d,f,h){var p;return Xs(this,n),(p=t.call(this,null,s,l,u,c,d,a,o,f,h)).isCompressedTexture=!0,p.image={width:r,height:i},p.mipmaps=e,p.flipY=!1,p.generateMipmaps=!1,p}return Ks(n)}(yx),nM=function(e){tm(n,e);var t=im(n);function n(e,r,i,a,o,s){var l;return Xs(this,n),(l=t.call(this,e,r,i,o,s)).isCompressedArrayTexture=!0,l.image.depth=a,l.wrapR=gg,l}return Ks(n)}(tM),rM=function(e){tm(n,e);var t=im(n);function n(e,r,i,a,o,s,l,u,c){var d;return Xs(this,n),(d=t.call(this,e,r,i,a,o,s,l,u,c)).isCanvasTexture=!0,d.needsUpdate=!0,d}return Ks(n)}(yx),iM=function(){function e(){Xs(this,e),this.type="Curve",this.arcLengthDivisions=200}return Ks(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){l=i;break}l=i-1}if(r[i=l]===n)return i/(a-1);var u=r[i];return(i+(n-u)/(r[i+1]-u))/(a-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new Zb:new Mx);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new Mx,r=[],i=[],a=[],o=new Mx,s=new rw,l=0;l<=e;l++){var u=l/e;r[l]=this.getTangentAt(u,new Mx)}i[0]=new Mx,a[0]=new Mx;var c=Number.MAX_VALUE,d=Math.abs(r[0].x),f=Math.abs(r[0].y),h=Math.abs(r[0].z);d<=c&&(c=d,n.set(1,0,0)),f<=c&&(c=f,n.set(0,1,0)),h<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var v=Math.acos(jb(r[p-1].dot(r[p]),-1,1));i[p].applyMatrix4(s.makeRotationAxis(o,v))}a[p].crossVectors(r[p],i[p])}if(!0===t){var m=Math.acos(jb(i[0].dot(i[e]),-1,1));m/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(m=-m);for(var g=1;g<=e;g++)i[g].applyMatrix4(s.makeRotationAxis(r[g],m*g)),a[g].crossVectors(r[g],i[g])}return{tangents:r,normals:i,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),aM=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return Xs(this,n),(e=t.call(this)).isEllipseCurve=!0,e.type="EllipseCurve",e.aX=r,e.aY=i,e.xRadius=a,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=l,e.aClockwise=u,e.aRotation=c,e}return Ks(n,[{key:"getPoint",value:function(e,t){for(var n=t||new Zb,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),d=s-this.aX,f=l-this.aY;s=d*u-f*c+this.aX,l=d*c+f*u+this.aY}return n.set(s,l)}},{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=lm(nm(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return lm(nm(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(iM),oM=function(e){tm(n,e);var t=im(n);function n(e,r,i,a,o,s){var l;return Xs(this,n),(l=t.call(this,e,r,i,i,a,o,s)).isArcCurve=!0,l.type="ArcCurve",l}return Ks(n)}(aM);function sM(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,u=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,l*=o,u*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}var lM=new Mx,uM=new sM,cM=new sM,dM=new sM,fM=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return Xs(this,n),(e=t.call(this)).isCatmullRomCurve3=!0,e.type="CatmullRomCurve3",e.points=r,e.closed=i,e.curveType=a,e.tension=o,e}return Ks(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mx,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e,s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:0===l&&s===a-1&&(s=a-2,l=1),this.closed||s>0?t=i[(s-1)%a]:(lM.subVectors(i[0],i[1]).add(i[0]),t=lM);var u=i[s%a],c=i[(s+1)%a];if(this.closed||s+2<a?n=i[(s+2)%a]:(lM.subVectors(i[a-1],i[a-2]).add(i[a-1]),n=lM),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,f=Math.pow(t.distanceToSquared(u),d),h=Math.pow(u.distanceToSquared(c),d),p=Math.pow(c.distanceToSquared(n),d);h<1e-4&&(h=1),f<1e-4&&(f=h),p<1e-4&&(p=h),uM.initNonuniformCatmullRom(t.x,u.x,c.x,n.x,f,h,p),cM.initNonuniformCatmullRom(t.y,u.y,c.y,n.y,f,h,p),dM.initNonuniformCatmullRom(t.z,u.z,c.z,n.z,f,h,p)}else"catmullrom"===this.curveType&&(uM.initCatmullRom(t.x,u.x,c.x,n.x,this.tension),cM.initCatmullRom(t.y,u.y,c.y,n.y,this.tension),dM.initCatmullRom(t.z,u.z,c.z,n.z,this.tension));return r.set(uM.calc(l),cM.calc(l),dM.calc(l)),r}},{key:"copy",value:function(e){lm(nm(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=lm(nm(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){lm(nm(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new Mx).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(iM);function hM(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function pM(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function vM(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}var mM=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zb,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zb,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Zb,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Zb;return Xs(this,n),(e=t.call(this)).isCubicBezierCurve=!0,e.type="CubicBezierCurve",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return Ks(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zb,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(vM(e,n.x,r.x,i.x,a.x),vM(e,n.y,r.y,i.y,a.y)),t}},{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=lm(nm(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return lm(nm(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(iM),gM=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mx,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mx,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Mx,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Mx;return Xs(this,n),(e=t.call(this)).isCubicBezierCurve3=!0,e.type="CubicBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return Ks(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mx,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(vM(e,n.x,r.x,i.x,a.x),vM(e,n.y,r.y,i.y,a.y),vM(e,n.z,r.z,i.z,a.z)),t}},{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=lm(nm(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return lm(nm(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(iM),yM=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zb,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zb;return Xs(this,n),(e=t.call(this)).isLineCurve=!0,e.type="LineCurve",e.v1=r,e.v2=i,e}return Ks(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zb;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zb).subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=lm(nm(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return lm(nm(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(iM),bM=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mx,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mx;return Xs(this,n),(e=t.call(this)).isLineCurve3=!0,e.type="LineCurve3",e.v1=r,e.v2=i,e}return Ks(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mx;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mx).subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=lm(nm(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return lm(nm(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(iM),xM=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zb,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zb,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Zb;return Xs(this,n),(e=t.call(this)).isQuadraticBezierCurve=!0,e.type="QuadraticBezierCurve",e.v0=r,e.v1=i,e.v2=a,e}return Ks(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zb,n=this.v0,r=this.v1,i=this.v2;return t.set(pM(e,n.x,r.x,i.x),pM(e,n.y,r.y,i.y)),t}},{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=lm(nm(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return lm(nm(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(iM),wM=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mx,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mx,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Mx;return Xs(this,n),(e=t.call(this)).isQuadraticBezierCurve3=!0,e.type="QuadraticBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e}return Ks(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mx,n=this.v0,r=this.v1,i=this.v2;return t.set(pM(e,n.x,r.x,i.x),pM(e,n.y,r.y,i.y),pM(e,n.z,r.z,i.z)),t}},{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=lm(nm(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return lm(nm(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(iM),SM=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Xs(this,n),(e=t.call(this)).isSplineCurve=!0,e.type="SplineCurve",e.points=r,e}return Ks(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zb,n=this.points,r=(n.length-1)*e,i=Math.floor(r),a=r-i,o=n[0===i?i:i-1],s=n[i],l=n[i>n.length-2?n.length-1:i+1],u=n[i>n.length-3?n.length-1:i+2];return t.set(hM(a,o.x,s.x,l.x,u.x),hM(a,o.y,s.y,l.y,u.y)),t}},{key:"copy",value:function(e){lm(nm(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=lm(nm(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){lm(nm(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new Zb).fromArray(i))}return this}}]),n}(iM),_M=Object.freeze({__proto__:null,ArcCurve:oM,CatmullRomCurve3:fM,CubicBezierCurve:mM,CubicBezierCurve3:gM,EllipseCurve:aM,LineCurve:yM,LineCurve3:bM,QuadraticBezierCurve:xM,QuadraticBezierCurve3:wM,SplineCurve:SM}),kM=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return Ks(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new yM(t,e))}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var a=r[i]-n,o=this.curves[i],s=o.getLength(),l=0===s?0:1-a/s;return o.getPointAt(l,t)}i++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a.isEllipseCurve?2*t:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){lm(nm(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=lm(nm(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){lm(nm(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push((new _M[i.type]).fromJSON(i))}return this}}]),n}(iM),EM=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).type="Path",r.currentPoint=new Zb,e&&r.setFromPoints(e),r}return Ks(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new yM(this.currentPoint.clone(),new Zb(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new xM(this.currentPoint.clone(),new Zb(e,t),new Zb(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){var o=new mM(this.currentPoint.clone(),new Zb(e,t),new Zb(n,r),new Zb(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new SM(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}},{key:"absarc",value:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}},{key:"ellipse",value:function(e,t,n,r,i,a,o,s){var l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,t+u,n,r,i,a,o,s),this}},{key:"absellipse",value:function(e,t,n,r,i,a,o,s){var l=new aM(e,t,n,r,i,a,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=lm(nm(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return lm(nm(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(kM),CM=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new Zb(0,-.5),new Zb(.5,0),new Zb(0,.5)],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;Xs(this,n),(e=t.call(this)).type="LatheGeometry",e.parameters={points:r,segments:i,phiStart:a,phiLength:o},i=Math.floor(i),o=jb(o,0,2*Math.PI);for(var s=[],l=[],u=[],c=[],d=[],f=1/i,h=new Mx,p=new Zb,v=new Mx,m=new Mx,g=new Mx,y=0,b=0,x=0;x<=r.length-1;x++)switch(x){case 0:y=r[x+1].x-r[x].x,b=r[x+1].y-r[x].y,v.x=1*b,v.y=-y,v.z=0*b,g.copy(v),v.normalize(),c.push(v.x,v.y,v.z);break;case r.length-1:c.push(g.x,g.y,g.z);break;default:y=r[x+1].x-r[x].x,b=r[x+1].y-r[x].y,v.x=1*b,v.y=-y,v.z=0*b,m.copy(v),v.x+=g.x,v.y+=g.y,v.z+=g.z,v.normalize(),c.push(v.x,v.y,v.z),g.copy(m)}for(var w=0;w<=i;w++)for(var S=a+w*f*o,_=Math.sin(S),k=Math.cos(S),E=0;E<=r.length-1;E++){h.x=r[E].x*_,h.y=r[E].y,h.z=r[E].x*k,l.push(h.x,h.y,h.z),p.x=w/i,p.y=E/(r.length-1),u.push(p.x,p.y);var C=c[3*E+0]*_,M=c[3*E+1],T=c[3*E+0]*k;d.push(C,M,T)}for(var R=0;R<i;R++)for(var A=0;A<r.length-1;A++){var P=A+R*r.length,I=P,O=P+r.length,L=P+r.length+1,N=P+1;s.push(I,O,N),s.push(L,N,O)}return e.setIndex(s),e.setAttribute("position",new fS(l,3)),e.setAttribute("uv",new fS(u,2)),e.setAttribute("normal",new fS(d,3)),e}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.points,e.segments,e.phiStart,e.phiLength)}}]),n}(wS),MM=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;Xs(this,n);var s=new EM;return s.absarc(0,-i/2,r,1.5*Math.PI,0),s.absarc(0,i/2,r,0,.5*Math.PI),(e=t.call(this,s.getPoints(a),o)).type="CapsuleGeometry",e.parameters={radius:r,height:i,capSegments:a,radialSegments:o},e}return Ks(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.length,e.capSegments,e.radialSegments)}}]),n}(CM),TM=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;Xs(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:r,segments:i,thetaStart:a,thetaLength:o},i=Math.max(3,i);var s=[],l=[],u=[],c=[],d=new Mx,f=new Zb;l.push(0,0,0),u.push(0,0,1),c.push(.5,.5);for(var h=0,p=3;h<=i;h++,p+=3){var v=a+h/i*o;d.x=r*Math.cos(v),d.y=r*Math.sin(v),l.push(d.x,d.y,d.z),u.push(0,0,1),f.x=(l[p]/r+1)/2,f.y=(l[p+1]/r+1)/2,c.push(f.x,f.y)}for(var m=1;m<=i;m++)s.push(m,m+1,0);return e.setIndex(s),e.setAttribute("position",new fS(l,3)),e.setAttribute("normal",new fS(u,3)),e.setAttribute("uv",new fS(c,2)),e}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.segments,e.thetaStart,e.thetaLength)}}]),n}(wS),RM=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;Xs(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:i,height:a,radialSegments:o,heightSegments:s,openEnded:l,thetaStart:u,thetaLength:c};var d=Br(e);o=Math.floor(o),s=Math.floor(s);var f=[],h=[],p=[],v=[],m=0,g=[],y=a/2,b=0;function x(e){for(var t=m,n=new Zb,a=new Mx,s=0,l=!0===e?r:i,g=!0===e?1:-1,x=1;x<=o;x++)h.push(0,y*g,0),p.push(0,g,0),v.push(.5,.5),m++;for(var w=m,S=0;S<=o;S++){var _=S/o*c+u,k=Math.cos(_),E=Math.sin(_);a.x=l*E,a.y=y*g,a.z=l*k,h.push(a.x,a.y,a.z),p.push(0,g,0),n.x=.5*k+.5,n.y=.5*E*g+.5,v.push(n.x,n.y),m++}for(var C=0;C<o;C++){var M=t+C,T=w+C;!0===e?f.push(T,T+1,M):f.push(T+1,T,M),s+=3}d.addGroup(b,s,!0===e?1:2),b+=s}return function(){for(var e=new Mx,t=new Mx,n=0,l=(i-r)/a,x=0;x<=s;x++){for(var w=[],S=x/s,_=S*(i-r)+r,k=0;k<=o;k++){var E=k/o,C=E*c+u,M=Math.sin(C),T=Math.cos(C);t.x=_*M,t.y=-S*a+y,t.z=_*T,h.push(t.x,t.y,t.z),e.set(M,l,T).normalize(),p.push(e.x,e.y,e.z),v.push(E,1-S),w.push(m++)}g.push(w)}for(var R=0;R<o;R++)for(var A=0;A<s;A++){var P=g[A][R],I=g[A+1][R],O=g[A+1][R+1],L=g[A][R+1];f.push(P,I,L),f.push(I,O,L),n+=6}d.addGroup(b,n,0),b+=n}(),!1===l&&(r>0&&x(!0),i>0&&x(!1)),e.setIndex(f),e.setAttribute("position",new fS(h,3)),e.setAttribute("normal",new fS(p,3)),e.setAttribute("uv",new fS(v,2)),e}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(wS),AM=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return Xs(this,n),(e=t.call(this,0,r,i,a,o,s,l,u)).type="ConeGeometry",e.parameters={radius:r,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:u},e}return Ks(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(RM),PM=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Xs(this,n),(e=t.call(this)).type="PolyhedronGeometry",e.parameters={vertices:r,indices:i,radius:a,detail:o};var s=[],l=[];function u(e,t,n,r){for(var i=r+1,a=[],o=0;o<=i;o++){a[o]=[];for(var s=e.clone().lerp(n,o/i),l=t.clone().lerp(n,o/i),u=i-o,d=0;d<=u;d++)a[o][d]=0===d&&o===i?s:s.clone().lerp(l,d/u)}for(var f=0;f<i;f++)for(var h=0;h<2*(i-f)-1;h++){var p=Math.floor(h/2);h%2===0?(c(a[f][p+1]),c(a[f+1][p]),c(a[f][p])):(c(a[f][p+1]),c(a[f+1][p+1]),c(a[f+1][p]))}}function c(e){s.push(e.x,e.y,e.z)}function d(e,t){var n=3*e;t.x=r[n+0],t.y=r[n+1],t.z=r[n+2]}function f(e,t,n,r){r<0&&1===e.x&&(l[t]=e.x-1),0===n.x&&0===n.z&&(l[t]=r/2/Math.PI+.5)}function h(e){return Math.atan2(e.z,-e.x)}return function(e){for(var t=new Mx,n=new Mx,r=new Mx,a=0;a<i.length;a+=3)d(i[a+0],t),d(i[a+1],n),d(i[a+2],r),u(t,n,r,e)}(o),function(e){for(var t=new Mx,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}(a),function(){for(var e=new Mx,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=h(e)/2/Math.PI+.5,r=(i=e,Math.atan2(-i.y,Math.sqrt(i.x*i.x+i.z*i.z))/Math.PI+.5);l.push(n,1-r)}var i;(function(){for(var e=new Mx,t=new Mx,n=new Mx,r=new Mx,i=new Zb,a=new Zb,o=new Zb,u=0,c=0;u<s.length;u+=9,c+=6){e.set(s[u+0],s[u+1],s[u+2]),t.set(s[u+3],s[u+4],s[u+5]),n.set(s[u+6],s[u+7],s[u+8]),i.set(l[c+0],l[c+1]),a.set(l[c+2],l[c+3]),o.set(l[c+4],l[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var d=h(r);f(i,c+0,e,d),f(a,c+2,t,d),f(o,c+4,n,d)}})(),function(){for(var e=0;e<l.length;e+=6){var t=l[e+0],n=l[e+2],r=l[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(l[e+0]+=1),n<.2&&(l[e+2]+=1),r<.2&&(l[e+4]+=1))}}()}(),e.setAttribute("position",new fS(s,3)),e.setAttribute("normal",new fS(s.slice(),3)),e.setAttribute("uv",new fS(l,2)),0===o?e.computeVertexNormals():e.normalizeNormals(),e}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.vertices,e.indices,e.radius,e.details)}}]),n}(wS),IM=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Xs(this,n);var a=(1+Math.sqrt(5))/2,o=1/a,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o];return(e=t.call(this,s,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],r,i)).type="DodecahedronGeometry",e.parameters={radius:r,detail:i},e}return Ks(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(PM),OM=new Mx,LM=new Mx,NM=new Mx,DM=new Bw,UM=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(Xs(this,n),(e=t.call(this)).type="EdgesGeometry",e.parameters={geometry:r,thresholdAngle:i},null!==r){for(var a=Math.pow(10,4),o=Math.cos(Fb*i),s=r.getIndex(),l=r.getAttribute("position"),u=s?s.count:l.count,c=[0,0,0],d=["a","b","c"],f=new Array(3),h={},p=[],v=0;v<u;v+=3){s?(c[0]=s.getX(v),c[1]=s.getX(v+1),c[2]=s.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);var m=DM.a,g=DM.b,y=DM.c;if(m.fromBufferAttribute(l,c[0]),g.fromBufferAttribute(l,c[1]),y.fromBufferAttribute(l,c[2]),DM.getNormal(NM),f[0]="".concat(Math.round(m.x*a),",").concat(Math.round(m.y*a),",").concat(Math.round(m.z*a)),f[1]="".concat(Math.round(g.x*a),",").concat(Math.round(g.y*a),",").concat(Math.round(g.z*a)),f[2]="".concat(Math.round(y.x*a),",").concat(Math.round(y.y*a),",").concat(Math.round(y.z*a)),f[0]!==f[1]&&f[1]!==f[2]&&f[2]!==f[0])for(var b=0;b<3;b++){var x=(b+1)%3,w=f[b],S=f[x],_=DM[d[b]],k=DM[d[x]],E="".concat(w,"_").concat(S),C="".concat(S,"_").concat(w);C in h&&h[C]?(NM.dot(h[C].normal)<=o&&(p.push(_.x,_.y,_.z),p.push(k.x,k.y,k.z)),h[C]=null):E in h||(h[E]={index0:c[b],index1:c[x],normal:NM.clone()})}}for(var M in h)if(h[M]){var T=h[M],R=T.index0,A=T.index1;OM.fromBufferAttribute(l,R),LM.fromBufferAttribute(l,A),p.push(OM.x,OM.y,OM.z),p.push(LM.x,LM.y,LM.z)}e.setAttribute("position",new fS(p,3))}return e}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}]),n}(wS),FM=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this,e)).uuid=Bb(),r.type="Shape",r.holes=[],r}return Ks(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){lm(nm(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=lm(nm(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){lm(nm(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push((new EM).fromJSON(i))}return this}}]),n}(EM),zM=function(e,t){var n,r,i,a,o,s,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,d=c?t[0]*u:e.length,f=BM(e,0,d,u,!0),h=[];if(!f||f.next===f.prev)return h;if(c&&(f=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=BM(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(QM(o));for(s.sort(XM),i=0;i<s.length;i++)n=YM(s[i],n);return n}(e,t,f,u)),e.length>80*u){n=i=e[0],r=a=e[1];for(var p=u;p<d;p+=u)(o=e[p])<n&&(n=o),(s=e[p+1])<r&&(r=s),o>i&&(i=o),s>a&&(a=s);l=0!==(l=Math.max(i-n,a-r))?32767/l:0}return HM(f,h,u,n,r,l,0),h};function BM(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=sT(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=sT(a,e[a],e[a+1],o);return o&&tT(o,o.next)&&(lT(o),o=o.next),o}function jM(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!tT(r,r.next)&&0!==eT(r.prev,r,r.next))r=r.next;else{if(lT(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function HM(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=ZM(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,l,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1)}(i)}(e,r,i,a);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?VM(e,r,i,a):GM(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),lT(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?HM(e=WM(jM(e),t,n),t,n,r,i,a,2):2===o&&qM(e,t,n,r,i,a):HM(jM(e),t,n,r,i,a,1);break}}}function GM(e){var t=e.prev,n=e,r=e.next;if(eT(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,s=t.y,l=n.y,u=r.y,c=i<a?i<o?i:o:a<o?a:o,d=s<l?s<u?s:u:l<u?l:u,f=i>a?i>o?i:o:a>o?a:o,h=s>l?s>u?s:u:l>u?l:u,p=r.next;p!==t;){if(p.x>=c&&p.x<=f&&p.y>=d&&p.y<=h&&$M(i,s,a,l,o,u,p.x,p.y)&&eT(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function VM(e,t,n,r){var i=e.prev,a=e,o=e.next;if(eT(i,a,o)>=0)return!1;for(var s=i.x,l=a.x,u=o.x,c=i.y,d=a.y,f=o.y,h=s<l?s<u?s:u:l<u?l:u,p=c<d?c<f?c:f:d<f?d:f,v=s>l?s>u?s:u:l>u?l:u,m=c>d?c>f?c:f:d>f?d:f,g=ZM(h,p,t,n,r),y=ZM(v,m,t,n,r),b=e.prevZ,x=e.nextZ;b&&b.z>=g&&x&&x.z<=y;){if(b.x>=h&&b.x<=v&&b.y>=p&&b.y<=m&&b!==i&&b!==o&&$M(s,c,l,d,u,f,b.x,b.y)&&eT(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,x.x>=h&&x.x<=v&&x.y>=p&&x.y<=m&&x!==i&&x!==o&&$M(s,c,l,d,u,f,x.x,x.y)&&eT(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;b&&b.z>=g;){if(b.x>=h&&b.x<=v&&b.y>=p&&b.y<=m&&b!==i&&b!==o&&$M(s,c,l,d,u,f,b.x,b.y)&&eT(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;x&&x.z<=y;){if(x.x>=h&&x.x<=v&&x.y>=p&&x.y<=m&&x!==i&&x!==o&&$M(s,c,l,d,u,f,x.x,x.y)&&eT(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function WM(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!tT(i,a)&&nT(i,r,r.next,a)&&aT(i,a)&&aT(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),lT(r),lT(r.next),r=e=a),r=r.next}while(r!==e);return jM(r)}function qM(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&JM(o,s)){var l=oT(o,s);return o=jM(o,o.next),l=jM(l,l.next),HM(o,t,n,r,i,a,0),void HM(l,t,n,r,i,a,0)}s=s.next}o=o.next}while(o!==e)}function XM(e,t){return e.x-t.x}function YM(e,t){var n=function(e,t){var n,r=t,i=-1/0,a=e.x,o=e.y;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>i&&(i=s,n=r.x<r.next.x?r:r.next,s===a))return n}r=r.next}while(r!==t);if(!n)return null;var l,u=n,c=n.x,d=n.y,f=1/0;r=n;do{a>=r.x&&r.x>=c&&a!==r.x&&$M(o<d?a:i,o,c,d,o<d?i:a,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(a-r.x),aT(r,e)&&(l<f||l===f&&(r.x>n.x||r.x===n.x&&KM(n,r)))&&(n=r,f=l)),r=r.next}while(r!==u);return n}(e,t);if(!n)return t;var r=oT(n,e);return jM(r,r.next),jM(n,n.next)}function KM(e,t){return eT(e.prev,e,t.prev)<0&&eT(t.next,e,e.next)<0}function ZM(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function QM(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function $M(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function JM(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&nT(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(aT(e,t)&&aT(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(eT(e.prev,e,t.prev)||eT(e,t.prev,t))||tT(e,t)&&eT(e.prev,e,e.next)>0&&eT(t.prev,t,t.next)>0)}function eT(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function tT(e,t){return e.x===t.x&&e.y===t.y}function nT(e,t,n,r){var i=iT(eT(e,t,n)),a=iT(eT(e,t,r)),o=iT(eT(n,r,e)),s=iT(eT(n,r,t));return i!==a&&o!==s||(!(0!==i||!rT(e,n,t))||(!(0!==a||!rT(e,r,t))||(!(0!==o||!rT(n,e,r))||!(0!==s||!rT(n,t,r)))))}function rT(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function iT(e){return e>0?1:e<0?-1:0}function aT(e,t){return eT(e.prev,e,e.next)<0?eT(e,t,e.next)>=0&&eT(e,e.prev,t)>=0:eT(e,t,e.prev)<0||eT(e,e.next,t)<0}function oT(e,t){var n=new uT(e.i,e.x,e.y),r=new uT(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function sT(e,t,n,r){var i=new uT(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function lT(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function uT(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}var cT=function(){function e(){Xs(this,e)}return Ks(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];dT(e),fT(n,e);var a=e.length;t.forEach(dT);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,fT(n,t[o]);for(var s=zM(n,r),l=0;l<s.length;l+=3)i.push(s.slice(l,l+3));return i}}]),e}();function dT(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function fT(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var hT=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new FM([new Zb(.5,.5),new Zb(-.5,.5),new Zb(-.5,-.5),new Zb(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Xs(this,n),(e=t.call(this)).type="ExtrudeGeometry",e.parameters={shapes:r,options:i},r=Array.isArray(r)?r:[r];for(var a=Br(e),o=[],s=[],l=0,u=r.length;l<u;l++){c(r[l])}function c(e){var t,n,r,l,u,c=[],d=void 0!==i.curveSegments?i.curveSegments:12,f=void 0!==i.steps?i.steps:1,h=void 0!==i.depth?i.depth:1,p=void 0===i.bevelEnabled||i.bevelEnabled,v=void 0!==i.bevelThickness?i.bevelThickness:.2,m=void 0!==i.bevelSize?i.bevelSize:v-.1,g=void 0!==i.bevelOffset?i.bevelOffset:0,y=void 0!==i.bevelSegments?i.bevelSegments:3,b=i.extrudePath,x=void 0!==i.UVGenerator?i.UVGenerator:pT,w=!1;b&&(t=b.getSpacedPoints(f),w=!0,p=!1,n=b.computeFrenetFrames(f,!1),r=new Mx,l=new Mx,u=new Mx),p||(y=0,v=0,m=0,g=0);var S=e.extractPoints(d),_=S.shape,k=S.holes;if(!cT.isClockWise(_)){_=_.reverse();for(var E=0,C=k.length;E<C;E++){var M=k[E];cT.isClockWise(M)&&(k[E]=M.reverse())}}for(var T=cT.triangulateShape(_,k),R=_,A=0,P=k.length;A<P;A++){var I=k[A];_=_.concat(I)}function O(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}var L=_.length,N=T.length;function D(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,u=n.y-e.y,c=o*o+s*s,d=o*u-s*l;if(Math.abs(d)>Number.EPSILON){var f=Math.sqrt(c),h=Math.sqrt(l*l+u*u),p=t.x-s/f,v=t.y+o/f,m=((n.x-u/h-p)*u-(n.y+l/h-v)*l)/(o*u-s*l),g=(r=p+o*m-e.x)*r+(i=v+s*m-e.y)*i;if(g<=2)return new Zb(r,i);a=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?l>Number.EPSILON&&(y=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(u)&&(y=!0),y?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new Zb(r/a,i/a)}for(var U=[],F=0,z=R.length,B=z-1,j=F+1;F<z;F++,B++,j++)B===z&&(B=0),j===z&&(j=0),U[F]=D(R[F],R[B],R[j]);for(var H,G=[],V=U.concat(),W=0,q=k.length;W<q;W++){var X=k[W];H=[];for(var Y=0,K=X.length,Z=K-1,Q=Y+1;Y<K;Y++,Z++,Q++)Z===K&&(Z=0),Q===K&&(Q=0),H[Y]=D(X[Y],X[Z],X[Q]);G.push(H),V=V.concat(H)}for(var $=0;$<y;$++){for(var J=$/y,ee=v*Math.cos(J*Math.PI/2),te=m*Math.sin(J*Math.PI/2)+g,ne=0,re=R.length;ne<re;ne++){var ie=O(R[ne],U[ne],te);Pe(ie.x,ie.y,-ee)}for(var ae=0,oe=k.length;ae<oe;ae++){var se=k[ae];H=G[ae];for(var le=0,ue=se.length;le<ue;le++){var ce=O(se[le],H[le],te);Pe(ce.x,ce.y,-ee)}}}for(var de=m+g,fe=0;fe<L;fe++){var he=p?O(_[fe],V[fe],de):_[fe];w?(l.copy(n.normals[0]).multiplyScalar(he.x),r.copy(n.binormals[0]).multiplyScalar(he.y),u.copy(t[0]).add(l).add(r),Pe(u.x,u.y,u.z)):Pe(he.x,he.y,0)}for(var pe=1;pe<=f;pe++)for(var ve=0;ve<L;ve++){var me=p?O(_[ve],V[ve],de):_[ve];w?(l.copy(n.normals[pe]).multiplyScalar(me.x),r.copy(n.binormals[pe]).multiplyScalar(me.y),u.copy(t[pe]).add(l).add(r),Pe(u.x,u.y,u.z)):Pe(me.x,me.y,h/f*pe)}for(var ge=y-1;ge>=0;ge--){for(var ye=ge/y,be=v*Math.cos(ye*Math.PI/2),xe=m*Math.sin(ye*Math.PI/2)+g,we=0,Se=R.length;we<Se;we++){var _e=O(R[we],U[we],xe);Pe(_e.x,_e.y,h+be)}for(var ke=0,Ee=k.length;ke<Ee;ke++){var Ce=k[ke];H=G[ke];for(var Me=0,Te=Ce.length;Me<Te;Me++){var Re=O(Ce[Me],H[Me],xe);w?Pe(Re.x,Re.y+t[f-1].y,t[f-1].x+be):Pe(Re.x,Re.y,h+be)}}}function Ae(e,t){for(var n=e.length;--n>=0;){var r=n,i=n-1;i<0&&(i=e.length-1);for(var a=0,o=f+2*y;a<o;a++){var s=L*a,l=L*(a+1);Oe(t+r+s,t+i+s,t+i+l,t+r+l)}}}function Pe(e,t,n){c.push(e),c.push(t),c.push(n)}function Ie(e,t,n){Le(e),Le(t),Le(n);var r=o.length/3,i=x.generateTopUV(a,o,r-3,r-2,r-1);Ne(i[0]),Ne(i[1]),Ne(i[2])}function Oe(e,t,n,r){Le(e),Le(t),Le(r),Le(t),Le(n),Le(r);var i=o.length/3,s=x.generateSideWallUV(a,o,i-6,i-3,i-2,i-1);Ne(s[0]),Ne(s[1]),Ne(s[3]),Ne(s[1]),Ne(s[2]),Ne(s[3])}function Le(e){o.push(c[3*e+0]),o.push(c[3*e+1]),o.push(c[3*e+2])}function Ne(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(p){for(var t=0,n=L*t,r=0;r<N;r++){var i=T[r];Ie(i[2]+n,i[1]+n,i[0]+n)}n=L*(t=f+2*y);for(var s=0;s<N;s++){var l=T[s];Ie(l[0]+n,l[1]+n,l[2]+n)}}else{for(var u=0;u<N;u++){var c=T[u];Ie(c[2],c[1],c[0])}for(var d=0;d<N;d++){var h=T[d];Ie(h[0]+L*f,h[1]+L*f,h[2]+L*f)}}a.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;Ae(R,t),t+=R.length;for(var n=0,r=k.length;n<r;n++){var i=k[n];Ae(i,t),t+=i.length}a.addGroup(e,o.length/3-e,1)}()}return e.setAttribute("position",new fS(o,3)),e.setAttribute("uv",new fS(s,2)),e.computeVertexNormals(),e}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=lm(nm(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new _M[s.type]).fromJSON(s)),new n(r,e.options)}}]),n}(wS),pT={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],s=t[3*r],l=t[3*r+1],u=t[3*i],c=t[3*i+1];return[new Zb(a,o),new Zb(s,l),new Zb(u,c)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],l=t[3*n+2],u=t[3*r],c=t[3*r+1],d=t[3*r+2],f=t[3*i],h=t[3*i+1],p=t[3*i+2],v=t[3*a],m=t[3*a+1],g=t[3*a+2];return Math.abs(s-c)<Math.abs(o-u)?[new Zb(o,1-l),new Zb(u,1-d),new Zb(f,1-p),new Zb(v,1-g)]:[new Zb(s,1-l),new Zb(c,1-d),new Zb(h,1-p),new Zb(m,1-g)]}};var vT=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Xs(this,n);var a=(1+Math.sqrt(5))/2,o=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1];return(e=t.call(this,o,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],r,i)).type="IcosahedronGeometry",e.parameters={radius:r,detail:i},e}return Ks(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(PM),mT=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Xs(this,n);return(e=t.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],r,i)).type="OctahedronGeometry",e.parameters={radius:r,detail:i},e}return Ks(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(PM),gT=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;Xs(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:r,outerRadius:i,thetaSegments:a,phiSegments:o,thetaStart:s,thetaLength:l},a=Math.max(3,a);for(var u=[],c=[],d=[],f=[],h=r,p=(i-r)/(o=Math.max(1,o)),v=new Mx,m=new Zb,g=0;g<=o;g++){for(var y=0;y<=a;y++){var b=s+y/a*l;v.x=h*Math.cos(b),v.y=h*Math.sin(b),c.push(v.x,v.y,v.z),d.push(0,0,1),m.x=(v.x/i+1)/2,m.y=(v.y/i+1)/2,f.push(m.x,m.y)}h+=p}for(var x=0;x<o;x++)for(var w=x*(a+1),S=0;S<a;S++){var _=S+w,k=_,E=_+a+1,C=_+a+2,M=_+1;u.push(k,E,M),u.push(E,C,M)}return e.setIndex(u),e.setAttribute("position",new fS(c,3)),e.setAttribute("normal",new fS(d,3)),e.setAttribute("uv",new fS(f,2)),e}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),n}(wS),yT=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new FM([new Zb(0,.5),new Zb(-.5,-.5),new Zb(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;Xs(this,n),(e=t.call(this)).type="ShapeGeometry",e.parameters={shapes:r,curveSegments:i};var a=[],o=[],s=[],l=[],u=0,c=0;if(!1===Array.isArray(r))f(r);else for(var d=0;d<r.length;d++)f(r[d]),e.addGroup(u,c,d),u+=c,c=0;function f(e){var t=o.length/3,n=e.extractPoints(i),r=n.shape,u=n.holes;!1===cT.isClockWise(r)&&(r=r.reverse());for(var d=0,f=u.length;d<f;d++){var h=u[d];!0===cT.isClockWise(h)&&(u[d]=h.reverse())}for(var p=cT.triangulateShape(r,u),v=0,m=u.length;v<m;v++){var g=u[v];r=r.concat(g)}for(var y=0,b=r.length;y<b;y++){var x=r[y];o.push(x.x,x.y,0),s.push(0,0,1),l.push(x.x,x.y)}for(var w=0,S=p.length;w<S;w++){var _=p[w],k=_[0]+t,E=_[1]+t,C=_[2]+t;a.push(k,E,C),c+=3}}return e.setIndex(a),e.setAttribute("position",new fS(o,3)),e.setAttribute("normal",new fS(s,3)),e.setAttribute("uv",new fS(l,2)),e}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=lm(nm(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}return new n(r,e.curveSegments)}}]),n}(wS);var bT=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;Xs(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:a,phiStart:o,phiLength:s,thetaStart:l,thetaLength:u},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var c=Math.min(l+u,Math.PI),d=0,f=[],h=new Mx,p=new Mx,v=[],m=[],g=[],y=[],b=0;b<=a;b++){var x=[],w=b/a,S=0;0===b&&0===l?S=.5/i:b===a&&c===Math.PI&&(S=-.5/i);for(var _=0;_<=i;_++){var k=_/i;h.x=-r*Math.cos(o+k*s)*Math.sin(l+w*u),h.y=r*Math.cos(l+w*u),h.z=r*Math.sin(o+k*s)*Math.sin(l+w*u),m.push(h.x,h.y,h.z),p.copy(h).normalize(),g.push(p.x,p.y,p.z),y.push(k+S,1-w),x.push(d++)}f.push(x)}for(var E=0;E<a;E++)for(var C=0;C<i;C++){var M=f[E][C+1],T=f[E][C],R=f[E+1][C],A=f[E+1][C+1];(0!==E||l>0)&&v.push(M,T,A),(E!==a-1||c<Math.PI)&&v.push(T,R,A)}return e.setIndex(v),e.setAttribute("position",new fS(m,3)),e.setAttribute("normal",new fS(g,3)),e.setAttribute("uv",new fS(y,2)),e}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(wS),xT=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Xs(this,n);return(e=t.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],r,i)).type="TetrahedronGeometry",e.parameters={radius:r,detail:i},e}return Ks(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(PM),wT=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;Xs(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:r,tube:i,radialSegments:a,tubularSegments:o,arc:s},a=Math.floor(a),o=Math.floor(o);for(var l=[],u=[],c=[],d=[],f=new Mx,h=new Mx,p=new Mx,v=0;v<=a;v++)for(var m=0;m<=o;m++){var g=m/o*s,y=v/a*Math.PI*2;h.x=(r+i*Math.cos(y))*Math.cos(g),h.y=(r+i*Math.cos(y))*Math.sin(g),h.z=i*Math.sin(y),u.push(h.x,h.y,h.z),f.x=r*Math.cos(g),f.y=r*Math.sin(g),p.subVectors(h,f).normalize(),c.push(p.x,p.y,p.z),d.push(m/o),d.push(v/a)}for(var b=1;b<=a;b++)for(var x=1;x<=o;x++){var w=(o+1)*b+x-1,S=(o+1)*(b-1)+x-1,_=(o+1)*(b-1)+x,k=(o+1)*b+x;l.push(w,S,k),l.push(S,_,k)}return e.setIndex(l),e.setAttribute("position",new fS(u,3)),e.setAttribute("normal",new fS(c,3)),e.setAttribute("uv",new fS(d,2)),e}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}]),n}(wS),ST=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;Xs(this,n),(e=t.call(this)).type="TorusKnotGeometry",e.parameters={radius:r,tube:i,tubularSegments:a,radialSegments:o,p:s,q:l},a=Math.floor(a),o=Math.floor(o);for(var u=[],c=[],d=[],f=[],h=new Mx,p=new Mx,v=new Mx,m=new Mx,g=new Mx,y=new Mx,b=new Mx,x=0;x<=a;++x){var w=x/a*s*Math.PI*2;I(w,s,l,r,v),I(w+.01,s,l,r,m),y.subVectors(m,v),b.addVectors(m,v),g.crossVectors(y,b),b.crossVectors(g,y),g.normalize(),b.normalize();for(var S=0;S<=o;++S){var _=S/o*Math.PI*2,k=-i*Math.cos(_),E=i*Math.sin(_);h.x=v.x+(k*b.x+E*g.x),h.y=v.y+(k*b.y+E*g.y),h.z=v.z+(k*b.z+E*g.z),c.push(h.x,h.y,h.z),p.subVectors(h,v).normalize(),d.push(p.x,p.y,p.z),f.push(x/a),f.push(S/o)}}for(var C=1;C<=a;C++)for(var M=1;M<=o;M++){var T=(o+1)*(C-1)+(M-1),R=(o+1)*C+(M-1),A=(o+1)*C+M,P=(o+1)*(C-1)+M;u.push(T,R,P),u.push(R,A,P)}function I(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*a,i.y=r*(2+l)*o*.5,i.z=r*Math.sin(s)*.5}return e.setIndex(u),e.setAttribute("position",new fS(c,3)),e.setAttribute("normal",new fS(d,3)),e.setAttribute("uv",new fS(f,2)),e}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}]),n}(wS),_T=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wM(new Mx(-1,-1,0),new Mx(-1,1,0),new Mx(1,1,0)),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Xs(this,n),(e=t.call(this)).type="TubeGeometry",e.parameters={path:r,tubularSegments:i,radius:a,radialSegments:o,closed:s};var l=r.computeFrenetFrames(i,s);e.tangents=l.tangents,e.normals=l.normals,e.binormals=l.binormals;var u=new Mx,c=new Mx,d=new Zb,f=new Mx,h=[],p=[],v=[],m=[];function g(e){f=r.getPointAt(e/i,f);for(var t=l.normals[e],n=l.binormals[e],s=0;s<=o;s++){var d=s/o*Math.PI*2,v=Math.sin(d),m=-Math.cos(d);c.x=m*t.x+v*n.x,c.y=m*t.y+v*n.y,c.z=m*t.z+v*n.z,c.normalize(),p.push(c.x,c.y,c.z),u.x=f.x+a*c.x,u.y=f.y+a*c.y,u.z=f.z+a*c.z,h.push(u.x,u.y,u.z)}}return function(){for(var e=0;e<i;e++)g(e);g(!1===s?i:0),function(){for(var e=0;e<=i;e++)for(var t=0;t<=o;t++)d.x=e/i,d.y=t/o,v.push(d.x,d.y)}(),function(){for(var e=1;e<=i;e++)for(var t=1;t<=o;t++){var n=(o+1)*(e-1)+(t-1),r=(o+1)*e+(t-1),a=(o+1)*e+t,s=(o+1)*(e-1)+t;m.push(n,r,s),m.push(r,a,s)}}()}(),e.setIndex(m),e.setAttribute("position",new fS(h,3)),e.setAttribute("normal",new fS(p,3)),e.setAttribute("uv",new fS(v,2)),e}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=lm(nm(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new _M[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(wS),kT=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(Xs(this,n),(e=t.call(this)).type="WireframeGeometry",e.parameters={geometry:r},null!==r){var i=[],a=new Set,o=new Mx,s=new Mx;if(null!==r.index){var l=r.attributes.position,u=r.index,c=r.groups;0===c.length&&(c=[{start:0,count:u.count,materialIndex:0}]);for(var d=0,f=c.length;d<f;++d)for(var h=c[d],p=h.start,v=p,m=p+h.count;v<m;v+=3)for(var g=0;g<3;g++){var y=u.getX(v+g),b=u.getX(v+(g+1)%3);o.fromBufferAttribute(l,y),s.fromBufferAttribute(l,b),!0===ET(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}}else for(var x=r.attributes.position,w=0,S=x.count/3;w<S;w++)for(var _=0;_<3;_++){var k=3*w+_,E=3*w+(_+1)%3;o.fromBufferAttribute(x,k),s.fromBufferAttribute(x,E),!0===ET(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}e.setAttribute("position",new fS(i,3))}return e}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}]),n}(wS);function ET(e,t,n){var r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),i="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var CT=Object.freeze({__proto__:null,BoxGeometry:jS,CapsuleGeometry:MM,CircleGeometry:TM,ConeGeometry:AM,CylinderGeometry:RM,DodecahedronGeometry:IM,EdgesGeometry:UM,ExtrudeGeometry:hT,IcosahedronGeometry:vT,LatheGeometry:CM,OctahedronGeometry:mT,PlaneGeometry:l_,PolyhedronGeometry:PM,RingGeometry:gT,ShapeGeometry:yT,SphereGeometry:bT,TetrahedronGeometry:xT,TorusGeometry:wT,TorusKnotGeometry:ST,TubeGeometry:_T,WireframeGeometry:kT}),MT=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).isShadowMaterial=!0,r.type="ShadowMaterial",r.color=new Xw(0),r.transparent=!0,r.fog=!0,r.setValues(e),r}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.fog=e.fog,this}}]),n}(Hw),TT=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this,e)).isRawShaderMaterial=!0,r.type="RawShaderMaterial",r}return Ks(n)}(qS),RT=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).isMeshStandardMaterial=!0,r.defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new Xw(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Xw(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Wy,r.normalScale=new Zb(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Hw),AT=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).isMeshPhysicalMaterial=!0,r.defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.anisotropyRotation=0,r.anisotropyMap=null,r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new Zb(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty(Br(r),"reflectivity",{get:function(){return jb(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.iridescenceMap=null,r.iridescenceIOR=1.3,r.iridescenceThicknessRange=[100,400],r.iridescenceThicknessMap=null,r.sheenColor=new Xw(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=1/0,r.attenuationColor=new Xw(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new Xw(1,1,1),r.specularColorMap=null,r._anisotropy=0,r._clearcoat=0,r._iridescence=0,r._sheen=0,r._transmission=0,r.setValues(e),r}return Ks(n,[{key:"anisotropy",get:function(){return this._anisotropy},set:function(e){this._anisotropy>0!==e>0&&this.version++,this._anisotropy=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"iridescence",get:function(){return this._iridescence},set:function(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}},{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=k(e.iridescenceThicknessRange),this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(RT),PT=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).isMeshPhongMaterial=!0,r.type="MeshPhongMaterial",r.color=new Xw(16777215),r.specular=new Xw(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Xw(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Wy,r.normalScale=new Zb(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=tg,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Hw),IT=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).isMeshToonMaterial=!0,r.defines={TOON:""},r.type="MeshToonMaterial",r.color=new Xw(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Xw(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Wy,r.normalScale=new Zb(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(Hw),OT=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).isMeshNormalMaterial=!0,r.type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Wy,r.normalScale=new Zb(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.flatShading=!1,r.setValues(e),r}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),n}(Hw),LT=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).isMeshLambertMaterial=!0,r.type="MeshLambertMaterial",r.color=new Xw(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Xw(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Wy,r.normalScale=new Zb(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=tg,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Hw),NT=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).isMeshMatcapMaterial=!0,r.defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new Xw(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Wy,r.normalScale=new Zb(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.flatShading=!1,r.fog=!0,r.setValues(e),r}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Hw),DT=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).isLineDashedMaterial=!0,r.type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(NC);function UT(e,t,n){return zT(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function FT(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function zT(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function BT(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function jT(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,l=0;l!==t;++l)i[o++]=e[s+l];return i}function HT(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}}var GT={arraySlice:UT,convertArray:FT,isTypedArray:zT,getKeyframeOrder:BT,sortedArray:jT,flattenJSON:HT,subclip:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var l=a.tracks[s],u=l.getValueSize(),c=[],d=[],f=0;f<l.times.length;++f){var h=l.times[f]*i;if(!(h<n||h>=r)){c.push(l.times[f]);for(var p=0;p<u;++p)d.push(l.values[f*u+p])}}0!==c.length&&(l.times=FT(c,l.times.constructor),l.values=FT(d,l.values.constructor),o.push(l))}a.tracks=o;for(var v=1/0,m=0;m<a.tracks.length;++m)v>a.tracks[m].times[0]&&(v=a.tracks[m].times[0]);for(var g=0;g<a.tracks.length;++g)a.tracks[g].shift(-1*v);return a.resetDuration(),a},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,a=t/r,o=function(){var t=n.tracks[s],r=t.ValueTypeName;if("bool"===r||"string"===r)return 0;var i=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===i)return 0;var o=0,l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(o=l/3);var u=0,c=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=c/3);var d,f=t.times.length-1;if(a<=t.times[0]){var h=o,p=l-o;d=UT(t.values,h,p)}else if(a>=t.times[f]){var v=f*l+o,m=v+l-o;d=UT(t.values,v,m)}else{var g=t.createInterpolant(),y=o,b=l-o;g.evaluate(a),d=UT(g.resultBuffer,y,b)}"quaternion"===r&&(new Cx).fromArray(d).normalize().conjugate().toArray(d);for(var x=i.times.length,w=0;w<x;++w){var S=w*c+u;if("quaternion"===r)Cx.multiplyQuaternionsFlat(i.values,S,d,0,i.values,S);else for(var _=c-2*u,k=0;k<_;++k)i.values[S+k]-=d[k]}},s=0;s<i;++s)o();return e.blendMode=Uy,e}},VT=function(){function e(t,n,r,i){Xs(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return Ks(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var l=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var u=n+a>>>1;e<t[u]?a=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),WT=function(e){tm(n,e);var t=im(n);function n(e,r,i,a){var o;return Xs(this,n),(o=t.call(this,e,r,i,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:Oy,endingEnd:Oy},o}return Ks(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Ly:i=e,o=2*t-n;break;case Ny:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Ly:a=e,s=2*n-t;break;case Ny:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=a*u}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,f=this._weightNext,h=(n-t)/(r-t),p=h*h,v=p*h,m=-d*v+2*d*p-d*h,g=(1+d)*v+(-1.5-2*d)*p+(-.5+d)*h+1,y=(-1-f)*v+(1.5+f)*p+.5*h,b=f*v-f*p,x=0;x!==o;++x)i[x]=m*a[u+x]+g*a[l+x]+y*a[s+x]+b*a[c+x];return i}}]),n}(VT),qT=function(e){tm(n,e);var t=im(n);function n(e,r,i,a){return Xs(this,n),t.call(this,e,r,i,a)}return Ks(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(n-t)/(r-t),c=1-u,d=0;d!==o;++d)i[d]=a[l+d]*c+a[s+d]*u;return i}}]),n}(VT),XT=function(e){tm(n,e);var t=im(n);function n(e,r,i,a){return Xs(this,n),t.call(this,e,r,i,a)}return Ks(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(VT),YT=function(){function e(t,n,r,i){if(Xs(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=FT(n,this.TimeBufferType),this.values=FT(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return Ks(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new XT(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new qT(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new WT(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case Ay:t=this.InterpolantFactoryMethodDiscrete;break;case Py:t=this.InterpolantFactoryMethodLinear;break;case Iy:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ay;case this.InterpolantFactoryMethodLinear:return Py;case this.InterpolantFactoryMethodSmooth:return Iy}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=UT(n,i,a),this.values=UT(this.values,i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&zT(r))for(var l=0,u=r.length;l!==u;++l){var c=r[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=UT(this.times),t=UT(this.values),n=this.getValueSize(),r=this.getInterpolation()===Iy,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==e[0]))if(r)s=!0;else for(var u=o*n,c=u-n,d=u+n,f=0;f!==n;++f){var h=t[u+f];if(h!==t[c+f]||h!==t[d+f]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*n,v=a*n,m=0;m!==n;++m)t[v+m]=t[p+m]}++a}}if(i>0){e[a]=e[i];for(var g=i*n,y=a*n,b=0;b!==n;++b)t[y+b]=t[g+b];++a}return a!==e.length?(this.times=UT(e,0,a),this.values=UT(t,0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=UT(this.times,0),t=UT(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:FT(e.times,Array),values:FT(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();YT.prototype.TimeBufferType=Float32Array,YT.prototype.ValueBufferType=Float32Array,YT.prototype.DefaultInterpolation=Py;var KT=function(e){tm(n,e);var t=im(n);function n(){return Xs(this,n),t.apply(this,arguments)}return Ks(n)}(YT);KT.prototype.ValueTypeName="bool",KT.prototype.ValueBufferType=Array,KT.prototype.DefaultInterpolation=Ay,KT.prototype.InterpolantFactoryMethodLinear=void 0,KT.prototype.InterpolantFactoryMethodSmooth=void 0;var ZT=function(e){tm(n,e);var t=im(n);function n(){return Xs(this,n),t.apply(this,arguments)}return Ks(n)}(YT);ZT.prototype.ValueTypeName="color";var QT=function(e){tm(n,e);var t=im(n);function n(){return Xs(this,n),t.apply(this,arguments)}return Ks(n)}(YT);QT.prototype.ValueTypeName="number";var $T=function(e){tm(n,e);var t=im(n);function n(e,r,i,a){return Xs(this,n),t.call(this,e,r,i,a)}return Ks(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),l=e*o,u=l+o;l!==u;l+=4)Cx.slerpFlat(i,0,a,l-o,a,l,s);return i}}]),n}(VT),JT=function(e){tm(n,e);var t=im(n);function n(){return Xs(this,n),t.apply(this,arguments)}return Ks(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new $T(this.times,this.values,this.getValueSize(),e)}}]),n}(YT);JT.prototype.ValueTypeName="quaternion",JT.prototype.DefaultInterpolation=Py,JT.prototype.InterpolantFactoryMethodSmooth=void 0;var eR=function(e){tm(n,e);var t=im(n);function n(){return Xs(this,n),t.apply(this,arguments)}return Ks(n)}(YT);eR.prototype.ValueTypeName="string",eR.prototype.ValueBufferType=Array,eR.prototype.DefaultInterpolation=Ay,eR.prototype.InterpolantFactoryMethodLinear=void 0,eR.prototype.InterpolantFactoryMethodSmooth=void 0;var tR=function(e){tm(n,e);var t=im(n);function n(){return Xs(this,n),t.apply(this,arguments)}return Ks(n)}(YT);tR.prototype.ValueTypeName="vector";var nR=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Dy;Xs(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Bb(),this.duration<0&&this.resetDuration()}return Ks(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(rR(n[i]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(YT.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],l=[];s.push((o+i-1)%i,o,(o+1)%i),l.push(0,1,0);var u=BT(s);s=jT(s,1,u),l=jT(l,1,u),r||0!==s[0]||(s.push(i),l.push(l[0])),a.push(new QT(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],l=s.name.match(i);if(l&&l.length>1){var u=l[1],c=r[u];c||(r[u]=c=[]),c.push(s)}}var d=[];for(var f in r)d.push(this.CreateFromMorphTargetSequence(f,r[f],t,n));return d}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];HT(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,l=e.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var d={},f=void 0;for(f=0;f<c.length;f++)if(c[f].morphTargets)for(var h=0;h<c[f].morphTargets.length;h++)d[c[f].morphTargets[h]]=-1;for(var p in d){for(var v=[],m=[],g=0;g!==c[f].morphTargets.length;++g){var y=c[f];v.push(y.time),m.push(y.morphTarget===p?1:0)}r.push(new QT(".morphTargetInfluence["+p+"]",v,m))}s=d.length*a}else{var b=".bones["+t[u].name+"]";n(tR,b+".position",c,"pos",r),n(JT,b+".quaternion",c,"rot",r),n(tR,b+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,s,r,o)}}]),e}();function rR(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return QT;case"vector":case"vector2":case"vector3":case"vector4":return tR;case"color":return ZT;case"quaternion":return JT;case"bool":case"boolean":return KT;case"string":return eR}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];HT(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var iR={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},aR=Ks((function e(t,n,r){Xs(this,e);var i=this,a=!1,o=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return l?l(e):e},this.setURLModifier=function(e){return l=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){var t=u.indexOf(e);return-1!==t&&u.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=u.length;t<n;t+=2){var r=u[t],i=u[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),oR=new aR,sR=function(){function e(t){Xs(this,e),this.manager=void 0!==t?t:oR,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return Ks(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}();sR.DEFAULT_MATERIAL_NAME="__DEFAULT";var lR,uR={},cR=function(e){tm(n,e);var t=im(n);function n(e,r){var i;return Xs(this,n),(i=t.call(this,e)).response=r,i}return Ks(n)}(am(Error)),dR=function(e){tm(n,e);var t=im(n);function n(e){return Xs(this,n),t.call(this,e)}return Ks(n,[{key:"load",value:function(e,t,n,r){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=iR.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===uR[e]){uR[e]=[],uR[e].push({onLoad:t,onProgress:n,onError:r});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(o).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=uR[e],r=t.body.getReader(),i=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),a=i?parseInt(i):0,o=0!==a,s=0,l=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var i=r.done,l=r.value;if(i)e.close();else{s+=l.byteLength;for(var u=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a}),c=0,d=n.length;c<d;c++){var f=n[c];f.onProgress&&f.onProgress(u)}e.enqueue(l),t()}}))}()}});return new Response(l)}throw new cR('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((function(e){switch(l){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(t){iR.add(e,t);var n=uR[e];delete uR[e];for(var r=0,i=n.length;r<i;r++){var a=n[r];a.onLoad&&a.onLoad(t)}})).catch((function(t){var n=uR[e];if(void 0===n)throw i.manager.itemError(e),t;delete uR[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else uR[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(sR),fR=function(e){tm(n,e);var t=im(n);function n(e){return Xs(this,n),t.call(this,e)}return Ks(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new dR(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(Ine){r?r(Ine):console.error(Ine),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=nR.parse(e[n]);t.push(r)}return t}}]),n}(sR),hR=function(e){tm(n,e);var t=im(n);function n(e){return Xs(this,n),t.call(this,e)}return Ks(n,[{key:"load",value:function(e,t,n,r){var i=this,a=[],o=new tM,s=new dR(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);var l=0;function u(u){s.load(e[u],(function(e){var n=i.parse(e,!0);a[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(o.minFilter=kg),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(var c=0,d=e.length;c<d;++c)u(c);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=kg),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}]),n}(sR),pR=function(e){tm(n,e);var t=im(n);function n(e){return Xs(this,n),t.call(this,e)}return Ks(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=iR.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=nx("img");function s(){u(),iR.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){u(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function u(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),n}(sR),vR=function(e){tm(n,e);var t=im(n);function n(e){return Xs(this,n),t.call(this,e)}return Ks(n,[{key:"load",value:function(e,t,n,r){var i=new QS;i.colorSpace=Yy;var a=new pR(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,6===++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var l=0;l<e.length;++l)s(l);return i}}]),n}(sR),mR=function(e){tm(n,e);var t=im(n);function n(e){return Xs(this,n),t.call(this,e)}return Ks(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new SC,o=new dR(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:gg,a.wrapT=void 0!==n.wrapT?n.wrapT:gg,a.magFilter=void 0!==n.magFilter?n.magFilter:kg,a.minFilter=void 0!==n.minFilter?n.minFilter:kg,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace?a.colorSpace=n.colorSpace:void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=Mg),1===n.mipmapCount&&(a.minFilter=kg),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}]),n}(sR),gR=function(e){tm(n,e);var t=im(n);function n(e){return Xs(this,n),t.call(this,e)}return Ks(n,[{key:"load",value:function(e,t,n,r){var i=new yx,a=new pR(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(sR),yR=function(e){tm(n,e);var t=im(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Xs(this,n),(r=t.call(this)).isLight=!0,r.type="Light",r.color=new Xw(e),r.intensity=i,r}return Ks(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e,t){return lm(nm(n.prototype),"copy",this).call(this,e,t),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=lm(nm(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(Tw),bR=function(e){tm(n,e);var t=im(n);function n(e,r,i){var a;return Xs(this,n),(a=t.call(this,e,i)).isHemisphereLight=!0,a.type="HemisphereLight",a.position.copy(Tw.DEFAULT_UP),a.updateMatrix(),a.groundColor=new Xw(r),a}return Ks(n,[{key:"copy",value:function(e,t){return lm(nm(n.prototype),"copy",this).call(this,e,t),this.groundColor.copy(e.groundColor),this}}]),n}(yR),xR=new rw,wR=new Mx,SR=new Mx,_R=function(){function e(t){Xs(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Zb(512,512),this.map=null,this.mapPass=null,this.matrix=new rw,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new a_,this._frameExtents=new Zb(1,1),this._viewportCount=1,this._viewports=[new bx(0,0,1,1)]}return Ks(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;wR.setFromMatrixPosition(e.matrixWorld),t.position.copy(wR),SR.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(SR),t.updateMatrixWorld(),xR.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(xR),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(xR)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),kR=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.call(this,new YS(50,1,.5,500))).isSpotLightShadow=!0,e.focus=1,e}return Ks(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*zb*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;r===t.fov&&i===t.aspect&&a===t.far||(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),lm(nm(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(_R),ER=function(e){tm(n,e);var t=im(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;return Xs(this,n),(i=t.call(this,e,r)).isSpotLight=!0,i.type="SpotLight",i.position.copy(Tw.DEFAULT_UP),i.updateMatrix(),i.target=new Tw,i.distance=a,i.angle=o,i.penumbra=s,i.decay=l,i.map=null,i.shadow=new kR,i}return Ks(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return lm(nm(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(yR),CR=new rw,MR=new Mx,TR=new Mx,RR=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.call(this,new YS(90,1,.5,500))).isPointLightShadow=!0,e._frameExtents=new Zb(4,2),e._viewportCount=6,e._viewports=[new bx(2,1,1,1),new bx(0,1,1,1),new bx(3,1,1,1),new bx(1,1,1,1),new bx(3,0,1,1),new bx(1,0,1,1)],e._cubeDirections=[new Mx(1,0,0),new Mx(-1,0,0),new Mx(0,0,1),new Mx(0,0,-1),new Mx(0,1,0),new Mx(0,-1,0)],e._cubeUps=[new Mx(0,1,0),new Mx(0,1,0),new Mx(0,1,0),new Mx(0,1,0),new Mx(0,0,1),new Mx(0,0,-1)],e}return Ks(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),MR.setFromMatrixPosition(e.matrixWorld),n.position.copy(MR),TR.copy(n.position),TR.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(TR),n.updateMatrixWorld(),r.makeTranslation(-MR.x,-MR.y,-MR.z),CR.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(CR)}}]),n}(_R),AR=function(e){tm(n,e);var t=im(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return Xs(this,n),(i=t.call(this,e,r)).isPointLight=!0,i.type="PointLight",i.distance=a,i.decay=o,i.shadow=new RR,i}return Ks(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return lm(nm(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(yR),PR=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.call(this,new b_(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,e}return Ks(n)}(_R),IR=function(e){tm(n,e);var t=im(n);function n(e,r){var i;return Xs(this,n),(i=t.call(this,e,r)).isDirectionalLight=!0,i.type="DirectionalLight",i.position.copy(Tw.DEFAULT_UP),i.updateMatrix(),i.target=new Tw,i.shadow=new PR,i}return Ks(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(yR),OR=function(e){tm(n,e);var t=im(n);function n(e,r){var i;return Xs(this,n),(i=t.call(this,e,r)).isAmbientLight=!0,i.type="AmbientLight",i}return Ks(n)}(yR),LR=function(e){tm(n,e);var t=im(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return Xs(this,n),(i=t.call(this,e,r)).isRectAreaLight=!0,i.type="RectAreaLight",i.width=a,i.height=o,i}return Ks(n,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=lm(nm(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(yR),NR=function(){function e(){Xs(this,e),this.isSphericalHarmonics3=!0,this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new Mx)}return Ks(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}(),DR=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new NR,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Xs(this,n),(e=t.call(this,void 0,i)).isLightProbe=!0,e.sh=r,e}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=lm(nm(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(yR),UR=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this,e)).textures={},r}return Ks(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new dR(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(Ine){r?r(Ine):console.error(Ine),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t=this.textures;function r(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var i=n.createMaterialFromType(e.type);if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=e.sheen),void 0!==e.sheenColor&&(i.sheenColor=(new Xw).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(i.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.specularIntensity&&(i.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==i.specularColor&&i.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(i.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(i.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.thickness&&(i.thickness=e.thickness),void 0!==e.attenuationDistance&&(i.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==i.attenuationColor&&i.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(i.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(i.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.shadowSide&&(i.shadowSide=e.shadowSide),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(i.alphaHash=e.alphaHash),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.alphaToCoverage&&(i.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(i.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(i.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var a in e.uniforms){var o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=(new Xw).setHex(o.value);break;case"v2":i.uniforms[a].value=(new Zb).fromArray(o.value);break;case"v3":i.uniforms[a].value=(new Mx).fromArray(o.value);break;case"v4":i.uniforms[a].value=(new bx).fromArray(o.value);break;case"m3":i.uniforms[a].value=(new Qb).fromArray(o.value);break;case"m4":i.uniforms[a].value=(new rw).fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(i.glslVersion=e.glslVersion),void 0!==e.extensions)for(var s in e.extensions)i.extensions[s]=e.extensions[s];if(void 0!==e.lights&&(i.lights=e.lights),void 0!==e.clipping&&(i.clipping=e.clipping),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=r(e.map)),void 0!==e.matcap&&(i.matcap=r(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=r(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=r(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=r(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){var l=e.normalScale;!1===Array.isArray(l)&&(l=[l,l]),i.normalScale=(new Zb).fromArray(l)}return void 0!==e.displacementMap&&(i.displacementMap=r(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=r(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=r(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=r(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=r(e.specularMap)),void 0!==e.specularIntensityMap&&(i.specularIntensityMap=r(e.specularIntensityMap)),void 0!==e.specularColorMap&&(i.specularColorMap=r(e.specularColorMap)),void 0!==e.envMap&&(i.envMap=r(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=r(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=r(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=r(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=r(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new Zb).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(i.iridescenceMap=r(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(i.transmissionMap=r(e.transmissionMap)),void 0!==e.thicknessMap&&(i.thicknessMap=r(e.thicknessMap)),void 0!==e.anisotropyMap&&(i.anisotropyMap=r(e.anisotropyMap)),void 0!==e.sheenColorMap&&(i.sheenColorMap=r(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}},{key:"setTextures",value:function(e){return this.textures=e,this}}],[{key:"createMaterialFromType",value:function(e){return new{ShadowMaterial:MT,SpriteMaterial:XE,RawShaderMaterial:TT,ShaderMaterial:qS,PointsMaterial:qC,MeshPhysicalMaterial:AT,MeshStandardMaterial:RT,MeshPhongMaterial:PT,MeshToonMaterial:IT,MeshNormalMaterial:OT,MeshLambertMaterial:LT,MeshDepthMaterial:kE,MeshDistanceMaterial:EE,MeshBasicMaterial:Kw,MeshMatcapMaterial:NT,LineDashedMaterial:DT,LineBasicMaterial:NC,Material:Hw}[e]}}]),n}(sR),FR=function(){function e(){Xs(this,e)}return Ks(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(Ine){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),zR=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.call(this)).isInstancedBufferGeometry=!0,e.type="InstancedBufferGeometry",e.instanceCount=1/0,e}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"toJSON",value:function(){var e=lm(nm(n.prototype),"toJSON",this).call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(wS),BR=function(e){tm(n,e);var t=im(n);function n(e){return Xs(this,n),t.call(this,e)}return Ks(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new dR(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(Ine){r?r(Ine):console.error(Ine),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers,i=r[t],a=new Uint32Array(i).buffer;return n[t]=a,a}(e,i.buffer),o=tx(i.type,a),s=new VE(o,i.stride);return s.uuid=i.uuid,t[r]=s,s}var i=e.isInstancedBufferGeometry?new zR:new wS,a=e.data.index;if(void 0!==a){var o=tx(a.type,a.array);i.setIndex(new rS(o,1))}var s=e.data.attributes;for(var l in s){var u=s[l],c=void 0;if(u.isInterleavedBufferAttribute){var d=r(e.data,u.data);c=new qE(d,u.itemSize,u.offset,u.normalized)}else{var f=tx(u.type,u.array);c=new(u.isInstancedBufferAttribute?CC:rS)(f,u.itemSize,u.normalized)}void 0!==u.name&&(c.name=u.name),void 0!==u.usage&&c.setUsage(u.usage),void 0!==u.updateRange&&(c.updateRange.offset=u.updateRange.offset,c.updateRange.count=u.updateRange.count),i.setAttribute(l,c)}var h=e.data.morphAttributes;if(h)for(var p in h){for(var v=h[p],m=[],g=0,y=v.length;g<y;g++){var b=v[g],x=void 0;if(b.isInterleavedBufferAttribute){var w=r(e.data,b.data);x=new qE(w,b.itemSize,b.offset,b.normalized)}else{var S=tx(b.type,b.array);x=new rS(S,b.itemSize,b.normalized)}void 0!==b.name&&(x.name=b.name),m.push(x)}i.morphAttributes[p]=m}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var _=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==_)for(var k=0,E=_.length;k!==E;++k){var C=_[k];i.addGroup(C.start,C.count,C.materialIndex)}var M=e.data.boundingSphere;if(void 0!==M){var T=new Mx;void 0!==M.center&&T.fromArray(M.center),i.boundingSphere=new Yx(T,M.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}]),n}(sR),jR=function(e,t,n,r){tm(a,e);var i=im(a);function a(e){return Xs(this,a),i.call(this,e)}return Ks(a,[{key:"load",value:function(e,t,n,r){var i=this,a=""===this.path?FR.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new dR(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())return void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);i.parse(a,t)}),n,r)}},{key:"loadAsync",value:function(e,n){return(t=t||sm(um().mark((function e(t,n){var r,i,a,o,s,l;return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=""===this.path?FR.extractUrlBase(t):this.path,this.resourcePath=this.resourcePath||i,(a=new dR(this.manager)).setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),e.next=9,a.loadAsync(t,n);case 9:if(o=e.sent,s=JSON.parse(o),void 0!==(l=s.metadata)&&void 0!==l.type&&"geometry"!==l.type.toLowerCase()){e.next=14;break}throw new Error("THREE.ObjectLoader: Can't load "+t);case 14:return e.next=16,r.parseAsync(s);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,n),u=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,u),void 0!==t){var c=!1;for(var d in a)if(a[d].data instanceof HTMLImageElement){c=!0;break}!1===c&&t(l)}return l}},{key:"parseAsync",value:function(e){return(n=n||sm(um().mark((function e(t){var n,r,i,a,o,s,l,u;return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,r),e.next=5,this.parseImagesAsync(t.images);case 5:return a=e.sent,o=this.parseTextures(t.textures,a),s=this.parseMaterials(t.materials,o),l=this.parseObject(t.object,i,s,o,n),u=this.parseSkeletons(t.skeletons,l),this.bindSkeletons(l,u),e.abrupt("return",l);case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new FM).fromJSON(e[n]);t[i.uuid]=i}return t}},{key:"parseSkeletons",value:function(e,t){var n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=(new EC).fromJSON(e[i],r);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(e,t){var n={};if(void 0!==e)for(var r=new BR,i=0,a=e.length;i<a;i++){var o=void 0,s=e[i];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;default:s.type in CT?o=CT[s.type].fromJSON(s,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(s.type,'"'))}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n}},{key:"parseMaterials",value:function(e,t){var n={},r={};if(void 0!==e){var i=new UR;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var r=e[n],i=nR.parse(r);t[i.uuid]=i}return t}},{key:"parseImages",value:function(e,t){var n,r=this,i={};function a(e){if("string"===typeof e){var t=e;return function(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t)}return e.data?{data:tx(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var o=new aR(t);(n=new pR(o)).setCrossOrigin(this.crossOrigin);for(var s=0,l=e.length;s<l;s++){var u=e[s],c=u.url;if(Array.isArray(c)){for(var d=[],f=0,h=c.length;f<h;f++){var p=a(c[f]);null!==p&&(p instanceof HTMLImageElement?d.push(p):d.push(new SC(p.data,p.width,p.height)))}i[u.uuid]=new vx(d)}else{var v=a(u.url);i[u.uuid]=new vx(v)}}}return i}},{key:"parseImagesAsync",value:function(e){return(r=r||sm(um().mark((function e(t){var n,r,i,a,o,s,l,u,c,d,f,h,p,v,m;return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(e){return(n=n||sm(um().mark((function e(t){var n,i;return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=8;break}return i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n=t)?n:r.resourcePath+n,e.next=5,a.loadAsync(i);case 5:return e.abrupt("return",e.sent);case 8:if(!t.data){e.next=12;break}return e.abrupt("return",{data:tx(t.type,t.data),width:t.width,height:t.height});case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=this,i={},!(void 0!==t&&t.length>0)){e.next=32;break}(a=new pR(this.manager)).setCrossOrigin(this.crossOrigin),s=0,l=t.length;case 7:if(!(s<l)){e.next=32;break}if(u=t[s],c=u.url,!Array.isArray(c)){e.next=25;break}d=[],f=0,h=c.length;case 13:if(!(f<h)){e.next=22;break}return p=c[f],e.next=17,o(p);case 17:null!==(v=e.sent)&&(v instanceof HTMLImageElement?d.push(v):d.push(new SC(v.data,v.width,v.height)));case 19:f++,e.next=13;break;case 22:i[u.uuid]=new vx(d),e.next=29;break;case 25:return e.next=27,o(u.url);case 27:m=e.sent,i[u.uuid]=new vx(m);case 29:s++,e.next=7;break;case 32:return e.abrupt("return",i);case 33:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=e[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=t[o.image],l=s.data,u=void 0;Array.isArray(l)?(u=new QS,6===l.length&&(u.needsUpdate=!0)):(u=l&&l.data?new SC:new yx,l&&(u.needsUpdate=!0)),u.source=s,u.uuid=o.uuid,void 0!==o.name&&(u.name=o.name),void 0!==o.mapping&&(u.mapping=n(o.mapping,HR)),void 0!==o.channel&&(u.channel=o.channel),void 0!==o.offset&&u.offset.fromArray(o.offset),void 0!==o.repeat&&u.repeat.fromArray(o.repeat),void 0!==o.center&&u.center.fromArray(o.center),void 0!==o.rotation&&(u.rotation=o.rotation),void 0!==o.wrap&&(u.wrapS=n(o.wrap[0],GR),u.wrapT=n(o.wrap[1],GR)),void 0!==o.format&&(u.format=o.format),void 0!==o.internalFormat&&(u.internalFormat=o.internalFormat),void 0!==o.type&&(u.type=o.type),void 0!==o.colorSpace&&(u.colorSpace=o.colorSpace),void 0!==o.encoding&&(u.encoding=o.encoding),void 0!==o.minFilter&&(u.minFilter=n(o.minFilter,VR)),void 0!==o.magFilter&&(u.magFilter=n(o.magFilter,VR)),void 0!==o.anisotropy&&(u.anisotropy=o.anisotropy),void 0!==o.flipY&&(u.flipY=o.flipY),void 0!==o.generateMipmaps&&(u.generateMipmaps=o.generateMipmaps),void 0!==o.premultiplyAlpha&&(u.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(u.unpackAlignment=o.unpackAlignment),void 0!==o.compareFunction&&(u.compareFunction=o.compareFunction),void 0!==o.userData&&(u.userData=o.userData),r[o.uuid]=u}return r}},{key:"parseObject",value:function(e,t,n,r,i){var a,o,s;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function u(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function c(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":a=new GE,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new Xw(e.background):a.background=c(e.background)),void 0!==e.environment&&(a.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new HE(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new jE(e.fog.color,e.fog.density))),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new YS(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new b_(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new OR(e.color,e.intensity);break;case"DirectionalLight":a=new IR(e.color,e.intensity);break;case"PointLight":a=new AR(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new LR(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new ER(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new bR(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new DR).fromJSON(e);break;case"SkinnedMesh":o=l(e.geometry),s=u(e.material),a=new xC(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=l(e.geometry),s=u(e.material),a=new zS(o,s);break;case"InstancedMesh":o=l(e.geometry),s=u(e.material);var d=e.count,f=e.instanceMatrix,h=e.instanceColor;(a=new LC(o,s,d)).instanceMatrix=new CC(new Float32Array(f.array),16),void 0!==h&&(a.instanceColor=new CC(new Float32Array(h.array),h.itemSize));break;case"LOD":a=new cC;break;case"Line":a=new jC(l(e.geometry),u(e.material));break;case"LineLoop":a=new WC(l(e.geometry),u(e.material));break;case"LineSegments":a=new VC(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":a=new QC(l(e.geometry),u(e.material));break;case"Sprite":a=new oC(u(e.material));break;case"Group":a=new PE;break;case"Bone":a=new wC;break;default:a=new Tw}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.up&&a.up.fromArray(e.up),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children)for(var p=e.children,v=0;v<p.length;v++)a.add(this.parseObject(p[v],t,n,r,i));if(void 0!==e.animations)for(var m=e.animations,g=0;g<m.length;g++){var y=m[g];a.animations.push(i[y])}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);for(var b=e.levels,x=0;x<b.length;x++){var w=b[x],S=a.getObjectByProperty("uuid",w.object);void 0!==S&&a.addLevel(S,w.distance,w.hysteresis)}}return a}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}]),a}(sR),HR={UVMapping:cg,CubeReflectionMapping:dg,CubeRefractionMapping:fg,EquirectangularReflectionMapping:hg,EquirectangularRefractionMapping:pg,CubeUVReflectionMapping:vg},GR={RepeatWrapping:mg,ClampToEdgeWrapping:gg,MirroredRepeatWrapping:yg},VR={NearestFilter:bg,NearestMipmapNearestFilter:xg,NearestMipmapLinearFilter:Sg,LinearFilter:kg,LinearMipmapNearestFilter:Eg,LinearMipmapLinearFilter:Mg},WR=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this,e)).isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return Ks(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=iR.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){iR.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}]),n}(sR),qR=function(){function e(){Xs(this,e)}return Ks(e,null,[{key:"getContext",value:function(){return void 0===lR&&(lR=new(window.AudioContext||window.webkitAudioContext)),lR}},{key:"setContext",value:function(e){lR=e}}]),e}(),XR=function(e){tm(n,e);var t=im(n);function n(e){return Xs(this,n),t.call(this,e)}return Ks(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new dR(this.manager);function o(t){r?r(t):console.error(t),i.manager.itemError(e)}a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){try{var n=e.slice(0);qR.getContext().decodeAudioData(n,(function(e){t(e)}),o)}catch(Ine){o(Ine)}}),n,r)}}]),n}(sR),YR=function(e){tm(n,e);var t=im(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Xs(this,n),(i=t.call(this,void 0,a)).isHemisphereLightProbe=!0;var o=(new Xw).set(e),s=(new Xw).set(r),l=new Mx(o.r,o.g,o.b),u=new Mx(s.r,s.g,s.b),c=Math.sqrt(Math.PI),d=c*Math.sqrt(.75);return i.sh.coefficients[0].copy(l).add(u).multiplyScalar(c),i.sh.coefficients[1].copy(l).sub(u).multiplyScalar(d),i}return Ks(n)}(DR),KR=function(e){tm(n,e);var t=im(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Xs(this,n),(r=t.call(this,void 0,i)).isAmbientLightProbe=!0;var a=(new Xw).set(e);return r.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return Ks(n)}(DR),ZR=new rw,QR=new rw,$R=new rw,JR=function(){function e(){Xs(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new YS,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new YS,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return Ks(e,[{key:"update",value:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,$R.copy(e.projectionMatrix);var n,r,i=t.eyeSep/2,a=i*t.near/t.focus,o=t.near*Math.tan(Fb*t.fov*.5)/t.zoom;QR.elements[12]=-i,ZR.elements[12]=i,n=-o*t.aspect+a,r=o*t.aspect+a,$R.elements[0]=2*t.near/(r-n),$R.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy($R),n=-o*t.aspect-a,r=o*t.aspect-a,$R.elements[0]=2*t.near/(r-n),$R.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy($R)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(QR),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(ZR)}}]),e}(),eA=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Xs(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return Ks(e,[{key:"start",value:function(){this.startTime=tA(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=tA();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function tA(){return("undefined"===typeof performance?Date:performance).now()}var nA=new Mx,rA=new Cx,iA=new Mx,aA=new Mx,oA=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.call(this)).type="AudioListener",e.context=qR.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new eA,e}return Ks(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){lm(nm(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(nA,rA,iA),aA.set(0,0,-1).applyQuaternion(rA),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(nA.x,i),t.positionY.linearRampToValueAtTime(nA.y,i),t.positionZ.linearRampToValueAtTime(nA.z,i),t.forwardX.linearRampToValueAtTime(aA.x,i),t.forwardY.linearRampToValueAtTime(aA.y,i),t.forwardZ.linearRampToValueAtTime(aA.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(nA.x,nA.y,nA.z),t.setOrientation(aA.x,aA.y,aA.z,r.x,r.y,r.z)}}]),n}(Tw),sA=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return Ks(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(Tw),lA=new Mx,uA=new Cx,cA=new Mx,dA=new Mx,fA=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this,e)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return Ks(n,[{key:"connect",value:function(){lm(nm(n.prototype),"connect",this).call(this),this.panner.connect(this.gain)}},{key:"disconnect",value:function(){lm(nm(n.prototype),"disconnect",this).call(this),this.panner.disconnect(this.gain)}},{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if(lm(nm(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(lA,uA,cA),dA.set(0,0,1).applyQuaternion(uA);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(lA.x,r),t.positionY.linearRampToValueAtTime(lA.y,r),t.positionZ.linearRampToValueAtTime(lA.z,r),t.orientationX.linearRampToValueAtTime(dA.x,r),t.orientationY.linearRampToValueAtTime(dA.y,r),t.orientationZ.linearRampToValueAtTime(dA.z,r)}else t.setPosition(lA.x,lA.y,lA.z),t.setOrientation(dA.x,dA.y,dA.z)}}}]),n}(sA),hA=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;Xs(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return Ks(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),pA=function(){function e(t,n,r){var i,a,o;switch(Xs(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return Ks(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var l=t,u=t+t;l!==u;++l)if(n[l]!==n[l+t]){o.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]}},{key:"_slerp",value:function(e,t,n,r){Cx.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var a=this._workIndex*i;Cx.multiplyQuaternionsFlat(e,a,e,t,e,n),Cx.slerpFlat(e,t,e,t,e,a,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[n+a]*r}}}]),e}(),vA="\\[\\]\\.:\\/",mA=new RegExp("["+vA+"]","g"),gA="[^"+vA+"]",yA="[^"+vA.replace("\\.","")+"]",bA=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",gA)+/(WCOD+)?/.source.replace("WCOD",yA)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",gA)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",gA)+"$"),xA=["material","materials","bones","map"],wA=function(){function e(t,n,r){Xs(this,e);var i=r||SA.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return Ks(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),SA=function(){function e(t,n,r){Xs(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return Ks(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var l=t[i];if(void 0!==l){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=a}else void 0!==l.fromArray&&void 0!==l.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(c=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var d=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+i+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(mA,"")}},{key:"parseTrackName",value:function(e){var t=bA.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==xA.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),e}();SA.Composite=wA,SA.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},SA.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},SA.prototype.GetterByBindingType=[SA.prototype._getValue_direct,SA.prototype._getValue_array,SA.prototype._getValue_arrayElement,SA.prototype._getValue_toArray],SA.prototype.SetterByBindingTypeAndVersioning=[[SA.prototype._setValue_direct,SA.prototype._setValue_direct_setNeedsUpdate,SA.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[SA.prototype._setValue_array,SA.prototype._setValue_array_setNeedsUpdate,SA.prototype._setValue_array_setMatrixWorldNeedsUpdate],[SA.prototype._setValue_arrayElement,SA.prototype._setValue_arrayElement_setNeedsUpdate,SA.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[SA.prototype._setValue_fromArray,SA.prototype._setValue_fromArray_setNeedsUpdate,SA.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var _A=function(){function e(){Xs(this,e),this.isAnimationObjectGroup=!0,this.uuid=Bb(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}return Ks(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length,o=void 0,s=e.length,l=this.nCachedObjects_,u=0,c=arguments.length;u!==c;++u){var d=arguments[u],f=d.uuid,h=t[f];if(void 0===h){h=s++,t[f]=h,e.push(d);for(var p=0,v=a;p!==v;++p)i[p].push(new SA(d,n[p],r[p]))}else if(h<l){o=e[h];var m=--l,g=e[m];t[g.uuid]=h,e[h]=g,t[f]=m,e[m]=d;for(var y=0,b=a;y!==b;++y){var x=i[y],w=x[m],S=x[h];x[h]=w,void 0===S&&(S=new SA(d,n[y],r[y])),x[m]=S}}else e[h]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,u=t[l];if(void 0!==u&&u>=i){var c=i++,d=e[c];t[d.uuid]=u,e[u]=d,t[l]=c,e[c]=s;for(var f=0,h=r;f!==h;++f){var p=n[f],v=p[c],m=p[u];p[u]=v,p[c]=m}}}this.nCachedObjects_=i}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=e.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o].uuid,u=t[l];if(void 0!==u)if(delete t[l],u<i){var c=--i,d=e[c],f=--a,h=e[f];t[d.uuid]=u,e[u]=d,t[h.uuid]=c,e[c]=h,e.pop();for(var p=0,v=r;p!==v;++p){var m=n[p],g=m[c],y=m[f];m[u]=g,m[c]=y,m.pop()}}else{var b=--a,x=e[b];b>0&&(t[x.uuid]=u),e[u]=x,e.pop();for(var w=0,S=r;w!==S;++w){var _=n[w];_[u]=_[b],_.pop()}}}this.nCachedObjects_=i}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(c);for(var d=u,f=s.length;d!==f;++d){var h=s[d];c[d]=new SA(h,e,t)}return c}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}]),e}(),kA=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;Xs(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var a=n.tracks,o=a.length,s=new Array(o),l={endingStart:Oy,endingEnd:Oy},u=0;u!==o;++u){var c=a[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ty,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return Ks(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/a,l[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;a<0||0===n?t=0:(this._startTime=null,t=n*a)}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var l=this._interpolants,u=this._propertyBindings;if(this.blendMode===Uy)for(var c=0,d=l.length;c!==d;++c)l[c].evaluate(o),u[c].accumulateAdditive(s);else for(var f=0,h=l.length;f!==h;++f)l[f].evaluate(o),u[f].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=n===Ry;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(n===My){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=Ly,r.endingEnd=Ly):(r.endingStart=e?this.zeroSlopeAtStart?Ly:Oy:Ny,r.endingEnd=t?this.zeroSlopeAtEnd?Ly:Oy:Ny)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}]),e}(),EA=new Float32Array(1),CA=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return Ks(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==i;++c){var d=r[c],f=d.name,h=u[f];if(void 0!==h)++h.referenceCount,a[c]=h;else{if(void 0!==(h=a[c])){null===h._cacheIndex&&(++h.referenceCount,this._addInactiveBinding(h,s,f));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(h=new pA(SA.create(n,f,p),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(h,s,f),a[c]=h}o[c].resultBuffer=h.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new qT(new Float32Array(2),new Float32Array(2),1,EA)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"===typeof e?nR.findByName(r,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],l=null;if(void 0===n&&(n=null!==a?a.blendMode:Dy),void 0!==s){var u=s.actionByRoot[i];if(void 0!==u&&u.blendMode===n)return u;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;var c=new kA(this,a,t,n);return this._bindAction(c,l),this._addInactiveAction(c,o,i),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?nR.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,i,a)}for(var s=this._bindings,l=this._nActiveBindings,u=0;u!==l;++u)s[u].apply(a);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var u=l._cacheIndex,c=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,t[u]=c,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(Nb),MA=function(){function e(t){Xs(this,e),this.value=t}return Ks(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}(),TA=0,RA=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.call(this)).isUniformsGroup=!0,Object.defineProperty(Br(e),"id",{value:TA++}),e.name="",e.usage=wb,e.uniforms=[],e}return Ks(n,[{key:"add",value:function(e){return this.uniforms.push(e),this}},{key:"remove",value:function(e){var t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}},{key:"setName",value:function(e){return this.name=e,this}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"dispose",value:function(){return this.dispatchEvent({type:"dispose"}),this}},{key:"copy",value:function(e){this.name=e.name,this.usage=e.usage;var t=e.uniforms;this.uniforms.length=0;for(var n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Nb),AA=function(e){tm(n,e);var t=im(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Xs(this,n),(i=t.call(this,e,r)).isInstancedInterleavedBuffer=!0,i.meshPerAttribute=a,i}return Ks(n,[{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=lm(nm(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=lm(nm(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}(VE),PA=function(){function e(t,n,r,i,a){Xs(this,e),this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}return Ks(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}(),IA=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;Xs(this,e),this.ray=new nw(t,n),this.near=r,this.far=i,this.camera=null,this.layers=new pw,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return Ks(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return LA(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort(OA),t}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)LA(e[r],this,n,t);return n.sort(OA),n}}]),e}();function OA(e,t){return e.distance-t.distance}function LA(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,a=0,o=i.length;a<o;a++)LA(i[a],t,n,!0)}var NA=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Xs(this,e),this.radius=t,this.phi=n,this.theta=r,this}return Ks(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(jb(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),DA=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Xs(this,e),this.radius=t,this.theta=n,this.y=r,this}return Ks(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),UA=new Zb,FA=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zb(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zb(-1/0,-1/0);Xs(this,e),this.isBox2=!0,this.min=t,this.max=n}return Ks(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=UA.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,UA).distanceTo(e)}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),zA=new Mx,BA=new Mx,jA=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mx,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mx;Xs(this,e),this.start=t,this.end=n}return Ks(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){zA.subVectors(e,this.start),BA.subVectors(this.end,this.start);var n=BA.dot(BA),r=BA.dot(zA)/n;return t&&(r=jb(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),HA=new Mx,GA=function(e){tm(n,e);var t=im(n);function n(e,r){var i;Xs(this,n),(i=t.call(this)).light=e,i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=r,i.type="SpotLightHelper";for(var a=new wS,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,l=1;s<32;s++,l++){var u=s/32*Math.PI*2,c=l/32*Math.PI*2;o.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}a.setAttribute("position",new fS(o,3));var d=new NC({fog:!1,toneMapped:!1});return i.cone=new VC(a,d),i.add(i.cone),i.update(),i}return Ks(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),HA.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(HA),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(Tw),VA=new Mx,WA=new rw,qA=new rw,XA=function(e){tm(n,e);var t=im(n);function n(e){var r;Xs(this,n);for(var i=YA(e),a=new wS,o=[],s=[],l=new Xw(0,0,1),u=new Xw(0,1,0),c=0;c<i.length;c++){var d=i[c];d.parent&&d.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(l.r,l.g,l.b),s.push(u.r,u.g,u.b))}a.setAttribute("position",new fS(o,3)),a.setAttribute("color",new fS(s,3));var f=new NC({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,a,f)).isSkeletonHelper=!0,r.type="SkeletonHelper",r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return Ks(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");qA.copy(this.root.matrixWorld).invert();for(var a=0,o=0;a<t.length;a++){var s=t[a];s.parent&&s.parent.isBone&&(WA.multiplyMatrices(qA,s.matrixWorld),VA.setFromMatrixPosition(WA),i.setXYZ(o,VA.x,VA.y,VA.z),WA.multiplyMatrices(qA,s.parent.matrixWorld),VA.setFromMatrixPosition(WA),i.setXYZ(o+1,VA.x,VA.y,VA.z),o+=2)}r.getAttribute("position").needsUpdate=!0,lm(nm(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(VC);function YA(e){var t=[];!0===e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,YA(e.children[n]));return t}var KA=function(e){tm(n,e);var t=im(n);function n(e,r,i){var a;Xs(this,n);var o=new bT(r,4,2),s=new Kw({wireframe:!0,fog:!1,toneMapped:!1});return(a=t.call(this,o,s)).light=e,a.color=i,a.type="PointLightHelper",a.matrix=a.light.matrixWorld,a.matrixAutoUpdate=!1,a.update(),a}return Ks(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(zS),ZA=new Mx,QA=new Xw,$A=new Xw,JA=function(e){tm(n,e);var t=im(n);function n(e,r,i){var a;Xs(this,n),(a=t.call(this)).light=e,a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,a.type="HemisphereLightHelper";var o=new mT(r);o.rotateY(.5*Math.PI),a.material=new Kw({wireframe:!0,fog:!1,toneMapped:!1}),void 0===a.color&&(a.material.vertexColors=!0);var s=o.getAttribute("position"),l=new Float32Array(3*s.count);return o.setAttribute("color",new rS(l,3)),a.add(new zS(o,a.material)),a.update(),a}return Ks(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");QA.copy(this.light.color),$A.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?QA:$A;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(ZA.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(Tw),eP=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;Xs(this,n),a=new Xw(a),o=new Xw(o);for(var s=i/2,l=r/i,u=r/2,c=[],d=[],f=0,h=0,p=-u;f<=i;f++,p+=l){c.push(-u,0,p,u,0,p),c.push(p,0,-u,p,0,u);var v=f===s?a:o;v.toArray(d,h),h+=3,v.toArray(d,h),h+=3,v.toArray(d,h),h+=3,v.toArray(d,h),h+=3}var m=new wS;m.setAttribute("position",new fS(c,3)),m.setAttribute("color",new fS(d,3));var g=new NC({vertexColors:!0,toneMapped:!1});return(e=t.call(this,m,g)).type="GridHelper",e}return Ks(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(VC),tP=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;Xs(this,n),s=new Xw(s),l=new Xw(l);var u=[],c=[];if(i>1)for(var d=0;d<i;d++){var f=d/i*(2*Math.PI),h=Math.sin(f)*r,p=Math.cos(f)*r;u.push(0,0,0),u.push(h,0,p);var v=1&d?s:l;c.push(v.r,v.g,v.b),c.push(v.r,v.g,v.b)}for(var m=0;m<a;m++)for(var g=1&m?s:l,y=r-r/a*m,b=0;b<o;b++){var x=b/o*(2*Math.PI),w=Math.sin(x)*y,S=Math.cos(x)*y;u.push(w,0,S),c.push(g.r,g.g,g.b),x=(b+1)/o*(2*Math.PI),w=Math.sin(x)*y,S=Math.cos(x)*y,u.push(w,0,S),c.push(g.r,g.g,g.b)}var _=new wS;_.setAttribute("position",new fS(u,3)),_.setAttribute("color",new fS(c,3));var k=new NC({vertexColors:!0,toneMapped:!1});return(e=t.call(this,_,k)).type="PolarGridHelper",e}return Ks(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(VC),nP=new Mx,rP=new Mx,iP=new Mx,aP=function(e){tm(n,e);var t=im(n);function n(e,r,i){var a;Xs(this,n),(a=t.call(this)).light=e,a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,a.type="DirectionalLightHelper",void 0===r&&(r=1);var o=new wS;o.setAttribute("position",new fS([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var s=new NC({fog:!1,toneMapped:!1});return a.lightPlane=new jC(o,s),a.add(a.lightPlane),(o=new wS).setAttribute("position",new fS([0,0,0,0,0,1],3)),a.targetLine=new jC(o,s),a.add(a.targetLine),a.update(),a}return Ks(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),nP.setFromMatrixPosition(this.light.matrixWorld),rP.setFromMatrixPosition(this.light.target.matrixWorld),iP.subVectors(rP,nP),this.lightPlane.lookAt(rP),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(rP),this.targetLine.scale.z=iP.length()}}]),n}(Tw),oP=new Mx,sP=new XS,lP=function(e){tm(n,e);var t=im(n);function n(e){var r;Xs(this,n);var i=new wS,a=new NC({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],s=[],l={};function u(e,t){c(e),c(t)}function c(e){o.push(0,0,0),s.push(0,0,0),void 0===l[e]&&(l[e]=[]),l[e].push(o.length/3-1)}u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4"),i.setAttribute("position",new fS(o,3)),i.setAttribute("color",new fS(s,3)),(r=t.call(this,i,a)).type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=l,r.update();var d=new Xw(16755200),f=new Xw(16711680),h=new Xw(43775),p=new Xw(16777215),v=new Xw(3355443);return r.setColors(d,f,h,p,v),r}return Ks(n,[{key:"setColors",value:function(e,t,n,r,i){var a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,i.r,i.g,i.b),a.setXYZ(41,i.r,i.g,i.b),a.setXYZ(42,i.r,i.g,i.b),a.setXYZ(43,i.r,i.g,i.b),a.setXYZ(44,i.r,i.g,i.b),a.setXYZ(45,i.r,i.g,i.b),a.setXYZ(46,i.r,i.g,i.b),a.setXYZ(47,i.r,i.g,i.b),a.setXYZ(48,i.r,i.g,i.b),a.setXYZ(49,i.r,i.g,i.b),a.needsUpdate=!0}},{key:"update",value:function(){var e=this.geometry,t=this.pointMap;sP.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),uP("c",t,e,sP,0,0,-1),uP("t",t,e,sP,0,0,1),uP("n1",t,e,sP,-1,-1,-1),uP("n2",t,e,sP,1,-1,-1),uP("n3",t,e,sP,-1,1,-1),uP("n4",t,e,sP,1,1,-1),uP("f1",t,e,sP,-1,-1,1),uP("f2",t,e,sP,1,-1,1),uP("f3",t,e,sP,-1,1,1),uP("f4",t,e,sP,1,1,1),uP("u1",t,e,sP,.7,1.1,-1),uP("u2",t,e,sP,-.7,1.1,-1),uP("u3",t,e,sP,0,2,-1),uP("cf1",t,e,sP,-1,0,1),uP("cf2",t,e,sP,1,0,1),uP("cf3",t,e,sP,0,-1,1),uP("cf4",t,e,sP,0,1,1),uP("cn1",t,e,sP,-1,0,-1),uP("cn2",t,e,sP,1,0,-1),uP("cn3",t,e,sP,0,-1,-1),uP("cn4",t,e,sP,0,1,-1),e.getAttribute("position").needsUpdate=!0}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(VC);function uP(e,t,n,r,i,a,o){oP.set(i,a,o).unproject(r);var s=t[e];if(void 0!==s)for(var l=n.getAttribute("position"),u=0,c=s.length;u<c;u++)l.setXYZ(s[u],oP.x,oP.y,oP.z)}var cP,dP,fP=new Ax,hP=function(e){tm(n,e);var t=im(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;Xs(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new wS;return s.setIndex(new rS(a,1)),s.setAttribute("position",new rS(o,3)),(r=t.call(this,s,new NC({color:i,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return Ks(n,[{key:"update",value:function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&fP.setFromObject(this.object),!fP.isEmpty()){var t=fP.min,n=fP.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e,t){return lm(nm(n.prototype),"copy",this).call(this,e,t),this.object=e.object,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(VC),pP=function(e){tm(n,e);var t=im(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;Xs(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new wS;return o.setIndex(new rS(a,1)),o.setAttribute("position",new fS([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),(r=t.call(this,o,new NC({color:i,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return Ks(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),lm(nm(n.prototype),"updateMatrixWorld",this).call(this,e))}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(VC),vP=function(e){tm(n,e);var t=im(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;Xs(this,n);var o=a,s=new wS;s.setAttribute("position",new fS([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),s.computeBoundingSphere(),(r=t.call(this,s,new NC({color:o,toneMapped:!1}))).type="PlaneHelper",r.plane=e,r.size=i;var l=new wS;return l.setAttribute("position",new fS([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),l.computeBoundingSphere(),r.add(new zS(l,new Kw({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return Ks(n,[{key:"updateMatrixWorld",value:function(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),lm(nm(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}]),n}(jC),mP=new Mx,gP=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mx(0,0,1),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mx(0,0,0),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*a,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*s;return Xs(this,n),(e=t.call(this)).type="ArrowHelper",void 0===cP&&((cP=new wS).setAttribute("position",new fS([0,0,0,0,1,0],3)),(dP=new RM(0,.5,1,5,1)).translate(0,-.5,0)),e.position.copy(i),e.line=new jC(cP,new NC({color:o,toneMapped:!1})),e.line.matrixAutoUpdate=!1,e.add(e.line),e.cone=new zS(dP,new Kw({color:o,toneMapped:!1})),e.cone.matrixAutoUpdate=!1,e.add(e.cone),e.setDirection(r),e.setLength(a,s,l),e}return Ks(n,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{mP.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(mP,t)}}},{key:"setLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return lm(nm(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}},{key:"dispose",value:function(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}]),n}(Tw),yP=function(e){tm(n,e);var t=im(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Xs(this,n);var i=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],a=new wS;a.setAttribute("position",new fS(i,3)),a.setAttribute("color",new fS([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var o=new NC({vertexColors:!0,toneMapped:!1});return(e=t.call(this,a,o)).type="AxesHelper",e}return Ks(n,[{key:"setColors",value:function(e,t,n){var r=new Xw,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(VC),bP=function(){function e(){Xs(this,e),this.type="ShapePath",this.color=new Xw,this.subPaths=[],this.currentPath=null}return Ks(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new EM,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e){function t(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],l=s.x-o.x,u=s.y-o.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(o=t[a],l=-l,s=t[i],u=-u),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=u*(e.x-o.x)-l*(e.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var n,r,i,a=cT.isClockWise,o=this.subPaths;if(0===o.length)return[];var s=[];if(1===o.length)return r=o[0],(i=new FM).curves=r.curves,s.push(i),s;var l=!a(o[0].getPoints());l=e?!l:l;var u,c,d=[],f=[],h=[],p=0;f[p]=void 0,h[p]=[];for(var v=0,m=o.length;v<m;v++)n=a(u=(r=o[v]).getPoints()),(n=e?!n:n)?(!l&&f[p]&&p++,f[p]={s:new FM,p:u},f[p].s.curves=r.curves,l&&p++,h[p]=[]):h[p].push({h:r,p:u[0]});if(!f[0])return function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new FM;a.curves=i.curves,t.push(a)}return t}(o);if(f.length>1){for(var g=!1,y=0,b=0,x=f.length;b<x;b++)d[b]=[];for(var w=0,S=f.length;w<S;w++)for(var _=h[w],k=0;k<_.length;k++){for(var E=_[k],C=!0,M=0;M<f.length;M++)t(E.p,f[M].p)&&(w!==M&&y++,C?(C=!1,d[M].push(E)):g=!0);C&&d[w].push(E)}y>0&&!1===g&&(h=d)}for(var T=0,R=f.length;T<R;T++){i=f[T].s,s.push(i);for(var A=0,P=(c=h[T]).length;A<P;A++)i.holes.push(c[A].h)}return s}}]),e}();"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:cm}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=cm);var xP=n(4585);function wP(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var o=r(t);function s(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}var SP="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?t.useEffect:t.useLayoutEffect;function _P(e){var n="function"===typeof e?wP(e):e,r=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.getState,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,a=(0,t.useReducer)((function(e){return e+1}),0),o=M(a,2)[1],s=n.getState(),l=(0,t.useRef)(s),u=(0,t.useRef)(r),c=(0,t.useRef)(i),d=(0,t.useRef)(!1),f=(0,t.useRef)();void 0===f.current&&(f.current=r(s));var h=!1;(l.current!==s||u.current!==r||c.current!==i||d.current)&&(e=r(s),h=!i(f.current,e)),SP((function(){h&&(f.current=e),l.current=s,u.current=r,c.current=i,d.current=!1}));var p=(0,t.useRef)(s);SP((function(){var e=function(){try{var e=n.getState(),t=u.current(e);c.current(f.current,t)||(l.current=e,f.current=t,o())}catch(r){d.current=!0,o()}},t=n.subscribe(e);return n.getState()!==p.current&&e(),t}),[]);var v=h?e:f.current;return(0,t.useDebugValue)(v),v};return Object.assign(r,n),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[r,n];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},r}var kP=n(258),EP=n.n(kP),CP=n(5296),MP=[];function TP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};if(e===t)return!0;if(!e||!t)return!1;var r=e.length;if(t.length!==r)return!1;for(var i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function RP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};null===t&&(t=[e]);for(var i=0,a=MP;i<a.length;i++){var o=a[i];if(TP(t,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}}var s,l={keys:t,equal:r.equal,remove:function(){var e=MP.indexOf(l);-1!==e&&MP.splice(e,1)},promise:(s=e,"object"===typeof s&&"function"===typeof s.then?e:e.apply(void 0,k(t))).then((function(e){l.response=e,r.lifespan&&r.lifespan>0&&(l.timeout=setTimeout(l.remove,r.lifespan))})).catch((function(e){return l.error=e}))};if(MP.push(l),!n)throw l.promise}var AP,PP,IP=function(e,t,n){return RP(e,t,!1,n)},OP=["args","attach"],LP=["args","children"],NP=["args","children"],DP=["children","key","ref"],UP=["children","key","ref"],FP=["params"],zP={},BP=function(e){Object.assign(zP,e)};var jP=function(e){return"colorSpace"in e||"outputColorSpace"in e},HP=function(){var e;return null!=(e=zP.ColorManagement)?e:null},GP=function(e){return e&&e.isOrthographicCamera},VP="undefined"!==typeof window&&(null!=(AP=window.document)&&AP.createElement||"ReactNative"===(null==(PP=window.navigator)?void 0:PP.product))?t.useLayoutEffect:t.useEffect;function WP(e){var n=t.useRef(e);return VP((function(){n.current=e}),[e]),n}function qP(e){var t=e.set;return VP((function(){return t(new Promise((function(){return null}))),function(){return t(!1)}}),[t]),null}var XP=function(e){tm(n,e);var t=im(n);function n(){var e;Xs(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={error:!1},e}return Ks(n,[{key:"componentDidCatch",value:function(e){this.props.set(e)}},{key:"render",value:function(){return this.state.error?null:this.props.children}}]),n}(t.Component);XP.getDerivedStateFromError=function(){return{error:!0}};var YP="__default",KP=new Map,ZP=function(e){return e&&!!e.memoized&&!!e.changes};function QP(e){var t,n="undefined"!==typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}var $P=function(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()},JP={obj:function(e){return e===Object(e)&&!JP.arr(e)&&"function"!==typeof e},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},boo:function(e){return"boolean"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.arrays,i=void 0===r?"shallow":r,a=n.objects,o=void 0===a?"reference":a,s=n.strict,l=void 0===s||s;if(typeof e!==typeof t||!!e!==!!t)return!1;if(JP.str(e)||JP.num(e))return e===t;var u=JP.obj(e);if(u&&"reference"===o)return e===t;var c,d=JP.arr(e);if(d&&"reference"===i)return e===t;if((d||u)&&e===t)return!0;for(c in e)if(!(c in t))return!1;if(u&&"shallow"===i&&"shallow"===o){for(c in l?t:e)if(!JP.equ(e[c],t[c],{strict:l,objects:"reference"}))return!1}else for(c in l?t:e)if(e[c]!==t[c])return!1;if(JP.und(c)){if(d&&0===e.length&&0===t.length)return!0;if(u&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function eI(e){var t={nodes:{},materials:{}};return e&&e.traverse((function(e){e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function tI(e,t){return e.__r3f=$v({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},t),e}function nI(e,t){var n=e;if(t.includes("-")){var r=t.split("-"),i=r.pop();return n=r.reduce((function(e,t){return e[t]}),e),{target:n,key:i}}return{target:n,key:t}}var rI=/-\d+$/;function iI(e,t,n){if(JP.str(n)){if(rI.test(n)){var r=nI(e,n.replace(rI,"")),i=r.target,a=r.key;Array.isArray(i[a])||(i[a]=[])}var o=nI(e,n),s=o.target,l=o.key;t.__r3f.previousAttach=s[l],s[l]=t}else t.__r3f.previousAttach=n(e,t)}function aI(e,t,n){var r,i;if(JP.str(n)){var a=nI(e,n),o=a.target,s=a.key,l=t.__r3f.previousAttach;void 0===l?delete o[s]:o[s]=l}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function oI(e,t){t.children,t.key,t.ref;var n,r=Zv(t,DP),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(i.children,i.key,i.ref,Zv(i,UP)),o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=null!=(n=null==e?void 0:e.__r3f)?n:{},l=Object.entries(r),u=[];if(o)for(var c=Object.keys(a),d=0;d<c.length;d++)r.hasOwnProperty(c[d])||l.unshift([c[d],YP+"remove"]);l.forEach((function(t){var n,i=M(t,2),o=i[0],s=i[1];if((null==(n=e.__r3f)||!n.primitive||"object"!==o)&&!JP.equ(s,a[o])){if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(o))return u.push([o,s,!0,[]]);var l=[];for(var c in o.includes("-")&&(l=o.split("-")),u.push([o,s,!1,l]),r){var d=r[c];c.startsWith("".concat(o,"-"))&&u.push([c,d,!1,c.split("-")])}}}));var f=$v({},r);return s.memoizedProps&&s.memoizedProps.args&&(f.args=s.memoizedProps.args),s.memoizedProps&&s.memoizedProps.attach&&(f.attach=s.memoizedProps.attach),{memoized:f,changes:u}}function sI(e,t){var n,r,i,a=null!=(n=e.__r3f)?n:{},o=a.root,s=null!=(r=null==o||null==o.getState?void 0:o.getState())?r:{},l=ZP(t)?t:oI(e,t),u=l.memoized,c=l.changes,d=a.eventCount;e.__r3f&&(e.__r3f.memoizedProps=u);for(var f=0;f<c.length;f++){var h=M(c[f],4),p=h[0],v=h[1],m=h[2],g=h[3];if(jP(e)){var y="srgb",b="srgb-linear";"encoding"===p?(p="colorSpace",v=3001===v?y:b):"outputEncoding"===p&&(p="outputColorSpace",v=3001===v?y:b)}var x=e,w=x[p];if(g.length&&(w=g.reduce((function(e,t){return e[t]}),e),!w||!w.set)){var S=em(g.reverse()),_=S[0];x=S.slice(1).reverse().reduce((function(e,t){return e[t]}),e),p=_}if(v===YP+"remove")if(x.constructor){var E=KP.get(x.constructor);E||(E=new x.constructor,KP.set(x.constructor,E)),v=E[p]}else v=0;if(m)v?a.handlers[p]=v:delete a.handlers[p],a.eventCount=Object.keys(a.handlers).length;else if(w&&w.set&&(w.copy||w instanceof pw)){var C;if(Array.isArray(v))w.fromArray?w.fromArray(v):(C=w).set.apply(C,k(v));else if(w.copy&&v&&v.constructor&&w.constructor===v.constructor)w.copy(v);else if(void 0!==v){var T=w instanceof Xw;!T&&w.setScalar?w.setScalar(v):w instanceof pw&&v instanceof pw?w.mask=v.mask:w.set(v),HP()||s.linear||!T||w.convertSRGBToLinear()}}else if(x[p]=v,x[p]instanceof yx&&x[p].format===jg&&x[p].type===Rg){var R=x[p];jP(R)&&jP(s.gl)?R.colorSpace=s.gl.outputColorSpace:R.encoding=s.gl.outputEncoding}lI(e)}if(a.parent&&s.internal&&e.raycast&&d!==a.eventCount){var A=s.internal.interaction.indexOf(e);A>-1&&s.internal.interaction.splice(A,1),a.eventCount&&s.internal.interaction.push(e)}return!(1===c.length&&"onUpdate"===c[0][0])&&c.length&&null!=(i=e.__r3f)&&i.parent&&uI(e),e}function lI(e){var t,n,r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function uI(e){null==e.onUpdate||e.onUpdate(e)}function cI(e,t){e.manual||(GP(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function dI(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function fI(e,t,n,r){var i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function hI(e){function t(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}))}function n(t){var n,r=e.getState().internal,i=Jv(r.hovered.values());try{var a=function(){var e=n.value;if(!t.length||!t.find((function(t){return t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId}))){var i=e.eventObject.__r3f,a=null==i?void 0:i.handlers;if(r.hovered.delete(dI(e)),null!=i&&i.eventCount){var o=$v($v({},e),{},{intersections:t});null==a.onPointerOut||a.onPointerOut(o),null==a.onPointerLeave||a.onPointerLeave(o)}}};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return function(){return n([])};case"onLostPointerCapture":return function(t){var r=e.getState().internal;"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((function(){r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(a){var o=e.getState(),s=o.onPointerMissed,l=o.internal;l.lastEvent.current=a;var u="onPointerMove"===i,c="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,d=function(t,n){for(var r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction,s=0;s<o.length;s++){var l=$P(o[s]);l&&(l.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);var u=o.flatMap((function(e){var n,r=$P(e);return r&&r.events.enabled&&null!==r.raycaster.camera?(void 0===r.raycaster.camera&&(null==r.events.compute||r.events.compute(t,r,null==(n=r.previousRoot)?void 0:n.getState()),void 0===r.raycaster.camera&&(r.raycaster.camera=null)),r.raycaster.camera?r.raycaster.intersectObject(e,!0):[]):[]})).sort((function(e,t){var n=$P(e.object),r=$P(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((function(e){var t=dI(e);return!i.has(t)&&(i.add(t),!0)}));r.events.filter&&(u=r.events.filter(u,r));var c,d=Jv(u);try{for(d.s();!(c=d.n()).done;)for(var f=c.value,h=f.object;h;){var p;null!=(p=h.__r3f)&&p.eventCount&&a.push($v($v({},f),{},{eventObject:h})),h=h.parent}}catch(y){d.e(y)}finally{d.f()}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId)){var v,m=Jv(r.internal.capturedMap.get(t.pointerId).values());try{for(m.s();!(v=m.n()).done;){var g=v.value;i.has(dI(g.intersection))||a.push(g.intersection)}}catch(y){m.e(y)}finally{m.f()}}return a}(a,u?t:void 0),f=c?function(t){var n=e.getState().internal,r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===i&&(l.initialClick=[a.offsetX,a.offsetY],l.initialHits=d.map((function(e){return e.eventObject}))),c&&!d.length&&f<=2&&(r(a,l.interaction),s&&s(a)),u&&n(d),function(t,r,i,a){var o=e.getState();if(t.length){var s,l={stopped:!1},u=Jv(t);try{var c=function(){var e=s.value,u=$P(e.object)||o,c=u.raycaster,d=u.pointer,f=u.camera,h=u.internal,p=new Mx(d.x,d.y,0).unproject(f),v=function(t){var n,r;return null!=(n=null==(r=h.capturedMap.get(t))?void 0:r.has(e.eventObject))&&n},m=function(t){var n={intersection:e,target:r.target};h.capturedMap.has(t)?h.capturedMap.get(t).set(e.eventObject,n):h.capturedMap.set(t,new Map([[e.eventObject,n]])),r.target.setPointerCapture(t)},g=function(t){var n=h.capturedMap.get(t);n&&fI(h.capturedMap,e.eventObject,n,t)},y={};for(var b in r){var x=r[b];"function"!==typeof x&&(y[b]=x)}var w=$v($v($v({},e),y),{},{pointer:d,intersections:t,stopped:l.stopped,delta:i,unprojectedPoint:p,ray:c.ray,camera:f,stopPropagation:function(){var i="pointerId"in r&&h.capturedMap.get(r.pointerId);if((!i||i.has(e.eventObject))&&(w.stopped=l.stopped=!0,h.hovered.size&&Array.from(h.hovered.values()).find((function(t){return t.eventObject===e.eventObject})))){var a=t.slice(0,t.indexOf(e));n([].concat(k(a),[e]))}},target:{hasPointerCapture:v,setPointerCapture:m,releasePointerCapture:g},currentTarget:{hasPointerCapture:v,setPointerCapture:m,releasePointerCapture:g},nativeEvent:r});if(a(w),!0===l.stopped)return 1};for(u.s();!(s=u.n()).done&&!c(););}catch(d){u.e(d)}finally{u.f()}}}(d,a,f,(function(e){var t=e.eventObject,n=t.__r3f,o=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(u){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){var s=dI(e),d=l.hovered.get(s);d?d.stopped&&e.stopPropagation():(l.hovered.set(s,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{var f=o[i];f?c&&!l.initialHits.includes(t)||(r(a,l.interaction.filter((function(e){return!l.initialHits.includes(e)}))),f(e)):c&&l.initialHits.includes(t)&&r(a,l.interaction.filter((function(e){return!l.initialHits.includes(e)})))}}))}}}}var pI,vI=function(e){return!(null==e||!e.render)},mI=t.createContext(null),gI=function(e,n){var r=_P((function(r,i){var a=new Mx,o=new Mx,s=new Mx;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i().size,r=n.width,l=n.height,u=n.top,c=n.left,d=r/l;t instanceof Mx?s.copy(t):s.set.apply(s,k(t));var f=e.getWorldPosition(a).distanceTo(s);if(GP(e))return{width:r/e.zoom,height:l/e.zoom,top:u,left:c,factor:1,distance:f,aspect:d};var h=e.fov*Math.PI/180,p=2*Math.tan(h/2)*f,v=p*(r/l);return{width:v,height:p,top:u,left:c,factor:r/v,distance:f,aspect:d}}var u=void 0,c=function(e){return r((function(t){return{performance:$v($v({},t.performance),{},{current:e})}}))},d=new Zb,f={set:r,get:i,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(i(),t)},advance:function(e,t){return n(e,t,i())},legacy:!1,linear:!1,flat:!1,controls:null,clock:new eA,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:function(){var e=i();u&&clearTimeout(u),e.performance.current!==e.performance.min&&c(e.performance.min),u=setTimeout((function(){return c(i().performance.max)}),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:function(e){return r((function(t){return $v($v({},t),{},{events:$v($v({},t.events),e)})}))},setSize:function(e,t,n,a,s){var u=i().camera,c={width:e,height:t,top:a||0,left:s||0,updateStyle:n};r((function(e){return{size:c,viewport:$v($v({},e.viewport),l(u,o,c))}}))},setDpr:function(e){return r((function(t){var n=QP(e);return{viewport:$v($v({},t.viewport),{},{dpr:n,initialDpr:t.viewport.initialDpr||n})}}))},setFrameloop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always",t=i().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),r((function(){return{frameloop:e}}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:t.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:function(e,t,n){var r=i().internal;return r.priority=r.priority+(t>0?1:0),r.subscribers.push({ref:e,priority:t,store:n}),r.subscribers=r.subscribers.sort((function(e,t){return e.priority-t.priority})),function(){var n=i().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((function(t){return t.ref!==e})))}}}};return f})),i=r.getState(),a=i.size,o=i.viewport.dpr,s=i.camera;return r.subscribe((function(){var e=r.getState(),t=e.camera,n=e.size,i=e.viewport,l=e.gl,u=e.set;if(n!==a||i.dpr!==o){var c;a=n,o=i.dpr,cI(t,n),l.setPixelRatio(i.dpr);var d=null!=(c=n.updateStyle)?c:"undefined"!==typeof HTMLCanvasElement&&l.domElement instanceof HTMLCanvasElement;l.setSize(n.width,n.height,d)}t!==s&&(s=t,u((function(e){return{viewport:$v($v({},e.viewport),e.viewport.getCurrentViewport(t))}})))})),r.subscribe((function(t){return e(t)})),r};function yI(e,t){var n={callback:e};return t.add(n),function(){t.delete(n)}}var bI,xI,wI=new Set,SI=new Set,_I=new Set;function kI(e,t){if(e.size){var n,r=Jv(e.values());try{for(r.s();!(n=r.n()).done;){(0,n.value.callback)(t)}}catch(i){r.e(i)}finally{r.f()}}}function EI(e,t){switch(e){case"before":return kI(wI,t);case"after":return kI(SI,t);case"tail":return kI(_I,t)}}function CI(e,t,n){var r=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),bI=t.internal.subscribers,pI=0;pI<bI.length;pI++)(xI=bI[pI]).ref.current(xI.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function MI(){var e=t.useContext(mI);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function TI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1?arguments[1]:void 0;return MI()(e,t)}function RI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=MI(),r=n.getState().internal.subscribe,i=WP(e);return VP((function(){return r(i,t,n)}),[t,r,n]),null}function AI(e,t){return function(n){var r=new n;e&&e(r);for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return Promise.all(a.map((function(e){return new Promise((function(n,i){return r.load(e,(function(e){e.scene&&Object.assign(e,eI(e.scene)),n(e)}),t,(function(t){return i(new Error("Could not load ".concat(e,": ").concat(t.message,")")))}))}))})))}}function PI(e,t,n,r){var i=Array.isArray(t)?t:[t],a=IP(AI(n,r),[e].concat(k(i)),{equal:JP.equ});return Array.isArray(t)?a:a[0]}PI.preload=function(e,t,n){var r=Array.isArray(t)?t:[t];return function(e,t,n){RP(e,t,!0,n)}(AI(n),[e].concat(k(r)))},PI.clear=function(e,t){var n=Array.isArray(t)?t:[t];return function(e){if(void 0===e||0===e.length)MP.splice(0,MP.length);else{var t=MP.find((function(t){return TP(e,t.keys,t.equal)}));t&&t.remove()}}([e].concat(k(n)))};var II=new Map,OI=function(e){var t,n,r,i=!1;function a(o){n=requestAnimationFrame(a),i=!0,t=0,EI("before",o);var s,l=Jv(e.values());try{for(l.s();!(s=l.n()).done;){var u,c=s.value;!(r=c.store.getState()).internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(u=r.gl.xr)&&u.isPresenting||(t+=CI(o,r))}}catch(d){l.e(d)}finally{l.f()}if(EI("after",o),0===t)return EI("tail",o),i=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!n)return e.forEach((function(e){return t(e.store.getState())}),o);null!=(r=n.gl.xr)&&r.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+o),i||(i=!0,requestAnimationFrame(a)))},advance:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(n&&EI("before",t),r)CI(t,r,i);else{var a,o=Jv(e.values());try{for(o.s();!(a=o.n()).done;){CI(t,a.value.store.getState())}}catch(s){o.e(s)}finally{o.f()}}n&&EI("after",t)}}}(II),LI=OI.invalidate,NI=OI.advance,DI=function(e,t){function n(e,t,n){var r,i=t.args,a=void 0===i?[]:i,o=t.attach,s=Zv(t,OP),l="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===s.object)throw new Error("R3F: Primitives without 'object' are invalid!");r=tI(s.object,{type:e,root:n,attach:o,primitive:!0})}else{var u=zP[l];if(!u)throw new Error("R3F: ".concat(l," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(a))throw new Error("R3F: The args prop must be an array!");r=tI(Kv(u,k(a)),{type:e,root:n,attach:o,memoizedProps:{args:a}})}return void 0===r.__r3f.attach&&(r instanceof wS?r.__r3f.attach="geometry":r instanceof Hw&&(r.__r3f.attach="material")),"inject"!==l&&sI(r,s),r}function r(e,t){var n,r,i=!1;t&&(null!=(n=t.__r3f)&&n.attach?iI(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),i=!0),i||null==(r=e.__r3f)||r.objects.push(t),t.__r3f||tI(t,{}),t.__r3f.parent=e,uI(t),lI(t))}function i(e,t,n){var r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)iI(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var o=e.children.filter((function(e){return e!==t})),s=o.indexOf(n);e.children=[].concat(k(o.slice(0,s)),[t],k(o.slice(s))),r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||tI(t,{}),t.__r3f.parent=e,uI(t),lI(t)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&k(e).forEach((function(e){return o(t,e,n)}))}function o(e,t,n){if(t){var r,i,o;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((function(e){return e!==t}))),null!=(i=t.__r3f)&&i.attach)aI(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){var n=e.getState().internal;n.interaction=n.interaction.filter((function(e){return e!==t})),n.initialHits=n.initialHits.filter((function(e){return e!==t})),n.hovered.forEach((function(e,r){e.eventObject!==t&&e.object!==t||n.hovered.delete(r)})),n.capturedMap.forEach((function(e,r){fI(n.capturedMap,t,e,r)}))}(t.__r3f.root,t)}var l,u=null==(o=t.__r3f)?void 0:o.primitive,c=void 0===n?null!==t.dispose&&!u:n;if(!u)a(null==(l=t.__r3f)?void 0:l.objects,t,c),a(t.children,t,c);delete t.__r3f,c&&t.dispose&&"Scene"!==t.type&&(0,CP.unstable_scheduleCallback)(CP.unstable_IdlePriority,(function(){try{t.dispose()}catch(Ine){}})),lI(e)}}var s=function(){return console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.")},l=EP()({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:function(e,t){if(t){var n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))}},removeChildFromContainer:function(e,t){t&&o(e.getState().scene,t)},insertInContainerBefore:function(e,t,n){if(t&&n){var r=e.getState().scene;r.__r3f&&i(r,t,n)}},getRootHostContext:function(){return null},getChildHostContext:function(e){return e},finalizeInitialChildren:function(e){var t,n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate:function(e,t,n,r){var i;if((null!=(i=null==e?void 0:e.__r3f)?i:{}).primitive&&r.object&&r.object!==e)return[!0];var a=r.args,o=void 0===a?[]:a,s=(r.children,Zv(r,LP)),l=n.args,u=void 0===l?[]:l,c=(n.children,Zv(n,NP));if(!Array.isArray(o))throw new Error("R3F: the args prop must be an array!");if(o.some((function(e,t){return e!==u[t]})))return[!0];var d=oI(e,s,c,!0);return d.changes.length?[!1,d]:null},commitUpdate:function(e,t,i,a,s,l){var u=M(t,2),c=u[0],d=u[1];c?function(e,t,i,a){var s,l=null==(s=e.__r3f)?void 0:s.parent;if(l){var u=n(t,i,e.__r3f.root);if(e.children){var c,d=Jv(e.children);try{for(d.s();!(c=d.n()).done;){var f=c.value;f.__r3f&&r(u,f)}}catch(h){d.e(h)}finally{d.f()}e.children=e.children.filter((function(e){return!e.__r3f}))}e.__r3f.objects.forEach((function(e){return r(u,e)})),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||o(l,e),u.parent&&(u.__r3f.autoRemovedBeforeAppend=!0),r(l,u),u.raycast&&u.__r3f.eventCount&&u.__r3f.root.getState().internal.interaction.push(u),[a,a.alternate].forEach((function(e){null!==e&&(e.stateNode=u,e.ref&&("function"===typeof e.ref?e.ref(u):e.ref.current=u))}))}}(e,i,s,l):sI(e,d)},commitMount:function(e,t,n,r){var i,a=null!=(i=e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:function(e){return e},prepareForCommit:function(){return null},preparePortalMount:function(e){return tI(e.getState().scene)},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1},hideInstance:function(e){var t,n=null!=(t=e.__r3f)?t:{},r=n.attach,i=n.parent;r&&i&&aI(i,e,r),e.isObject3D&&(e.visible=!1),lI(e)},unhideInstance:function(e,t){var n,r=null!=(n=e.__r3f)?n:{},i=r.attach,a=r.parent;i&&a&&iI(a,e,i),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),lI(e)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:function(){return t?t():xP.DefaultEventPriority},beforeActiveInstanceBlur:function(){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},now:"undefined"!==typeof performance&&JP.fun(performance.now)?performance.now:JP.fun(Date.now)?Date.now:function(){return 0},scheduleTimeout:JP.fun(setTimeout)?setTimeout:void 0,cancelTimeout:JP.fun(clearTimeout)?clearTimeout:void 0});return{reconciler:l,applyProps:sI}}(0,(function(){var e,t="undefined"!==typeof self&&self||"undefined"!==typeof window&&window;if(!t)return xP.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return xP.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return xP.ContinuousEventPriority;default:return xP.DefaultEventPriority}})),UI=DI.reconciler,FI=DI.applyProps,zI={objects:"shallow",strict:!1},BI=function(e,t){var n="function"===typeof e?e(t):e;return vI(n)?n:new FE($v({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e))};function jI(e){var n=II.get(e),r=null==n?void 0:n.fiber,i=null==n?void 0:n.store;n&&console.warn("R3F.createRoot should only be called once!");var a,o="function"===typeof reportError?reportError:console.error,s=i||gI(LI,NI),l=r||UI.createContainer(s,xP.ConcurrentRoot,null,!1,null,"",o,null);n||II.set(e,{fiber:l,store:s});var u,c=!1;return{configure:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.gl,r=t.size,i=t.scene,o=t.events,l=t.onCreated,d=t.shadows,f=void 0!==d&&d,h=t.linear,p=void 0!==h&&h,v=t.flat,m=void 0!==v&&v,g=t.legacy,y=void 0!==g&&g,b=t.orthographic,x=void 0!==b&&b,w=t.frameloop,S=void 0===w?"always":w,_=t.dpr,k=void 0===_?[1,2]:_,E=t.performance,C=t.raycaster,M=t.camera,T=t.onPointerMissed,R=s.getState(),A=R.gl;R.gl||R.set({gl:A=BI(n,e)});var P=R.raycaster;P||R.set({raycaster:P=new IA});var I,O=C||{},L=O.params,N=Zv(O,FP);if(JP.equ(N,P,zI)||FI(P,$v({},N)),JP.equ(L,P.params,zI)||FI(P,{params:$v($v({},P.params),L)}),!R.camera||R.camera===u&&!JP.equ(u,M,zI)){u=M;var D=M instanceof XS,U=D?M:x?new b_(0,0,0,0,.1,1e3):new YS(75,0,.1,1e3);D||(U.position.z=5,M&&FI(U,M),R.camera||null!=M&&M.rotation||U.lookAt(0,0,0)),R.set({camera:U})}R.scene||(i instanceof GE?I=i:(I=new GE,i&&FI(I,i)),R.set({scene:tI(I)}));if(!R.xr){var F=function(e,t){var n=s.getState();"never"!==n.frameloop&&NI(e,!0,n,t)},z=function(){var e=s.getState();e.gl.xr.enabled=e.gl.xr.isPresenting,e.gl.xr.setAnimationLoop(e.gl.xr.isPresenting?F:null),e.gl.xr.isPresenting||LI(e)},B={connect:function(){var e=s.getState().gl;e.xr.addEventListener("sessionstart",z),e.xr.addEventListener("sessionend",z)},disconnect:function(){var e=s.getState().gl;e.xr.removeEventListener("sessionstart",z),e.xr.removeEventListener("sessionend",z)}};A.xr&&B.connect(),R.set({xr:B})}if(A.shadowMap){var j=A.shadowMap.enabled,H=A.shadowMap.type;if(A.shadowMap.enabled=!!f,JP.boo(f))A.shadowMap.type=bm;else if(JP.str(f)){var G,V={basic:gm,percentage:ym,soft:bm,variance:xm};A.shadowMap.type=null!=(G=V[f])?G:bm}else JP.obj(f)&&Object.assign(A.shadowMap,f);j===A.shadowMap.enabled&&H===A.shadowMap.type||(A.shadowMap.needsUpdate=!0)}var W=HP();W&&("enabled"in W?W.enabled=!y:"legacyMode"in W&&(W.legacyMode=y));FI(A,{outputEncoding:p?3e3:3001,toneMapping:m?ig:lg}),R.legacy!==y&&R.set((function(){return{legacy:y}})),R.linear!==p&&R.set((function(){return{linear:p}})),R.flat!==m&&R.set((function(){return{flat:m}})),!n||JP.fun(n)||vI(n)||JP.equ(n,A,zI)||FI(A,n),o&&!R.events.handlers&&R.set({events:o(s)});var q=function(e,t){if(t)return t;if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){var n=e.parentElement.getBoundingClientRect();return{width:n.width,height:n.height,top:n.top,left:n.left}}return"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:{width:0,height:0,top:0,left:0}}(e,r);return JP.equ(q,R.size,zI)||R.setSize(q.width,q.height,q.updateStyle,q.top,q.left),k&&R.viewport.dpr!==QP(k)&&R.setDpr(k),R.frameloop!==S&&R.setFrameloop(S),R.onPointerMissed||R.set({onPointerMissed:T}),E&&!JP.equ(E,R.performance,zI)&&R.set((function(e){return{performance:$v($v({},e.performance),E)}})),a=l,c=!0,this},render:function(n){return c||this.configure(),UI.updateContainer(t.createElement(HI,{store:s,children:n,onCreated:a,rootElement:e}),l,null,(function(){})),s},unmount:function(){GI(e)}}}function HI(e){var n=e.store,r=e.children,i=e.onCreated,a=e.rootElement;return VP((function(){var e=n.getState();e.set((function(e){return{internal:$v($v({},e.internal),{},{active:!0})}})),i&&i(e),n.getState().events.connected||null==e.events.connect||e.events.connect(a)}),[]),t.createElement(mI.Provider,{value:n},r)}function GI(e,t){var n=II.get(e),r=null==n?void 0:n.fiber;if(r){var i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),UI.updateContainer(null,r,null,(function(){i&&setTimeout((function(){try{var n,r,a,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect(),function(e){for(var t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(i),II.delete(e),t&&t(e)}catch(Ine){}}),500)}))}}UI.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:t.version});t.unstable_act;function VI(){return VI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VI.apply(this,arguments)}var WI=n(7494),qI=n.n(WI);function XI(e){var n=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,r=n.debounce,i=n.scroll,a=n.polyfill,o=n.offsetSize,s=a||("undefined"===typeof window?Ks((function e(){Xs(this,e)})):window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var l=M((0,t.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),2),u=l[0],c=l[1],d=(0,t.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:u}),f=r?"number"===typeof r?r:r.scroll:null,h=r?"number"===typeof r?r:r.resize:null,p=(0,t.useRef)(!1);(0,t.useEffect)((function(){return p.current=!0,function(){p.current=!1}}));var v=(0,t.useMemo)((function(){var e=function(){if(d.current.element){var e=d.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};d.current.element instanceof HTMLElement&&o&&(t.height=d.current.element.offsetHeight,t.width=d.current.element.offsetWidth),Object.freeze(t),p.current&&!ZI(d.current.lastBounds,t)&&c(d.current.lastBounds=t)}};return[e,h?qI()(e,h):e,f?qI()(e,f):e]}),[c,o,f,h]),m=M(v,3),g=m[0],y=m[1],b=m[2];function x(){d.current.scrollContainers&&(d.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",b,!0)})),d.current.scrollContainers=null),d.current.resizeObserver&&(d.current.resizeObserver.disconnect(),d.current.resizeObserver=null)}function w(){d.current.element&&(d.current.resizeObserver=new s(b),d.current.resizeObserver.observe(d.current.element),i&&d.current.scrollContainers&&d.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",b,{capture:!0,passive:!0})})))}var S;return function(e,n){(0,t.useEffect)((function(){if(n){var t=e;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",t,!0)}}}),[e,n])}(b,Boolean(i)),S=y,(0,t.useEffect)((function(){var e=S;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[S]),(0,t.useEffect)((function(){x(),w()}),[i,b,y]),(0,t.useEffect)((function(){return x}),[]),[function(e){e&&e!==d.current.element&&(x(),d.current.element=e,d.current.scrollContainers=YI(e),w())},u,g]}function YI(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,k(YI(e.parentElement)))}var KI=["x","y","top","bottom","left","right","width","height"],ZI=function(e,t){return KI.every((function(n){return e[n]===t[n]}))},QI=Object.defineProperty,$I=Object.defineProperties,JI=Object.getOwnPropertyDescriptors,eO=Object.getOwnPropertySymbols,tO=Object.prototype.hasOwnProperty,nO=Object.prototype.propertyIsEnumerable,rO=function(e,t,n){return t in e?QI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},iO=function(e,t){for(var n in t||(t={}))tO.call(t,n)&&rO(e,n,t[n]);if(eO){var r,i=Jv(eO(t));try{for(i.s();!(r=i.n()).done;){n=r.value;nO.call(t,n)&&rO(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e};function aO(e,t,n){if(e){if(!0===n(e))return e;for(var r=t?e.return:e.child;r;){var i=aO(r,t,n);if(i)return i;r=t?null:r.sibling}}}function oO(e){try{return Object.defineProperties(e,{_currentRenderer:{get:function(){return null},set:function(){}},_currentRenderer2:{get:function(){return null},set:function(){}}})}catch(t){return e}}var sO=oO(t.createContext(null)),lO=function(e){tm(r,e);var n=im(r);function r(){return Xs(this,r),n.apply(this,arguments)}return Ks(r,[{key:"render",value:function(){return t.createElement(sO.Provider,{value:this._reactInternals},this.props.children)}}]),r}(t.Component),uO=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cO=uO.ReactCurrentOwner,dO=uO.ReactCurrentDispatcher;function fO(){var e=t.useContext(sO);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");var n=t.useId(),r=t.useMemo((function(){for(var t=0,r=[null==cO?void 0:cO.current,e,null==e?void 0:e.alternate];t<r.length;t++){var i=r[t];if(i){var a=aO(i,!1,(function(e){for(var t=e.memoizedState;t;){if(t.memoizedState===n)return!0;t=t.next}}));if(a)return a}}}),[e,n]);return r}function hO(){var e=function(){var e,n,r=fO(),i=M(t.useState((function(){return new Map})),1)[0];i.clear();for(var a=r;a;){var o=null==(e=a.type)?void 0:e._context;o&&o!==sO&&!i.has(o)&&i.set(o,null==(n=null==dO?void 0:dO.current)?void 0:n.readContext(oO(o))),a=a.return}return i}();return t.useMemo((function(){return Array.from(e.keys()).reduce((function(n,r){return function(i){return t.createElement(n,null,t.createElement(r.Provider,function(e,t){return $I(e,JI(t))}(iO({},i),{value:e.get(r)})))}}),(function(e){return t.createElement(lO,iO({},e))}))}),[e])}var pO=["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"],vO={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function mO(e){var t=hI(e).handlePointer;return{priority:1,enabled:!0,compute:function(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(vO).reduce((function(e,n){return $v($v({},e),{},s({},n,t(n)))}),{}),update:function(){var t,n=e.getState(),r=n.events,i=n.internal;null!=(t=i.lastEvent)&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:function(t){var n,r=e.getState(),i=r.set,a=r.events;null==a.disconnect||a.disconnect(),i((function(e){return{events:$v($v({},e.events),{},{connected:t})}})),Object.entries(null!=(n=a.handlers)?n:[]).forEach((function(e){var n=M(e,2),r=n[0],i=n[1],a=M(vO[r],2),o=a[0],s=a[1];t.addEventListener(o,i,{passive:s})}))},disconnect:function(){var t,n=e.getState(),r=n.set,i=n.events;i.connected&&(Object.entries(null!=(t=i.handlers)?t:[]).forEach((function(e){var t=M(e,2),n=t[0],r=t[1];if(i&&i.connected instanceof HTMLElement){var a=M(vO[n],1)[0];i.connected.removeEventListener(a,r)}})),r((function(e){return{events:$v($v({},e.events),{},{connected:void 0})}})))}}}var gO=t.forwardRef((function(n,r){var i=n.children,a=n.fallback,o=n.resize,s=n.style,l=n.gl,u=n.events,c=void 0===u?mO:u,d=n.eventSource,f=n.eventPrefix,h=n.shadows,p=n.linear,v=n.flat,m=n.legacy,g=n.orthographic,y=n.frameloop,b=n.dpr,x=n.performance,w=n.raycaster,S=n.camera,_=n.onPointerMissed,k=n.onCreated,E=Zv(n,pO);t.useMemo((function(){return BP(e)}),[]);var C=hO(),T=M(XI($v({scroll:!0,debounce:{scroll:50,resize:0}},o)),2),R=T[0],A=T[1],P=t.useRef(null),I=t.useRef(null);t.useImperativeHandle(r,(function(){return P.current}));var O=WP(_),L=M(t.useState(!1),2),N=L[0],D=L[1],U=M(t.useState(!1),2),F=U[0],z=U[1];if(N)throw N;if(F)throw F;var B=t.useRef(null);VP((function(){var e=P.current;A.width>0&&A.height>0&&e&&(B.current||(B.current=jI(e)),B.current.configure({gl:l,events:c,shadows:h,linear:p,flat:v,legacy:m,orthographic:g,frameloop:y,dpr:b,performance:x,raycaster:w,camera:S,size:A,onPointerMissed:function(){return null==O.current?void 0:O.current.apply(O,arguments)},onCreated:function(e){var t;null==e.events.connect||e.events.connect(d?(t=d)&&t.hasOwnProperty("current")?d.current:d:I.current),f&&e.setEvents({compute:function(e,t){var n=e[f+"X"],r=e[f+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==k||k(e)}}),B.current.render(t.createElement(C,null,t.createElement(XP,{set:z},t.createElement(t.Suspense,{fallback:t.createElement(qP,{set:D})},i)))))})),t.useEffect((function(){var e=P.current;if(e)return function(){return GI(e)}}),[]);var j=d?"none":"auto";return t.createElement("div",VI({ref:I,style:$v({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j},s)},E),t.createElement("div",{ref:R,style:{width:"100%",height:"100%"}},t.createElement("canvas",{ref:P,style:{display:"block"}},a)))})),yO=t.forwardRef((function(e,n){return t.createElement(lO,null,t.createElement(gO,VI({},e,{ref:n})))}));function bO(e){return function(){return e}}var xO={value:function(){}};function wO(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new SO(r)}function SO(e){this._=e}function _O(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function kO(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=xO,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}SO.prototype=wO.prototype={constructor:SO,on:function(e,t){var n,r,i=this._,a=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),o=-1,s=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<s;)if(n=(e=a[o]).type)i[n]=kO(i[n],e.name,t);else if(null==t)for(n in i)i[n]=kO(i[n],e.name,null);return this}for(;++o<s;)if((n=(e=a[o]).type)&&(n=_O(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new SO(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var EO,CO,MO=wO,TO=0,RO=0,AO=0,PO=1e3,IO=0,OO=0,LO=0,NO="object"===typeof performance&&performance.now?performance:Date,DO="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function UO(){return OO||(DO(FO),OO=NO.now()+LO)}function FO(){OO=0}function zO(){this._call=this._time=this._next=null}function BO(e,t,n){var r=new zO;return r.restart(e,t,n),r}function jO(){OO=(IO=NO.now())+LO,TO=RO=0;try{!function(){UO(),++TO;for(var e,t=EO;t;)(e=OO-t._time)>=0&&t._call.call(void 0,e),t=t._next;--TO}()}finally{TO=0,function(){var e,t,n=EO,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:EO=t);CO=e,GO(r)}(),OO=0}}function HO(){var e=NO.now(),t=e-IO;t>PO&&(LO-=t,IO=e)}function GO(e){TO||(RO&&(RO=clearTimeout(RO)),e-OO>24?(e<1/0&&(RO=setTimeout(jO,e-NO.now()-LO)),AO&&(AO=clearInterval(AO))):(AO||(IO=NO.now(),AO=setInterval(HO,PO)),TO=1,DO(jO)))}zO.prototype=BO.prototype={constructor:zO,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?UO():+n)+(null==t?0:+t),this._next||CO===this||(CO?CO._next=this:EO=this,CO=this),this._call=e,this._time=n,GO()},stop:function(){this._call&&(this._call=null,this._time=1/0,GO())}};var VO=1664525,WO=1013904223,qO=4294967296;var XO=3;function YO(e){return e.x}function KO(e){return e.y}function ZO(e){return e.z}var QO=10,$O=Math.PI*(3-Math.sqrt(5)),JO=20*Math.PI/(9+Math.sqrt(221));function eL(e,t){t=t||2;var n,r=Math.min(XO,Math.max(1,Math.round(t))),i=1,a=.001,o=1-Math.pow(a,1/300),s=0,l=.6,u=new Map,c=BO(h),d=MO("tick","end"),f=function(){var e=1;return function(){return(e=(VO*e+WO)%qO)/qO}}();function h(){p(),d.call("tick",n),i<a&&(c.stop(),d.call("end",n))}function p(t){var a,c,d=e.length;void 0===t&&(t=1);for(var f=0;f<t;++f)for(i+=(s-i)*o,u.forEach((function(e){e(i)})),a=0;a<d;++a)null==(c=e[a]).fx?c.x+=c.vx*=l:(c.x=c.fx,c.vx=0),r>1&&(null==c.fy?c.y+=c.vy*=l:(c.y=c.fy,c.vy=0)),r>2&&(null==c.fz?c.z+=c.vz*=l:(c.z=c.fz,c.vz=0));return n}function v(){for(var t,n=0,i=e.length;n<i;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),null!=t.fz&&(t.z=t.fz),isNaN(t.x)||r>1&&isNaN(t.y)||r>2&&isNaN(t.z)){var a=QO*(r>2?Math.cbrt(.5+n):r>1?Math.sqrt(.5+n):n),o=n*$O,s=n*JO;1===r?t.x=a:2===r?(t.x=a*Math.cos(o),t.y=a*Math.sin(o)):(t.x=a*Math.sin(o)*Math.cos(s),t.y=a*Math.cos(o),t.z=a*Math.sin(o)*Math.sin(s))}(isNaN(t.vx)||r>1&&isNaN(t.vy)||r>2&&isNaN(t.vz))&&(t.vx=0,r>1&&(t.vy=0),r>2&&(t.vz=0))}}function m(t){return t.initialize&&t.initialize(e,f,r),t}return null==e&&(e=[]),v(),n={tick:p,restart:function(){return c.restart(h),n},stop:function(){return c.stop(),n},numDimensions:function(e){return arguments.length?(r=Math.min(XO,Math.max(1,Math.round(e))),u.forEach(m),n):r},nodes:function(t){return arguments.length?(e=t,v(),u.forEach(m),n):e},alpha:function(e){return arguments.length?(i=+e,n):i},alphaMin:function(e){return arguments.length?(a=+e,n):a},alphaDecay:function(e){return arguments.length?(o=+e,n):+o},alphaTarget:function(e){return arguments.length?(s=+e,n):s},velocityDecay:function(e){return arguments.length?(l=1-e,n):1-l},randomSource:function(e){return arguments.length?(f=e,u.forEach(m),n):f},force:function(e,t){return arguments.length>1?(null==t?u.delete(e):u.set(e,m(t)),n):u.get(e)},find:function(){var t,n,i,a,o,s,l=Array.prototype.slice.call(arguments),u=l.shift()||0,c=(r>1?l.shift():null)||0,d=(r>2?l.shift():null)||0,f=l.shift()||1/0,h=0,p=e.length;for(f*=f,h=0;h<p;++h)(a=(t=u-(o=e[h]).x)*t+(n=c-(o.y||0))*n+(i=d-(o.z||0))*i)<f&&(s=o,f=a);return s},on:function(e,t){return arguments.length>1?(d.on(e,t),n):d.on(e)}}}function tL(e){var t,n,r,i=bO(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vx+=(r[a]-i.x)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=bO(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:bO(+e),o(),a):i},a.x=function(t){return arguments.length?(e="function"===typeof t?t:bO(+t),o(),a):e},a}function nL(e){var t,n,r,i=bO(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vy+=(r[a]-i.y)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=bO(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:bO(+e),o(),a):i},a.y=function(t){return arguments.length?(e="function"===typeof t?t:bO(+t),o(),a):e},a}function rL(e,t,n){if(isNaN(t))return e;var r,i,a,o,s,l,u=e._root,c={data:n},d=e._x0,f=e._x1;if(!u)return e._root=c,e;for(;u.length;)if((o=t>=(i=(d+f)/2))?d=i:f=i,r=u,!(u=u[s=+o]))return r[s]=c,e;if(t===(a=+e._x.call(null,u.data)))return c.next=u,r?r[s]=c:e._root=c,e;do{r=r?r[s]=new Array(2):e._root=new Array(2),(o=t>=(i=(d+f)/2))?d=i:f=i}while((s=+o)===(l=+(a>=i)));return r[l]=u,r[s]=c,e}function iL(e,t,n){this.node=e,this.x0=t,this.x1=n}function aL(e){return e[0]}function oL(e,t){var n=new sL(null==t?aL:t,NaN,NaN);return null==e?n:n.addAll(e)}function sL(e,t,n){this._x=e,this._x0=t,this._x1=n,this._root=void 0}function lL(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var uL=oL.prototype=sL.prototype;function cL(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,o,s,l,u,c,d,f,h=e._root,p={data:r},v=e._x0,m=e._y0,g=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((u=t>=(a=(v+g)/2))?v=a:g=a,(c=n>=(o=(m+y)/2))?m=o:y=o,i=h,!(h=h[d=c<<1|u]))return i[d]=p,e;if(s=+e._x.call(null,h.data),l=+e._y.call(null,h.data),t===s&&n===l)return p.next=h,i?i[d]=p:e._root=p,e;do{i=i?i[d]=new Array(4):e._root=new Array(4),(u=t>=(a=(v+g)/2))?v=a:g=a,(c=n>=(o=(m+y)/2))?m=o:y=o}while((d=c<<1|u)===(f=(l>=o)<<1|s>=a));return i[f]=h,i[d]=p,e}function dL(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function fL(e){return e[0]}function hL(e){return e[1]}function pL(e,t,n){var r=new vL(null==t?fL:t,null==n?hL:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function vL(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function mL(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}uL.copy=function(){var e,t,n=new sL(this._x,this._x0,this._x1),r=this._root;if(!r)return n;if(!r.length)return n._root=lL(r),n;for(e=[{source:r,target:n._root=new Array(2)}];r=e.pop();)for(var i=0;i<2;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(2)}):r.target[i]=lL(t));return n},uL.add=function(e){var t=+this._x.call(null,e);return rL(this.cover(t),t,e)},uL.addAll=function(e){Array.isArray(e)||(e=Array.from(e));for(var t,n=e.length,r=new Float64Array(n),i=1/0,a=-1/0,o=0;o<n;++o)isNaN(t=+this._x.call(null,e[o]))||(r[o]=t,t<i&&(i=t),t>a&&(a=t));if(i>a)return this;this.cover(i).cover(a);for(var s=0;s<n;++s)rL(this,r[s],e[s]);return this},uL.cover=function(e){if(isNaN(e=+e))return this;var t=this._x0,n=this._x1;if(isNaN(t))n=(t=Math.floor(e))+1;else{for(var r,i,a=n-t||1,o=this._root;t>e||e>=n;)switch(i=+(e<t),(r=new Array(2))[i]=o,o=r,a*=2,i){case 0:n=t+a;break;case 1:t=n-a}this._root&&this._root.length&&(this._root=o)}return this._x0=t,this._x1=n,this},uL.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},uL.extent=function(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]},uL.find=function(e,t){var n,r,i,a,o,s=this._x0,l=this._x1,u=[],c=this._root;for(c&&u.push(new iL(c,s,l)),null==t?t=1/0:(s=e-t,l=e+t);a=u.pop();)if(!(!(c=a.node)||(r=a.x0)>l||(i=a.x1)<s))if(c.length){var d=(r+i)/2;u.push(new iL(c[1],d,i),new iL(c[0],r,d)),(o=+(e>=d))&&(a=u[u.length-1],u[u.length-1]=u[u.length-1-o],u[u.length-1-o]=a)}else{var f=Math.abs(e-+this._x.call(null,c.data));f<t&&(t=f,s=e-f,l=e+f,n=c.data)}return n},uL.remove=function(e){if(isNaN(a=+this._x.call(null,e)))return this;var t,n,r,i,a,o,s,l,u,c=this._root,d=this._x0,f=this._x1;if(!c)return this;if(c.length)for(;;){if((s=a>=(o=(d+f)/2))?d=o:f=o,t=c,!(c=c[l=+s]))return this;if(!c.length)break;t[l+1&1]&&(n=t,u=l)}for(;c.data!==e;)if(r=c,!(c=c.next))return this;return(i=c.next)&&delete c.next,r?(i?r.next=i:delete r.next,this):t?(i?t[l]=i:delete t[l],(c=t[0]||t[1])&&c===(t[1]||t[0])&&!c.length&&(n?n[u]=c:this._root=c),this):(this._root=i,this)},uL.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},uL.root=function(){return this._root},uL.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},uL.visit=function(e){var t,n,r,i,a=[],o=this._root;for(o&&a.push(new iL(o,this._x0,this._x1));t=a.pop();)if(!e(o=t.node,r=t.x0,i=t.x1)&&o.length){var s=(r+i)/2;(n=o[1])&&a.push(new iL(n,s,i)),(n=o[0])&&a.push(new iL(n,r,s))}return this},uL.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new iL(this._root,this._x0,this._x1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,s=t.x1,l=(o+s)/2;(a=i[0])&&n.push(new iL(a,o,l)),(a=i[1])&&n.push(new iL(a,l,s))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.x1);return this},uL.x=function(e){return arguments.length?(this._x=e,this):this._x};var gL=pL.prototype=vL.prototype;function yL(e,t,n,r,i){if(isNaN(t)||isNaN(n)||isNaN(r))return e;var a,o,s,l,u,c,d,f,h,p,v,m,g=e._root,y={data:i},b=e._x0,x=e._y0,w=e._z0,S=e._x1,_=e._y1,k=e._z1;if(!g)return e._root=y,e;for(;g.length;)if((f=t>=(o=(b+S)/2))?b=o:S=o,(h=n>=(s=(x+_)/2))?x=s:_=s,(p=r>=(l=(w+k)/2))?w=l:k=l,a=g,!(g=g[v=p<<2|h<<1|f]))return a[v]=y,e;if(u=+e._x.call(null,g.data),c=+e._y.call(null,g.data),d=+e._z.call(null,g.data),t===u&&n===c&&r===d)return y.next=g,a?a[v]=y:e._root=y,e;do{a=a?a[v]=new Array(8):e._root=new Array(8),(f=t>=(o=(b+S)/2))?b=o:S=o,(h=n>=(s=(x+_)/2))?x=s:_=s,(p=r>=(l=(w+k)/2))?w=l:k=l}while((v=p<<2|h<<1|f)===(m=(d>=l)<<2|(c>=s)<<1|u>=o));return a[m]=g,a[v]=y,e}function bL(e,t,n,r,i,a,o){this.node=e,this.x0=t,this.y0=n,this.z0=r,this.x1=i,this.y1=a,this.z1=o}function xL(e){return e[0]}function wL(e){return e[1]}function SL(e){return e[2]}function _L(e,t,n,r){var i=new kL(null==t?xL:t,null==n?wL:n,null==r?SL:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function kL(e,t,n,r,i,a,o,s,l){this._x=e,this._y=t,this._z=n,this._x0=r,this._y0=i,this._z0=a,this._x1=o,this._y1=s,this._z1=l,this._root=void 0}function EL(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}gL.copy=function(){var e,t,n=new vL(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=mL(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=mL(t));return n},gL.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return cL(this.cover(t,n),t,n,e)},gL.addAll=function(e){var t,n,r,i,a=e.length,o=new Array(a),s=new Array(a),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=r,s[n]=i,r<l&&(l=r),r>c&&(c=r),i<u&&(u=i),i>d&&(d=i));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<a;++n)cL(this,o[n],s[n],e[n]);return this},gL.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o,s,l=i-n||1,u=this._root;n>e||e>=i||r>t||t>=a;)switch(s=(t<r)<<1|e<n,(o=new Array(4))[s]=u,u=o,l*=2,s){case 0:i=n+l,a=r+l;break;case 1:n=i-l,a=r+l;break;case 2:i=n+l,r=a-l;break;case 3:n=i-l,r=a-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},gL.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},gL.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},gL.find=function(e,t,n){var r,i,a,o,s,l,u,c=this._x0,d=this._y0,f=this._x1,h=this._y1,p=[],v=this._root;for(v&&p.push(new dL(v,c,d,f,h)),null==n?n=1/0:(c=e-n,d=t-n,f=e+n,h=t+n,n*=n);l=p.pop();)if(!(!(v=l.node)||(i=l.x0)>f||(a=l.y0)>h||(o=l.x1)<c||(s=l.y1)<d))if(v.length){var m=(i+o)/2,g=(a+s)/2;p.push(new dL(v[3],m,g,o,s),new dL(v[2],i,g,m,s),new dL(v[1],m,a,o,g),new dL(v[0],i,a,m,g)),(u=(t>=g)<<1|e>=m)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var y=e-+this._x.call(null,v.data),b=t-+this._y.call(null,v.data),x=y*y+b*b;if(x<n){var w=Math.sqrt(n=x);c=e-w,d=t-w,f=e+w,h=t+w,r=v.data}}return r},gL.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,a,o,s,l,u,c,d,f,h=this._root,p=this._x0,v=this._y0,m=this._x1,g=this._y1;if(!h)return this;if(h.length)for(;;){if((u=a>=(s=(p+m)/2))?p=s:m=s,(c=o>=(l=(v+g)/2))?v=l:g=l,t=h,!(h=h[d=c<<1|u]))return this;if(!h.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,f=d)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[d]=i:delete t[d],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[f]=h:this._root=h),this):(this._root=i,this)},gL.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},gL.root=function(){return this._root},gL.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},gL.visit=function(e){var t,n,r,i,a,o,s=[],l=this._root;for(l&&s.push(new dL(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,a=t.x1,o=t.y1)&&l.length){var u=(r+a)/2,c=(i+o)/2;(n=l[3])&&s.push(new dL(n,u,c,a,o)),(n=l[2])&&s.push(new dL(n,r,c,u,o)),(n=l[1])&&s.push(new dL(n,u,i,a,c)),(n=l[0])&&s.push(new dL(n,r,i,u,c))}return this},gL.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new dL(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,s=t.y0,l=t.x1,u=t.y1,c=(o+l)/2,d=(s+u)/2;(a=i[0])&&n.push(new dL(a,o,s,c,d)),(a=i[1])&&n.push(new dL(a,c,s,l,d)),(a=i[2])&&n.push(new dL(a,o,d,c,u)),(a=i[3])&&n.push(new dL(a,c,d,l,u))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},gL.x=function(e){return arguments.length?(this._x=e,this):this._x},gL.y=function(e){return arguments.length?(this._y=e,this):this._y};var CL=_L.prototype=kL.prototype;function ML(e){return 1e-6*(e()-.5)}function TL(e){return e.x+e.vx}function RL(e){return e.y+e.vy}function AL(e){return e.z+e.vz}function PL(e){var t,n,r,i,a=1,o=1;function s(){for(var e,s,u,c,d,f,h,p,v=t.length,m=0;m<o;++m)for(s=(1===n?oL(t,TL):2===n?pL(t,TL,RL):3===n?_L(t,TL,RL,AL):null).visitAfter(l),e=0;e<v;++e)u=t[e],h=r[u.index],p=h*h,c=u.x+u.vx,n>1&&(d=u.y+u.vy),n>2&&(f=u.z+u.vz),s.visit(g);function g(e,t,r,o,s,l,v){var m=[t,r,o,s,l,v],g=m[0],y=m[1],b=m[2],x=m[n],w=m[n+1],S=m[n+2],_=e.data,k=e.r,E=h+k;if(!_)return g>c+E||x<c-E||n>1&&(y>d+E||w<d-E)||n>2&&(b>f+E||S<f-E);if(_.index>u.index){var C=c-_.x-_.vx,M=n>1?d-_.y-_.vy:0,T=n>2?f-_.z-_.vz:0,R=C*C+M*M+T*T;R<E*E&&(0===C&&(R+=(C=ML(i))*C),n>1&&0===M&&(R+=(M=ML(i))*M),n>2&&0===T&&(R+=(T=ML(i))*T),R=(E-(R=Math.sqrt(R)))/R*a,u.vx+=(C*=R)*(E=(k*=k)/(p+k)),n>1&&(u.vy+=(M*=R)*E),n>2&&(u.vz+=(T*=R)*E),_.vx-=C*(E=1-E),n>1&&(_.vy-=M*E),n>2&&(_.vz-=T*E))}}}function l(e){if(e.data)return e.r=r[e.data.index];for(var t=e.r=0;t<Math.pow(2,n);++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function u(){if(t){var n,i,a=t.length;for(r=new Array(a),n=0;n<a;++n)i=t[n],r[i.index]=+e(i,n,t)}}return"function"!==typeof e&&(e=bO(null==e?1:+e)),s.initialize=function(e){t=e;for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];i=a.find((function(e){return"function"===typeof e}))||Math.random,n=a.find((function(e){return[1,2,3].includes(e)}))||2,u()},s.iterations=function(e){return arguments.length?(o=+e,s):o},s.strength=function(e){return arguments.length?(a=+e,s):a},s.radius=function(t){return arguments.length?(e="function"===typeof t?t:bO(+t),u(),s):e},s}function IL(){var e,t,n,r,i,a,o=bO(-30),s=1,l=1/0,u=.81;function c(r){var a,o=e.length,s=(1===t?oL(e,YO):2===t?pL(e,YO,KO):3===t?_L(e,YO,KO,ZO):null).visitAfter(f);for(i=r,a=0;a<o;++a)n=e[a],s.visit(h)}function d(){if(e){var t,n,r=e.length;for(a=new Array(r),t=0;t<r;++t)n=e[t],a[n.index]=+o(n,t,e)}}function f(e){var n,r,i,o,s,l,u=0,c=0,d=e.length;if(d){for(i=o=s=l=0;l<d;++l)(n=e[l])&&(r=Math.abs(n.value))&&(u+=n.value,c+=r,i+=r*(n.x||0),o+=r*(n.y||0),s+=r*(n.z||0));u*=Math.sqrt(4/d),e.x=i/c,t>1&&(e.y=o/c),t>2&&(e.z=s/c)}else{(n=e).x=n.data.x,t>1&&(n.y=n.data.y),t>2&&(n.z=n.data.z);do{u+=a[n.data.index]}while(n=n.next)}e.value=u}function h(e,o,c,d,f){if(!e.value)return!0;var h=[c,d,f][t-1],p=e.x-n.x,v=t>1?e.y-n.y:0,m=t>2?e.z-n.z:0,g=h-o,y=p*p+v*v+m*m;if(g*g/u<y)return y<l&&(0===p&&(y+=(p=ML(r))*p),t>1&&0===v&&(y+=(v=ML(r))*v),t>2&&0===m&&(y+=(m=ML(r))*m),y<s&&(y=Math.sqrt(s*y)),n.vx+=p*e.value*i/y,t>1&&(n.vy+=v*e.value*i/y),t>2&&(n.vz+=m*e.value*i/y)),!0;if(!(e.length||y>=l)){(e.data!==n||e.next)&&(0===p&&(y+=(p=ML(r))*p),t>1&&0===v&&(y+=(v=ML(r))*v),t>2&&0===m&&(y+=(m=ML(r))*m),y<s&&(y=Math.sqrt(s*y)));do{e.data!==n&&(g=a[e.data.index]*i/y,n.vx+=p*g,t>1&&(n.vy+=v*g),t>2&&(n.vz+=m*g))}while(e=e.next)}}return c.initialize=function(n){e=n;for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];r=a.find((function(e){return"function"===typeof e}))||Math.random,t=a.find((function(e){return[1,2,3].includes(e)}))||2,d()},c.strength=function(e){return arguments.length?(o="function"===typeof e?e:bO(+e),d(),c):o},c.distanceMin=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c.distanceMax=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c.theta=function(e){return arguments.length?(u=e*e,c):Math.sqrt(u)},c}function OL(e){return e.index}function LL(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function NL(e){var t,n,r,i,a,o,s,l=OL,u=function(e){return 1/Math.min(a[e.source.index],a[e.target.index])},c=bO(30),d=1;function f(r){for(var a=0,l=e.length;a<d;++a)for(var u,c,f,h,p,v=0,m=0,g=0,y=0;v<l;++v)c=(u=e[v]).source,m=(f=u.target).x+f.vx-c.x-c.vx||ML(s),i>1&&(g=f.y+f.vy-c.y-c.vy||ML(s)),i>2&&(y=f.z+f.vz-c.z-c.vz||ML(s)),m*=h=((h=Math.sqrt(m*m+g*g+y*y))-n[v])/h*r*t[v],g*=h,y*=h,f.vx-=m*(p=o[v]),i>1&&(f.vy-=g*p),i>2&&(f.vz-=y*p),c.vx+=m*(p=1-p),i>1&&(c.vy+=g*p),i>2&&(c.vz+=y*p)}function h(){if(r){var i,s,u=r.length,c=e.length,d=new Map(r.map((function(e,t){return[l(e,t,r),e]})));for(i=0,a=new Array(u);i<c;++i)(s=e[i]).index=i,"object"!==typeof s.source&&(s.source=LL(d,s.source)),"object"!==typeof s.target&&(s.target=LL(d,s.target)),a[s.source.index]=(a[s.source.index]||0)+1,a[s.target.index]=(a[s.target.index]||0)+1;for(i=0,o=new Array(c);i<c;++i)s=e[i],o[i]=a[s.source.index]/(a[s.source.index]+a[s.target.index]);t=new Array(c),p(),n=new Array(c),v()}}function p(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+u(e[n],n,e)}function v(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e){r=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];s=n.find((function(e){return"function"===typeof e}))||Math.random,i=n.find((function(e){return[1,2,3].includes(e)}))||2,h()},f.links=function(t){return arguments.length?(e=t,h(),f):e},f.id=function(e){return arguments.length?(l=e,f):l},f.iterations=function(e){return arguments.length?(d=+e,f):d},f.strength=function(e){return arguments.length?(u="function"===typeof e?e:bO(+e),p(),f):u},f.distance=function(e){return arguments.length?(c="function"===typeof e?e:bO(+e),v(),f):c},f}function DL(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function UL(e,t,n,r,i){for(var a,o=e.children,s=-1,l=o.length,u=e.value&&(r-t)/e.value;++s<l;)(a=o[s]).y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*u}function FL(e,t,n,r,i){for(var a,o=e.children,s=-1,l=o.length,u=e.value&&(i-n)/e.value;++s<l;)(a=o[s]).x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*u}CL.copy=function(){var e,t,n=new kL(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root;if(!r)return n;if(!r.length)return n._root=EL(r),n;for(e=[{source:r,target:n._root=new Array(8)}];r=e.pop();)for(var i=0;i<8;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(8)}):r.target[i]=EL(t));return n},CL.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e),r=+this._z.call(null,e);return yL(this.cover(t,n,r),t,n,r,e)},CL.addAll=function(e){Array.isArray(e)||(e=Array.from(e));for(var t,n,r,i,a=e.length,o=new Float64Array(a),s=new Float64Array(a),l=new Float64Array(a),u=1/0,c=1/0,d=1/0,f=-1/0,h=-1/0,p=-1/0,v=0;v<a;++v)isNaN(n=+this._x.call(null,t=e[v]))||isNaN(r=+this._y.call(null,t))||isNaN(i=+this._z.call(null,t))||(o[v]=n,s[v]=r,l[v]=i,n<u&&(u=n),n>f&&(f=n),r<c&&(c=r),r>h&&(h=r),i<d&&(d=i),i>p&&(p=i));if(u>f||c>h||d>p)return this;this.cover(u,c,d).cover(f,h,p);for(var m=0;m<a;++m)yL(this,o[m],s[m],l[m],e[m]);return this},CL.cover=function(e,t,n){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,a=this._z0,o=this._x1,s=this._y1,l=this._z1;if(isNaN(r))o=(r=Math.floor(e))+1,s=(i=Math.floor(t))+1,l=(a=Math.floor(n))+1;else{for(var u,c,d=o-r||1,f=this._root;r>e||e>=o||i>t||t>=s||a>n||n>=l;)switch(c=(n<a)<<2|(t<i)<<1|e<r,(u=new Array(8))[c]=f,f=u,d*=2,c){case 0:o=r+d,s=i+d,l=a+d;break;case 1:r=o-d,s=i+d,l=a+d;break;case 2:o=r+d,i=s-d,l=a+d;break;case 3:r=o-d,i=s-d,l=a+d;break;case 4:o=r+d,s=i+d,a=l-d;break;case 5:r=o-d,s=i+d,a=l-d;break;case 6:o=r+d,i=s-d,a=l-d;break;case 7:r=o-d,i=s-d,a=l-d}this._root&&this._root.length&&(this._root=f)}return this._x0=r,this._y0=i,this._z0=a,this._x1=o,this._y1=s,this._z1=l,this},CL.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},CL.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},CL.find=function(e,t,n,r){var i,a,o,s,l,u,c,d,f,h=this._x0,p=this._y0,v=this._z0,m=this._x1,g=this._y1,y=this._z1,b=[],x=this._root;for(x&&b.push(new bL(x,h,p,v,m,g,y)),null==r?r=1/0:(h=e-r,p=t-r,v=n-r,m=e+r,g=t+r,y=n+r,r*=r);d=b.pop();)if(!(!(x=d.node)||(a=d.x0)>m||(o=d.y0)>g||(s=d.z0)>y||(l=d.x1)<h||(u=d.y1)<p||(c=d.z1)<v))if(x.length){var w=(a+l)/2,S=(o+u)/2,_=(s+c)/2;b.push(new bL(x[7],w,S,_,l,u,c),new bL(x[6],a,S,_,w,u,c),new bL(x[5],w,o,_,l,S,c),new bL(x[4],a,o,_,w,S,c),new bL(x[3],w,S,s,l,u,_),new bL(x[2],a,S,s,w,u,_),new bL(x[1],w,o,s,l,S,_),new bL(x[0],a,o,s,w,S,_)),(f=(n>=_)<<2|(t>=S)<<1|e>=w)&&(d=b[b.length-1],b[b.length-1]=b[b.length-1-f],b[b.length-1-f]=d)}else{var k=e-+this._x.call(null,x.data),E=t-+this._y.call(null,x.data),C=n-+this._z.call(null,x.data),M=k*k+E*E+C*C;if(M<r){var T=Math.sqrt(r=M);h=e-T,p=t-T,v=n-T,m=e+T,g=t+T,y=n+T,i=x.data}}return i},CL.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e))||isNaN(s=+this._z.call(null,e)))return this;var t,n,r,i,a,o,s,l,u,c,d,f,h,p,v,m=this._root,g=this._x0,y=this._y0,b=this._z0,x=this._x1,w=this._y1,S=this._z1;if(!m)return this;if(m.length)for(;;){if((d=a>=(l=(g+x)/2))?g=l:x=l,(f=o>=(u=(y+w)/2))?y=u:w=u,(h=s>=(c=(b+S)/2))?b=c:S=c,t=m,!(m=m[p=h<<2|f<<1|d]))return this;if(!m.length)break;(t[p+1&7]||t[p+2&7]||t[p+3&7]||t[p+4&7]||t[p+5&7]||t[p+6&7]||t[p+7&7])&&(n=t,v=p)}for(;m.data!==e;)if(r=m,!(m=m.next))return this;return(i=m.next)&&delete m.next,r?(i?r.next=i:delete r.next,this):t?(i?t[p]=i:delete t[p],(m=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&m===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!m.length&&(n?n[v]=m:this._root=m),this):(this._root=i,this)},CL.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},CL.root=function(){return this._root},CL.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},CL.visit=function(e){var t,n,r,i,a,o,s,l,u=[],c=this._root;for(c&&u.push(new bL(c,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=u.pop();)if(!e(c=t.node,r=t.x0,i=t.y0,a=t.z0,o=t.x1,s=t.y1,l=t.z1)&&c.length){var d=(r+o)/2,f=(i+s)/2,h=(a+l)/2;(n=c[7])&&u.push(new bL(n,d,f,h,o,s,l)),(n=c[6])&&u.push(new bL(n,r,f,h,d,s,l)),(n=c[5])&&u.push(new bL(n,d,i,h,o,f,l)),(n=c[4])&&u.push(new bL(n,r,i,h,d,f,l)),(n=c[3])&&u.push(new bL(n,d,f,a,o,s,h)),(n=c[2])&&u.push(new bL(n,r,f,a,d,s,h)),(n=c[1])&&u.push(new bL(n,d,i,a,o,f,h)),(n=c[0])&&u.push(new bL(n,r,i,a,d,f,h))}return this},CL.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new bL(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,s=t.y0,l=t.z0,u=t.x1,c=t.y1,d=t.z1,f=(o+u)/2,h=(s+c)/2,p=(l+d)/2;(a=i[0])&&n.push(new bL(a,o,s,l,f,h,p)),(a=i[1])&&n.push(new bL(a,f,s,l,u,h,p)),(a=i[2])&&n.push(new bL(a,o,h,l,f,c,p)),(a=i[3])&&n.push(new bL(a,f,h,l,u,c,p)),(a=i[4])&&n.push(new bL(a,o,s,p,f,h,d)),(a=i[5])&&n.push(new bL(a,f,s,p,u,h,d)),(a=i[6])&&n.push(new bL(a,o,h,p,f,c,d)),(a=i[7])&&n.push(new bL(a,f,h,p,u,c,d))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this},CL.x=function(e){return arguments.length?(this._x=e,this):this._x},CL.y=function(e){return arguments.length?(this._y=e,this):this._y},CL.z=function(e){return arguments.length?(this._z=e,this):this._z};var zL=function e(t){function n(e,n,r,i,a){!function(e,t,n,r,i,a){for(var o,s,l,u,c,d,f,h,p,v,m,g=[],y=t.children,b=0,x=0,w=y.length,S=t.value;b<w;){l=i-n,u=a-r;do{c=y[x++].value}while(!c&&x<w);for(d=f=c,m=c*c*(v=Math.max(u/l,l/u)/(S*e)),p=Math.max(f/m,m/d);x<w;++x){if(c+=s=y[x].value,s<d&&(d=s),s>f&&(f=s),m=c*c*v,(h=Math.max(f/m,m/d))>p){c-=s;break}p=h}g.push(o={value:c,dice:l<u,children:y.slice(b,x)}),o.dice?UL(o,n,r,i,S?r+=u*c/S:a):FL(o,n,r,S?n+=l*c/S:i,a),S-=c,b=x}}(t,e,n,r,i,a)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}((1+Math.sqrt(5))/2);function BL(e){return null==e?null:jL(e)}function jL(e){if("function"!==typeof e)throw new Error;return e}function HL(){return 0}function GL(e){return function(){return e}}function VL(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}var WL=um().mark(qL);function qL(){var e,t,n,r,i,a;return um().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=[e=this];case 1:t=n.reverse(),n=[];case 2:if(!(e=t.pop())){o.next=8;break}return o.next=5,e;case 5:if(r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);o.next=2;break;case 8:if(n.length){o.next=1;break}case 9:case"end":return o.stop()}}),WL,this)}function XL(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=KL)):void 0===t&&(t=YL);for(var n,r,i,a,o,s=new $L(e),l=[s];n=l.pop();)if((i=t(n.data))&&(o=(i=Array.from(i)).length))for(n.children=i,a=o-1;a>=0;--a)l.push(r=i[a]=new $L(i[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(QL)}function YL(e){return e.children}function KL(e){return Array.isArray(e)?e[1]:null}function ZL(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function QL(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function $L(e){this.data=e,this.depth=this.height=0,this.parent=null}$L.prototype=XL.prototype=s({constructor:$L,count:function(){return this.eachAfter(VL)},each:function(e,t){var n,r=-1,i=Jv(this);try{for(i.s();!(n=i.n()).done;){var a=n.value;e.call(t,a,++r,this)}}catch(o){i.e(o)}finally{i.f()}return this},eachAfter:function(e,t){for(var n,r,i,a=this,o=[a],s=[],l=-1;a=o.pop();)if(s.push(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r]);for(;a=s.pop();)e.call(t,a,++l,this);return this},eachBefore:function(e,t){for(var n,r,i=this,a=[i],o=-1;i=a.pop();)if(e.call(t,i,++o,this),n=i.children)for(r=n.length-1;r>=0;--r)a.push(n[r]);return this},find:function(e,t){var n,r=-1,i=Jv(this);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(e.call(t,a,++r,this))return a}}catch(o){i.e(o)}finally{i.f()}},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return XL(this).eachBefore(ZL)}},Symbol.iterator,qL);var JL={depth:-1},eN={},tN={};function nN(e){return e.id}function rN(e){return e.parentId}function iN(){var e,t=nN,n=rN;function r(r){var i,a,o,s,l,u,c,d,f=Array.from(r),h=t,p=n,v=new Map;if(null!=e){var m,g=f.map((function(t,n){return function(e){e="".concat(e);var t=e.length;oN(e,t-1)&&!oN(e,t-2)&&(e=e.slice(0,-1));return"/"===e[0]?e:"/".concat(e)}(e(t,n,r))})),y=g.map(aN),b=new Set(g).add(""),x=Jv(y);try{for(x.s();!(m=x.n()).done;){var w=m.value;b.has(w)||(b.add(w),g.push(w),y.push(aN(w)),f.push(tN))}}catch(_){x.e(_)}finally{x.f()}h=function(e,t){return g[t]},p=function(e,t){return y[t]}}for(o=0,i=f.length;o<i;++o)a=f[o],u=f[o]=new $L(a),null!=(c=h(a,o,r))&&(c+="")&&(d=u.id=c,v.set(d,v.has(d)?eN:u)),null!=(c=p(a,o,r))&&(c+="")&&(u.parent=c);for(o=0;o<i;++o)if(c=(u=f[o]).parent){if(!(l=v.get(c)))throw new Error("missing: "+c);if(l===eN)throw new Error("ambiguous: "+c);l.children?l.children.push(u):l.children=[u],u.parent=l}else{if(s)throw new Error("multiple roots");s=u}if(!s)throw new Error("no root");if(null!=e){for(;s.data===tN&&1===s.children.length;)s=s.children[0],--i;for(var S=f.length-1;S>=0&&(u=f[S]).data===tN;--S)u.data=null}if(s.parent=JL,s.eachBefore((function(e){e.depth=e.parent.depth+1,--i})).eachBefore(QL),s.parent=null,i>0)throw new Error("cycle");return s}return r.id=function(e){return arguments.length?(t=BL(e),r):t},r.parentId=function(e){return arguments.length?(n=BL(e),r):n},r.path=function(t){return arguments.length?(e=BL(t),r):e},r}function aN(e){var t=e.length;if(t<2)return"";for(;--t>1&&!oN(e,t););return e.slice(0,t)}function oN(e,t){if("/"===e[t]){for(var n=0;t>0&&"\\"===e[--t];)++n;if(0===(1&n))return!0}return!1}function sN(e,t){return e.parent===t.parent?1:2}function lN(e){var t=e.children;return t?t[0]:e.t}function uN(e){var t=e.children;return t?t[t.length-1]:e.t}function cN(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function dN(e,t,n){return e.a.parent===t.parent?e.a:n}function fN(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function hN(){var e=sN,t=1,n=1,r=null;function i(i){var l=function(e){for(var t,n,r,i,a,o=new fN(e,0),s=[o];t=s.pop();)if(r=t._.children)for(t.children=new Array(a=r.length),i=a-1;i>=0;--i)s.push(n=t.children[i]=new fN(r[i],i)),n.parent=t;return(o.parent=new fN(null,0)).children=[o],o}(i);if(l.eachAfter(a),l.parent.m=-l.z,l.eachBefore(o),r)i.eachBefore(s);else{var u=i,c=i,d=i;i.eachBefore((function(e){e.x<u.x&&(u=e),e.x>c.x&&(c=e),e.depth>d.depth&&(d=e)}));var f=u===c?1:e(u,c)/2,h=f-u.x,p=t/(c.x+f+h),v=n/(d.depth||1);i.eachBefore((function(e){e.x=(e.x+h)*p,e.y=e.depth*v}))}return i}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)(t=i[a]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,a=t,o=t,s=n,l=a.parent.children[0],u=a.m,c=o.m,d=s.m,f=l.m;s=uN(s),a=lN(a),s&&a;)l=lN(l),(o=uN(o)).a=t,(i=s.z+d-a.z-u+e(s._,a._))>0&&(cN(dN(s,t,r),t,i),u+=i,c+=i),d+=s.m,u+=a.m,f+=l.m,c+=o.m;s&&!uN(o)&&(o.t=s,o.m+=d-c),a&&!lN(l)&&(l.t=a,l.m+=u-f,r=t)}return r}(t,i,t.parent.A||r[0])}function o(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}fN.prototype=Object.create($L.prototype);var pN=n(5478),vN=n(9862),mN=n(2326),gN=n(811),yN=n(3218),bN=n(6423),xN=Math.sqrt(50),wN=Math.sqrt(10),SN=Math.sqrt(2);function _N(e,t,n){var r,i,a,o=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(o)),l=o/Math.pow(10,s),u=l>=xN?10:l>=wN?5:l>=SN?2:1;return s<0?(a=Math.pow(10,-s)/u,(r=Math.round(e*a))/a<e&&++r,(i=Math.round(t*a))/a>t&&--i,a=-a):(a=Math.pow(10,s)*u,(r=Math.round(e/a))*a<e&&++r,(i=Math.round(t/a))*a>t&&--i),i<r&&.5<=n&&n<2?_N(e,t,2*n):[r,i,a]}function kN(e,t,n){return _N(e=+e,t=+t,n=+n)[2]}function EN(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CN(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function MN(e){var t,n,r;function i(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{var o=i+a>>>1;n(e[o],r)<0?i=o+1:a=o}while(i<a)}return i}return 2!==e.length?(t=EN,n=function(t,n){return EN(e(t),n)},r=function(t,n){return e(t)-n}):(t=e===EN||e===CN?e:TN,n=e,r=e),{left:i,center:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{var o=i+a>>>1;n(e[o],r)<=0?i=o+1:a=o}while(i<a)}return i}}}function TN(){return 0}var RN=MN(EN),AN=RN.right,PN=(RN.left,MN((function(e){return null===e?NaN:+e})).center,AN);function IN(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ON(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function LN(){}var NN=.7,DN=1/NN,UN="\\s*([+-]?\\d+)\\s*",FN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BN=/^#([0-9a-f]{3,8})$/,jN=new RegExp("^rgb\\(".concat(UN,",").concat(UN,",").concat(UN,"\\)$")),HN=new RegExp("^rgb\\(".concat(zN,",").concat(zN,",").concat(zN,"\\)$")),GN=new RegExp("^rgba\\(".concat(UN,",").concat(UN,",").concat(UN,",").concat(FN,"\\)$")),VN=new RegExp("^rgba\\(".concat(zN,",").concat(zN,",").concat(zN,",").concat(FN,"\\)$")),WN=new RegExp("^hsl\\(".concat(FN,",").concat(zN,",").concat(zN,"\\)$")),qN=new RegExp("^hsla\\(".concat(FN,",").concat(zN,",").concat(zN,",").concat(FN,"\\)$")),XN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function YN(){return this.rgb().formatHex()}function KN(){return this.rgb().formatRgb()}function ZN(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=BN.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?QN(t):3===n?new eD(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?$N(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?$N(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=jN.exec(e))?new eD(t[1],t[2],t[3],1):(t=HN.exec(e))?new eD(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=GN.exec(e))?$N(t[1],t[2],t[3],t[4]):(t=VN.exec(e))?$N(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=WN.exec(e))?oD(t[1],t[2]/100,t[3]/100,1):(t=qN.exec(e))?oD(t[1],t[2]/100,t[3]/100,t[4]):XN.hasOwnProperty(e)?QN(XN[e]):"transparent"===e?new eD(NaN,NaN,NaN,0):null}function QN(e){return new eD(e>>16&255,e>>8&255,255&e,1)}function $N(e,t,n,r){return r<=0&&(e=t=n=NaN),new eD(e,t,n,r)}function JN(e,t,n,r){return 1===arguments.length?((i=e)instanceof LN||(i=ZN(i)),i?new eD((i=i.rgb()).r,i.g,i.b,i.opacity):new eD):new eD(e,t,n,null==r?1:r);var i}function eD(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function tD(){return"#".concat(aD(this.r)).concat(aD(this.g)).concat(aD(this.b))}function nD(){var e=rD(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(iD(this.r),", ").concat(iD(this.g),", ").concat(iD(this.b)).concat(1===e?")":", ".concat(e,")"))}function rD(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function iD(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function aD(e){return((e=iD(e))<16?"0":"")+e.toString(16)}function oD(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new lD(e,t,n,r)}function sD(e){if(e instanceof lD)return new lD(e.h,e.s,e.l,e.opacity);if(e instanceof LN||(e=ZN(e)),!e)return new lD;if(e instanceof lD)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new lD(o,s,l,e.opacity)}function lD(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function uD(e){return(e=(e||0)%360)<0?e+360:e}function cD(e){return Math.max(0,Math.min(1,e||0))}function dD(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function fD(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}IN(LN,ZN,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:YN,formatHex:YN,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return sD(this).formatHsl()},formatRgb:KN,toString:KN}),IN(eD,JN,ON(LN,{brighter:function(e){return e=null==e?DN:Math.pow(DN,e),new eD(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?NN:Math.pow(NN,e),new eD(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new eD(iD(this.r),iD(this.g),iD(this.b),rD(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tD,formatHex:tD,formatHex8:function(){return"#".concat(aD(this.r)).concat(aD(this.g)).concat(aD(this.b)).concat(aD(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:nD,toString:nD})),IN(lD,(function(e,t,n,r){return 1===arguments.length?sD(e):new lD(e,t,n,null==r?1:r)}),ON(LN,{brighter:function(e){return e=null==e?DN:Math.pow(DN,e),new lD(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?NN:Math.pow(NN,e),new lD(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new eD(dD(e>=240?e-240:e+120,i,r),dD(e,i,r),dD(e<120?e+240:e-120,i,r),this.opacity)},clamp:function(){return new lD(uD(this.h),cD(this.s),cD(this.l),rD(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=rD(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(uD(this.h),", ").concat(100*cD(this.s),"%, ").concat(100*cD(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));var hD=function(e){return function(){return e}};function pD(e,t){return function(n){return e+n*t}}function vD(e){return 1===(e=+e)?mD:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):hD(isNaN(t)?n:t)}}function mD(e,t){var n=t-e;return n?pD(e,n):hD(isNaN(e)?t:e)}var gD=function e(t){var n=vD(t);function r(e,t){var r=n((e=JN(e)).r,(t=JN(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=mD(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function yD(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=JN(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}yD((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return fD((n-r/t)*t,o,i,a,s)}})),yD((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return fD((n-r/t)*t,i,a,o,s)}}));function bD(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=MD(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function xD(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function wD(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function SD(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=MD(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var _D=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kD=new RegExp(_D.source,"g");function ED(e,t){var n,r,i,a=_D.lastIndex=kD.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=_D.exec(e))&&(r=kD.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:wD(n,r)})),a=kD.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function CD(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function MD(e,t){var n,r=typeof t;return null==t||"boolean"===r?hD(t):("number"===r?wD:"string"===r?(n=ZN(t))?(t=n,gD):ED:t instanceof ZN?gD:t instanceof Date?xD:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?CD:Array.isArray(t)?bD:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?SD:wD)(e,t)}function TD(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function RD(e){return+e}var AD=[0,1];function PD(e){return e}function ID(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function OD(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=ID(i,r),a=n(o,a)):(r=ID(r,i),a=n(a,o)),function(e){return a(r(e))}}function LD(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=ID(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=PN(e,t,1,r)-1;return a[n](i[n](t))}}function ND(){var e,t,n,r,i,a,o=AD,s=AD,l=MD,u=PD;function c(){var e=Math.min(o.length,s.length);return u!==PD&&(u=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?LD:OD,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),s,l)))(e(u(t)))}return d.invert=function(n){return u(t((a||(a=r(s,o.map(e),wD)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,RD),c()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=TD,c()},d.clamp=function(e){return arguments.length?(u=!!e||PD,c()):u!==PD},d.interpolate=function(e){return arguments.length?(l=e,c()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,c()}}function DD(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var UD,FD=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zD(e){if(!(t=FD.exec(e)))throw new Error("invalid format: "+e);var t;return new BD({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function BD(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function jD(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function HD(e){return(e=jD(Math.abs(e)))?e[1]:NaN}function GD(e,t){var n=jD(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}zD.prototype=BD.prototype,BD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var VD={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return GD(100*e,t)},r:GD,s:function(e,t){var n=jD(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(UD=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+jD(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function WD(e){return e}var qD,XD,YD,KD=Array.prototype.map,ZD=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function QD(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?WD:(t=KD.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?WD:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(KD.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"\u2212":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=zD(e)).fill,n=e.align,d=e.sign,f=e.symbol,h=e.zero,p=e.width,v=e.comma,m=e.precision,g=e.trim,y=e.type;"n"===y?(v=!0,y="g"):VD[y]||(void 0===m&&(m=12),g=!0,y="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var b="$"===f?i:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===f?a:/[%p]/.test(y)?l:"",w=VD[y],S=/[defgprs%]/.test(y);function _(e){var i,a,l,f=b,_=x;if("c"===y)_=w(e)+_,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:w(Math.abs(e),m),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==d&&(k=!1),f=(k?"("===d?d:u:"-"===d||"("===d?"":d)+f,_=("s"===y?ZD[8+UD/3]:"")+_+(k&&"("===d?")":""),S)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){_=(46===l?o+e.slice(i+1):e.slice(i))+_,e=e.slice(0,i);break}}v&&!h&&(e=r(e,1/0));var E=f.length+e.length+_.length,C=E<p?new Array(p-E+1).join(t):"";switch(v&&h&&(e=r(C+e,C.length?p-_.length:1/0),C=""),n){case"<":e=f+e+_+C;break;case"=":e=f+C+e+_;break;case"^":e=C.slice(0,E=C.length>>1)+f+e+_+C.slice(E);break;default:e=C+f+e+_}return s(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),_.toString=function(){return e+""},_}return{format:d,formatPrefix:function(e,t){var n=d(((e=zD(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(HD(t)/3))),i=Math.pow(10,-r),a=ZD[8+r/3];return function(e){return n(i*e)+a}}}}function $D(e,t,n,r){var i,a=function(e,t,n){n=+n;var r=(t=+t)<(e=+e),i=r?kN(t,e,n):kN(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}(e,t,n);switch((r=zD(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(HD(t)/3)))-HD(Math.abs(e)))}(a,o))||(r.precision=i),YD(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,HD(t)-HD(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-HD(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return XD(r)}function JD(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];var r=t<e,i=M(r?_N(t,e,n):_N(e,t,n),3),a=i[0],o=i[1],s=i[2];if(!(o>=a))return[];var l=o-a+1,u=new Array(l);if(r)if(s<0)for(var c=0;c<l;++c)u[c]=(o-c)/-s;else for(var d=0;d<l;++d)u[d]=(o-d)*s;else if(s<0)for(var f=0;f<l;++f)u[f]=(a+f)/-s;else for(var h=0;h<l;++h)u[h]=(a+h)*s;return u}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return $D(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,s=a.length-1,l=a[o],u=a[s],c=10;for(u<l&&(i=l,l=u,u=i,i=o,o=s,s=i);c-- >0;){if((i=kN(l,u,n))===r)return a[o]=l,a[s]=u,t(a);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i}r=i}return e},e}function eU(){var e=ND()(PD,PD);return e.copy=function(){return t=e,eU().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown());var t},DD.apply(e,arguments),JD(e)}qD=QD({thousands:",",grouping:[3],currency:["$",""]}),XD=qD.format,YD=qD.formatPrefix;var tU=function(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(!Object.is(i,t)){var a=t;t=(null!=r?r:"object"!==typeof i)?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e){return n.add(e),function(){return n.delete(e)}},destroy:function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,i,a),a},nU=function(e){return e?tU(e):tU},rU=n(327).useSyncExternalStoreWithSelector;function iU(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getState,r=arguments.length>2?arguments[2]:void 0,i=rU(e.subscribe,e.getState,e.getServerState||e.getState,n,r);return(0,t.useDebugValue)(i),i}var aU=function(e){"function"!==typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");var t="function"===typeof e?nU(e):e,n=function(e,n){return iU(t,e,n)};return Object.assign(n,t),n},oU=function(e){return e?aU(e):aU};function sU(e,t){return e.map((function(e,n){return e+t[n]}))}function lU(e,t){return e.map((function(e,n){return e-t[n]}))}function uU(e){return Math.hypot.apply(Math,e)}function cU(e,t){void 0===t&&(t=e);var n=uU(t),r=0===n?0:1/n,i=t.map((function(e){return r*e}));return{distance:uU(e),direction:i}}function dU(e,t,n){var r=uU(t),i=0===r?0:1/r,a=0===n?0:1/n,o=a*r,s=t.map((function(e){return a*e})),l=t.map((function(e){return i*e}));return{velocities:s,velocity:o,distance:uU(e),direction:l}}function fU(e){return Math.sign?Math.sign(e):Number(e>0)-Number(e<0)||+e}function hU(e,t,n){return 0===t||Math.abs(t)===1/0?function(e,t){return Math.pow(e,5*t)}(e,n):e*t*n/(t+n*e)}function pU(e,t,n,r){return void 0===r&&(r=.15),0===r?function(e,t,n){return Math.max(t,Math.min(e,n))}(e,t,n):e<t?-hU(t-e,n-t,r)+t:e>n?+hU(e-n,n-t,r)+n:e}function vU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mU(){return mU=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mU.apply(this,arguments)}function gU(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function yU(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function bU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wU(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return xU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xU(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function SU(){}function _U(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?SU:1===t.length?t[0]:function(){for(var e,n,r=wU(t);!(n=r()).done;){e=n.value.apply(this,arguments)||e}return e}}function kU(e,t){if(void 0===e){if(void 0===t)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function EU(e,t){return Object.assign({},t,e||{})}function CU(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}return e}function MU(e,t){void 0===e&&(e={});for(var n={},r=0,i=Object.entries(t);r<i.length;r++){var a=i[r],o=a[0],s=a[1];switch(typeof s){case"function":n[o]=s.call(n,e[o],o,e);break;case"object":n[o]=MU(e[o],s);break;case"boolean":s&&(n[o]=e[o])}}return n}function TU(){return"undefined"!==typeof window&&"ontouchstart"in window}function RU(e){return"pointerId"in e?null:"touchend"===e.type?e.changedTouches:e.targetTouches}function AU(e){return Array.from(RU(e)).map((function(e){return e.identifier}))}function PU(e){return{buttons:"buttons"in e?e.buttons:0,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey}}var IU=function(e){return e};function OU(e,t){void 0===t&&(t=IU);var n=RU(e),r=n?n[0]:e;return t([r.clientX,r.clientY])}function LU(e,t,n){void 0===n&&(n=IU);var r=Array.from(e.touches).filter((function(e){return t.includes(e.identifier)})),i=r[0],a=r[1];if(!i||!a)throw Error("The event doesn't have two pointers matching the pointerIds");var o=a.clientX-i.clientX,s=a.clientY-i.clientY,l=(a.clientX+i.clientX)/2,u=(a.clientY+i.clientY)/2;return{values:n([Math.hypot(o,s),-180*Math.atan2(o,s)/Math.PI]),origin:n([l,u])}}function NU(e,t){void 0===t&&(t=IU);var n=e.deltaX,r=e.deltaY,i=e.deltaMode;return 1===i?(n*=40,r*=40):2===i&&(n*=800,r*=800),t([n,r])}function DU(e,t){return void 0===t&&(t=IU),t([e.scale,e.rotation])}var UU={threshold:function(e){return void 0===e&&(e=0),kU(e)},rubberband:function(e){switch(void 0===e&&(e=0),e){case!0:return kU(.15);case!1:return kU(0);default:return kU(e)}},enabled:function(e){return void 0===e&&(e=!0),e},triggerAllEvents:function(e){return void 0===e&&(e=!1),e},initial:function(e){return void 0===e&&(e=0),"function"===typeof e?e:kU(e)},transform:!0},FU=mU({},UU,{axis:!0,lockDirection:function(e){return void 0===e&&(e=!1),e},bounds:function(e){if(void 0===e&&(e={}),"function"===typeof e)return function(t){return FU.bounds(e(t))};var t=e,n=t.left,r=void 0===n?-1/0:n,i=t.right,a=void 0===i?1/0:i,o=t.top,s=void 0===o?-1/0:o,l=t.bottom;return[[r,a],[s,void 0===l?1/0:l]]}}),zU="undefined"!==typeof window&&window.document&&window.document.createElement,BU={enabled:function(e){return void 0===e&&(e=!0),e},domTarget:!0,window:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return void 0===e&&(e=zU?window:void 0),e})),eventOptions:function(e){var t=void 0===e?{}:e,n=t.passive,r=void 0===n||n,i=t.capture;return{passive:r,capture:void 0!==i&&i}},transform:!0},jU=mU({},UU,{bounds:function(e,t,n){var r=n.distanceBounds,i=void 0===r?{}:r,a=n.angleBounds,o=void 0===a?{}:a,s=function(e){var t=EU(CU(i,e),{min:-1/0,max:1/0});return[t.min,t.max]},l=function(e){var t=EU(CU(o,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!==typeof i&&"function"!==typeof o?[s(),l()]:function(e){return[s(e),l(e)]}}}),HU=mU({},FU,{useTouch:function(e){void 0===e&&(e=!1);var t=TU(),n="undefined"!==typeof window&&"onpointerdown"in window;return!(!e||!t)||!(!t||n)},experimental_preventWindowScrollY:function(e){return void 0===e&&(e=!1),e},threshold:function(e,t,n){var r=n.filterTaps,i=void 0!==r&&r,a=n.lockDirection,o=void 0!==a&&a,s=n.axis,l=kU(e,i?3:o||(void 0===s?void 0:s)?1:0);return this.filterTaps=i,l},swipeVelocity:function(e){return void 0===e&&(e=.5),kU(e)},swipeDistance:function(e){return void 0===e&&(e=50),kU(e)},swipeDuration:function(e){return void 0===e&&(e=250),e},delay:function(e){switch(void 0===e&&(e=0),e){case!0:return 180;case!1:return 0;default:return e}}});function GU(e){return void 0===e&&(e={}),MU(e,BU)}function VU(e){return void 0===e&&(e={}),MU(e,FU)}function WU(e){return void 0===e&&(e={}),MU(e,jU)}function qU(e){return void 0===e&&(e={}),MU(e,HU)}function XU(e){return mU({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_threshold:[0,0],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:SU,canceled:!1,memo:void 0,args:void 0},e)}function YU(){return{shared:{hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},drag:XU({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),pinch:XU({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),wheel:XU({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),move:XU({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),scroll:XU({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0})}}var KU=new Map,ZU=function(e){return e},QU=function(){function e(e,t){var n=this;void 0===t&&(t=[]),this.controller=e,this.args=t,this.debounced=!0,this.setTimeout=function(e,t){var r;void 0===t&&(t=140),clearTimeout(n.controller.timeouts[n.stateKey]);for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];n.controller.timeouts[n.stateKey]=(r=window).setTimeout.apply(r,[e,t].concat(a))},this.clearTimeout=function(){clearTimeout(n.controller.timeouts[n.stateKey])},this.fireGestureHandler=function(e){if(void 0===e&&(e=!1),n.state._blocked)return n.debounced||(n.state._active=!1,n.clean()),null;if(!e&&!n.state.intentional&&!n.config.triggerAllEvents)return null;if(n.state.intentional){var t=n.state.active,r=n.state._active;n.state.active=r,n.state.first=r&&!t,n.state.last=t&&!r,n.controller.state.shared[n.ingKey]=r}var i=n.controller.pointerIds.size||n.controller.touchIds.size,a=n.controller.state.shared.buttons>0||i>0,o=mU({},n.controller.state.shared,n.state,n.mapStateValues(n.state),{locked:!!document.pointerLockElement,touches:i,down:a}),s=n.handler(o);return n.state.memo=void 0!==s?s:n.state.memo,o},this.controller=e,this.args=t}var t,n,r,i=e.prototype;return i.updateSharedState=function(e){Object.assign(this.controller.state.shared,e)},i.updateGestureState=function(e){Object.assign(this.state,e)},i.checkIntentionality=function(e,t){return{_intentional:e,_blocked:!1}},i.getMovement=function(e){var t=this.config.rubberband,n=this.state,r=n._bounds,i=n._initial,a=n._active,o=n._intentional,s=n.lastOffset,l=n.movement,u=n._threshold,c=this.getInternalMovement(e,this.state),d=!1===o[0]?$U(c[0],u[0]):o[0],f=!1===o[1]?$U(c[1],u[1]):o[1],h=this.checkIntentionality([d,f],c);if(h._blocked)return mU({},h,{_movement:c,delta:[0,0]});var p=h._intentional,v=c,m=[!1!==p[0]?c[0]-p[0]:0,!1!==p[1]?c[1]-p[1]:0],g=sU(m,s),y=a?t:[0,0];return m=JU(r,sU(m,i),y),mU({},h,{intentional:!1!==p[0]||!1!==p[1],_initial:i,_movement:v,movement:m,values:e,offset:JU(r,g,y),delta:lU(m,l)})},i.clean=function(){this.clearTimeout()},t=e,(n=[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}},{key:"transform",get:function(){return this.config.transform||this.controller.config.transform||ZU}}])&&vU(t.prototype,n),r&&vU(t,r),e}();function $U(e,t){return Math.abs(e)>=t&&fU(e)*t}function JU(e,t,n){var r=t[0],i=t[1],a=n[0],o=n[1],s=e[0],l=s[0],u=s[1],c=e[1],d=c[0],f=c[1];return[pU(r,l,u,a),pU(i,d,f,o)]}function eF(e,t,n){var r=e.state,i=t.timeStamp,a=t.type,o=r.values;return{_lastEventType:a,event:t,timeStamp:i,elapsedTime:n?0:i-r.startTime,previous:o}}function tF(e,t,n,r){var i=e.state,a=e.config,o=e.stateKey,s=e.args,l=e.transform,u=i.offset,c=n.timeStamp,d=a.initial,f=a.bounds,h=lU(l(a.threshold),l([0,0])).map(Math.abs),p=mU({},YU()[o],{_active:!0,args:s,values:t,initial:null!=r?r:t,_threshold:h,offset:u,lastOffset:u,startTime:c});return mU({},p,{_initial:CU(d,p),_bounds:CU(f,p)})}var nF=function(e){var t=this;this.classes=e,this.pointerIds=new Set,this.touchIds=new Set,this.supportsTouchEvents=TU(),this.supportsGestureEvents=function(){try{return"constructor"in GestureEvent}catch(Ine){return!1}}(),this.bind=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i,a={},o=wU(t.classes);!(i=o()).done;){new(0,i.value)(t,n).addBindings(a)}var s=function(e){sF(a,e,(function(r){return t.nativeRefs[e](mU({},t.state.shared,{event:r,args:n}))}))};for(var l in t.nativeRefs)s(l);return t.config.domTarget?function(e,t){var n=e.config,r=e.domListeners,i=oF(n);if(!i)throw new Error("domTarget must be defined");var a=n.eventOptions;uF(i,aF(r),a);for(var o=0,s=Object.entries(t);o<s.length;o++){var l=s[o],u=l[0],c=l[1],d=u.slice(2).toLowerCase();r.push([d,_U.apply(void 0,c)])}lF(i,r,a)}(t,a):function(e,t){for(var n=e.config,r={},i=n.eventOptions.capture?"Capture":"",a=0,o=Object.entries(t);a<o.length;a++){var s=o[a],l=s[0],u=s[1],c=Array.isArray(u)?u:[u];r[l+i]=_U.apply(void 0,c)}return r}(t,a)},this.effect=function(){return t.config.domTarget&&t.bind(),t.clean},this.clean=function(){var e=oF(t.config),n=t.config.eventOptions;e&&uF(e,aF(t.domListeners),n),Object.values(t.timeouts).forEach(clearTimeout),function(e){var t=e.config,n=t.window,r=t.eventOptions,i=e.windowListeners;if(!n)return;for(var a in i){uF(n,i[a],r)}e.windowListeners={}}(t)},this.classes=e,this.state=YU(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function rF(e,t){"pointerId"in t?e.pointerIds.add(t.pointerId):e.touchIds=new Set(AU(t))}function iF(e,t){"pointerId"in t?e.pointerIds.delete(t.pointerId):AU(t).forEach((function(t){return e.touchIds.delete(t)}))}function aF(e){return void 0===e&&(e=[]),e.splice(0,e.length)}function oF(e){var t=e.domTarget;return t&&"current"in t?t.current:t}function sF(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function lF(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});for(var r,i=wU(t);!(r=i()).done;){var a=r.value,o=a[0],s=a[1];e.addEventListener(o,s,n)}}function uF(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});for(var r,i=wU(t);!(r=i()).done;){var a=r.value,o=a[0],s=a[1];e.removeEventListener(o,s,n)}}function cF(e,n,r){void 0===r&&(r={});var i=function(e){var t=new Set;e.drag&&t.add(KU.get("drag"));e.wheel&&t.add(KU.get("wheel"));e.scroll&&t.add(KU.get("scroll"));e.move&&t.add(KU.get("move"));e.pinch&&t.add(KU.get("pinch"));e.hover&&t.add(KU.get("hover"));return t}(e),a=t.useMemo((function(){return new nF(i)}),[]);return a.config=n,a.handlers=e,a.nativeRefs=r,t.useEffect(a.effect,[]),a.config.domTarget?dF:a.bind}function dF(){0}var fF=function(e){function t(){return e.apply(this,arguments)||this}gU(t,e);var n=t.prototype;return n.getInternalMovement=function(e,t){return lU(e,t.initial)},n.checkIntentionality=function(e,t){if(!1===e[0]&&!1===e[1])return{_intentional:e,axis:this.state.axis};var n=t.map(Math.abs),r=n[0],i=n[1],a=this.state.axis||(r>i?"x":r<i?"y":void 0);return this.config.axis||this.config.lockDirection?a?this.config.axis&&a!==this.config.axis?{_intentional:e,_blocked:!0,axis:a}:(e["x"===a?1:0]=!1,{_intentional:e,_blocked:!1,axis:a}):{_intentional:[!1,!1],_blocked:!1,axis:a}:{_intentional:e,_blocked:!1,axis:a}},n.getKinematics=function(e,t){var n=this.getMovement(e);if(!n._blocked){var r=t.timeStamp-this.state.timeStamp;Object.assign(n,dU(n.movement,n.delta,r))}return n},n.mapStateValues=function(e){return{xy:e.values,vxvy:e.velocities}},t}(QU);function hF(e){"persist"in e&&"function"===typeof e.persist&&e.persist()}var pF=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).ingKey="dragging",t.stateKey="drag",t.setPointerCapture=function(e){if(!t.config.useTouch&&!document.pointerLockElement){var n=e.target,r=e.pointerId;n&&"setPointerCapture"in n&&n.setPointerCapture(r),t.updateGestureState({_dragTarget:n,_dragPointerId:r})}},t.releasePointerCapture=function(){if(!t.config.useTouch&&!document.pointerLockElement){var e=t.state,n=e._dragTarget,r=e._dragPointerId;if(r&&n&&"releasePointerCapture"in n&&(!("hasPointerCapture"in n)||n.hasPointerCapture(r)))try{n.releasePointerCapture(r)}catch(Ine){}}},t.preventScroll=function(e){t.state._dragPreventScroll&&e.cancelable&&e.preventDefault()},t.getEventId=function(e){return t.config.useTouch?e.changedTouches[0].identifier:e.pointerId},t.isValidEvent=function(e){return t.state._pointerId===t.getEventId(e)},t.shouldPreventWindowScrollY=t.config.experimental_preventWindowScrollY&&t.controller.supportsTouchEvents,t.setUpWindowScrollDetection=function(e){hF(e),function(e,t,n,r){var i=e.config,a=e.windowListeners;void 0===n&&(n=[]),void 0===r&&(r=i.eventOptions),i.window&&(uF(i.window,a[t],r),lF(i.window,a[t]=n,r))}(t.controller,t.stateKey,[["touchmove",t.preventScroll],["touchend",t.clean.bind(bU(t))],["touchcancel",t.clean.bind(bU(t))]],{passive:!1}),t.setTimeout(t.startDrag.bind(bU(t)),250,e)},t.setUpDelayedDragTrigger=function(e){t.state._dragDelayed=!0,hF(e),t.setTimeout(t.startDrag.bind(bU(t)),t.config.delay,e)},t.setStartState=function(e){var n=OU(e,t.transform);t.updateSharedState(PU(e)),t.updateGestureState(mU({},tF(bU(t),n,e),eF(bU(t),e,!0),{_pointerId:t.getEventId(e)})),t.updateGestureState(t.getMovement(n))},t.onDragStart=function(e){rF(t.controller,e),t.enabled&&!t.state._active&&(t.setStartState(e),t.setPointerCapture(e),t.shouldPreventWindowScrollY?t.setUpWindowScrollDetection(e):t.config.delay>0?t.setUpDelayedDragTrigger(e):t.startDrag(e,!0))},t.onDragChange=function(e){if(!t.state.canceled&&t.state._active&&t.isValidEvent(e)&&(t.state._lastEventType!==e.type||e.timeStamp!==t.state.timeStamp)){var n;if(document.pointerLockElement){var r=e.movementX,i=e.movementY;n=sU(t.transform([r,i]),t.state.values)}else n=OU(e,t.transform);var a=t.getKinematics(n,e);if(!t.state._dragStarted){if(t.state._dragDelayed)return void t.startDrag(e);if(!t.shouldPreventWindowScrollY)return;if(t.state._dragPreventScroll||!a.axis)return;if("x"!==a.axis)return void(t.state._active=!1);t.startDrag(e)}var o=PU(e);t.updateSharedState(o);var s=eF(bU(t),e),l=uU(a._movement),u=t.state._dragIsTap;u&&l>=3&&(u=!1),t.updateGestureState(mU({},s,a,{_dragIsTap:u})),t.fireGestureHandler()}},t.onDragEnd=function(e){if(iF(t.controller,e),t.isValidEvent(e)&&(t.clean(),t.state._active)){t.state._active=!1;var n=t.state._dragIsTap,r=t.state.velocities,i=r[0],a=r[1],o=t.state.movement,s=o[0],l=o[1],u=t.state._intentional,c=u[0],d=u[1],f=t.config.swipeVelocity,h=f[0],p=f[1],v=t.config.swipeDistance,m=v[0],g=v[1],y=t.config.swipeDuration,b=mU({},eF(bU(t),e),t.getMovement(t.state.values)),x=[0,0];b.elapsedTime<y&&(!1!==c&&Math.abs(i)>h&&Math.abs(s)>m&&(x[0]=fU(i)),!1!==d&&Math.abs(a)>p&&Math.abs(l)>g&&(x[1]=fU(a))),t.updateSharedState({buttons:0}),t.updateGestureState(mU({},b,{tap:n,swipe:x})),t.fireGestureHandler(t.config.filterTaps&&!0===n)}},t.clean=function(){e.prototype.clean.call(bU(t)),t.state._dragStarted=!1,t.releasePointerCapture(),function(e,t,n){var r=e.config,i=e.windowListeners;void 0===n&&(n=r.eventOptions),r.window&&(uF(r.window,i[t],n),delete i[t])}(t.controller,t.stateKey)},t.onCancel=function(){t.state.canceled||(t.updateGestureState({canceled:!0,_active:!1}),t.updateSharedState({buttons:0}),setTimeout((function(){return t.fireGestureHandler()}),0))},t.onClick=function(e){t.state._dragIsTap||e.stopPropagation()},t}gU(t,e);var n=t.prototype;return n.startDrag=function(e,t){void 0===t&&(t=!1),this.state._active&&!this.state._dragStarted&&(t||this.setStartState(e),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())},n.addBindings=function(e){(this.config.useTouch?(sF(e,"onTouchStart",this.onDragStart),sF(e,"onTouchMove",this.onDragChange),sF(e,"onTouchEnd",this.onDragEnd),sF(e,"onTouchCancel",this.onDragEnd)):(sF(e,"onPointerDown",this.onDragStart),sF(e,"onPointerMove",this.onDragChange),sF(e,"onPointerUp",this.onDragEnd),sF(e,"onPointerCancel",this.onDragEnd)),this.config.filterTaps)&&sF(e,this.controller.config.eventOptions.capture?"onClick":"onClickCapture",this.onClick)},t}(fF);var vF=function(e){function t(){return e.apply(this,arguments)||this}gU(t,e);var n=t.prototype;return n.getInternalMovement=function(e,t){var n=t.values[1],r=e[0],i=e[1],a=void 0===i?n:i,o=a-n,s=t.turns;return Math.abs(o)>270&&(s+=fU(o)),lU([r,a-360*s],t.initial)},n.getKinematics=function(e,t){var n=this.getMovement(e),r=(e[1]-n._movement[1]-this.state.initial[1])/360,i=t.timeStamp-this.state.timeStamp;return mU({turns:r},n,yU(dU(n.movement,n.delta,i),["distance","velocity"]))},n.mapStateValues=function(e){return{da:e.values,vdva:e.velocities}},t}(QU),mF=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).ingKey="pinching",t.stateKey="pinch",t.onPinchStart=function(e){rF(t.controller,e);var n=t.controller.touchIds;if(t.enabled&&(!t.state._active||!t.state._pointerIds.every((function(e){return n.has(e)})))&&!(n.size<2)){var r=Array.from(n).slice(0,2),i=LU(e,r,t.transform),a=i.values,o=i.origin;t.updateSharedState(PU(e)),t.updateGestureState(mU({},tF(bU(t),a,e),eF(bU(t),e,!0),{_pointerIds:r,cancel:t.onCancel,origin:o})),t.updateGestureState(t.getMovement(a)),t.fireGestureHandler()}},t.onPinchChange=function(e){var n=t.state,r=n.canceled,i=n._active;if(!r&&i&&e.timeStamp!==t.state.timeStamp){var a=PU(e);t.updateSharedState(a);try{var o=LU(e,t.state._pointerIds,t.transform),s=o.values,l=o.origin,u=t.getKinematics(s,e);t.updateGestureState(mU({},eF(bU(t),e),u,{origin:l})),t.fireGestureHandler()}catch(Ine){t.onPinchEnd(e)}}},t.onPinchEnd=function(e){iF(t.controller,e);var n=AU(e);t.state._pointerIds.every((function(e){return!n.includes(e)}))||(t.clean(),t.state._active&&(t.updateGestureState(mU({},eF(bU(t),e),t.getMovement(t.state.values),{_active:!1})),t.fireGestureHandler()))},t.onCancel=function(){t.state.canceled||(t.updateGestureState({_active:!1,canceled:!0}),setTimeout((function(){return t.fireGestureHandler()}),0))},t.onGestureStart=function(e){if(t.enabled){e.preventDefault();var n=DU(e,t.transform);t.updateSharedState(PU(e)),t.updateGestureState(mU({},tF(bU(t),n,e),eF(bU(t),e,!0),{origin:[e.clientX,e.clientY],cancel:t.onCancel})),t.updateGestureState(t.getMovement(n)),t.fireGestureHandler()}},t.onGestureChange=function(e){var n=t.state,r=n.canceled,i=n._active;if(!r&&i){e.preventDefault();var a=PU(e);t.updateSharedState(a);var o=DU(e,t.transform);o[0]=260*(o[0]-t.state.event.scale)+t.state.values[0];var s=t.getKinematics(o,e);t.updateGestureState(mU({},eF(bU(t),e),s,{origin:[e.clientX,e.clientY]})),t.fireGestureHandler()}},t.onGestureEnd=function(e){t.clean(),t.state._active&&(t.updateGestureState(mU({},eF(bU(t),e),t.getMovement(t.state.values),{_active:!1,origin:[e.clientX,e.clientY]})),t.fireGestureHandler())},t.wheelShouldRun=function(e){return t.enabled&&e.ctrlKey},t.getWheelValuesFromEvent=function(e){var n=NU(e,t.transform)[1],r=t.state.values,i=r[0],a=r[1],o=7*-n,s=void 0!==a?a:0;return{values:[i+o,s],origin:[e.clientX,e.clientY],delta:[o,s]}},t.onWheel=function(e){t.wheelShouldRun(e)&&(t.setTimeout(t.onWheelEnd),t.state._active?t.onWheelChange(e):t.onWheelStart(e))},t.onWheelStart=function(e){var n=t.getWheelValuesFromEvent(e),r=n.values,i=n.delta,a=n.origin;e.cancelable&&e.preventDefault(),t.updateSharedState(PU(e)),t.updateGestureState(mU({},tF(bU(t),r,e,t.state.values),eF(bU(t),e,!0),{offset:r,delta:i,origin:a})),t.updateGestureState(t.getMovement(r)),t.fireGestureHandler()},t.onWheelChange=function(e){e.cancelable&&e.preventDefault(),t.updateSharedState(PU(e));var n=t.getWheelValuesFromEvent(e),r=n.values,i=n.origin,a=n.delta;t.updateGestureState(mU({},eF(bU(t),e),t.getKinematics(r,e),{origin:i,delta:a})),t.fireGestureHandler()},t.onWheelEnd=function(){t.clean(),t.state._active&&(t.state._active=!1,t.updateGestureState(t.getMovement(t.state.values)),t.fireGestureHandler())},t}return gU(t,e),t.prototype.addBindings=function(e){this.controller.config.domTarget&&!this.controller.supportsTouchEvents&&this.controller.supportsGestureEvents?(sF(e,"onGestureStart",this.onGestureStart),sF(e,"onGestureChange",this.onGestureChange),sF(e,"onGestureEnd",this.onGestureEnd)):(sF(e,"onTouchStart",this.onPinchStart),sF(e,"onTouchMove",this.onPinchChange),sF(e,"onTouchEnd",this.onPinchEnd),sF(e,"onTouchCancel",this.onPinchEnd),sF(e,"onWheel",this.onWheel))},t}(vF);var gF=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).ingKey="wheeling",t.stateKey="wheel",t.debounced=!0,t.handleEvent=function(e){if((!e.ctrlKey||!("pinch"in t.controller.handlers))&&t.enabled){t.setTimeout(t.onEnd),t.updateSharedState(PU(e));var n=sU(NU(e,t.transform),t.state.values);if(t.state._active)t.updateGestureState(mU({},eF(bU(t),e),t.getKinematics(n,e)));else{t.updateGestureState(mU({},tF(bU(t),n,e,t.state.values),eF(bU(t),e,!0)));var r=t.getMovement(n),i=cU(r.delta);t.updateGestureState(r),t.updateGestureState(i)}t.fireGestureHandler()}},t.onEnd=function(){if(t.clean(),t.state._active){var e=t.getMovement(t.state.values);t.updateGestureState(e),t.updateGestureState({_active:!1,velocities:[0,0],velocity:0}),t.fireGestureHandler()}},t}return gU(t,e),t.prototype.addBindings=function(e){sF(e,"onWheel",this.handleEvent)},t}(fF);var yF=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).ingKey="moving",t.stateKey="move",t.debounced=!0,t.onMove=function(e){t.enabled&&(t.setTimeout(t.onMoveEnd),t.state._active?t.onMoveChange(e):t.onMoveStart(e))},t.onMoveStart=function(e){t.updateSharedState(PU(e));var n=OU(e,t.transform);t.updateGestureState(mU({},tF(bU(t),n,e),eF(bU(t),e,!0))),t.updateGestureState(t.getMovement(n)),t.fireGestureHandler()},t.onMoveChange=function(e){t.updateSharedState(PU(e));var n=OU(e,t.transform);t.updateGestureState(mU({},eF(bU(t),e),t.getKinematics(n,e))),t.fireGestureHandler()},t.onMoveEnd=function(){if(t.clean(),t.state._active){var e=t.state.values;t.updateGestureState(t.getMovement(e)),t.updateGestureState({velocities:[0,0],velocity:0,_active:!1}),t.fireGestureHandler()}},t.hoverTransform=function(){return t.controller.config.hover.transform||t.controller.config.transform},t.onPointerEnter=function(e){if(t.controller.state.shared.hovering=!0,t.controller.config.enabled){if(t.controller.config.hover.enabled){var n=OU(e,t.hoverTransform()),r=mU({},t.controller.state.shared,t.state,eF(bU(t),e,!0),{args:t.args,values:n,active:!0,hovering:!0});t.controller.handlers.hover(mU({},r,t.mapStateValues(r)))}"move"in t.controller.handlers&&t.onMoveStart(e)}},t.onPointerLeave=function(e){if(t.controller.state.shared.hovering=!1,"move"in t.controller.handlers&&t.onMoveEnd(),t.controller.config.hover.enabled){var n=OU(e,t.hoverTransform()),r=mU({},t.controller.state.shared,t.state,eF(bU(t),e),{args:t.args,values:n,active:!1});t.controller.handlers.hover(mU({},r,t.mapStateValues(r)))}},t}return gU(t,e),t.prototype.addBindings=function(e){"move"in this.controller.handlers&&sF(e,"onPointerMove",this.onMove),"hover"in this.controller.handlers&&(sF(e,"onPointerEnter",this.onPointerEnter),sF(e,"onPointerLeave",this.onPointerLeave))},t}(fF);var bF=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).ingKey="scrolling",t.stateKey="scroll",t.debounced=!0,t.handleEvent=function(e){if(t.enabled){t.clearTimeout(),t.setTimeout(t.onEnd);var n=function(e,t){void 0===t&&(t=IU);var n=e.currentTarget,r=n.scrollX,i=n.scrollY,a=n.scrollLeft,o=n.scrollTop;return t([r||a||0,i||o||0])}(e,t.transform);if(t.updateSharedState(PU(e)),t.state._active)t.updateGestureState(mU({},eF(bU(t),e),t.getKinematics(n,e)));else{t.updateGestureState(mU({},tF(bU(t),n,e,t.state.values),eF(bU(t),e,!0)));var r=t.getMovement(n),i=cU(r.delta);t.updateGestureState(r),t.updateGestureState(i)}t.fireGestureHandler()}},t.onEnd=function(){t.clean(),t.state._active&&(t.updateGestureState(mU({},t.getMovement(t.state.values),{_active:!1,velocities:[0,0],velocity:0})),t.fireGestureHandler())},t}return gU(t,e),t.prototype.addBindings=function(e){sF(e,"onScroll",this.handleEvent)},t}(fF);var xF=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function wF(e,t){void 0===t&&(t={});var n=function(e){var t={},n={},r=new Set;for(var i in e)xF.test(i)?(r.add(RegExp.lastMatch),n[i]=e[i]):t[i]=e[i];return[n,t,r]}(e),r=n[0],i=n[1],a=n[2];KU.set("drag",pF),KU.set("hover",yF),KU.set("move",yF),KU.set("pinch",mF),KU.set("scroll",bF),KU.set("wheel",gF);var o=function(e,t){void 0===e&&(e={}),void 0===t&&(t=new Set);var n=e,r=n.drag,i=n.wheel,a=n.move,o=n.scroll,s=n.pinch,l=n.hover,u=n.eventOptions,c=n.window,d=n.transform,f=GU({domTarget:n.domTarget,eventOptions:u,transform:d,window:c,enabled:n.enabled});return t.has("onDrag")&&(f.drag=qU(r)),t.has("onWheel")&&(f.wheel=VU(i)),t.has("onScroll")&&(f.scroll=VU(o)),t.has("onMove")&&(f.move=VU(a)),t.has("onPinch")&&(f.pinch=WU(s)),t.has("onHover")&&(f.hover=mU({enabled:!0},l)),f}(t,a),s={};return a.has("onDrag")&&(s.drag=SF(r,"onDrag")),a.has("onWheel")&&(s.wheel=SF(r,"onWheel")),a.has("onScroll")&&(s.scroll=SF(r,"onScroll")),a.has("onMove")&&(s.move=SF(r,"onMove")),a.has("onPinch")&&(s.pinch=SF(r,"onPinch")),a.has("onHover")&&(s.hover=r.onHover),cF(s,o,i)}function SF(e,t){var n=t+"Start",r=t+"End";return function(i){var a=void 0;return i.first&&n in e&&e[n](i),t in e&&(a=e[t](i)),i.last&&r in e&&e[r](i),a}}n(3252);var _F=n(6095);var kF=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}},EF=["follow","lockX","lockY","lockZ"],CF=t.forwardRef((function(e,n){var r=e.follow,i=void 0===r||r,a=e.lockX,o=void 0!==a&&a,s=e.lockY,l=void 0!==s&&s,c=e.lockZ,d=void 0!==c&&c,f=Zv(e,EF),h=t.useRef();return RI((function(e){var t=e.camera;if(i&&h.current){var n=h.current.rotation.clone();t.getWorldQuaternion(h.current.quaternion),o&&(h.current.rotation.x=n.x),l&&(h.current.rotation.y=n.y),d&&(h.current.rotation.z=n.z)}})),t.createElement("group",u({ref:kF([h,n])},f))}));function MF(){var e=Object.create(null);function t(r,i){var a=r.id,o=r.name,s=r.dependencies;void 0===s&&(s=[]);var l=r.init;void 0===l&&(l=function(){});var u=r.getTransferables;if(void 0===u&&(u=null),!e[a])try{s=s.map((function(n){return n&&n.isWorkerModule&&(t(n,(function(e){if(e instanceof Error)throw e})),n=e[n.id].value),n})),l=n("<"+o+">.init",l),u&&(u=n("<"+o+">.getTransferables",u));var c=null;"function"===typeof l?c=l.apply(void 0,s):console.error("worker module init function failed to rehydrate"),e[a]={id:a,value:c,getTransferables:u},i(c)}catch(d){d&&d.noLog||console.error(d),i(d)}}function n(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var r=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(r)}catch(i){console.error(i)}return URL.revokeObjectURL(r),delete self.troikaDefine,n}self.addEventListener("message",(function(n){var r=n.data,i=r.messageId,a=r.action,o=r.data;try{"registerModule"===a&&t(o,(function(e){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:{isCallable:"function"===typeof e}})})),"callModule"===a&&function(t,n){var r,i=t.id,a=t.args;e[i]&&"function"===typeof e[i].value||n(new Error("Worker module "+i+": not found or its 'init' did not return a function"));try{var o=(r=e[i]).value.apply(r,a);o&&"function"===typeof o.then?o.then(s,(function(e){return n(e instanceof Error?e:new Error(""+e))})):s(o)}catch(l){n(l)}function s(t){try{var r=e[i].getTransferables&&e[i].getTransferables(t);r&&Array.isArray(r)&&r.length||(r=void 0),n(t,r)}catch(l){console.error(l),n(l)}}}(o,(function(e,t){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:e},t||void 0)}))}catch(s){postMessage({messageId:i,success:!1,error:s.stack})}}))}var TF=function(){var e=!1;if("undefined"!==typeof window&&"undefined"!==typeof window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return TF=function(){return e},e},RF=0,AF=0,PF=!1,IF=Object.create(null),OF=Object.create(null),LF=Object.create(null);function NF(e){if((!e||"function"!==typeof e.init)&&!PF)throw new Error("requires `options.init` function");var t=e.dependencies,n=e.init,r=e.getTransferables,i=e.workerId;if(!TF())return function(e){var t=function e(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return e._getInitResult().then((function(e){if("function"===typeof e)return e.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")}))};return t._getInitResult=function(){var n=e.dependencies,r=e.init;n=Array.isArray(n)?n.map((function(e){return e&&e._getInitResult?e._getInitResult():e})):[];var i=Promise.all(n).then((function(e){return r.apply(null,e)}));return t._getInitResult=function(){return i},i},t}(e);null==i&&(i="#default");var a="workerModule"+ ++RF,o=e.name||a,s=null;function l(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!s){s=UF(i,"registerModule",l.workerModuleData);(OF[i]||(OF[i]=new Set)).add((function e(){s=null,OF[i].delete(e)}))}return s.then((function(t){if(t.isCallable)return UF(i,"callModule",{id:a,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")}))}return t=t&&t.map((function(e){return"function"!==typeof e||e.workerModuleData||(PF=!0,e=NF({workerId:i,name:"<"+o+"> function dependency: "+e.name,init:"function(){return (\n"+DF(e)+"\n)}"}),PF=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e})),l.workerModuleData={isWorkerModule:!0,id:a,name:o,dependencies:t,init:DF(n),getTransferables:r&&DF(r)},l}function DF(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function UF(e,t,n){return new Promise((function(r,i){var a=++AF;LF[a]=function(e){e.success?r(e.result):i(new Error("Error in worker "+t+" call: "+e.error))},function(e){var t=IF[e];if(!t){var n=DF(MF);(t=IF[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,r=LF[n];if(!r)throw new Error("WorkerModule response with empty or unknown messageId");delete LF[n],r(t)}}return t}(e).postMessage({messageId:a,action:t,data:n})}))}function FF(){var e=function(e){function t(e,t,n,r,i,a,o,s){var l=1-o;s.x=l*l*e+2*l*o*n+o*o*i,s.y=l*l*t+2*l*o*r+o*o*a}function n(e,t,n,r,i,a,o,s,l,u){var c=1-l;u.x=c*c*c*e+3*c*c*l*n+3*c*l*l*i+l*l*l*o,u.y=c*c*c*t+3*c*c*l*r+3*c*l*l*a+l*l*l*s}function r(e,t){for(var n,r,i,a,o,s=/([MLQCZ])([^MLQCZ]*)/g;n=s.exec(e);){var l=n[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map((function(e){return parseFloat(e)}));switch(n[1]){case"M":a=r=l[0],o=i=l[1];break;case"L":l[0]===a&&l[1]===o||t("L",a,o,a=l[0],o=l[1]);break;case"Q":t("Q",a,o,a=l[2],o=l[3],l[0],l[1]);break;case"C":t("C",a,o,a=l[4],o=l[5],l[0],l[1],l[2],l[3]);break;case"Z":a===r&&o===i||t("L",a,o,r,i)}}}function i(e,i,a){void 0===a&&(a=16);var o={x:0,y:0};r(e,(function(e,r,s,l,u,c,d,f,h){switch(e){case"L":i(r,s,l,u);break;case"Q":for(var p=r,v=s,m=1;m<a;m++)t(r,s,c,d,l,u,m/(a-1),o),i(p,v,o.x,o.y),p=o.x,v=o.y;break;case"C":for(var g=r,y=s,b=1;b<a;b++)n(r,s,c,d,f,h,l,u,b/(a-1),o),i(g,y,o.x,o.y),g=o.x,y=o.y}}))}var a="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",s=new WeakMap,l={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(e,t){var n=e.getContext?e.getContext("webgl",l):e,r=s.get(n);if(!r){var i=function(e){var t=c[e];if(!t&&!(t=c[e]=n.getExtension(e)))throw new Error(e+" not supported");return t},a=function(e,t){var r=n.createShader(t);return n.shaderSource(r,e),n.compileShader(r),r},o=function(){c={},d={},f={},h=-1,p.length=0},u="undefined"!==typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext,c={},d={},f={},h=-1,p=[];n.canvas.addEventListener("webglcontextlost",(function(e){o(),e.preventDefault()}),!1),s.set(n,r={gl:n,isWebGL2:u,getExtension:i,withProgram:function(e,t,r,o){if(!d[e]){var s={},l={},c=n.createProgram();n.attachShader(c,a(t,n.VERTEX_SHADER)),n.attachShader(c,a(r,n.FRAGMENT_SHADER)),n.linkProgram(c),d[e]={program:c,transaction:function(e){n.useProgram(c),e({setUniform:function(e,t){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];var a=l[t]||(l[t]=n.getUniformLocation(c,t));n["uniform"+e].apply(n,[a].concat(r))},setAttribute:function(e,t,r,a,o){var l=s[e];l||(l=s[e]={buf:n.createBuffer(),loc:n.getAttribLocation(c,e),data:null}),n.bindBuffer(n.ARRAY_BUFFER,l.buf),n.vertexAttribPointer(l.loc,t,n.FLOAT,!1,0,0),n.enableVertexAttribArray(l.loc),u?n.vertexAttribDivisor(l.loc,a):i("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(l.loc,a),o!==l.data&&(n.bufferData(n.ARRAY_BUFFER,o,r),l.data=o)}})}}}d[e].transaction(o)},withTexture:function(e,t){h++;try{n.activeTexture(n.TEXTURE0+h);var r=f[e];r||(r=f[e]=n.createTexture(),n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST)),n.bindTexture(n.TEXTURE_2D,r),t(r,h)}finally{h--}},withTextureFramebuffer:function(e,t,r){var i=n.createFramebuffer();p.push(i),n.bindFramebuffer(n.FRAMEBUFFER,i),n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,e),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);try{r(i)}finally{n.deleteFramebuffer(i),n.bindFramebuffer(n.FRAMEBUFFER,p[--p.length-1]||null)}},handleContextLoss:o})}t(r)}function c(e,t,n,r,i,s,l,c){void 0===l&&(l=15),void 0===c&&(c=null),u(e,(function(e){var u=e.gl,d=e.withProgram;(0,e.withTexture)("copy",(function(e,f){u.texImage2D(u.TEXTURE_2D,0,u.RGBA,i,s,0,u.RGBA,u.UNSIGNED_BYTE,t),d("copy",a,o,(function(e){var t=e.setUniform;(0,e.setAttribute)("aUV",2,u.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t("1i","image",f),u.bindFramebuffer(u.FRAMEBUFFER,c||null),u.disable(u.BLEND),u.colorMask(8&l,4&l,2&l,1&l),u.viewport(n,r,i,s),u.scissor(n,r,i,s),u.drawArrays(u.TRIANGLES,0,3)}))}))}))}var d=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:c,resizeWebGLCanvasWithoutClearing:function(e,t,n){var r=e.width,i=e.height;u(e,(function(a){var o=a.gl,s=new Uint8Array(r*i*4);o.readPixels(0,0,r,i,o.RGBA,o.UNSIGNED_BYTE,s),e.width=t,e.height=n,c(o,s,0,0,r,i)}))}});function f(e,t,n,r,a,o){void 0===o&&(o=1);var s=new Uint8Array(e*t),l=r[2]-r[0],u=r[3]-r[1],c=[];i(n,(function(e,t,n,r){c.push({x1:e,y1:t,x2:n,y2:r,minX:Math.min(e,n),minY:Math.min(t,r),maxX:Math.max(e,n),maxY:Math.max(t,r)})})),c.sort((function(e,t){return e.maxX-t.maxX}));for(var d=0;d<e;d++)for(var f=0;f<t;f++){var h=m(r[0]+l*(d+.5)/e,r[1]+u*(f+.5)/t),p=Math.pow(1-Math.abs(h)/a,o)/2;h<0&&(p=1-p),p=Math.max(0,Math.min(255,Math.round(255*p))),s[f*e+d]=p}return s;function m(e,t){for(var n=1/0,r=1/0,i=c.length;i--;){var a=c[i];if(a.maxX+r<=e)break;if(e+r>a.minX&&t-r<a.maxY&&t+r>a.minY){var o=v(e,t,a.x1,a.y1,a.x2,a.y2);o<n&&(n=o,r=Math.sqrt(n))}}return function(e,t){for(var n=0,r=c.length;r--;){var i=c[r];if(i.maxX<=e)break;i.y1>t!==i.y2>t&&e<(i.x2-i.x1)*(t-i.y1)/(i.y2-i.y1)+i.x1&&(n+=i.y1<i.y2?1:-1)}return 0!==n}(e,t)&&(r=-r),r}}function h(e,t,n,r,i,a,o,s,l,u){void 0===a&&(a=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0),p(e,t,n,r,i,a,o,null,s,l,u)}function p(e,t,n,r,i,a,o,s,l,u,d){void 0===a&&(a=1),void 0===l&&(l=0),void 0===u&&(u=0),void 0===d&&(d=0);for(var h=f(e,t,n,r,i,a),p=new Uint8Array(4*h.length),v=0;v<h.length;v++)p[4*v+d]=h[v];c(o,p,l,u,e,t,1<<3-d,s)}function v(e,t,n,r,i,a){var o=i-n,s=a-r,l=o*o+s*s,u=l?Math.max(0,Math.min(1,((e-n)*o+(t-r)*s)/l)):0,c=e-(n+u*o),d=t-(r+u*s);return c*c+d*d}var m=Object.freeze({__proto__:null,generate:f,generateIntoCanvas:h,generateIntoFramebuffer:p}),g="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",y="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",b="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",x=new Float32Array([0,0,2,0,0,2]),w=null,S=!1,_={},k=new WeakMap;function E(e){if(!S&&!R(e))throw new Error("WebGL generation not supported")}function C(e,t,n,r,i,a,o){if(void 0===a&&(a=1),void 0===o&&(o=null),!o&&!(o=w)){var s="function"===typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!==typeof document?document.createElement("canvas"):null;if(!s)throw new Error("OffscreenCanvas or DOM canvas not supported");o=w=s.getContext("webgl",{depth:!1})}E(o);var l=new Uint8Array(e*t*4);u(o,(function(o){var s=o.gl,u=o.withTexture,c=o.withTextureFramebuffer;u("readable",(function(o,u){s.texImage2D(s.TEXTURE_2D,0,s.RGBA,e,t,0,s.RGBA,s.UNSIGNED_BYTE,null),c(o,u,(function(o){T(e,t,n,r,i,a,s,o,0,0,0),s.readPixels(0,0,e,t,s.RGBA,s.UNSIGNED_BYTE,l)}))}))}));for(var c=new Uint8Array(e*t),d=0,f=0;d<l.length;d+=4)c[f++]=l[d];return c}function M(e,t,n,r,i,a,o,s,l,u){void 0===a&&(a=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0),T(e,t,n,r,i,a,o,null,s,l,u)}function T(e,t,n,r,o,s,l,c,d,f,h){void 0===s&&(s=1),void 0===d&&(d=0),void 0===f&&(f=0),void 0===h&&(h=0),E(l);var p=[];i(n,(function(e,t,n,r){p.push(e,t,n,r)})),p=new Float32Array(p),u(l,(function(n){var i=n.gl,l=n.isWebGL2,u=n.getExtension,v=n.withProgram,m=n.withTexture,w=n.withTextureFramebuffer,S=n.handleContextLoss;if(m("rawDistances",(function(n,m){e===n._lastWidth&&t===n._lastHeight||i.texImage2D(i.TEXTURE_2D,0,i.RGBA,n._lastWidth=e,n._lastHeight=t,0,i.RGBA,i.UNSIGNED_BYTE,null),v("main",g,y,(function(a){var c=a.setAttribute,d=a.setUniform,f=!l&&u("ANGLE_instanced_arrays"),h=!l&&u("EXT_blend_minmax");c("aUV",2,i.STATIC_DRAW,0,x),c("aLineSegment",4,i.DYNAMIC_DRAW,1,p),d.apply(void 0,["4f","uGlyphBounds"].concat(r)),d("1f","uMaxDistance",o),d("1f","uExponent",s),w(n,m,(function(n){i.enable(i.BLEND),i.colorMask(!0,!0,!0,!0),i.viewport(0,0,e,t),i.scissor(0,0,e,t),i.blendFunc(i.ONE,i.ONE),i.blendEquationSeparate(i.FUNC_ADD,l?i.MAX:h.MAX_EXT),i.clear(i.COLOR_BUFFER_BIT),l?i.drawArraysInstanced(i.TRIANGLES,0,3,p.length/4):f.drawArraysInstancedANGLE(i.TRIANGLES,0,3,p.length/4)}))})),v("post",a,b,(function(n){n.setAttribute("aUV",2,i.STATIC_DRAW,0,x),n.setUniform("1i","tex",m),i.bindFramebuffer(i.FRAMEBUFFER,c),i.disable(i.BLEND),i.colorMask(0===h,1===h,2===h,3===h),i.viewport(d,f,e,t),i.scissor(d,f,e,t),i.drawArrays(i.TRIANGLES,0,3)}))})),i.isContextLost())throw S(),new Error("webgl context lost")}))}function R(e){var t=e&&e!==w?e.canvas||e:_,n=k.get(t);if(void 0===n){S=!0;var r=null;try{var i=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],a=C(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,e);(n=a&&i.length===a.length&&a.every((function(e,t){return e===i[t]})))||(r="bad trial run results",console.info(i,a))}catch(o){n=!1,r=o.message}r&&console.warn("WebGL SDF generation not supported:",r),S=!1,k.set(t,n)}return n}var A=Object.freeze({__proto__:null,generate:C,generateIntoCanvas:M,generateIntoFramebuffer:T,isSupported:R});return e.forEachPathCommand=r,e.generate=function(e,t,n,r,i,a){void 0===i&&(i=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===a&&(a=1);try{return C.apply(A,arguments)}catch(Ine){return console.info("WebGL SDF generation failed, falling back to JS",Ine),f.apply(m,arguments)}},e.generateIntoCanvas=function(e,t,n,r,i,a,o,s,l,u){void 0===i&&(i=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===a&&(a=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0);try{return M.apply(A,arguments)}catch(Ine){return console.info("WebGL SDF generation failed, falling back to JS",Ine),h.apply(m,arguments)}},e.javascript=m,e.pathToLineSegments=i,e.webgl=A,e.webglUtils=d,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return e}var zF=function(){var e=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},n={},r={};n.L=1,r[1]="L",Object.keys(t).forEach((function(e,t){n[e]=1<<t+1,r[n[e]]=e})),Object.freeze(n);var i=n.LRI|n.RLI|n.FSI,a=n.L|n.R|n.AL,o=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,s=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,l=n.S|n.WS|n.B|i|n.PDI|s,u=null;function c(e){return function(){if(!u){u=new Map;var e=function(e){if(t.hasOwnProperty(e)){var r=0;t[e].split(",").forEach((function(t){var i=t.split("+"),a=i[0],o=i[1];a=parseInt(a,36),o=o?parseInt(o,36):0,u.set(r+=a,n[e]);for(var s=0;s<o;s++)u.set(++r,n[e])}))}};for(var r in t)e(r)}}(),u.get(e.codePointAt(0))||n.L}var d,f,h,p={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function v(e,t){var n,r=0,i=new Map,a=t&&new Map;return e.split(",").forEach((function e(o){if(-1!==o.indexOf("+"))for(var s=+o;s--;)e(n);else{n=o;var l=o.split(">"),u=l[0],c=l[1];u=String.fromCodePoint(r+=parseInt(u,36)),c=String.fromCodePoint(r+=parseInt(c,36)),i.set(u,c),t&&a.set(c,u)}})),{map:i,reverseMap:a}}function m(){if(!d){var e=v(p.pairs,!0),t=e.map,n=e.reverseMap;d=t,f=n,h=v(p.canonical,!1).map}}function g(e){return m(),d.get(e)||null}function y(e){return m(),f.get(e)||null}function b(e){return m(),h.get(e)||null}var x=n.L,w=n.R,S=n.EN,_=n.ES,k=n.ET,E=n.AN,C=n.CS,M=n.B,T=n.S,R=n.ON,A=n.BN,P=n.NSM,I=n.AL,O=n.LRO,L=n.RLO,N=n.LRE,D=n.RLE,U=n.PDF,F=n.LRI,z=n.RLI,B=n.FSI,j=n.PDI;var H,G="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1";function V(e){return function(){if(!H){var e=v(G,!0),t=e.map;e.reverseMap.forEach((function(e,n){t.set(n,e)})),H=t}}(),H.get(e)||null}function W(e,t,n,r){var i=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(i-1,null==r?i-1:+r);var a=[];return t.paragraphs.forEach((function(i){var o=Math.max(n,i.start),s=Math.min(r,i.end);if(o<s){for(var u=t.levels.slice(o,s+1),d=s;d>=o&&c(e[d])&l;d--)u[d]=i.level;for(var f=i.level,h=1/0,p=0;p<u.length;p++){var v=u[p];v>f&&(f=v),v<h&&(h=1|v)}for(var m=f;m>=h;m--)for(var g=0;g<u.length;g++)if(u[g]>=m){for(var y=g;g+1<u.length&&u[g+1]>=m;)g++;g>y&&a.push([y+o,g+o])}}})),a}function q(e,t,n,r){for(var i=W(e,t,n,r),a=[],o=0;o<e.length;o++)a[o]=o;return i.forEach((function(e){for(var t=e[0],n=e[1],r=a.slice(t,n+1),i=r.length;i--;)a[n-i]=r[i]})),a}return e.closingToOpeningBracket=y,e.getBidiCharType=c,e.getBidiCharTypeName=function(e){return r[c(e)]},e.getCanonicalBracket=b,e.getEmbeddingLevels=function(e,t){for(var n=new Uint32Array(e.length),r=0;r<e.length;r++)n[r]=c(e[r]);var u=new Map;function d(e,t){var r=n[e];n[e]=t,u.set(r,u.get(r)-1),r&o&&u.set(o,u.get(o)-1),u.set(t,(u.get(t)||0)+1),t&o&&u.set(o,(u.get(o)||0)+1)}for(var f=new Uint8Array(e.length),h=new Map,p=[],v=null,m=0;m<e.length;m++)v||p.push(v={start:m,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:jt(m,!1)}),n[m]&M&&(v.end=m,v=null);for(var H=D|N|L|O|i|j|U|M,G=function(e){return e+(1&e?1:2)},V=function(e){return e+(1&e?2:1)},W=0;W<p.length;W++){var q=[{_level:(v=p[W]).level,_override:0,_isolate:0}],X=void 0,Y=0,K=0,Z=0;u.clear();for(var Q=v.start;Q<=v.end;Q++){var $=n[Q];if(X=q[q.length-1],u.set($,(u.get($)||0)+1),$&o&&u.set(o,(u.get(o)||0)+1),$&H)if($&(D|N)){f[Q]=X._level;var J=($===D?V:G)(X._level);J<=125&&!Y&&!K?q.push({_level:J,_override:0,_isolate:0}):Y||K++}else if($&(L|O)){f[Q]=X._level;var ee=($===L?V:G)(X._level);ee<=125&&!Y&&!K?q.push({_level:ee,_override:$&L?w:x,_isolate:0}):Y||K++}else if($&i){$&B&&($=1===jt(Q+1,!0)?z:F),f[Q]=X._level,X._override&&d(Q,X._override);var te=($===z?V:G)(X._level);te<=125&&0===Y&&0===K?(Z++,q.push({_level:te,_override:0,_isolate:1,_isolInitIndex:Q})):Y++}else if($&j){if(Y>0)Y--;else if(Z>0){for(K=0;!q[q.length-1]._isolate;)q.pop();var ne=q[q.length-1]._isolInitIndex;null!=ne&&(h.set(ne,Q),h.set(Q,ne)),q.pop(),Z--}X=q[q.length-1],f[Q]=X._level,X._override&&d(Q,X._override)}else $&U?(0===Y&&(K>0?K--:!X._isolate&&q.length>1&&(q.pop(),X=q[q.length-1])),f[Q]=X._level):$&M&&(f[Q]=v.level);else f[Q]=X._level,X._override&&$!==A&&d(Q,X._override)}for(var re=[],ie=null,ae=v.start;ae<=v.end;ae++){var oe=n[ae];if(!(oe&s)){var se=f[ae],le=oe&i,ue=oe===j;ie&&se===ie._level?(ie._end=ae,ie._endsWithIsolInit=le):re.push(ie={_start:ae,_end:ae,_level:se,_startsWithPDI:ue,_endsWithIsolInit:le})}}for(var ce=[],de=0;de<re.length;de++){var fe=re[de];if(!fe._startsWithPDI||fe._startsWithPDI&&!h.has(fe._start)){for(var he=[ie=fe],pe=void 0;ie&&ie._endsWithIsolInit&&null!=(pe=h.get(ie._end));)for(var ve=de+1;ve<re.length;ve++)if(re[ve]._start===pe){he.push(ie=re[ve]);break}for(var me=[],ge=0;ge<he.length;ge++)for(var ye=he[ge],be=ye._start;be<=ye._end;be++)me.push(be);for(var xe=f[me[0]],we=v.level,Se=me[0]-1;Se>=0;Se--)if(!(n[Se]&s)){we=f[Se];break}var _e=me[me.length-1],ke=f[_e],Ee=v.level;if(!(n[_e]&i))for(var Ce=_e+1;Ce<=v.end;Ce++)if(!(n[Ce]&s)){Ee=f[Ce];break}ce.push({_seqIndices:me,_sosType:Math.max(we,xe)%2?w:x,_eosType:Math.max(Ee,ke)%2?w:x})}}for(var Me=0;Me<ce.length;Me++){var Te=ce[Me],Re=Te._seqIndices,Ae=Te._sosType,Pe=Te._eosType,Ie=1&f[Re[0]]?w:x;if(u.get(P))for(var Oe=0;Oe<Re.length;Oe++){var Le=Re[Oe];if(n[Le]&P){for(var Ne=Ae,De=Oe-1;De>=0;De--)if(!(n[Re[De]]&s)){Ne=n[Re[De]];break}d(Le,Ne&(i|j)?R:Ne)}}if(u.get(S))for(var Ue=0;Ue<Re.length;Ue++){var Fe=Re[Ue];if(n[Fe]&S)for(var ze=Ue-1;ze>=-1;ze--){var Be=-1===ze?Ae:n[Re[ze]];if(Be&a){Be===I&&d(Fe,E);break}}}if(u.get(I))for(var je=0;je<Re.length;je++){var He=Re[je];n[He]&I&&d(He,w)}if(u.get(_)||u.get(C))for(var Ge=1;Ge<Re.length-1;Ge++){var Ve=Re[Ge];if(n[Ve]&(_|C)){for(var We=0,qe=0,Xe=Ge-1;Xe>=0&&(We=n[Re[Xe]])&s;Xe--);for(var Ye=Ge+1;Ye<Re.length&&(qe=n[Re[Ye]])&s;Ye++);We===qe&&(n[Ve]===_?We===S:We&(S|E))&&d(Ve,We)}}if(u.get(S))for(var Ke=0;Ke<Re.length;Ke++){var Ze=Re[Ke];if(n[Ze]&S){for(var Qe=Ke-1;Qe>=0&&n[Re[Qe]]&(k|s);Qe--)d(Re[Qe],S);for(Ke++;Ke<Re.length&&n[Re[Ke]]&(k|s|S);Ke++)n[Re[Ke]]!==S&&d(Re[Ke],S)}}if(u.get(k)||u.get(_)||u.get(C))for(var $e=0;$e<Re.length;$e++){var Je=Re[$e];if(n[Je]&(k|_|C)){d(Je,R);for(var et=$e-1;et>=0&&n[Re[et]]&s;et--)d(Re[et],R);for(var tt=$e+1;tt<Re.length&&n[Re[tt]]&s;tt++)d(Re[tt],R)}}if(u.get(S))for(var nt=0,rt=Ae;nt<Re.length;nt++){var it=Re[nt],at=n[it];at&S?rt===x&&d(it,x):at&a&&(rt=at)}if(u.get(o)){for(var ot=w|S|E,st=ot|x,lt=[],ut=[],ct=0;ct<Re.length;ct++)if(n[Re[ct]]&o){var dt=e[Re[ct]],ft=void 0;if(null!==g(dt)){if(!(ut.length<63))break;ut.push({char:dt,seqIndex:ct})}else if(null!==(ft=y(dt)))for(var ht=ut.length-1;ht>=0;ht--){var pt=ut[ht].char;if(pt===ft||pt===y(b(dt))||g(b(pt))===dt){lt.push([ut[ht].seqIndex,ct]),ut.length=ht;break}}}lt.sort((function(e,t){return e[0]-t[0]}));for(var vt=0;vt<lt.length;vt++){for(var mt=lt[vt],gt=mt[0],yt=mt[1],bt=!1,xt=0,wt=gt+1;wt<yt;wt++){var St=Re[wt];if(n[St]&st){bt=!0;var _t=n[St]&ot?w:x;if(_t===Ie){xt=_t;break}}}if(bt&&!xt){xt=Ae;for(var kt=gt-1;kt>=0;kt--){var Et=Re[kt];if(n[Et]&st){var Ct=n[Et]&ot?w:x;xt=Ct!==Ie?Ct:Ie;break}}}if(xt){if(n[Re[gt]]=n[Re[yt]]=xt,xt!==Ie)for(var Mt=gt+1;Mt<Re.length;Mt++)if(!(n[Re[Mt]]&s)){c(e[Re[Mt]])&P&&(n[Re[Mt]]=xt);break}if(xt!==Ie)for(var Tt=yt+1;Tt<Re.length;Tt++)if(!(n[Re[Tt]]&s)){c(e[Re[Tt]])&P&&(n[Re[Tt]]=xt);break}}}for(var Rt=0;Rt<Re.length;Rt++)if(n[Re[Rt]]&o){for(var At=Rt,Pt=Rt,It=Ae,Ot=Rt-1;Ot>=0;Ot--){if(!(n[Re[Ot]]&s)){It=n[Re[Ot]]&ot?w:x;break}At=Ot}for(var Lt=Pe,Nt=Rt+1;Nt<Re.length;Nt++){if(!(n[Re[Nt]]&(o|s))){Lt=n[Re[Nt]]&ot?w:x;break}Pt=Nt}for(var Dt=At;Dt<=Pt;Dt++)n[Re[Dt]]=It===Lt?It:Ie;Rt=Pt}}}for(var Ut=v.start;Ut<=v.end;Ut++){var Ft=f[Ut],zt=n[Ut];if(1&Ft?zt&(x|S|E)&&f[Ut]++:zt&w?f[Ut]++:zt&(E|S)&&(f[Ut]+=2),zt&s&&(f[Ut]=0===Ut?v.level:f[Ut-1]),Ut===v.end||c(e[Ut])&(T|M))for(var Bt=Ut;Bt>=0&&c(e[Bt])&l;Bt--)f[Bt]=v.level}}return{levels:f,paragraphs:p};function jt(t,r){for(var a=t;a<e.length;a++){var o=n[a];if(o&(w|I))return 1;if(o&(M|x)||r&&o===j)return 0;if(o&i){var s=Ht(a);a=-1===s?e.length:s}}return 0}function Ht(t){for(var r=1,a=t+1;a<e.length;a++){var o=n[a];if(o&M)break;if(o&j){if(0===--r)return a}else o&i&&r++}return-1}},e.getMirroredCharacter=V,e.getMirroredCharactersMap=function(e,t,n,r){var i=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(i-1,null==r?i-1:+r);for(var a=new Map,o=n;o<=r;o++)if(1&t[o]){var s=V(e[o]);null!==s&&a.set(o,s)}return a},e.getReorderSegments=W,e.getReorderedIndices=q,e.getReorderedString=function(e,t,n,r){var i=q(e,t,n,r),a=[].concat(e);return i.forEach((function(n,r){a[r]=(1&t.levels[n]?V(e[n]):null)||e[n]})),a.join("")},e.openingToClosingBracket=g,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return e},BF=/\bvoid\s+main\s*\(\s*\)\s*{/g;function jF(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){var n=u_[t];return n?jF(n):e}))}for(var HF=[],GF=0;GF<256;GF++)HF[GF]=(GF<16?"0":"")+GF.toString(16);var VF=Object.assign||function(){for(var e=arguments[0],t=1,n=arguments.length;t<n;t++){var r=arguments[t];if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},WF=Date.now(),qF=new WeakMap,XF=new Map,YF=1e10;function KF(e,t){var n=function(e){var t=JSON.stringify(e,QF),n=JF.get(t);null==n&&JF.set(t,n=++$F);return n}(t),r=qF.get(e);if(r||qF.set(e,r=Object.create(null)),r[n])return new r[n];var i="_onBeforeCompile".concat(n),a=function(r,a){e.onBeforeCompile.call(this,r,a);var o=this.customProgramCacheKey()+"|"+r.vertexShader+"|"+r.fragmentShader,s=XF[o];if(!s){var l=function(e,t,n,r){var i=t.vertexShader,a=t.fragmentShader,o=n.vertexDefs,s=n.vertexMainIntro,l=n.vertexMainOutro,u=n.vertexTransform,c=n.fragmentDefs,d=n.fragmentMainIntro,f=n.fragmentMainOutro,h=n.fragmentColorTransform,p=n.customRewriter,v=n.timeUniform;o=o||"",s=s||"",l=l||"",c=c||"",d=d||"",f=f||"",(u||p)&&(i=jF(i));(h||p)&&(a=jF(a=a.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n")));if(p){var m=p({vertexShader:i,fragmentShader:a});i=m.vertexShader,a=m.fragmentShader}if(h){var g=[];a=a.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,(function(e){return g.push(e),""})),f="".concat(h,"\n").concat(g.join("\n"),"\n").concat(f)}if(v){var y="\nuniform float ".concat(v,";\n");o=y+o,c=y+c}u&&(i="vec3 troika_position_".concat(r,";\nvec3 troika_normal_").concat(r,";\nvec2 troika_uv_").concat(r,";\n").concat(i,"\n"),o="".concat(o,"\nvoid troikaVertexTransform").concat(r,"(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  ").concat(u,"\n}\n"),s="\ntroika_position_".concat(r," = vec3(position);\ntroika_normal_").concat(r," = vec3(normal);\ntroika_uv_").concat(r," = vec2(uv);\ntroikaVertexTransform").concat(r,"(troika_position_").concat(r,", troika_normal_").concat(r,", troika_uv_").concat(r,");\n").concat(s,"\n"),i=i.replace(/\b(position|normal|uv)\b/g,(function(e,t,n,i){return/\battribute\s+vec[23]\s+$/.test(i.substr(0,n))?t:"troika_".concat(t,"_").concat(r)})),e.map&&e.map.channel>0||(i=i.replace(/\bMAP_UV\b/g,"troika_uv_".concat(r))));return i=ZF(i,r,o,s,l),a=ZF(a,r,c,d,f),{vertexShader:i,fragmentShader:a}}(this,r,t,n);s=XF[o]=l}r.vertexShader=s.vertexShader,r.fragmentShader=s.fragmentShader,VF(r.uniforms,this.uniforms),t.timeUniform&&(r.uniforms[t.timeUniform]={get value(){return Date.now()-WF}}),this[i]&&this[i](r)},o=function(){return s(t.chained?e:e.clone())},s=function(r){var i=Object.create(r,l);return Object.defineProperty(i,"baseMaterial",{value:e}),Object.defineProperty(i,"id",{value:YF++}),i.uuid=function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(HF[255&e]+HF[e>>8&255]+HF[e>>16&255]+HF[e>>24&255]+"-"+HF[255&t]+HF[t>>8&255]+"-"+HF[t>>16&15|64]+HF[t>>24&255]+"-"+HF[63&n|128]+HF[n>>8&255]+"-"+HF[n>>16&255]+HF[n>>24&255]+HF[255&r]+HF[r>>8&255]+HF[r>>16&255]+HF[r>>24&255]).toUpperCase()}(),i.uniforms=VF({},r.uniforms,t.uniforms),i.defines=VF({},r.defines,t.defines),i.defines["TROIKA_DERIVED_MATERIAL_".concat(n)]="",i.extensions=VF({},r.extensions,t.extensions),i._listeners=void 0,i},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return e.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get:function(){return a},set:function(e){this[i]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),e.isShaderMaterial||e.isDerivedMaterial||(VF(this.extensions,t.extensions),VF(this.defines,t.defines),VF(this.uniforms,WS.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){var t=new e.constructor;return s(t).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){var n=this._depthMaterial;return n||((n=this._depthMaterial=KF(e.isDerivedMaterial?e.getDepthMaterial():new kE({depthPacking:Vy}),t)).defines.IS_DEPTH_MATERIAL="",n.uniforms=this.uniforms),n}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){var n=this._distanceMaterial;return n||((n=this._distanceMaterial=KF(e.isDerivedMaterial?e.getDistanceMaterial():new EE,t)).defines.IS_DISTANCE_MATERIAL="",n.uniforms=this.uniforms),n}},dispose:{writable:!0,configurable:!0,value:function(){var t=this._depthMaterial,n=this._distanceMaterial;t&&t.dispose(),n&&n.dispose(),e.dispose.call(this)}}};return r[n]=o,new o}function ZF(e,t,n,r,i){return(r||i||n)&&(e=e.replace(BF,"\n".concat(n,"\nvoid troikaOrigMain").concat(t,"() {")),e+="\nvoid main() {\n  ".concat(r,"\n  troikaOrigMain").concat(t,"();\n  ").concat(i,"\n}")),e}function QF(e,t){return"uniforms"===e?void 0:"function"===typeof t?t.toString():t}var $F=0,JF=new Map;var ez,tz=function(){return(self.performance||Date).now()},nz=FF();var rz=[],iz=0;function az(){for(var e=tz();rz.length&&tz()-e<5;)rz.shift()();iz=rz.length?setTimeout(az,0):0}var oz=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise((function(e,n){rz.push((function(){var r=tz();try{var i;(i=nz.webgl).generateIntoCanvas.apply(i,t),e({timing:tz()-r})}catch(a){n(a)}})),iz||(iz=setTimeout(az,0))}))},sz=4,lz=2e3,uz={},cz=0;function dz(e,t,n,r,i,a,o,s,l,u){var c="TroikaTextSDFGenerator_JS_"+cz++%sz,d=uz[c];return d||(d=uz[c]={workerModule:NF({name:c,workerId:c,dependencies:[FF,tz],init:function(e,t){var n=e().javascript.generate;return function(){var e=t();return{textureData:n.apply(void 0,arguments),timing:t()-e}}},getTransferables:function(e){return[e.textureData.buffer]}}),requests:0,idleTimer:null}),d.requests++,clearTimeout(d.idleTimer),d.workerModule(e,t,n,r,i,a).then((function(n){for(var r=n.textureData,i=n.timing,a=tz(),f=new Uint8Array(4*r.length),h=0;h<r.length;h++)f[4*h+u]=r[h];return nz.webglUtils.renderImageData(o,f,s,l,e,t,1<<3-u),i+=tz()-a,0===--d.requests&&(d.idleTimer=setTimeout((function(){!function(e){OF[e]&&OF[e].forEach((function(e){e()})),IF[e]&&(IF[e].terminate(),delete IF[e])}(c)}),lz)),{timing:i}}))}var fz=nz.webglUtils.resizeWebGLCanvasWithoutClearing;var hz=NF({name:"Typr Font Parser",dependencies:[function(){return"undefined"==typeof window&&(self.window=self),function(e){var t={parse:function(e){var n=t._bin,r=new Uint8Array(e);if("ttcf"==n.readASCII(r,0,4)){var i=4;n.readUshort(r,i),i+=2,n.readUshort(r,i),i+=2;var a=n.readUint(r,i);i+=4;for(var o=[],s=0;s<a;s++){var l=n.readUint(r,i);i+=4,o.push(t._readFont(r,l))}return o}return[t._readFont(r,0)]},_readFont:function(e,n){var r=t._bin,i=n;r.readFixed(e,n),n+=4;var a=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2;for(var o=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],s={_data:e,_offset:i},l={},u=0;u<a;u++){var c=r.readASCII(e,n,4);n+=4,r.readUint(e,n),n+=4;var d=r.readUint(e,n);n+=4;var f=r.readUint(e,n);n+=4,l[c]={offset:d,length:f}}for(u=0;u<o.length;u++){var h=o[u];l[h]&&(s[h.trim()]=t[h.trim()].parse(e,l[h].offset,l[h].length,s))}return s},_tabOffset:function(e,n,r){for(var i=t._bin,a=i.readUshort(e,r+4),o=r+12,s=0;s<a;s++){var l=i.readASCII(e,o,4);o+=4,i.readUint(e,o),o+=4;var u=i.readUint(e,o);if(o+=4,i.readUint(e,o),o+=4,l==n)return u}return 0}};t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){return t._bin._view(e).getInt32(n)},readInt8:function(e,n){return t._bin._view(e).getInt8(n)},readShort:function(e,n){return t._bin._view(e).getInt16(n)},readUshort:function(e,n){return t._bin._view(e).getUint16(n)},readUshorts:function(e,n,r){for(var i=[],a=0;a<r;a++)i.push(t._bin.readUshort(e,n+2*a));return i},readUint:function(e,n){return t._bin._view(e).getUint32(n)},readUint64:function(e,n){return 4294967296*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},readUnicode:function(e,t,n){for(var r="",i=0;i<n;i++){var a=e[t++]<<8|e[t++];r+=String.fromCharCode(a)}return r},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,n,r){var i=t._bin._tdec;return i&&0==n&&r==e.length?i.decode(e):t._bin.readASCII(e,n,r)},readBytes:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(e[t+i]);return r},readASCIIArray:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(String.fromCharCode(e[t+i]));return r},_view:function(e){return e._dataView||(e._dataView=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer))}},t._lctf={},t._lctf.parse=function(e,n,r,i,a){var o=t._bin,s={},l=n;o.readFixed(e,n),n+=4;var u=o.readUshort(e,n);n+=2;var c=o.readUshort(e,n);n+=2;var d=o.readUshort(e,n);return n+=2,s.scriptList=t._lctf.readScriptList(e,l+u),s.featureList=t._lctf.readFeatureList(e,l+c),s.lookupList=t._lctf.readLookupList(e,l+d,a),s},t._lctf.readLookupList=function(e,n,r){var i=t._bin,a=n,o=[],s=i.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=i.readUshort(e,n);n+=2;var c=t._lctf.readLookupTable(e,a+u,r);o.push(c)}return o},t._lctf.readLookupTable=function(e,n,r){var i=t._bin,a=n,o={tabs:[]};o.ltype=i.readUshort(e,n),n+=2,o.flag=i.readUshort(e,n),n+=2;var s=i.readUshort(e,n);n+=2;for(var l=o.ltype,u=0;u<s;u++){var c=i.readUshort(e,n);n+=2;var d=r(e,l,a+c,o);o.tabs.push(d)}return o},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)0!=(e>>>n&1)&&t++;return t},t._lctf.readClassDef=function(e,n){var r=t._bin,i=[],a=r.readUshort(e,n);if(n+=2,1==a){var o=r.readUshort(e,n);n+=2;var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++)i.push(o+l),i.push(o+l),i.push(r.readUshort(e,n)),n+=2}if(2==a){var u=r.readUshort(e,n);for(n+=2,l=0;l<u;l++)i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2}return i},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3){var r=e[n],i=e[n+1];if(e[n+2],r<=t&&t<=i)return n}return-1},t._lctf.readCoverage=function(e,n){var r=t._bin,i={};i.fmt=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);return n+=2,1==i.fmt&&(i.tab=r.readUshorts(e,n,a)),2==i.fmt&&(i.tab=r.readUshorts(e,n,3*a)),i},t._lctf.coverageIndex=function(e,n){var r=e.tab;if(1==e.fmt)return r.indexOf(n);if(2==e.fmt){var i=t._lctf.getInterval(r,n);if(-1!=i)return r[i+2]+(n-r[i])}return-1},t._lctf.readFeatureList=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2;var c=t._lctf.readFeatureTable(e,i+u);c.tag=l.trim(),a.push(c)}return a},t._lctf.readFeatureTable=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2,o>0&&(a.featureParams=i+o);var s=r.readUshort(e,n);n+=2,a.tab=[];for(var l=0;l<s;l++)a.tab.push(r.readUshort(e,n+2*l));return a},t._lctf.readScriptList=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2,a[l.trim()]=t._lctf.readScriptTable(e,i+u)}return a},t._lctf.readScriptTable=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2,a.default=t._lctf.readLangSysTable(e,i+o);var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=r.readASCII(e,n,4);n+=4;var c=r.readUshort(e,n);n+=2,a[u.trim()]=t._lctf.readLangSysTable(e,i+c)}return a},t._lctf.readLangSysTable=function(e,n){var r=t._bin,i={};r.readUshort(e,n),n+=2,i.reqFeature=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);return n+=2,i.features=r.readUshorts(e,n,a),i},t.CFF={},t.CFF.parse=function(e,n,r){var i=t._bin;(e=new Uint8Array(e.buffer,n,r))[n=0],e[++n],e[++n],e[++n],n++;var a=[];n=t.CFF.readIndex(e,n,a);for(var o=[],s=0;s<a.length-1;s++)o.push(i.readASCII(e,n+a[s],a[s+1]-a[s]));n+=a[a.length-1];var l=[];n=t.CFF.readIndex(e,n,l);var u=[];for(s=0;s<l.length-1;s++)u.push(t.CFF.readDict(e,n+l[s],n+l[s+1]));n+=l[l.length-1];var c=u[0],d=[];n=t.CFF.readIndex(e,n,d);var f=[];for(s=0;s<d.length-1;s++)f.push(i.readASCII(e,n+d[s],d[s+1]-d[s]));if(n+=d[d.length-1],t.CFF.readSubrs(e,n,c),c.CharStrings){n=c.CharStrings,d=[],n=t.CFF.readIndex(e,n,d);var h=[];for(s=0;s<d.length-1;s++)h.push(i.readBytes(e,n+d[s],d[s+1]-d[s]));c.CharStrings=h}if(c.ROS){n=c.FDArray;var p=[];for(n=t.CFF.readIndex(e,n,p),c.FDArray=[],s=0;s<p.length-1;s++){var v=t.CFF.readDict(e,n+p[s],n+p[s+1]);t.CFF._readFDict(e,v,f),c.FDArray.push(v)}n+=p[p.length-1],n=c.FDSelect,c.FDSelect=[];var m=e[n];if(n++,3!=m)throw m;var g=i.readUshort(e,n);for(n+=2,s=0;s<g+1;s++)c.FDSelect.push(i.readUshort(e,n),e[n+2]),n+=3}return c.Encoding&&(c.Encoding=t.CFF.readEncoding(e,c.Encoding,c.CharStrings.length)),c.charset&&(c.charset=t.CFF.readCharset(e,c.charset,c.CharStrings.length)),t.CFF._readFDict(e,c,f),c},t.CFF._readFDict=function(e,n,r){var i;for(var a in n.Private&&(i=n.Private[1],n.Private=t.CFF.readDict(e,i,i+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,i+n.Private.Subrs,n.Private)),n)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(a)&&(n[a]=r[n[a]-426+35])},t.CFF.readSubrs=function(e,n,r){var i=t._bin,a=[];n=t.CFF.readIndex(e,n,a);var o,s=a.length;o=s<1240?107:s<33900?1131:32768,r.Bias=o,r.Subrs=[];for(var l=0;l<a.length-1;l++)r.Subrs.push(i.readBytes(e,n+a[l],a[l+1]-a[l]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return-1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,n,r){t._bin;var i=[".notdef"],a=e[n];if(n++,0!=a)throw"error: unknown encoding format: "+a;var o=e[n];n++;for(var s=0;s<o;s++)i.push(e[n+s]);return i},t.CFF.readCharset=function(e,n,r){var i=t._bin,a=[".notdef"],o=e[n];if(n++,0==o)for(var s=0;s<r;s++){var l=i.readUshort(e,n);n+=2,a.push(l)}else{if(1!=o&&2!=o)throw"error: format: "+o;for(;a.length<r;){l=i.readUshort(e,n),n+=2;var u=0;for(1==o?(u=e[n],n++):(u=i.readUshort(e,n),n+=2),s=0;s<=u;s++)a.push(l),l++}}return a},t.CFF.readIndex=function(e,n,r){var i=t._bin,a=i.readUshort(e,n)+1,o=e[n+=2];if(n++,1==o)for(var s=0;s<a;s++)r.push(e[n+s]);else if(2==o)for(s=0;s<a;s++)r.push(i.readUshort(e,n+2*s));else if(3==o)for(s=0;s<a;s++)r.push(16777215&i.readUint(e,n+3*s-1));else if(1!=a)throw"unsupported offset size: "+o+", count: "+a;return(n+=a*o)-1},t.CFF.getCharString=function(e,n,r){var i=t._bin,a=e[n],o=e[n+1];e[n+2],e[n+3],e[n+4];var s=1,l=null,u=null;a<=20&&(l=a,s=1),12==a&&(l=100*a+o,s=2),21<=a&&a<=27&&(l=a,s=1),28==a&&(u=i.readShort(e,n+1),s=3),29<=a&&a<=31&&(l=a,s=1),32<=a&&a<=246&&(u=a-139,s=1),247<=a&&a<=250&&(u=256*(a-247)+o+108,s=2),251<=a&&a<=254&&(u=256*-(a-251)-o-108,s=2),255==a&&(u=i.readInt(e,n+1)/65535,s=5),r.val=null!=u?u:"o"+l,r.size=s},t.CFF.readCharString=function(e,n,r){for(var i=n+r,a=t._bin,o=[];n<i;){var s=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var u=1,c=null,d=null;s<=20&&(c=s,u=1),12==s&&(c=100*s+l,u=2),19!=s&&20!=s||(c=s,u=2),21<=s&&s<=27&&(c=s,u=1),28==s&&(d=a.readShort(e,n+1),u=3),29<=s&&s<=31&&(c=s,u=1),32<=s&&s<=246&&(d=s-139,u=1),247<=s&&s<=250&&(d=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(d=256*-(s-251)-l-108,u=2),255==s&&(d=a.readInt(e,n+1)/65535,u=5),o.push(null!=d?d:"o"+c),n+=u}return o},t.CFF.readDict=function(e,n,r){for(var i=t._bin,a={},o=[];n<r;){var s=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var u=1,c=null,d=null;if(28==s&&(d=i.readShort(e,n+1),u=3),29==s&&(d=i.readInt(e,n+1),u=5),32<=s&&s<=246&&(d=s-139,u=1),247<=s&&s<=250&&(d=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(d=256*-(s-251)-l-108,u=2),255==s)throw d=i.readInt(e,n+1)/65535,u=5,"unknown number";if(30==s){var f=[];for(u=1;;){var h=e[n+u];u++;var p=h>>4,v=15&h;if(15!=p&&f.push(p),15!=v&&f.push(v),15==v)break}for(var m="",g=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<f.length;y++)m+=g[f[y]];d=parseFloat(m)}s<=21&&(c=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],u=1,12==s&&(c=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][l],u=2)),null!=c?(a[c]=1==o.length?o[0]:o,o=[]):o.push(d),n+=u}return a},t.cmap={},t.cmap.parse=function(e,n,r){e=new Uint8Array(e.buffer,n,r),n=0;var i=t._bin,a={};i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2;var s=[];a.tables=[];for(var l=0;l<o;l++){var u=i.readUshort(e,n);n+=2;var c=i.readUshort(e,n);n+=2;var d=i.readUint(e,n);n+=4;var f="p"+u+"e"+c,h=s.indexOf(d);if(-1==h){var p;h=a.tables.length,s.push(d);var v=i.readUshort(e,d);0==v?p=t.cmap.parse0(e,d):4==v?p=t.cmap.parse4(e,d):6==v?p=t.cmap.parse6(e,d):12==v?p=t.cmap.parse12(e,d):console.debug("unknown format: "+v,u,c,d),a.tables.push(p)}if(null!=a[f])throw"multiple tables for one platform+encoding";a[f]=h}return a},t.cmap.parse0=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,i.map=[];for(var o=0;o<a-6;o++)i.map.push(e[n+o]);return i},t.cmap.parse4=function(e,n){var r=t._bin,i=n,a={};a.format=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2;var l=s/2;a.searchRange=r.readUshort(e,n),n+=2,a.entrySelector=r.readUshort(e,n),n+=2,a.rangeShift=r.readUshort(e,n),n+=2,a.endCount=r.readUshorts(e,n,l),n+=2*l,n+=2,a.startCount=r.readUshorts(e,n,l),n+=2*l,a.idDelta=[];for(var u=0;u<l;u++)a.idDelta.push(r.readShort(e,n)),n+=2;for(a.idRangeOffset=r.readUshorts(e,n,l),n+=2*l,a.glyphIdArray=[];n<i+o;)a.glyphIdArray.push(r.readUshort(e,n)),n+=2;return a},t.cmap.parse6=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,i.firstCode=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2,i.glyphIdArray=[];for(var o=0;o<a;o++)i.glyphIdArray.push(r.readUshort(e,n)),n+=2;return i},t.cmap.parse12=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,n+=2,r.readUint(e,n),n+=4,r.readUint(e,n),n+=4;var a=r.readUint(e,n);n+=4,i.groups=[];for(var o=0;o<a;o++){var s=n+12*o,l=r.readUint(e,s+0),u=r.readUint(e,s+4),c=r.readUint(e,s+8);i.groups.push([l,u,c])}return i},t.glyf={},t.glyf.parse=function(e,t,n,r){for(var i=[],a=0;a<r.maxp.numGlyphs;a++)i.push(null);return i},t.glyf._parseGlyf=function(e,n){var r=t._bin,i=e._data,a=t._tabOffset(i,"glyf",e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var o={};if(o.noc=r.readShort(i,a),a+=2,o.xMin=r.readShort(i,a),a+=2,o.yMin=r.readShort(i,a),a+=2,o.xMax=r.readShort(i,a),a+=2,o.yMax=r.readShort(i,a),a+=2,o.xMin>=o.xMax||o.yMin>=o.yMax)return null;if(o.noc>0){o.endPts=[];for(var s=0;s<o.noc;s++)o.endPts.push(r.readUshort(i,a)),a+=2;var l=r.readUshort(i,a);if(a+=2,i.length-a<l)return null;o.instructions=r.readBytes(i,a,l),a+=l;var u=o.endPts[o.noc-1]+1;for(o.flags=[],s=0;s<u;s++){var c=i[a];if(a++,o.flags.push(c),0!=(8&c)){var d=i[a];a++;for(var f=0;f<d;f++)o.flags.push(c),s++}}for(o.xs=[],s=0;s<u;s++){var h=0!=(2&o.flags[s]),p=0!=(16&o.flags[s]);h?(o.xs.push(p?i[a]:-i[a]),a++):p?o.xs.push(0):(o.xs.push(r.readShort(i,a)),a+=2)}for(o.ys=[],s=0;s<u;s++)h=0!=(4&o.flags[s]),p=0!=(32&o.flags[s]),h?(o.ys.push(p?i[a]:-i[a]),a++):p?o.ys.push(0):(o.ys.push(r.readShort(i,a)),a+=2);var v=0,m=0;for(s=0;s<u;s++)v+=o.xs[s],m+=o.ys[s],o.xs[s]=v,o.ys[s]=m}else{var g;o.parts=[];do{g=r.readUshort(i,a),a+=2;var y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(o.parts.push(y),y.glyphIndex=r.readUshort(i,a),a+=2,1&g){var b=r.readShort(i,a);a+=2;var x=r.readShort(i,a);a+=2}else b=r.readInt8(i,a),a++,x=r.readInt8(i,a),a++;2&g?(y.m.tx=b,y.m.ty=x):(y.p1=b,y.p2=x),8&g?(y.m.a=y.m.d=r.readF2dot14(i,a),a+=2):64&g?(y.m.a=r.readF2dot14(i,a),a+=2,y.m.d=r.readF2dot14(i,a),a+=2):128&g&&(y.m.a=r.readF2dot14(i,a),a+=2,y.m.b=r.readF2dot14(i,a),a+=2,y.m.c=r.readF2dot14(i,a),a+=2,y.m.d=r.readF2dot14(i,a),a+=2)}while(32&g);if(256&g){var w=r.readUshort(i,a);for(a+=2,o.instr=[],s=0;s<w;s++)o.instr.push(i[a]),a++}}return o},t.GPOS={},t.GPOS.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GPOS.subt)},t.GPOS.subt=function(e,n,r,i){var a=t._bin,o=r,s={};if(s.fmt=a.readUshort(e,r),r+=2,1==n||2==n||3==n||7==n||8==n&&s.fmt<=2){var l=a.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,l+o)}if(1==n&&1==s.fmt){var u=a.readUshort(e,r);r+=2;var c=t._lctf.numOfOnes(u);0!=u&&(s.pos=t.GPOS.readValueRecord(e,r,u))}else if(2==n&&s.fmt>=1&&s.fmt<=2){u=a.readUshort(e,r),r+=2;var d=a.readUshort(e,r);r+=2,c=t._lctf.numOfOnes(u);var f=t._lctf.numOfOnes(d);if(1==s.fmt){s.pairsets=[];var h=a.readUshort(e,r);r+=2;for(var p=0;p<h;p++){var v=o+a.readUshort(e,r);r+=2;var m=a.readUshort(e,v);v+=2;for(var g=[],y=0;y<m;y++){var b=a.readUshort(e,v);v+=2,0!=u&&(E=t.GPOS.readValueRecord(e,v,u),v+=2*c),0!=d&&(C=t.GPOS.readValueRecord(e,v,d),v+=2*f),g.push({gid2:b,val1:E,val2:C})}s.pairsets.push(g)}}if(2==s.fmt){var x=a.readUshort(e,r);r+=2;var w=a.readUshort(e,r);r+=2;var S=a.readUshort(e,r);r+=2;var _=a.readUshort(e,r);for(r+=2,s.classDef1=t._lctf.readClassDef(e,o+x),s.classDef2=t._lctf.readClassDef(e,o+w),s.matrix=[],p=0;p<S;p++){var k=[];for(y=0;y<_;y++){var E=null,C=null;0!=u&&(E=t.GPOS.readValueRecord(e,r,u),r+=2*c),0!=d&&(C=t.GPOS.readValueRecord(e,r,d),r+=2*f),k.push({val1:E,val2:C})}s.matrix.push(k)}}}else{if(9==n&&1==s.fmt){var M=a.readUshort(e,r);r+=2;var T=a.readUint(e,r);if(r+=4,9==i.ltype)i.ltype=M;else if(i.ltype!=M)throw"invalid extension substitution";return t.GPOS.subt(e,i.ltype,o+T)}console.debug("unsupported GPOS table LookupType",n,"format",s.fmt)}return s},t.GPOS.readValueRecord=function(e,n,r){var i=t._bin,a=[];return a.push(1&r?i.readShort(e,n):0),n+=1&r?2:0,a.push(2&r?i.readShort(e,n):0),n+=2&r?2:0,a.push(4&r?i.readShort(e,n):0),n+=4&r?2:0,a.push(8&r?i.readShort(e,n):0),n+=8&r?2:0,a},t.GSUB={},t.GSUB.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GSUB.subt)},t.GSUB.subt=function(e,n,r,i){var a=t._bin,o=r,s={};if(s.fmt=a.readUshort(e,r),r+=2,1!=n&&4!=n&&5!=n&&6!=n)return null;if(1==n||4==n||5==n&&s.fmt<=2||6==n&&s.fmt<=2){var l=a.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,o+l)}if(1==n&&s.fmt>=1&&s.fmt<=2){if(1==s.fmt)s.delta=a.readShort(e,r),r+=2;else if(2==s.fmt){var u=a.readUshort(e,r);r+=2,s.newg=a.readUshorts(e,r,u),r+=2*s.newg.length}}else if(4==n){s.vals=[],u=a.readUshort(e,r),r+=2;for(var c=0;c<u;c++){var d=a.readUshort(e,r);r+=2,s.vals.push(t.GSUB.readLigatureSet(e,o+d))}}else if(5==n&&2==s.fmt){if(2==s.fmt){var f=a.readUshort(e,r);r+=2,s.cDef=t._lctf.readClassDef(e,o+f),s.scset=[];var h=a.readUshort(e,r);for(r+=2,c=0;c<h;c++){var p=a.readUshort(e,r);r+=2,s.scset.push(0==p?null:t.GSUB.readSubClassSet(e,o+p))}}}else if(6==n&&3==s.fmt){if(3==s.fmt){for(c=0;c<3;c++){u=a.readUshort(e,r),r+=2;for(var v=[],m=0;m<u;m++)v.push(t._lctf.readCoverage(e,o+a.readUshort(e,r+2*m)));r+=2*u,0==c&&(s.backCvg=v),1==c&&(s.inptCvg=v),2==c&&(s.ahedCvg=v)}u=a.readUshort(e,r),r+=2,s.lookupRec=t.GSUB.readSubstLookupRecords(e,r,u)}}else{if(7==n&&1==s.fmt){var g=a.readUshort(e,r);r+=2;var y=a.readUint(e,r);if(r+=4,9==i.ltype)i.ltype=g;else if(i.ltype!=g)throw"invalid extension substitution";return t.GSUB.subt(e,i.ltype,o+y)}console.debug("unsupported GSUB table LookupType",n,"format",s.fmt)}return s},t.GSUB.readSubClassSet=function(e,n){var r=t._bin.readUshort,i=n,a=[],o=r(e,n);n+=2;for(var s=0;s<o;s++){var l=r(e,n);n+=2,a.push(t.GSUB.readSubClassRule(e,i+l))}return a},t.GSUB.readSubClassRule=function(e,n){var r=t._bin.readUshort,i={},a=r(e,n),o=r(e,n+=2);n+=2,i.input=[];for(var s=0;s<a-1;s++)i.input.push(r(e,n)),n+=2;return i.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,o),i},t.GSUB.readSubstLookupRecords=function(e,n,r){for(var i=t._bin.readUshort,a=[],o=0;o<r;o++)a.push(i(e,n),i(e,n+2)),n+=4;return a},t.GSUB.readChainSubClassSet=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readUshort(e,n);n+=2,a.push(t.GSUB.readChainSubClassRule(e,i+l))}return a},t.GSUB.readChainSubClassRule=function(e,n){for(var r=t._bin,i={},a=["backtrack","input","lookahead"],o=0;o<a.length;o++){var s=r.readUshort(e,n);n+=2,1==o&&s--,i[a[o]]=r.readUshorts(e,n,s),n+=2*i[a[o]].length}return s=r.readUshort(e,n),n+=2,i.subst=r.readUshorts(e,n,2*s),n+=2*i.subst.length,i},t.GSUB.readLigatureSet=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readUshort(e,n);n+=2,a.push(t.GSUB.readLigature(e,i+l))}return a},t.GSUB.readLigature=function(e,n){var r=t._bin,i={chain:[]};i.nglyph=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2;for(var o=0;o<a-1;o++)i.chain.push(r.readUshort(e,n)),n+=2;return i},t.head={},t.head.parse=function(e,n,r){var i=t._bin,a={};return i.readFixed(e,n),n+=4,a.fontRevision=i.readFixed(e,n),n+=4,i.readUint(e,n),n+=4,i.readUint(e,n),n+=4,a.flags=i.readUshort(e,n),n+=2,a.unitsPerEm=i.readUshort(e,n),n+=2,a.created=i.readUint64(e,n),n+=8,a.modified=i.readUint64(e,n),n+=8,a.xMin=i.readShort(e,n),n+=2,a.yMin=i.readShort(e,n),n+=2,a.xMax=i.readShort(e,n),n+=2,a.yMax=i.readShort(e,n),n+=2,a.macStyle=i.readUshort(e,n),n+=2,a.lowestRecPPEM=i.readUshort(e,n),n+=2,a.fontDirectionHint=i.readShort(e,n),n+=2,a.indexToLocFormat=i.readShort(e,n),n+=2,a.glyphDataFormat=i.readShort(e,n),n+=2,a},t.hhea={},t.hhea.parse=function(e,n,r){var i=t._bin,a={};return i.readFixed(e,n),n+=4,a.ascender=i.readShort(e,n),n+=2,a.descender=i.readShort(e,n),n+=2,a.lineGap=i.readShort(e,n),n+=2,a.advanceWidthMax=i.readUshort(e,n),n+=2,a.minLeftSideBearing=i.readShort(e,n),n+=2,a.minRightSideBearing=i.readShort(e,n),n+=2,a.xMaxExtent=i.readShort(e,n),n+=2,a.caretSlopeRise=i.readShort(e,n),n+=2,a.caretSlopeRun=i.readShort(e,n),n+=2,a.caretOffset=i.readShort(e,n),n+=2,n+=8,a.metricDataFormat=i.readShort(e,n),n+=2,a.numberOfHMetrics=i.readUshort(e,n),n+=2,a},t.hmtx={},t.hmtx.parse=function(e,n,r,i){for(var a=t._bin,o={aWidth:[],lsBearing:[]},s=0,l=0,u=0;u<i.maxp.numGlyphs;u++)u<i.hhea.numberOfHMetrics&&(s=a.readUshort(e,n),n+=2,l=a.readShort(e,n),n+=2),o.aWidth.push(s),o.lsBearing.push(l);return o},t.kern={},t.kern.parse=function(e,n,r,i){var a=t._bin,o=a.readUshort(e,n);if(n+=2,1==o)return t.kern.parseV1(e,n-2,r,i);var s=a.readUshort(e,n);n+=2;for(var l={glyph1:[],rval:[]},u=0;u<s;u++){n+=2,r=a.readUshort(e,n),n+=2;var c=a.readUshort(e,n);n+=2;var d=c>>>8;if(0!=(d&=15))throw"unknown kern table format: "+d;n=t.kern.readFormat0(e,n,l)}return l},t.kern.parseV1=function(e,n,r,i){var a=t._bin;a.readFixed(e,n),n+=4;var o=a.readUint(e,n);n+=4;for(var s={glyph1:[],rval:[]},l=0;l<o;l++){a.readUint(e,n),n+=4;var u=a.readUshort(e,n);n+=2,a.readUshort(e,n),n+=2;var c=u>>>8;if(0!=(c&=15))throw"unknown kern table format: "+c;n=t.kern.readFormat0(e,n,s)}return s},t.kern.readFormat0=function(e,n,r){var i=t._bin,a=-1,o=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2;for(var s=0;s<o;s++){var l=i.readUshort(e,n);n+=2;var u=i.readUshort(e,n);n+=2;var c=i.readShort(e,n);n+=2,l!=a&&(r.glyph1.push(l),r.rval.push({glyph2:[],vals:[]}));var d=r.rval[r.rval.length-1];d.glyph2.push(u),d.vals.push(c),a=l}return n},t.loca={},t.loca.parse=function(e,n,r,i){var a=t._bin,o=[],s=i.head.indexToLocFormat,l=i.maxp.numGlyphs+1;if(0==s)for(var u=0;u<l;u++)o.push(a.readUshort(e,n+(u<<1))<<1);if(1==s)for(u=0;u<l;u++)o.push(a.readUint(e,n+(u<<2)));return o},t.maxp={},t.maxp.parse=function(e,n,r){var i=t._bin,a={},o=i.readUint(e,n);return n+=4,a.numGlyphs=i.readUshort(e,n),n+=2,65536==o&&(a.maxPoints=i.readUshort(e,n),n+=2,a.maxContours=i.readUshort(e,n),n+=2,a.maxCompositePoints=i.readUshort(e,n),n+=2,a.maxCompositeContours=i.readUshort(e,n),n+=2,a.maxZones=i.readUshort(e,n),n+=2,a.maxTwilightPoints=i.readUshort(e,n),n+=2,a.maxStorage=i.readUshort(e,n),n+=2,a.maxFunctionDefs=i.readUshort(e,n),n+=2,a.maxInstructionDefs=i.readUshort(e,n),n+=2,a.maxStackElements=i.readUshort(e,n),n+=2,a.maxSizeOfInstructions=i.readUshort(e,n),n+=2,a.maxComponentElements=i.readUshort(e,n),n+=2,a.maxComponentDepth=i.readUshort(e,n),n+=2),a},t.name={},t.name.parse=function(e,n,r){var i=t._bin,a={};i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2,i.readUshort(e,n);for(var s,l=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],u=n+=2,c=0;c<o;c++){var d=i.readUshort(e,n);n+=2;var f=i.readUshort(e,n);n+=2;var h=i.readUshort(e,n);n+=2;var p=i.readUshort(e,n);n+=2;var v=i.readUshort(e,n);n+=2;var m=i.readUshort(e,n);n+=2;var g,y=l[p],b=u+12*o+m;if(0==d)g=i.readUnicode(e,b,v/2);else if(3==d&&0==f)g=i.readUnicode(e,b,v/2);else if(0==f)g=i.readASCII(e,b,v);else if(1==f)g=i.readUnicode(e,b,v/2);else if(3==f)g=i.readUnicode(e,b,v/2);else{if(1!=d)throw"unknown encoding "+f+", platformID: "+d;g=i.readASCII(e,b,v),console.debug("reading unknown MAC encoding "+f+" as ASCII")}var x="p"+d+","+h.toString(16);null==a[x]&&(a[x]={}),a[x][void 0!==y?y:p]=g,a[x]._lang=h}for(var w in a)if(null!=a[w].postScriptName&&1033==a[w]._lang)return a[w];for(var w in a)if(null!=a[w].postScriptName&&0==a[w]._lang)return a[w];for(var w in a)if(null!=a[w].postScriptName&&3084==a[w]._lang)return a[w];for(var w in a)if(null!=a[w].postScriptName)return a[w];for(var w in a){s=w;break}return console.debug("returning name table with languageID "+a[s]._lang),a[s]},t["OS/2"]={},t["OS/2"].parse=function(e,n,r){var i=t._bin.readUshort(e,n);n+=2;var a={};if(0==i)t["OS/2"].version0(e,n,a);else if(1==i)t["OS/2"].version1(e,n,a);else if(2==i||3==i||4==i)t["OS/2"].version2(e,n,a);else{if(5!=i)throw"unknown OS/2 table version: "+i;t["OS/2"].version5(e,n,a)}return a},t["OS/2"].version0=function(e,n,r){var i=t._bin;return r.xAvgCharWidth=i.readShort(e,n),n+=2,r.usWeightClass=i.readUshort(e,n),n+=2,r.usWidthClass=i.readUshort(e,n),n+=2,r.fsType=i.readUshort(e,n),n+=2,r.ySubscriptXSize=i.readShort(e,n),n+=2,r.ySubscriptYSize=i.readShort(e,n),n+=2,r.ySubscriptXOffset=i.readShort(e,n),n+=2,r.ySubscriptYOffset=i.readShort(e,n),n+=2,r.ySuperscriptXSize=i.readShort(e,n),n+=2,r.ySuperscriptYSize=i.readShort(e,n),n+=2,r.ySuperscriptXOffset=i.readShort(e,n),n+=2,r.ySuperscriptYOffset=i.readShort(e,n),n+=2,r.yStrikeoutSize=i.readShort(e,n),n+=2,r.yStrikeoutPosition=i.readShort(e,n),n+=2,r.sFamilyClass=i.readShort(e,n),n+=2,r.panose=i.readBytes(e,n,10),n+=10,r.ulUnicodeRange1=i.readUint(e,n),n+=4,r.ulUnicodeRange2=i.readUint(e,n),n+=4,r.ulUnicodeRange3=i.readUint(e,n),n+=4,r.ulUnicodeRange4=i.readUint(e,n),n+=4,r.achVendID=[i.readInt8(e,n),i.readInt8(e,n+1),i.readInt8(e,n+2),i.readInt8(e,n+3)],n+=4,r.fsSelection=i.readUshort(e,n),n+=2,r.usFirstCharIndex=i.readUshort(e,n),n+=2,r.usLastCharIndex=i.readUshort(e,n),n+=2,r.sTypoAscender=i.readShort(e,n),n+=2,r.sTypoDescender=i.readShort(e,n),n+=2,r.sTypoLineGap=i.readShort(e,n),n+=2,r.usWinAscent=i.readUshort(e,n),n+=2,r.usWinDescent=i.readUshort(e,n),n+2},t["OS/2"].version1=function(e,n,r){var i=t._bin;return n=t["OS/2"].version0(e,n,r),r.ulCodePageRange1=i.readUint(e,n),n+=4,r.ulCodePageRange2=i.readUint(e,n),n+4},t["OS/2"].version2=function(e,n,r){var i=t._bin;return n=t["OS/2"].version1(e,n,r),r.sxHeight=i.readShort(e,n),n+=2,r.sCapHeight=i.readShort(e,n),n+=2,r.usDefault=i.readUshort(e,n),n+=2,r.usBreak=i.readUshort(e,n),n+=2,r.usMaxContext=i.readUshort(e,n),n+2},t["OS/2"].version5=function(e,n,r){var i=t._bin;return n=t["OS/2"].version2(e,n,r),r.usLowerOpticalPointSize=i.readUshort(e,n),n+=2,r.usUpperOpticalPointSize=i.readUshort(e,n),n+2},t.post={},t.post.parse=function(e,n,r){var i=t._bin,a={};return a.version=i.readFixed(e,n),n+=4,a.italicAngle=i.readFixed(e,n),n+=4,a.underlinePosition=i.readShort(e,n),n+=2,a.underlineThickness=i.readShort(e,n),n+=2,a},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var n=e.cmap,r=-1;if(null!=n.p0e4?r=n.p0e4:null!=n.p3e1?r=n.p3e1:null!=n.p1e0?r=n.p1e0:null!=n.p0e3&&(r=n.p0e3),-1==r)throw"no familiar platform and encoding!";var i=n.tables[r];if(0==i.format)return t>=i.map.length?0:i.map[t];if(4==i.format){for(var a=-1,o=0;o<i.endCount.length;o++)if(t<=i.endCount[o]){a=o;break}return-1==a||i.startCount[a]>t?0:65535&(0!=i.idRangeOffset[a]?i.glyphIdArray[t-i.startCount[a]+(i.idRangeOffset[a]>>1)-(i.idRangeOffset.length-a)]:t+i.idDelta[a])}if(12==i.format){if(t>i.groups[i.groups.length-1][1])return 0;for(o=0;o<i.groups.length;o++){var s=i.groups[o];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw"unknown cmap table format "+i.format},t.U.glyphToPath=function(e,n){var r={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var i=e.SVG.entries[n];return null==i?r:("string"==typeof i&&(i=t.SVG.toPath(i),e.SVG.entries[n]=i),i)}if(e.CFF){var a={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},o=e.CFF,s=e.CFF.Private;if(o.ROS){for(var l=0;o.FDSelect[l+2]<=n;)l+=2;s=o.FDArray[o.FDSelect[l+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],a,o,s,r)}else e.glyf&&t.U._drawGlyf(n,e,r);return r},t.U._drawGlyf=function(e,n,r){var i=n.glyf[e];null==i&&(i=n.glyf[e]=t.glyf._parseGlyf(n,e)),null!=i&&(i.noc>-1?t.U._simpleGlyph(i,r):t.U._compoGlyph(i,n,r))},t.U._simpleGlyph=function(e,n){for(var r=0;r<e.noc;r++){for(var i=0==r?0:e.endPts[r-1]+1,a=e.endPts[r],o=i;o<=a;o++){var s=o==i?a:o-1,l=o==a?i:o+1,u=1&e.flags[o],c=1&e.flags[s],d=1&e.flags[l],f=e.xs[o],h=e.ys[o];if(o==i)if(u){if(!c){t.U.P.moveTo(n,f,h);continue}t.U.P.moveTo(n,e.xs[s],e.ys[s])}else c?t.U.P.moveTo(n,e.xs[s],e.ys[s]):t.U.P.moveTo(n,(e.xs[s]+f)/2,(e.ys[s]+h)/2);u?c&&t.U.P.lineTo(n,f,h):d?t.U.P.qcurveTo(n,f,h,e.xs[l],e.ys[l]):t.U.P.qcurveTo(n,f,h,(f+e.xs[l])/2,(h+e.ys[l])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,r){for(var i=0;i<e.parts.length;i++){var a={cmds:[],crds:[]},o=e.parts[i];t.U._drawGlyf(o.glyphIndex,n,a);for(var s=o.m,l=0;l<a.crds.length;l+=2){var u=a.crds[l],c=a.crds[l+1];r.crds.push(u*s.a+c*s.b+s.tx),r.crds.push(u*s.c+c*s.d+s.ty)}for(l=0;l<a.cmds.length;l++)r.cmds.push(a.cmds[l])}},t.U._getGlyphClass=function(e,n){var r=t._lctf.getInterval(n,e);return-1==r?0:n[r+2]},t.U.getPairAdjustment=function(e,n,r){var i=!1;if(e.GPOS)for(var a=e.GPOS,o=a.lookupList,s=a.featureList,l=[],u=0;u<s.length;u++){var c=s[u];if("kern"==c.tag){i=!0;for(var d=0;d<c.tab.length;d++)if(!l[c.tab[d]]){l[c.tab[d]]=!0;for(var f=o[c.tab[d]],h=0;h<f.tabs.length;h++)if(null!=f.tabs[h]){var p,v=f.tabs[h];if(!v.coverage||-1!=(p=t._lctf.coverageIndex(v.coverage,n)))if(1==f.ltype);else if(2==f.ltype){var m=null;if(1==v.fmt){var g=v.pairsets[p];for(u=0;u<g.length;u++)g[u].gid2==r&&(m=g[u])}else if(2==v.fmt){var y=t.U._getGlyphClass(n,v.classDef1),b=t.U._getGlyphClass(r,v.classDef2);m=v.matrix[y][b]}if(m){var x=0;return m.val1&&m.val1[2]&&(x+=m.val1[2]),m.val2&&m.val2[0]&&(x+=m.val2[0]),x}}}}}}if(e.kern&&!i){var w=e.kern.glyph1.indexOf(n);if(-1!=w){var S=e.kern.rval[w].glyph2.indexOf(r);if(-1!=S)return e.kern.rval[w].vals[S]}}return 0},t.U._applySubs=function(e,n,r,i){for(var a=e.length-n-1,o=0;o<r.tabs.length;o++)if(null!=r.tabs[o]){var s,l=r.tabs[o];if(!l.coverage||-1!=(s=t._lctf.coverageIndex(l.coverage,e[n])))if(1==r.ltype)e[n],1==l.fmt?e[n]=e[n]+l.delta:e[n]=l.newg[s];else if(4==r.ltype)for(var u=l.vals[s],c=0;c<u.length;c++){var d=u[c],f=d.chain.length;if(!(f>a)){for(var h=!0,p=0,v=0;v<f;v++){for(;-1==e[n+p+(1+v)];)p++;d.chain[v]!=e[n+p+(1+v)]&&(h=!1)}if(h){for(e[n]=d.nglyph,v=0;v<f+p;v++)e[n+v+1]=-1;break}}}else if(5==r.ltype&&2==l.fmt)for(var m=t._lctf.getInterval(l.cDef,e[n]),g=l.cDef[m+2],y=l.scset[g],b=0;b<y.length;b++){var x=y[b],w=x.input;if(!(w.length>a)){for(h=!0,v=0;v<w.length;v++){var S=t._lctf.getInterval(l.cDef,e[n+1+v]);if(-1==m&&l.cDef[S+2]!=w[v]){h=!1;break}}if(h){var _=x.substLookupRecords;for(c=0;c<_.length;c+=2)_[c],_[c+1]}}}else if(6==r.ltype&&3==l.fmt){if(!t.U._glsCovered(e,l.backCvg,n-l.backCvg.length))continue;if(!t.U._glsCovered(e,l.inptCvg,n))continue;if(!t.U._glsCovered(e,l.ahedCvg,n+l.inptCvg.length))continue;var k=l.lookupRec;for(b=0;b<k.length;b+=2){m=k[b];var E=i[k[b+1]];t.U._applySubs(e,n+m,E,i)}}}},t.U._glsCovered=function(e,n,r){for(var i=0;i<n.length;i++)if(-1==t._lctf.coverageIndex(n[i],e[r+i]))return!1;return!0},t.U.glyphsToPath=function(e,n,r){for(var i={cmds:[],crds:[]},a=0,o=0;o<n.length;o++){var s=n[o];if(-1!=s){for(var l=o<n.length-1&&-1!=n[o+1]?n[o+1]:0,u=t.U.glyphToPath(e,s),c=0;c<u.crds.length;c+=2)i.crds.push(u.crds[c]+a),i.crds.push(u.crds[c+1]);for(r&&i.cmds.push(r),c=0;c<u.cmds.length;c++)i.cmds.push(u.cmds[c]);r&&i.cmds.push("X"),a+=e.hmtx.aWidth[s],o<n.length-1&&(a+=t.U.getPairAdjustment(e,s,l))}}return i},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push("M"),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push("L"),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,r,i,a,o){e.cmds.push("C"),e.crds.push(t,n,r,i,a,o)},t.U.P.qcurveTo=function(e,t,n,r,i){e.cmds.push("Q"),e.crds.push(t,n,r,i)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,n,r,i,a){for(var o=n.stack,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open,d=0,f=n.x,h=n.y,p=0,v=0,m=0,g=0,y=0,b=0,x=0,w=0,S=0,_=0,k={val:0,size:0};d<e.length;){t.CFF.getCharString(e,d,k);var E=k.val;if(d+=k.size,"o1"==E||"o18"==E)o.length%2!=0&&!l&&(u=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o3"==E||"o23"==E)o.length%2!=0&&!l&&(u=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o4"==E)o.length>1&&!l&&(u=o.shift()+i.nominalWidthX,l=!0),c&&t.U.P.closePath(a),h+=o.pop(),t.U.P.moveTo(a,f,h),c=!0;else if("o5"==E)for(;o.length>0;)f+=o.shift(),h+=o.shift(),t.U.P.lineTo(a,f,h);else if("o6"==E||"o7"==E)for(var C=o.length,M="o6"==E,T=0;T<C;T++){var R=o.shift();M?f+=R:h+=R,M=!M,t.U.P.lineTo(a,f,h)}else if("o8"==E||"o24"==E){C=o.length;for(var A=0;A+6<=C;)p=f+o.shift(),v=h+o.shift(),m=p+o.shift(),g=v+o.shift(),f=m+o.shift(),h=g+o.shift(),t.U.P.curveTo(a,p,v,m,g,f,h),A+=6;"o24"==E&&(f+=o.shift(),h+=o.shift(),t.U.P.lineTo(a,f,h))}else{if("o11"==E)break;if("o1234"==E||"o1235"==E||"o1236"==E||"o1237"==E)"o1234"==E&&(v=h,m=(p=f+o.shift())+o.shift(),_=g=v+o.shift(),b=g,w=h,f=(x=(y=(S=m+o.shift())+o.shift())+o.shift())+o.shift(),t.U.P.curveTo(a,p,v,m,g,S,_),t.U.P.curveTo(a,y,b,x,w,f,h)),"o1235"==E&&(p=f+o.shift(),v=h+o.shift(),m=p+o.shift(),g=v+o.shift(),S=m+o.shift(),_=g+o.shift(),y=S+o.shift(),b=_+o.shift(),x=y+o.shift(),w=b+o.shift(),f=x+o.shift(),h=w+o.shift(),o.shift(),t.U.P.curveTo(a,p,v,m,g,S,_),t.U.P.curveTo(a,y,b,x,w,f,h)),"o1236"==E&&(p=f+o.shift(),v=h+o.shift(),m=p+o.shift(),_=g=v+o.shift(),b=g,x=(y=(S=m+o.shift())+o.shift())+o.shift(),w=b+o.shift(),f=x+o.shift(),t.U.P.curveTo(a,p,v,m,g,S,_),t.U.P.curveTo(a,y,b,x,w,f,h)),"o1237"==E&&(p=f+o.shift(),v=h+o.shift(),m=p+o.shift(),g=v+o.shift(),S=m+o.shift(),_=g+o.shift(),y=S+o.shift(),b=_+o.shift(),x=y+o.shift(),w=b+o.shift(),Math.abs(x-f)>Math.abs(w-h)?f=x+o.shift():h=w+o.shift(),t.U.P.curveTo(a,p,v,m,g,S,_),t.U.P.curveTo(a,y,b,x,w,f,h));else if("o14"==E){if(o.length>0&&!l&&(u=o.shift()+r.nominalWidthX,l=!0),4==o.length){var P=o.shift(),I=o.shift(),O=o.shift(),L=o.shift(),N=t.CFF.glyphBySE(r,O),D=t.CFF.glyphBySE(r,L);t.U._drawCFF(r.CharStrings[N],n,r,i,a),n.x=P,n.y=I,t.U._drawCFF(r.CharStrings[D],n,r,i,a)}c&&(t.U.P.closePath(a),c=!1)}else if("o19"==E||"o20"==E)o.length%2!=0&&!l&&(u=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,l=!0,d+=s+7>>3;else if("o21"==E)o.length>2&&!l&&(u=o.shift()+i.nominalWidthX,l=!0),h+=o.pop(),f+=o.pop(),c&&t.U.P.closePath(a),t.U.P.moveTo(a,f,h),c=!0;else if("o22"==E)o.length>1&&!l&&(u=o.shift()+i.nominalWidthX,l=!0),f+=o.pop(),c&&t.U.P.closePath(a),t.U.P.moveTo(a,f,h),c=!0;else if("o25"==E){for(;o.length>6;)f+=o.shift(),h+=o.shift(),t.U.P.lineTo(a,f,h);p=f+o.shift(),v=h+o.shift(),m=p+o.shift(),g=v+o.shift(),f=m+o.shift(),h=g+o.shift(),t.U.P.curveTo(a,p,v,m,g,f,h)}else if("o26"==E)for(o.length%2&&(f+=o.shift());o.length>0;)p=f,v=h+o.shift(),f=m=p+o.shift(),h=(g=v+o.shift())+o.shift(),t.U.P.curveTo(a,p,v,m,g,f,h);else if("o27"==E)for(o.length%2&&(h+=o.shift());o.length>0;)v=h,m=(p=f+o.shift())+o.shift(),g=v+o.shift(),f=m+o.shift(),h=g,t.U.P.curveTo(a,p,v,m,g,f,h);else if("o10"==E||"o29"==E){var U="o10"==E?i:r;if(0==o.length)console.debug("error: empty stack");else{var F=o.pop(),z=U.Subrs[F+U.Bias];n.x=f,n.y=h,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c,t.U._drawCFF(z,n,r,i,a),f=n.x,h=n.y,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open}}else if("o30"==E||"o31"==E){var B=o.length,j=(A=0,"o31"==E);for(A+=B-(C=-3&B);A<C;)j?(v=h,m=(p=f+o.shift())+o.shift(),h=(g=v+o.shift())+o.shift(),C-A==5?(f=m+o.shift(),A++):f=m,j=!1):(p=f,v=h+o.shift(),m=p+o.shift(),g=v+o.shift(),f=m+o.shift(),C-A==5?(h=g+o.shift(),A++):h=g,j=!0),t.U.P.curveTo(a,p,v,m,g,f,h),A+=4}else{if("o"==(E+"").charAt(0))throw console.debug("Unknown operation: "+E,e),E;o.push(E)}}}n.x=f,n.y=h,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c};var n=t,r={Typr:n};return e.Typr=n,e.default=r,Object.defineProperty(e,"__esModule",{value:!0}),e}({}).Typr},function(){return function(e){var t=Uint8Array,n=Uint16Array,r=Uint32Array,i=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(e,t){for(var i=new n(31),a=0;a<31;++a)i[a]=t+=1<<e[a-1];var o=new r(i[30]);for(a=1;a<30;++a)for(var s=i[a];s<i[a+1];++s)o[s]=s-i[a]<<5|a;return[i,o]},l=s(i,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var d=s(a,0)[0],f=new n(32768),h=0;h<32768;++h){var p=(43690&h)>>>1|(21845&h)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,f[h]=((65280&p)>>>8|(255&p)<<8)>>>1}var v=function(e,t,r){for(var i=e.length,a=0,o=new n(t);a<i;++a)++o[e[a]-1];var s,l=new n(t);for(a=0;a<t;++a)l[a]=l[a-1]+o[a-1]<<1;if(r){s=new n(1<<t);var u=15-t;for(a=0;a<i;++a)if(e[a])for(var c=a<<4|e[a],d=t-e[a],h=l[e[a]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)s[f[h]>>>u]=c}else for(s=new n(i),a=0;a<i;++a)e[a]&&(s[a]=f[l[e[a]-1]++]>>>15-e[a]);return s},m=new t(288);for(h=0;h<144;++h)m[h]=8;for(h=144;h<256;++h)m[h]=9;for(h=256;h<280;++h)m[h]=7;for(h=280;h<288;++h)m[h]=8;var g=new t(32);for(h=0;h<32;++h)g[h]=5;var y=v(m,9,1),b=v(g,5,1),x=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},w=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},S=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},_=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],k=function e(t,n,r){var i=new Error(n||_[t]);if(i.code=t,Error.captureStackTrace&&Error.captureStackTrace(i,e),!r)throw i;return i},E=function(e,s,l){var c=e.length;if(!c||l&&!l.l&&c<5)return s||new t(0);var f=!s||l,h=!l||l.i;l||(l={}),s||(s=new t(3*c));var p,m=function(e){var n=s.length;if(e>n){var r=new t(Math.max(2*n,e));r.set(s),s=r}},g=l.f||0,_=l.p||0,E=l.b||0,C=l.l,M=l.d,T=l.m,R=l.n,A=8*c;do{if(!C){l.f=g=w(e,_,1);var P=w(e,_+1,3);if(_+=3,!P){var I=e[(G=((p=_)/8|0)+(7&p&&1)+4)-4]|e[G-3]<<8,O=G+I;if(O>c){h&&k(0);break}f&&m(E+I),s.set(e.subarray(G,O),E),l.b=E+=I,l.p=_=8*O;continue}if(1==P)C=y,M=b,T=9,R=5;else if(2==P){var L=w(e,_,31)+257,N=w(e,_+10,15)+4,D=L+w(e,_+5,31)+1;_+=14;for(var U=new t(D),F=new t(19),z=0;z<N;++z)F[o[z]]=w(e,_+3*z,7);_+=3*N;var B=x(F),j=(1<<B)-1,H=v(F,B,1);for(z=0;z<D;){var G,V=H[w(e,_,j)];if(_+=15&V,(G=V>>>4)<16)U[z++]=G;else{var W=0,q=0;for(16==G?(q=3+w(e,_,3),_+=2,W=U[z-1]):17==G?(q=3+w(e,_,7),_+=3):18==G&&(q=11+w(e,_,127),_+=7);q--;)U[z++]=W}}var X=U.subarray(0,L),Y=U.subarray(L);T=x(X),R=x(Y),C=v(X,T,1),M=v(Y,R,1)}else k(1);if(_>A){h&&k(0);break}}f&&m(E+131072);for(var K=(1<<T)-1,Z=(1<<R)-1,Q=_;;Q=_){var $=(W=C[S(e,_)&K])>>>4;if((_+=15&W)>A){h&&k(0);break}if(W||k(2),$<256)s[E++]=$;else{if(256==$){Q=_,C=null;break}var J=$-254;if($>264){var ee=i[z=$-257];J=w(e,_,(1<<ee)-1)+u[z],_+=ee}var te=M[S(e,_)&Z],ne=te>>>4;if(te||k(3),_+=15&te,Y=d[ne],ne>3&&(ee=a[ne],Y+=S(e,_)&(1<<ee)-1,_+=ee),_>A){h&&k(0);break}f&&m(E+131072);for(var re=E+J;E<re;E+=4)s[E]=s[E-Y],s[E+1]=s[E+1-Y],s[E+2]=s[E+2-Y],s[E+3]=s[E+3-Y];E=re}}l.l=C,l.p=Q,l.b=E,C&&(g=1,l.m=T,l.d=M,l.n=R)}while(!g);return E==s.length?s:function(e,i,a){(null==i||i<0)&&(i=0),(null==a||a>e.length)&&(a=e.length);var o=new(e instanceof n?n:e instanceof r?r:t)(a-i);return o.set(e.subarray(i,a)),o}(s,0,E)},C=new t(0),M="undefined"!=typeof TextDecoder&&new TextDecoder;try{M.decode(C,{stream:!0})}catch(e){}return e.convert_streams=function(e){var t=new DataView(e),n=0;function r(){var e=t.getUint16(n);return n+=2,e}function i(){var e=t.getUint32(n);return n+=4,e}function a(e){g.setUint16(y,e),y+=2}function o(e){g.setUint32(y,e),y+=4}for(var s={signature:i(),flavor:i(),length:i(),numTables:r(),reserved:r(),totalSfntSize:i(),majorVersion:r(),minorVersion:r(),metaOffset:i(),metaLength:i(),metaOrigLength:i(),privOffset:i(),privLength:i()},l=0;Math.pow(2,l)<=s.numTables;)l++;l--;for(var u=16*Math.pow(2,l),c=16*s.numTables-u,d=12,f=[],h=0;h<s.numTables;h++)f.push({tag:i(),offset:i(),compLength:i(),origLength:i(),origChecksum:i()}),d+=16;var p,v=new Uint8Array(12+16*f.length+f.reduce((function(e,t){return e+t.origLength+4}),0)),m=v.buffer,g=new DataView(m),y=0;return o(s.flavor),a(s.numTables),a(u),a(l),a(c),f.forEach((function(e){o(e.tag),o(e.origChecksum),o(d),o(e.origLength),e.outOffset=d,(d+=e.origLength)%4!=0&&(d+=4-d%4)})),f.forEach((function(t){var n,r=e.slice(t.offset,t.offset+t.compLength);if(t.compLength!=t.origLength){var i=new Uint8Array(t.origLength);n=new Uint8Array(r,2),E(n,i)}else i=new Uint8Array(r);v.set(i,t.outOffset);var a=0;(d=t.outOffset+t.origLength)%4!=0&&(a=4-d%4),v.set(new Uint8Array(a).buffer,t.outOffset+t.origLength),p=d+a})),m.slice(0,p)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(e,t){var n,r={M:2,L:2,Q:4,C:6,Z:0},i={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},a=1,o=2,s=4,l=8,u=16,c=32;function d(e){if(!n){var t={R:o,L:a,D:s,C:u,U:c,T:l};n=new Map;var r=function(e){var r=0;i[e].split(",").forEach((function(i){var a=M(i.split("+"),2),o=a[0],s=a[1];o=parseInt(o,36),s=s?parseInt(s,36):0,n.set(r+=o,t[e]);for(var l=s;l--;)n.set(++r,t[e])}))};for(var d in i)r(d)}return n.get(e)||c}var f=1,h=2,p=3,v=4,m=[null,"isol","init","fina","medi"];function g(e){for(var t=new Uint8Array(e.length),n=c,r=f,i=-1,m=0;m<e.length;m++){var g=e.codePointAt(m),y=0|d(g),b=f;y&l||(n&(a|s|u)?y&(o|s|u)?(b=p,r!==f&&r!==p||t[i]++):y&(a|c)&&(r!==h&&r!==v||t[i]--):n&(o|c)&&(r!==h&&r!==v||t[i]--),r=t[m]=b,n=y,i=m,g>65535&&m++)}return t}function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r++)if("number"===typeof t[r])return t[r]}function b(t){var n=Object.create(null),i=t["OS/2"],a=t.hhea,o=t.head.unitsPerEm,s=y(i&&i.sTypoAscender,a&&a.ascender,o),l={unitsPerEm:o,ascender:s,descender:y(i&&i.sTypoDescender,a&&a.descender,0),capHeight:y(i&&i.sCapHeight,s),xHeight:y(i&&i.sxHeight,s),lineGap:y(i&&i.sTypoLineGap,a&&a.lineGap),forEachGlyph:function(i,a,o,s){var u=0,c=1/l.unitsPerEm*a,d=function(t,n){for(var r=[],i=0;i<n.length;i++){var a=n.codePointAt(i);a>65535&&i++,r.push(e.U.codeToGlyph(t,a))}var o=t.GSUB;if(o){var s,l=o.lookupList,u=o.featureList,c=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,d=[];u.forEach((function(t){if(c.test(t.tag))for(var i=0;i<t.tab.length;i++)if(!d[t.tab[i]]){d[t.tab[i]]=!0;var a=l[t.tab[i]],o=/^(isol|init|fina|medi)$/.test(t.tag);o&&!s&&(s=g(n));for(var u=0;u<r.length;u++)s&&o&&m[s[u]]!==t.tag||e.U._applySubs(r,u,a,l)}}))}return r}(t,i),f=0,h=-1;return d.forEach((function(l,d){if(-1!==l){var p=n[l];if(!p){for(var v,m,g,y,b=e.U.glyphToPath(t,l),x=b.cmds,w=b.crds,S="",_=0,k=0,E=x.length;k<E;k++){var C=r[x[k]];S+=x[k];for(var M=1;M<=C;M++)S+=(M>1?",":"")+w[_++]}if(w.length){v=m=1/0,g=y=-1/0;for(var T=0,R=w.length;T<R;T+=2){var A=w[T],P=w[T+1];A<v&&(v=A),P<m&&(m=P),A>g&&(g=A),P>y&&(y=P)}}else v=g=m=y=0;p=n[l]={index:l,advanceWidth:t.hmtx.aWidth[l],xMin:v,yMin:m,xMax:g,yMax:y,path:S,pathCommandCount:x.length}}-1!==h&&(u+=e.U.getPairAdjustment(t,h,l)*c),s.call(null,p,u,f),p.advanceWidth&&(u+=p.advanceWidth*c),o&&(u+=o*a),h=l}f+=i.codePointAt(f)>65535?2:1})),u}};return l}return function(n){var r=new Uint8Array(n,0,4),i=e._bin.readASCII(r,0,4);if("wOFF"===i)n=t(n);else if("wOF2"===i)throw new Error("woff2 fonts not supported");return b(e.parse(n)[0])}}],init:function(e,t,n){return n(e(),t())}}),pz={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},vz=new Xw;function mz(){return(self.performance||Date).now()}var gz,yz=Object.create(null);function bz(e,t){!0,e=wz({},e);var n=mz();if(e.font=function(e){gz||(gz="undefined"===typeof document?{}:document.createElement("a"));return gz.href=e,gz.href}(e.font||pz.defaultFontURL),e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||pz.sdfGlyphSize,null!=e.colorRanges){var r={};for(var i in e.colorRanges)if(e.colorRanges.hasOwnProperty(i)){var a=e.colorRanges[i];"number"!==typeof a&&(a=vz.set(a).getHex()),r[i]=a}e.colorRanges=r}Object.freeze(e);var o=pz.textureWidth,s=pz.sdfExponent,l=e.sdfGlyphSize,u=o/l*4,c=yz[l];if(!c){var d=document.createElement("canvas");d.width=o,d.height=256*l/u,(c=yz[l]={glyphCount:0,sdfGlyphSize:l,sdfCanvas:d,sdfTexture:new yx(d,void 0,void 0,void 0,kg,kg),contextLost:!1,glyphsByFont:new Map}).sdfTexture.generateMipmaps=!1,function(e){var t=e.sdfCanvas;t.addEventListener("webglcontextlost",(function(t){console.log("Context Lost",t),t.preventDefault(),e.contextLost=!0})),t.addEventListener("webglcontextrestored",(function(t){console.log("Context Restored",t),e.contextLost=!1;var n=[];e.glyphsByFont.forEach((function(t){t.forEach((function(t){n.push(xz(t,e,!0))}))})),Promise.all(n).then((function(){Sz(e),e.sdfTexture.needsUpdate=!0}))}))}(c)}var f=c,h=f.sdfTexture,p=f.sdfCanvas,v=c.glyphsByFont.get(e.font);v||c.glyphsByFont.set(e.font,v=new Map),kz(e).then((function(r){var i=r.glyphIds,a=r.glyphPositions,d=r.fontSize,f=r.unitsPerEm,m=r.timings,g=[],y=new Float32Array(4*i.length),b=d/f,x=0,w=0,S=mz();i.forEach((function(e,t){var n=v.get(e);if(!n){var o=r.glyphData[e],s=o.path,u=o.pathBounds,d=Math.max(u[2]-u[0],u[3]-u[1])/l*(pz.sdfMargin*l+.5),f=c.glyphCount++,h=[u[0]-d,u[1]-d,u[2]+d,u[3]+d];v.set(e,n={path:s,atlasIndex:f,sdfViewBox:h}),g.push(n)}var p=n.sdfViewBox,m=a[w++],S=a[w++];y[x++]=m+p[0]*b,y[x++]=S+p[1]*b,y[x++]=m+p[2]*b,y[x++]=S+p[3]*b,i[t]=n.atlasIndex})),m.quads=(m.quads||0)+(mz()-S);var _=mz();m.sdf={};var k=p.height,E=Math.ceil(c.glyphCount/u),C=Math.pow(2,Math.ceil(Math.log2(E*l)));C>k&&(console.info("Increasing SDF texture size ".concat(k,"->").concat(C)),fz(p,o,C),h.dispose()),Promise.all(g.map((function(t){return xz(t,c,e.gpuAccelerateSDF).then((function(e){var n=e.timing;m.sdf[t.atlasIndex]=n}))}))).then((function(){g.length&&!c.contextLost&&(Sz(c),h.needsUpdate=!0),m.sdfTotal=mz()-_,m.total=mz()-n,t(Object.freeze({parameters:e,sdfTexture:h,sdfGlyphSize:l,sdfExponent:s,glyphBounds:y,glyphAtlasIndices:i,glyphColors:r.glyphColors,caretPositions:r.caretPositions,caretHeight:r.caretHeight,chunkedBounds:r.chunkedBounds,ascender:r.ascender,descender:r.descender,lineHeight:r.lineHeight,capHeight:r.capHeight,xHeight:r.xHeight,topBaseline:r.topBaseline,blockBounds:r.blockBounds,visibleBounds:r.visibleBounds,timings:r.timings}))}))})),Promise.resolve().then((function(){c.contextLost||function(e){e._warm||(nz.webgl.isSupported(e),e._warm=!0)}(p)}))}function xz(e,t,n){var r=e.path,i=e.atlasIndex,a=e.sdfViewBox,o=t.sdfGlyphSize,s=t.sdfCanvas;if(t.contextLost)return Promise.resolve({timing:-1});var l=pz.textureWidth,u=pz.sdfExponent,c=Math.max(a[2]-a[0],a[3]-a[1]),d=Math.floor(i/4);return function(e,t,n,r,i,a,o,s,l,u){return arguments.length>10&&void 0!==arguments[10]&&!arguments[10]?dz(e,t,n,r,i,a,o,s,l,u):oz(e,t,n,r,i,a,o,s,l,u).then(null,(function(c){return ez||(console.warn("WebGL SDF generation failed, falling back to JS",c),ez=!0),dz(e,t,n,r,i,a,o,s,l,u)}))}(o,o,r,a,c,u,s,d%(l/o)*o,Math.floor(d/(l/o))*o,i%4,n)}function wz(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Sz(e){if("function"!==typeof createImageBitmap){console.info("Safari<15: applying SDF canvas workaround");var t=e.sdfCanvas,n=e.sdfTexture,r=t.width,i=t.height,a=e.sdfCanvas.getContext("webgl"),o=n.image.data;o&&o.length===r*i*4||(o=new Uint8Array(r*i*4),n.image={width:r,height:i,data:o},n.flipY=!1,n.isDataTexture=!0),a.readPixels(0,0,r,i,a.RGBA,a.UNSIGNED_BYTE,o)}}var _z=NF({name:"Typesetter",dependencies:[pz,hz,function(e,t,n){var r=n.defaultFontURL,i=Object.create(null),a=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,s="[^\\S\\u00A0]",l=new RegExp("".concat(s,"|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]"));function u(t,n){t||(t=r);var a=i[t];a?a.pending?a.pending.push(n):n(a):(i[t]={pending:[n]},function(t,n){!function i(){var a=function(e){console.error("Failure loading font ".concat(t).concat(t===r?"":"; trying fallback"),e),t!==r&&(t=r,i())};try{var o=new XMLHttpRequest;o.open("get",t,!0),o.responseType="arraybuffer",o.onload=function(){if(o.status>=400)a(new Error(o.statusText));else if(o.status>0)try{var t=e(o.response);n(t)}catch(Ine){a(Ine)}},o.onerror=a,o.send()}catch(s){a(s)}}()}(t,(function(e){var n=i[t].pending;i[t]=e,n.forEach((function(t){return t(e)}))})))}function c(e,n){var i=e.text,c=void 0===i?"":i,v=e.font,m=void 0===v?r:v,g=(e.sdfGlyphSize,e.fontSize),y=void 0===g?1:g,b=e.letterSpacing,x=void 0===b?0:b,w=e.lineHeight,S=void 0===w?"normal":w,_=e.maxWidth,k=void 0===_?a:_,E=e.direction,C=e.textAlign,T=void 0===C?"left":C,R=e.textIndent,A=void 0===R?0:R,P=e.whiteSpace,I=void 0===P?"normal":P,O=e.overflowWrap,L=void 0===O?"normal":O,N=e.anchorX,D=void 0===N?0:N,U=e.anchorY,F=void 0===U?0:U,z=e.includeCaretPositions,B=void 0!==z&&z,j=e.chunkedBoundsSize,H=void 0===j?8192:j,G=e.colorRanges,V=void 0===G?null:G,W=arguments.length>2&&void 0!==arguments[2]&&arguments[2],q=h(),X={fontLoad:0,typesetting:0};c.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),c=c.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),y=+y,x=+x,k=+k,S=S||"normal",A=+A,u(m,(function(e){var r=isFinite(k),i=null,u=null,v=null,m=null,g=null,b=null,w=null,_=0,C=0,R="nowrap"!==I,P=e.ascender,O=e.descender,N=e.unitsPerEm,U=e.lineGap,z=e.capHeight,j=e.xHeight;X.fontLoad=h()-q;var G=h(),Y=y/N;"normal"===S&&(S=(P-O+U)/N);var K=((S*=y)-(P-O)*Y)/2,Z=-(P*Y+K),Q=Math.min(S,(P-O)*Y),$=(P+O)/2*Y-Q/2,J=A,ee=new p,te=[ee];e.forEachGlyph(c,y,x,(function(e,t,n){var i,a=c.charAt(n),u=e.advanceWidth*Y,d=ee.count;if("isEmpty"in e||(e.isWhitespace=!!a&&new RegExp(s).test(a),e.canBreakAfter=!!a&&l.test(a),e.isEmpty=e.xMin===e.xMax||e.yMin===e.yMax||o.test(a)),e.isWhitespace||e.isEmpty||C++,R&&r&&!e.isWhitespace&&t+u+J>k&&d){if(ee.glyphAt(d-1).glyphObj.canBreakAfter)i=new p,J=-t;else for(var f=d;f--;){if(0===f&&"break-word"===L){i=new p,J=-t;break}if(ee.glyphAt(f).glyphObj.canBreakAfter){var h=(i=ee.splitAt(f+1)).glyphAt(0).x;J-=h;for(var v=i.count;v--;)i.glyphAt(v).x-=h;break}}i&&(ee.isSoftWrapped=!0,ee=i,te.push(ee),_=k)}var m=ee.glyphAt(ee.count);m.glyphObj=e,m.x=t+J,m.width=u,m.charIndex=n,"\n"===a&&(ee=new p,te.push(ee),J=-(t+u+x*y)+A)})),te.forEach((function(e){for(var t=e.count;t--;){var n=e.glyphAt(t),r=n.glyphObj,i=n.x,a=n.width;if(!r.isWhitespace)return e.width=i+a,void(e.width>_&&(_=e.width))}}));var ne=0,re=0;if(D&&("number"===typeof D?ne=-D:"string"===typeof D&&(ne=-_*("left"===D?0:"center"===D?.5:"right"===D?1:d(D)))),F)if("number"===typeof F)re=-F;else if("string"===typeof F){var ie=te.length*S;re="top"===F?0:"top-baseline"===F?-Z:"top-cap"===F?-Z-z*Y:"top-ex"===F?-Z-j*Y:"middle"===F?ie/2:"bottom"===F?ie:"bottom-baseline"===F?ie-K+O*Y:d(F)*ie}if(!W){var ae=t.getEmbeddingLevels(c,E);i=new Uint16Array(C),u=new Float32Array(2*C),v={},b=[a,a,-a,-a],w=[];var oe=Z;B&&(g=new Float32Array(3*c.length)),V&&(m=new Uint8Array(3*C));var se,le,ue=0,ce=-1,de=-1;if(te.forEach((function(n,r){var o=n.count,s=n.width;if(o>0){for(var l=0,d=o;d--&&n.glyphAt(d).glyphObj.isWhitespace;)l++;var h=0,p=0;if("center"===T)h=(_-s)/2;else if("right"===T)h=_-s;else if("justify"===T&&n.isSoftWrapped){for(var y=0,x=o-l;x--;)n.glyphAt(x).glyphObj.isWhitespace&&y++;p=(_-s)/y}if(p||h)for(var k=0,E=0;E<o;E++){var C=n.glyphAt(E),R=C.glyphObj;C.x+=h+k,0!==p&&R.isWhitespace&&E<o-l&&(k+=p,C.width+=p)}for(var A,P=t.getReorderSegments(c,ae,n.glyphAt(0).charIndex,n.glyphAt(n.count-1).charIndex),I=0;I<P.length;I++)for(var O=M(P[I],2),L=O[0],N=O[1],D=1/0,U=-1/0,F=0;F<o;F++)if(n.glyphAt(F).charIndex>=L){for(var z=F,j=F;j<o;j++){var G=n.glyphAt(j);if(G.charIndex>N)break;j<o-l&&(D=Math.min(D,G.x),U=Math.max(U,G.x+G.width))}for(var W=z;W<j;W++){var q=n.glyphAt(W);q.x=U-(q.x+q.width-D)}break}for(var X=function(e){return A=e},K=0;K<o;K++){var Z=n.glyphAt(K),Q=(A=Z.glyphObj).index,J=1&ae.levels[Z.charIndex];if(J){var ee=t.getMirroredCharacter(c[Z.charIndex]);ee&&e.forEachGlyph(ee,0,0,X)}if(B){var te=Z.charIndex,ie=Z.x+ne,fe=Z.x+Z.width+ne;g[3*te]=J?fe:ie,g[3*te+1]=J?ie:fe,g[3*te+2]=oe+$+re;var he=te-ce;he>1&&f(g,ce,he),ce=te}if(V)for(var pe=Z.charIndex;pe>de;)de++,V.hasOwnProperty(de)&&(le=V[de]);if(!A.isWhitespace&&!A.isEmpty){var ve=ue++;v[Q]||(v[Q]={path:A.path,pathBounds:[A.xMin,A.yMin,A.xMax,A.yMax]});var me=Z.x+ne,ge=oe+re;u[2*ve]=me,u[2*ve+1]=ge;var ye=me+A.xMin*Y,be=ge+A.yMin*Y,xe=me+A.xMax*Y,we=ge+A.yMax*Y;ye<b[0]&&(b[0]=ye),be<b[1]&&(b[1]=be),xe>b[2]&&(b[2]=xe),we>b[3]&&(b[3]=we),ve%H===0&&(se={start:ve,end:ve,rect:[a,a,-a,-a]},w.push(se)),se.end++;var Se=se.rect;if(ye<Se[0]&&(Se[0]=ye),be<Se[1]&&(Se[1]=be),xe>Se[2]&&(Se[2]=xe),we>Se[3]&&(Se[3]=we),i[ve]=Q,V){var _e=3*ve;m[_e]=le>>16&255,m[_e+1]=le>>8&255,m[_e+2]=255&le}}}}oe-=S})),g){var fe=c.length-ce;fe>1&&f(g,ce,fe)}}X.typesetting=h()-G,n({glyphIds:i,glyphPositions:u,glyphData:v,caretPositions:g,caretHeight:Q,glyphColors:m,chunkedBounds:w,fontSize:y,unitsPerEm:N,ascender:P*Y,descender:O*Y,capHeight:z*Y,xHeight:j*Y,lineHeight:S,topBaseline:Z,blockBounds:[ne,re-te.length*S,ne+_,re],visibleBounds:b,timings:X})}))}function d(e){var t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function f(e,t,n){for(var r=e[3*t],i=e[3*t+1],a=e[3*t+2],o=(i-r)/n,s=0;s<n;s++){var l=3*(t+s);e[l]=r+o*s,e[l+1]=r+o*(s+1),e[l+2]=a}}function h(){return(self.performance||Date).now()}function p(){this.data=[]}var v=["glyphObj","x","width","charIndex"];return p.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/v.length)},glyphAt:function(e){var t=p.flyweight;return t.data=this.data,t.index=e,t},splitAt:function(e){var t=new p;return t.data=this.data.splice(e*v.length),t}},p.flyweight=v.reduce((function(e,t,n,r){return Object.defineProperty(e,t,{get:function(){return this.data[this.index*v.length+n]},set:function(e){this.data[this.index*v.length+n]=e}}),e}),{data:null,index:0}),{typeset:c,measure:function(e,t){c(e,(function(e){var n=M(e.blockBounds,4),r=n[0],i=n[1],a=n[2],o=n[3];t({width:a-r,height:o-i})}),{metricsOnly:!0})},loadFont:u}},zF],init:function(e,t,n,r){var i=e.defaultFontURL;return n(t,r(),{defaultFontURL:i})}}),kz=NF({name:"Typesetter",dependencies:[_z],init:function(e){return function(t){return new Promise((function(n){e.typeset(t,n)}))}},getTransferables:function(e){var t=[e.glyphPositions.buffer,e.glyphIds.buffer];return e.caretPositions&&t.push(e.caretPositions.buffer),e.glyphColors&&t.push(e.glyphColors.buffer),t}});var Ez={};var Cz="aTroikaGlyphIndex",Mz=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.call(this)).detail=1,e.curveRadius=0,e.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],e.boundingSphere=new Yx,e.boundingBox=new Ax,e}return Ks(n,[{key:"computeBoundingSphere",value:function(){}},{key:"computeBoundingBox",value:function(){}},{key:"setSide",value:function(e){var t=this.getIndex().count;this.setDrawRange(e===Sm?t/2:0,e===_m?t:t/2)}},{key:"detail",get:function(){return this._detail},set:function(e){var t=this;if(e!==this._detail){this._detail=e,("number"!==typeof e||e<1)&&(e=1);var n=function(e){var t=Ez[e];if(!t){for(var n=new l_(1,1,e,e),r=n.clone(),i=n.attributes,a=r.attributes,o=new wS,s=i.uv.count,l=0;l<s;l++)a.position.array[3*l]*=-1,a.normal.array[3*l+2]*=-1;["position","normal","uv"].forEach((function(e){o.setAttribute(e,new fS([].concat(k(i[e].array),k(a[e].array)),i[e].itemSize))})),o.setIndex([].concat(k(n.index.array),k(r.index.array.map((function(e){return e+s}))))),o.translate(.5,.5,0),t=Ez[e]=o}return t}(e);["position","normal","uv"].forEach((function(e){t.attributes[e]=n.attributes[e].clone()})),this.setIndex(n.getIndex().clone())}}},{key:"curveRadius",get:function(){return this._curveRadius},set:function(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}},{key:"updateGlyphs",value:function(e,t,n,r,i){Tz(this,"aTroikaGlyphBounds",e,4),Tz(this,Cz,t,1),Tz(this,"aTroikaGlyphColor",i,3),this._blockBounds=n,this._chunkedBounds=r,this.instanceCount=t.length,this._updateBounds()}},{key:"_updateBounds",value:function(){var e=this._blockBounds;if(e){var t=this.curveRadius,n=this.boundingBox;if(t){var r=Math.PI,i=Math.floor,a=Math.min,o=Math.max,s=Math.sin,l=Math.cos,u=r/2,c=2*r,d=Math.abs(t),f=e[0]/d,h=e[2]/d,p=i((f+u)/c)!==i((h+u)/c)?-d:a(s(f)*d,s(h)*d),v=i((f-u)/c)!==i((h-u)/c)?d:o(s(f)*d,s(h)*d),m=i((f+r)/c)!==i((h+r)/c)?2*d:o(d-l(f)*d,d-l(h)*d);n.min.set(p,e[1],t<0?-m:0),n.max.set(v,e[3],t<0?0:m)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}},{key:"applyClipRect",value:function(e){var t=this.getAttribute(Cz).count,n=this._chunkedBounds;if(n)for(var r=n.length;r--;){t=n[r].end;var i=n[r].rect;if(i[1]<e.w&&i[3]>e.y&&i[0]<e.z&&i[2]>e.x)break}this.instanceCount=t}}]),n}(zR);function Tz(e,t,n,r){var i=e.getAttribute(t);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(e.setAttribute(t,new CC(n,r)),delete e._maxInstanceCount,e.dispose()):i&&e.deleteAttribute(t)}var Rz="\nvec4 bounds = aTroikaGlyphBounds;\nbounds.xz += uTroikaPositionOffset.x;\nbounds.yw -= uTroikaPositionOffset.y;\n\nvec4 outlineBounds = vec4(\n  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,\n  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius\n);\nvec4 clippedBounds = vec4(\n  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\n\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);\n\nfloat rad = uTroikaCurveRadius;\nif (rad != 0.0) {\n  float angle = position.x / rad;\n  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);\n  normal.xz = vec2(sin(angle), cos(angle));\n}\n  \nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n\nvTroikaGlyphUV = clippedXY.xy;\nvTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);\n\n".concat("\nfloat txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\nvec2 txStartUV = txUvPerSquare * vec2(\n  mod(floor(aTroikaGlyphIndex / 4.0), txCols),\n  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)\n);\nvTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);\nvTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);\n"),Az="\nuniform sampler2D uTroikaSDFTexture;\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform float uTroikaSDFExponent;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaFillOpacity;\nuniform float uTroikaOutlineOpacity;\nuniform float uTroikaBlurRadius;\nuniform vec3 uTroikaStrokeColor;\nuniform float uTroikaStrokeWidth;\nuniform float uTroikaStrokeOpacity;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec2 vTroikaGlyphDimensions;\n\nfloat troikaSdfValueToSignedDistance(float alpha) {\n  // Inverse of exponential encoding in webgl-sdf-generator\n  ".concat("\n  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);\n  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;\n  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);\n  return signedDist;\n}\n\nfloat troikaGlyphUvToSdfValue(vec2 glyphUV) {\n  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);\n  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);\n  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1\n  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;\n}\n\nfloat troikaGlyphUvToDistance(vec2 uv) {\n  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));\n}\n\nfloat troikaGetAADist() {\n  ","\n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;\n  #else\n  return vTroikaGlyphDimensions.x / 64.0;\n  #endif\n}\n\nfloat troikaGetFragDistValue() {\n  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);\n  float distance = troikaGlyphUvToDistance(clampedGlyphUV);\n \n  // Extrapolate distance when outside bounds:\n  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : \n    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);\n\n  ","\n\n  return distance;\n}\n\nfloat troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {\n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(-distanceOffset, -distance);\n  #else\n\n  float alpha = smoothstep(\n    distanceOffset + aaDist,\n    distanceOffset - aaDist,\n    distance\n  );\n  #endif\n\n  return alpha;\n}\n");var Pz=new Kw({color:16777215,side:_m,transparent:!0}),Iz=8421504,Oz=new rw,Lz=new Mx,Nz=new Mx,Dz=[],Uz=new Mx,Fz="+x+y";function zz(e){return Array.isArray(e)?e[0]:e}var Bz=function(){var e=new zS(new l_(1,1),Pz);return Bz=function(){return e},e},jz=function(){var e=new zS(new l_(1,1,32,1),Pz);return jz=function(){return e},e},Hz={type:"syncstart"},Gz={type:"synccomplete"},Vz=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Wz=Vz.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail"),qz=function(e){tm(n,e);var t=im(n);function n(){var e;Xs(this,n);var r=new Mz;return(e=t.call(this,r,null)).text="",e.anchorX=0,e.anchorY=0,e.curveRadius=0,e.direction="auto",e.font=null,e.fontSize=.1,e.letterSpacing=0,e.lineHeight="normal",e.maxWidth=1/0,e.overflowWrap="normal",e.textAlign="left",e.textIndent=0,e.whiteSpace="normal",e.material=null,e.color=null,e.colorRanges=null,e.outlineWidth=0,e.outlineColor=0,e.outlineOpacity=1,e.outlineBlur=0,e.outlineOffsetX=0,e.outlineOffsetY=0,e.strokeWidth=0,e.strokeColor=Iz,e.strokeOpacity=1,e.fillOpacity=1,e.depthOffset=0,e.clipRect=null,e.orientation=Fz,e.glyphGeometryDetail=1,e.sdfGlyphSize=null,e.gpuAccelerateSDF=!0,e.debugSDF=!1,e}return Ks(n,[{key:"sync",value:function(e){var t=this;this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(Hz),bz({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},(function(n){t._isSyncing=!1,t._textRenderInfo=n,t.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);var r=t._queuedSyncs;r&&(t._queuedSyncs=null,t._needsSync=!0,t.sync((function(){r.forEach((function(e){return e&&e()}))}))),t.dispatchEvent(Gz),e&&e()}))))}},{key:"onBeforeRender",value:function(e,t,n,r,i,a){this.sync(),i.isTroikaTextMaterial&&this._prepareForRender(i),i._hadOwnSide=i.hasOwnProperty("side"),this.geometry.setSide(i._actualSide=i.side),i.side=wm}},{key:"onAfterRender",value:function(e,t,n,r,i,a){i._hadOwnSide?i.side=i._actualSide:delete i.side}},{key:"dispose",value:function(){this.geometry.dispose()}},{key:"textRenderInfo",get:function(){return this._textRenderInfo||null}},{key:"material",get:function(){var e=this._derivedMaterial,t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=Pz.clone());if(e&&e.baseMaterial===t||(e=this._derivedMaterial=function(e){var t=KF(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Zb},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new bx(0,0,0,0)},uTroikaClipRect:{value:new bx(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Zb},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Xw},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Qb},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:"\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaBlurRadius;\nuniform vec2 uTroikaPositionOffset;\nuniform float uTroikaCurveRadius;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec3 vTroikaGlyphColor;\nvarying vec2 vTroikaGlyphDimensions;\n",vertexTransform:Rz,fragmentDefs:Az,fragmentColorTransform:"\nfloat aaDist = troikaGetAADist();\nfloat fragDistance = troikaGetFragDistValue();\nfloat edgeAlpha = uTroikaSDFDebug ?\n  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :\n  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));\n\n#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)\nvec4 fillRGBA = gl_FragColor;\nfillRGBA.a *= uTroikaFillOpacity;\nvec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);\nif (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;\ngl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(\n  -uTroikaStrokeWidth - aaDist,\n  -uTroikaStrokeWidth + aaDist,\n  fragDistance\n));\ngl_FragColor.a *= edgeAlpha;\n#endif\n\nif (edgeAlpha == 0.0) {\n  discard;\n}\n",customRewriter:function(e){var t=e.vertexShader,n=e.fragmentShader,r=/\buniform\s+vec3\s+diffuse\b/;return r.test(n)&&(n=n.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(t)||(t=t.replace(BF,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:t,fragmentShader:n}}});return t.transparent=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get:function(){return this.side},set:function(){}}}),t}(t),t.addEventListener("dispose",(function n(){t.removeEventListener("dispose",n),e.dispose()}))),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){var n=e._outlineMtl;return n||((n=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}})).isTextOutlineMaterial=!0,n.depthWrite=!1,n.map=null,e.addEventListener("dispose",(function t(){e.removeEventListener("dispose",t),n.dispose()}))),[n,e]}return e},set:function(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}},{key:"glyphGeometryDetail",get:function(){return this.geometry.detail},set:function(e){this.geometry.detail=e}},{key:"curveRadius",get:function(){return this.geometry.curveRadius},set:function(e){this.geometry.curveRadius=e}},{key:"customDepthMaterial",get:function(){return zz(this.material).getDepthMaterial()}},{key:"customDistanceMaterial",get:function(){return zz(this.material).getDistanceMaterial()}},{key:"_prepareForRender",value:function(e){var t=e.isTextOutlineMaterial,n=e.uniforms,r=this.textRenderInfo;if(r){var i=r.sdfTexture,a=r.blockBounds;n.uTroikaSDFTexture.value=i,n.uTroikaSDFTextureSize.value.set(i.image.width,i.image.height),n.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,n.uTroikaSDFExponent.value=r.sdfExponent,n.uTroikaTotalBounds.value.fromArray(a),n.uTroikaUseGlyphColors.value=!t&&!!r.glyphColors;var o,s,l,u=0,c=0,d=0,f=0,h=0;if(t){var p=this.outlineWidth,v=this.outlineOffsetX,m=this.outlineOffsetY,g=this.outlineBlur,y=this.outlineOpacity;u=this._parsePercent(p)||0,c=Math.max(0,this._parsePercent(g)||0),o=y,f=this._parsePercent(v)||0,h=this._parsePercent(m)||0}else(d=Math.max(0,this._parsePercent(this.strokeWidth)||0))&&(l=this.strokeColor,n.uTroikaStrokeColor.value.set(null==l?Iz:l),null==(s=this.strokeOpacity)&&(s=1)),o=this.fillOpacity;n.uTroikaDistanceOffset.value=u,n.uTroikaPositionOffset.value.set(f,h),n.uTroikaBlurRadius.value=c,n.uTroikaStrokeWidth.value=d,n.uTroikaStrokeOpacity.value=s,n.uTroikaFillOpacity.value=null==o?1:o,n.uTroikaCurveRadius.value=this.curveRadius||0;var b=this.clipRect;if(b&&Array.isArray(b)&&4===b.length)n.uTroikaClipRect.value.fromArray(b);else{var x=100*(this.fontSize||.1);n.uTroikaClipRect.value.set(a[0]-x,a[1]-x,a[2]+x,a[3]+x)}this.geometry.applyClipRect(n.uTroikaClipRect.value)}n.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;var w=t?this.outlineColor||0:this.color;if(null==w)delete e.color;else{var S=e.hasOwnProperty("color")?e.color:e.color=new Xw;w===S._input&&"object"!==typeof w||S.set(S._input=w)}var _=this.orientation||Fz;if(_!==e._orientation){var k=n.uTroikaOrient.value,E=(_=_.replace(/[^-+xyz]/g,""))!==Fz&&_.match(/^([-+])([xyz])([-+])([xyz])$/);if(E){var C=M(E,5),T=C[1],R=C[2],A=C[3],P=C[4];Lz.set(0,0,0)[R]="-"===T?1:-1,Nz.set(0,0,0)[P]="-"===A?-1:1,Oz.lookAt(Uz,Lz.cross(Nz),Nz),k.setFromMatrix4(Oz)}else k.identity();e._orientation=_}}},{key:"_parsePercent",value:function(e){if("string"===typeof e){var t=e.match(/^(-?[\d.]+)%$/),n=t?parseFloat(t[1]):NaN;e=(isNaN(n)?0:n/100)*this.fontSize}return e}},{key:"localPositionToTextCoords",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zb;t.copy(e);var n=this.curveRadius;return n&&(t.x=Math.atan2(e.x,Math.abs(n)-Math.abs(e.z))*Math.abs(n)),t}},{key:"worldPositionToTextCoords",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zb;return Lz.copy(e),this.localPositionToTextCoords(this.worldToLocal(Lz),t)}},{key:"raycast",value:function(e,t){var n=this.textRenderInfo,r=this.curveRadius;if(n){for(var i=n.blockBounds,a=r?jz():Bz(),o=a.geometry,s=o.attributes,l=s.position,u=s.uv,c=0;c<u.count;c++){var d=i[0]+u.getX(c)*(i[2]-i[0]),f=i[1]+u.getY(c)*(i[3]-i[1]),h=0;r&&(h=r-Math.cos(d/r)*r,d=Math.sin(d/r)*r),l.setXYZ(c,d,f,h)}o.boundingSphere=this.geometry.boundingSphere,o.boundingBox=this.geometry.boundingBox,a.matrixWorld=this.matrixWorld,a.material.side=this.material.side,Dz.length=0,a.raycast(e,Dz);for(var p=0;p<Dz.length;p++)Dz[p].object=this,t.push(Dz[p])}}},{key:"copy",value:function(e){var t=this,r=this.geometry;return lm(nm(n.prototype),"copy",this).call(this,e),this.geometry=r,Wz.forEach((function(n){t[n]=e[n]})),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(zS);Vz.forEach((function(e){var t="_private_"+e;Object.defineProperty(qz.prototype,e,{get:function(){return this[t]},set:function(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})}));new WeakMap;new WeakMap;var Xz=["sdfGlyphSize","anchorX","anchorY","font","fontSize","children","characters","onSync"],Yz=t.forwardRef((function(e,n){var r=e.sdfGlyphSize,i=void 0===r?64:r,a=e.anchorX,o=void 0===a?"center":a,s=e.anchorY,l=void 0===s?"middle":s,c=e.font,d=e.fontSize,f=void 0===d?1:d,h=e.children,p=e.characters,v=e.onSync,m=Zv(e,Xz),g=TI((function(e){return e.invalidate})),y=M(t.useState((function(){return new qz})),1)[0],b=t.useMemo((function(){var e=[],n="";return t.Children.forEach(h,(function(t){"string"===typeof t||"number"===typeof t?n+=t:e.push(t)})),[e,n]}),[h]),x=M(b,2),w=x[0],S=x[1];return IP((function(){return new Promise((function(e){return function(e,t){var n=e.font,r=e.characters;bz({font:n,sdfGlyphSize:e.sdfGlyphSize,text:Array.isArray(r)?r.join("\n"):""+r},t)}({font:c,characters:p},e)}))}),["troika-text",c,p]),t.useLayoutEffect((function(){y.sync((function(){g(),v&&v(y)}))})),t.useEffect((function(){return function(){return y.dispose()}}),[y]),t.createElement("primitive",u({object:y,ref:n,font:c,text:S,anchorX:o,anchorY:l,fontSize:f,sdfGlyphSize:i},m),w)}));n(7235),"KTX-Parse v".concat("0.4.5"),new Uint8Array([0]);var Kz,Zz,Qz;Object.defineProperty;var $z=function(e,t){return e[t]},Jz=function(e,t){var n=null!==e[0].index,r=new Set(Object.keys(e[0].attributes)),i=new Set(Object.keys(e[0].morphAttributes)),a={},o={},s=e[0].morphTargetsRelative,l=new wS,u=0;if(e.forEach((function(e,c){var d=0;if(n!==(null!==e.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(var f in e.attributes){if(!r.has(f))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+'. All geometries must have compatible attributes; make sure "'+f+'" attribute exists among all geometries, or in none of them.'),null;void 0===a[f]&&(a[f]=[]),a[f].push(e.attributes[f]),d++}if(d!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+". Make sure all geometries have the same number of attributes."),null;if(s!==e.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(var h in e.morphAttributes){if(!i.has(h))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===o[h]&&(o[h]=[]),o[h].push(e.morphAttributes[h])}if(l.userData.mergedUserData=l.userData.mergedUserData||[],l.userData.mergedUserData.push(e.userData),t){var p;if(e.index)p=e.index.count;else{if(void 0===e.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+". The geometry must have either an index or a position attribute"),null;p=e.attributes.position.count}l.addGroup(u,p,c),u+=p}})),n){var c=0,d=[];e.forEach((function(e){for(var t=e.index,n=0;n<t.count;++n)d.push(t.getX(n)+c);c+=e.attributes.position.count})),l.setIndex(d)}for(var f in a){var h=eB(a[f]);if(!h)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+f+" attribute."),null;l.setAttribute(f,h)}for(var p in o){var v=o[p][0].length;if(0===v)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[p]=[];for(var m=0;m<v;++m){for(var g=[],y=0;y<o[p].length;++y)g.push(o[p][y][m]);var b=eB(g);if(!b)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+p+" morphAttribute."),null;l.morphAttributes[p].push(b)}}return l},eB=function(e){var t=void 0,n=void 0,r=void 0,i=0;if(e.forEach((function(e){return void 0===t&&(t=e.array.constructor),t!==e.array.constructor?(console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null):(void 0===n&&(n=e.itemSize),n!==e.itemSize?(console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null):(void 0===r&&(r=e.normalized),r!==e.normalized?(console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null):void(i+=e.array.length)))})),t&&n){var a=new t(i),o=0;return e.forEach((function(e){a.set(e.array,o),o+=e.array.length})),new rS(a,n,r)}};function tB(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;Math.max(t,Number.EPSILON);for(var n={},r=e.getIndex(),i=e.getAttribute("position"),a=r?r.count:i.count,o=0,s=Object.keys(e.attributes),l={},u={},c=[],d=["getX","getY","getZ","getW"],f=0,h=s.length;f<h;f++){var p=s[f];l[p]=[];var v=e.morphAttributes[p];v&&(u[p]=new Array(v.length).fill(0).map((function(){return[]})))}for(var m=Math.log10(1/t),g=Math.pow(10,m),y=0;y<a;y++){for(var b=r?r.getX(y):y,x="",w=0,S=s.length;w<S;w++)for(var _=s[w],k=e.getAttribute(_),E=k.itemSize,C=0;C<E;C++)"".concat(~~(k[d[C]](b)*g),",");if(x in n)c.push(n[x]);else{for(var M=0,T=s.length;M<T;M++)for(var R=s[M],A=e.getAttribute(R),P=e.morphAttributes[R],I=A.itemSize,O=l[R],L=u[R],N=0;N<I;N++){var D=d[N];if(O.push(A[D](b)),P)for(var U=0,F=P.length;U<F;U++)L[U].push(P[U][D](b))}n[x]=o,c.push(o)}}for(var z=e.clone(),B=0,j=s.length;B<j;B++){var H=s[B],G=e.getAttribute(H),V=new G.array.constructor(l[H]),W=new rS(V,G.itemSize,G.normalized);if(z.setAttribute(H,W),H in u)for(var q=0;q<u[H].length;q++){var X=e.morphAttributes[H][q],Y=new X.array.constructor(u[H][q]),K=new rS(Y,X.itemSize,X.normalized);z.morphAttributes[H][q]=K}}return z.setIndex(c),z}function nB(e,t){if(t===Fy)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===By||t===zy){var n=e.getIndex();if(null===n){var r=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<i.count;a++)r.push(a);e.setIndex(r),e.getIndex()}var o=n.count-2,s=[];if(n)if(t===By)for(var l=1;l<=o;l++)s.push(n.getX(0)),s.push(n.getX(l)),s.push(n.getX(l+1));else for(var u=0;u<o;u++)u%2===0?(s.push(n.getX(u)),s.push(n.getX(u+1)),s.push(n.getX(u+2))):(s.push(n.getX(u+2)),s.push(n.getX(u+1)),s.push(n.getX(u)));s.length/3!==o&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(s),c.clearGroups(),c}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}Symbol.toStringTag;var rB=9728,iB=9729,aB=9984,oB=9985,sB=9986,lB=9987,uB=33071,cB=33648,dB=10497,fB={};fB[bg]=rB,fB[xg]=aB,fB[Sg]=sB,fB[kg]=iB,fB[Eg]=oB,fB[Mg]=lB,fB[gg]=uB,fB[mg]=dB,fB[yg]=cB;var hB=parseInt(cm.replace(/\D+/g,""));"\n\t\tuniform vec3 color;\n\t\tuniform sampler2D tDiffuse;\n\t\tvarying vec4 vUv;\n\n\t\t#include <logdepthbuf_pars_fragment>\n\n\t\tfloat blendOverlay( float base, float blend ) {\n\n\t\t\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\n\n\t\t}\n\n\t\tvec3 blendOverlay( vec3 base, vec3 blend ) {\n\n\t\t\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#include <logdepthbuf_fragment>\n\n\t\t\tvec4 base = texture2DProj( tDiffuse, vUv );\n\t\t\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <".concat(hB>=154?"colorspace_fragment":"encodings_fragment",">\n\n\t\t}");"\n\n\t\tuniform vec3 color;\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec4 vUv;\n\n\t\tfloat blendOverlay( float base, float blend ) {\n\n\t\t\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\n\n\t\t}\n\n\t\tvec3 blendOverlay( vec3 base, vec3 blend ) {\n\n\t\t\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec4 base = texture2DProj( tDiffuse, vUv );\n\t\t\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <".concat(hB>=154?"colorspace_fragment":"encodings_fragment",">\n\n\t\t}");Math.PI,Math.PI;"\n      varying vec3 vWorldPosition;\n      varying vec3 vSunDirection;\n      varying float vSunfade;\n      varying vec3 vBetaR;\n      varying vec3 vBetaM;\n      varying float vSunE;\n\n      uniform float mieDirectionalG;\n      uniform vec3 up;\n\n      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );\n\n      // constants for atmospheric scattering\n      const float pi = 3.141592653589793238462643383279502884197169;\n\n      const float n = 1.0003; // refractive index of air\n      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)\n\n      // optical length at zenith for molecules\n      const float rayleighZenithLength = 8.4E3;\n      const float mieZenithLength = 1.25E3;\n      // 66 arc seconds -> degrees, and the cosine of that\n      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;\n\n      // 3.0 / ( 16.0 * pi )\n      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;\n      // 1.0 / ( 4.0 * pi )\n      const float ONE_OVER_FOURPI = 0.07957747154594767;\n\n      float rayleighPhase( float cosTheta ) {\n        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );\n      }\n\n      float hgPhase( float cosTheta, float g ) {\n        float g2 = pow( g, 2.0 );\n        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );\n        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );\n      }\n\n      void main() {\n\n        vec3 direction = normalize( vWorldPosition - cameraPos );\n\n      // optical length\n      // cutoff angle at 90 to avoid singularity in next formula.\n        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );\n        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );\n        float sR = rayleighZenithLength * inverse;\n        float sM = mieZenithLength * inverse;\n\n      // combined extinction factor\n        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );\n\n      // in scattering\n        float cosTheta = dot( direction, vSunDirection );\n\n        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );\n        vec3 betaRTheta = vBetaR * rPhase;\n\n        float mPhase = hgPhase( cosTheta, mieDirectionalG );\n        vec3 betaMTheta = vBetaM * mPhase;\n\n        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );\n        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );\n\n      // nightsky\n        float theta = acos( direction.y ); // elevation --\x3e y-axis, [-pi/2, pi/2]\n        float phi = atan( direction.z, direction.x ); // azimuth --\x3e x-axis [-pi/2, pi/2]\n        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );\n        vec3 L0 = vec3( 0.1 ) * Fex;\n\n      // composition + solar disc\n        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );\n        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;\n\n        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );\n\n        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );\n\n        gl_FragColor = vec4( retColor, 1.0 );\n\n      #include <tonemapping_fragment>\n      #include <".concat(hB>=154?"colorspace_fragment":"encodings_fragment",">\n\n      }\n    ");"\n\n\t\t#include <common>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\n\t\tuniform sampler2D tReflectionMap;\n\t\tuniform sampler2D tRefractionMap;\n\t\tuniform sampler2D tNormalMap0;\n\t\tuniform sampler2D tNormalMap1;\n\n\t\t#ifdef USE_FLOWMAP\n\t\t\tuniform sampler2D tFlowMap;\n\t\t#else\n\t\t\tuniform vec2 flowDirection;\n\t\t#endif\n\n\t\tuniform vec3 color;\n\t\tuniform float reflectivity;\n\t\tuniform vec4 config;\n\n\t\tvarying vec4 vCoord;\n\t\tvarying vec2 vUv;\n\t\tvarying vec3 vToEye;\n\n\t\tvoid main() {\n\n\t\t\t#include <logdepthbuf_fragment>\n\n\t\t\tfloat flowMapOffset0 = config.x;\n\t\t\tfloat flowMapOffset1 = config.y;\n\t\t\tfloat halfCycle = config.z;\n\t\t\tfloat scale = config.w;\n\n\t\t\tvec3 toEye = normalize( vToEye );\n\n\t\t\t// determine flow direction\n\t\t\tvec2 flow;\n\t\t\t#ifdef USE_FLOWMAP\n\t\t\t\tflow = texture2D( tFlowMap, vUv ).rg * 2.0 - 1.0;\n\t\t\t#else\n\t\t\t\tflow = flowDirection;\n\t\t\t#endif\n\t\t\tflow.x *= - 1.0;\n\n\t\t\t// sample normal maps (distort uvs with flowdata)\n\t\t\tvec4 normalColor0 = texture2D( tNormalMap0, ( vUv * scale ) + flow * flowMapOffset0 );\n\t\t\tvec4 normalColor1 = texture2D( tNormalMap1, ( vUv * scale ) + flow * flowMapOffset1 );\n\n\t\t\t// linear interpolate to get the final normal color\n\t\t\tfloat flowLerp = abs( halfCycle - flowMapOffset0 ) / halfCycle;\n\t\t\tvec4 normalColor = mix( normalColor0, normalColor1, flowLerp );\n\n\t\t\t// calculate normal vector\n\t\t\tvec3 normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );\n\n\t\t\t// calculate the fresnel term to blend reflection and refraction maps\n\t\t\tfloat theta = max( dot( toEye, normal ), 0.0 );\n\t\t\tfloat reflectance = reflectivity + ( 1.0 - reflectivity ) * pow( ( 1.0 - theta ), 5.0 );\n\n\t\t\t// calculate final uv coords\n\t\t\tvec3 coord = vCoord.xyz / vCoord.w;\n\t\t\tvec2 uv = coord.xy + coord.z * normal.xz * 0.05;\n\n\t\t\tvec4 reflectColor = texture2D( tReflectionMap, vec2( 1.0 - uv.x, uv.y ) );\n\t\t\tvec4 refractColor = texture2D( tRefractionMap, uv );\n\n\t\t\t// multiply water color with the mix of both textures\n\t\t\tgl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <".concat(hB>=154?"colorspace_fragment":"encodings_fragment",">\n\t\t\t#include <fog_fragment>\n\n\t\t}");Math.PI,Math.PI;Math.PI,Math.PI,Math.PI;Int8Array,Uint8Array,Int16Array,Uint16Array,Uint32Array,Float32Array,$v($v({POSITION:"position",NORMAL:"normal",TANGENT:"tangent"},hB>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"}),{},{COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"});var pB={Handedness:{NONE:"none",LEFT:"left",RIGHT:"right"},ComponentState:{DEFAULT:"default",TOUCHED:"touched",PRESSED:"pressed"},ComponentProperty:{BUTTON:"button",X_AXIS:"xAxis",Y_AXIS:"yAxis",STATE:"state"},ComponentType:{TRIGGER:"trigger",SQUEEZE:"squeeze",TOUCHPAD:"touchpad",THUMBSTICK:"thumbstick",BUTTON:"button"},ButtonTouchThreshold:.05,AxisTouchThreshold:.1,VisualResponseProperty:{TRANSFORM:"transform",VISIBILITY:"visibility"}};pB.ComponentState.DEFAULT;var vB=new a_,mB=new Mx,gB=new Mx,yB=new Mx,bB=new Mx,xB=new Mx,wB=new Mx,SB=new Mx,_B=new Mx,kB=new Mx,EB=new Mx,CB=new Mx,MB=new Mx,TB=new Mx,RB=new Mx,AB=function(){function e(t,n,r){Xs(this,e),this.camera=t,this.scene=n,this.startPoint=new Mx,this.endPoint=new Mx,this.collection=[],this.deep=r||Number.MAX_VALUE}return Ks(e,[{key:"select",value:function(e,t){return this.startPoint=e||this.startPoint,this.endPoint=t||this.endPoint,this.collection=[],this.updateFrustum(this.startPoint,this.endPoint),this.searchChildInFrustum(vB,this.scene),this.collection}},{key:"updateFrustum",value:function(e,t){if(e=e||this.startPoint,t=t||this.endPoint,e.x===t.x&&(t.x+=Number.EPSILON),e.y===t.y&&(t.y+=Number.EPSILON),this.camera.updateProjectionMatrix(),this.camera.updateMatrixWorld(),this.camera.isPerspectiveCamera)gB.copy(e),gB.x=Math.min(e.x,t.x),gB.y=Math.max(e.y,t.y),t.x=Math.max(e.x,t.x),t.y=Math.min(e.y,t.y),yB.setFromMatrixPosition(this.camera.matrixWorld),bB.copy(gB),xB.set(t.x,gB.y,0),wB.copy(t),SB.set(gB.x,t.y,0),bB.unproject(this.camera),xB.unproject(this.camera),wB.unproject(this.camera),SB.unproject(this.camera),MB.copy(bB).sub(yB),TB.copy(xB).sub(yB),RB.copy(wB).sub(yB),MB.normalize(),TB.normalize(),RB.normalize(),MB.multiplyScalar(this.deep),TB.multiplyScalar(this.deep),RB.multiplyScalar(this.deep),MB.add(yB),TB.add(yB),RB.add(yB),(n=vB.planes)[0].setFromCoplanarPoints(yB,bB,xB),n[1].setFromCoplanarPoints(yB,xB,wB),n[2].setFromCoplanarPoints(wB,SB,yB),n[3].setFromCoplanarPoints(SB,bB,yB),n[4].setFromCoplanarPoints(xB,wB,SB),n[5].setFromCoplanarPoints(RB,TB,MB),n[5].normal.multiplyScalar(-1);else if(this.camera.isOrthographicCamera){var n,r=Math.min(e.x,t.x),i=Math.max(e.y,t.y),a=Math.max(e.x,t.x),o=Math.min(e.y,t.y);bB.set(r,i,-1),xB.set(a,i,-1),wB.set(a,o,-1),SB.set(r,o,-1),_B.set(r,i,1),kB.set(a,i,1),EB.set(a,o,1),CB.set(r,o,1),bB.unproject(this.camera),xB.unproject(this.camera),wB.unproject(this.camera),SB.unproject(this.camera),_B.unproject(this.camera),kB.unproject(this.camera),EB.unproject(this.camera),CB.unproject(this.camera),(n=vB.planes)[0].setFromCoplanarPoints(bB,_B,kB),n[1].setFromCoplanarPoints(xB,kB,EB),n[2].setFromCoplanarPoints(EB,CB,SB),n[3].setFromCoplanarPoints(CB,_B,bB),n[4].setFromCoplanarPoints(xB,wB,SB),n[5].setFromCoplanarPoints(EB,kB,_B),n[5].normal.multiplyScalar(-1)}else console.error("THREE.SelectionBox: Unsupported camera type.")}},{key:"searchChildInFrustum",value:function(e,t){if((t.isMesh||t.isLine||t.isPoints)&&void 0!==t.material&&(null===t.geometry.boundingSphere&&t.geometry.computeBoundingSphere(),mB.copy(t.geometry.boundingSphere.center),mB.applyMatrix4(t.matrixWorld),e.containsPoint(mB)&&this.collection.push(t)),t.children.length>0)for(var n=0;n<t.children.length;n++)this.searchChildInFrustum(e,t.children[n])}}]),e}();var PB=function(){var e="object"==typeof global&&global&&global.Object===Object&&global,t="object"==typeof self&&self&&self.Object===Object&&self,n=e||t||Function("return this")(),r=n.Symbol,i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;var l=Object.prototype.toString;var u="[object Null]",c="[object Undefined]",d=r?r.toStringTag:void 0;function f(e){return null==e?void 0===e?c:u:d&&d in Object(e)?function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(Ine){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}(e):function(e){return l.call(e)}(e)}function h(e){return null!=e&&"object"==typeof e}var p="[object Symbol]";function v(e){return"symbol"==typeof e||h(e)&&f(e)==p}function m(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var g=Array.isArray,y=1/0,b=r?r.prototype:void 0,x=b?b.toString:void 0;function w(e){if("string"==typeof e)return e;if(g(e))return m(e,w)+"";if(v(e))return x?x.call(e):"";var t=e+"";return"0"==t&&1/e==-y?"-0":t}var S=/\s/;var _=/^\s+/;function E(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&S.test(e.charAt(t)););return t}(e)+1).replace(_,""):e}function C(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var M=NaN,T=/^[-+]0x[0-9a-f]+$/i,R=/^0b[01]+$/i,A=/^0o[0-7]+$/i,P=parseInt;var I=1/0,O=17976931348623157e292;function L(e){return e?(e=function(e){if("number"==typeof e)return e;if(v(e))return M;if(C(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=C(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=E(e);var n=R.test(e);return n||A.test(e)?P(e.slice(2),n?2:8):T.test(e)?M:+e}(e))===I||e===-I?(e<0?-1:1)*O:e===e?e:0:0===e?e:0}function N(e){var t=L(e),n=t%1;return t===t?n?t-n:t:0}function D(e){return e}var U="[object AsyncFunction]",F="[object Function]",z="[object GeneratorFunction]",B="[object Proxy]";function j(e){if(!C(e))return!1;var t=f(e);return t==F||t==z||t==U||t==B}var H=n["__core-js_shared__"],G=function(){var e=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var V=Function.prototype.toString;function W(e){if(null!=e){try{return V.call(e)}catch(Ine){}try{return e+""}catch(Ine){}}return""}var q=/^\[object .+?Constructor\]$/,X=Function.prototype,Y=Object.prototype,K=X.toString,Z=Y.hasOwnProperty,Q=RegExp("^"+K.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $(e){return!(!C(e)||(t=e,G&&G in t))&&(j(e)?Q:q).test(W(e));var t}function J(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return $(n)?n:void 0}var ee=J(n,"WeakMap"),te=Object.create,ne=function(){function e(){}return function(t){if(!C(t))return{};if(te)return te(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),re=ne;function ie(){}var ae=Date.now;function oe(e){return function(){return e}}var se=function(){try{var e=J(Object,"defineProperty");return e({},"",{}),e}catch(Ine){}}(),le=se?function(e,t){return se(e,"toString",{configurable:!0,enumerable:!1,value:oe(t),writable:!0})}:D,ue=function(e){var t=0,n=0;return function(){var r=ae(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(le),ce=ue;function de(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function fe(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function he(e){return e!==e}function pe(e,t,n){return t===t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):fe(e,he,n)}function ve(e,t){return!!(null==e?0:e.length)&&pe(e,t,0)>-1}var me=9007199254740991,ge=/^(?:0|[1-9]\d*)$/;function ye(e,t){var n=typeof e;return!!(t=null==t?me:t)&&("number"==n||"symbol"!=n&&ge.test(e))&&e>-1&&e%1==0&&e<t}function be(e,t,n){"__proto__"==t&&se?se(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function xe(e,t){return e===t||e!==e&&t!==t}var we=Object.prototype.hasOwnProperty;function Se(e,t,n){var r=e[t];we.call(e,t)&&xe(r,n)&&(void 0!==n||t in e)||be(e,t,n)}function _e(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?be(n,s,l):Se(n,s,l)}return n}var ke=Math.max;function Ee(e,t){return ce(function(e,t,n){return t=ke(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=ke(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,D),e+"")}var Ce=9007199254740991;function Me(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ce}function Te(e){return null!=e&&Me(e.length)&&!j(e)}function Re(e,t,n){if(!C(n))return!1;var r=typeof t;return!!("number"==r?Te(n)&&ye(t,n.length):"string"==r&&t in n)&&xe(n[t],e)}var Ae=Object.prototype;function Pe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ae)}function Ie(e){return h(e)&&"[object Arguments]"==f(e)}var Oe=Object.prototype,Le=Oe.hasOwnProperty,Ne=Oe.propertyIsEnumerable,De=Ie(function(){return arguments}())?Ie:function(e){return h(e)&&Le.call(e,"callee")&&!Ne.call(e,"callee")},Ue=De;var Fe="object"==typeof exports&&exports&&!exports.nodeType&&exports,ze=Fe&&"object"==typeof module&&module&&!module.nodeType&&module,Be=ze&&ze.exports===Fe?n.Buffer:void 0,je=(Be?Be.isBuffer:void 0)||function(){return!1},He={};function Ge(e){return function(t){return e(t)}}He["[object Float32Array]"]=He["[object Float64Array]"]=He["[object Int8Array]"]=He["[object Int16Array]"]=He["[object Int32Array]"]=He["[object Uint8Array]"]=He["[object Uint8ClampedArray]"]=He["[object Uint16Array]"]=He["[object Uint32Array]"]=!0,He["[object Arguments]"]=He["[object Array]"]=He["[object ArrayBuffer]"]=He["[object Boolean]"]=He["[object DataView]"]=He["[object Date]"]=He["[object Error]"]=He["[object Function]"]=He["[object Map]"]=He["[object Number]"]=He["[object Object]"]=He["[object RegExp]"]=He["[object Set]"]=He["[object String]"]=He["[object WeakMap]"]=!1;var Ve="object"==typeof exports&&exports&&!exports.nodeType&&exports,We=Ve&&"object"==typeof module&&module&&!module.nodeType&&module,qe=We&&We.exports===Ve&&e.process,Xe=function(){try{var e=We&&We.require&&We.require("util").types;return e||qe&&qe.binding&&qe.binding("util")}catch(Ine){}}(),Ye=Xe&&Xe.isTypedArray,Ke=Ye?Ge(Ye):function(e){return h(e)&&Me(e.length)&&!!He[f(e)]},Ze=Ke,Qe=Object.prototype.hasOwnProperty;function $e(e,t){var n=g(e),r=!n&&Ue(e),i=!n&&!r&&je(e),a=!n&&!r&&!i&&Ze(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var u in e)!t&&!Qe.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ye(u,l))||s.push(u);return s}function Je(e,t){return function(n){return e(t(n))}}var et=Je(Object.keys,Object),tt=Object.prototype.hasOwnProperty;function nt(e){if(!Pe(e))return et(e);var t=[];for(var n in Object(e))tt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function rt(e){return Te(e)?$e(e):nt(e)}var it,at=Object.prototype.hasOwnProperty,ot=(it=function(e,t){if(Pe(t)||Te(t))_e(t,rt(t),e);else for(var n in t)at.call(t,n)&&Se(e,n,t[n])},Ee((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(i=it.length>3&&"function"==typeof i?(r--,i):void 0,a&&Re(t[0],t[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var o=t[n];o&&it(e,o,n,i)}return e}))),st=ot;var lt=Object.prototype.hasOwnProperty;function ut(e){if(!C(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Pe(e),n=[];for(var r in e)("constructor"!=r||!t&&lt.call(e,r))&&n.push(r);return n}function ct(e){return Te(e)?$e(e,!0):ut(e)}var dt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ft=/^\w*$/;function ht(e,t){if(g(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!v(e))||(ft.test(e)||!dt.test(e)||null!=t&&e in Object(t))}var pt=J(Object,"create");var vt=Object.prototype.hasOwnProperty;var mt=Object.prototype.hasOwnProperty;function gt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function yt(e,t){for(var n=e.length;n--;)if(xe(e[n][0],t))return n;return-1}gt.prototype.clear=function(){this.__data__=pt?pt(null):{},this.size=0},gt.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},gt.prototype.get=function(e){var t=this.__data__;if(pt){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return vt.call(t,e)?t[e]:void 0},gt.prototype.has=function(e){var t=this.__data__;return pt?void 0!==t[e]:mt.call(t,e)},gt.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=pt&&void 0===t?"__lodash_hash_undefined__":t,this};var bt=Array.prototype.splice;function xt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xt.prototype.clear=function(){this.__data__=[],this.size=0},xt.prototype.delete=function(e){var t=this.__data__,n=yt(t,e);return!(n<0)&&(n==t.length-1?t.pop():bt.call(t,n,1),--this.size,!0)},xt.prototype.get=function(e){var t=this.__data__,n=yt(t,e);return n<0?void 0:t[n][1]},xt.prototype.has=function(e){return yt(this.__data__,e)>-1},xt.prototype.set=function(e,t){var n=this.__data__,r=yt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var wt=J(n,"Map");function St(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function _t(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_t.prototype.clear=function(){this.size=0,this.__data__={hash:new gt,map:new(wt||xt),string:new gt}},_t.prototype.delete=function(e){var t=St(this,e).delete(e);return this.size-=t?1:0,t},_t.prototype.get=function(e){return St(this,e).get(e)},_t.prototype.has=function(e){return St(this,e).has(e)},_t.prototype.set=function(e,t){var n=St(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var kt="Expected a function";function Et(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(kt);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Et.Cache||_t),n}Et.Cache=_t;var Ct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mt=/\\(\\)?/g,Tt=function(e){var t=Et(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ct,(function(e,n,r,i){t.push(r?i.replace(Mt,"$1"):n||e)})),t})),Rt=Tt;function At(e,t){return g(e)?e:ht(e,t)?[e]:Rt(function(e){return null==e?"":w(e)}(e))}var Pt=1/0;function It(e){if("string"==typeof e||v(e))return e;var t=e+"";return"0"==t&&1/e==-Pt?"-0":t}function Ot(e,t){for(var n=0,r=(t=At(t,e)).length;null!=e&&n<r;)e=e[It(t[n++])];return n&&n==r?e:void 0}function Lt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Nt=r?r.isConcatSpreadable:void 0;function Dt(e){return g(e)||Ue(e)||!!(Nt&&e&&e[Nt])}function Ut(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=Dt),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?Ut(s,t-1,n,r,i):Lt(i,s):r||(i[i.length]=s)}return i}function Ft(e){return(null==e?0:e.length)?Ut(e,1):[]}var zt=Je(Object.getPrototypeOf,Object);function Bt(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}function jt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Ht(e){var t=this.__data__=new xt(e);this.size=t.size}Ht.prototype.clear=function(){this.__data__=new xt,this.size=0},Ht.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ht.prototype.get=function(e){return this.__data__.get(e)},Ht.prototype.has=function(e){return this.__data__.has(e)},Ht.prototype.set=function(e,t){var n=this.__data__;if(n instanceof xt){var r=n.__data__;if(!wt||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new _t(r)}return n.set(e,t),this.size=n.size,this};var Gt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vt=Gt&&"object"==typeof module&&module&&!module.nodeType&&module,Wt=Vt&&Vt.exports===Gt?n.Buffer:void 0,qt=Wt?Wt.allocUnsafe:void 0;function Xt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Yt(){return[]}var Kt=Object.prototype.propertyIsEnumerable,Zt=Object.getOwnPropertySymbols,Qt=Zt?function(e){return null==e?[]:(e=Object(e),Xt(Zt(e),(function(t){return Kt.call(e,t)})))}:Yt,$t=Qt;var Jt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Lt(t,$t(e)),e=zt(e);return t}:Yt,en=Jt;function tn(e,t,n){var r=t(e);return g(e)?r:Lt(r,n(e))}function nn(e){return tn(e,rt,$t)}function rn(e){return tn(e,ct,en)}var an=J(n,"DataView"),on=J(n,"Promise"),sn=J(n,"Set"),ln="[object Map]",un="[object Promise]",cn="[object Set]",dn="[object WeakMap]",fn="[object DataView]",hn=W(an),pn=W(wt),vn=W(on),mn=W(sn),gn=W(ee),yn=f;(an&&yn(new an(new ArrayBuffer(1)))!=fn||wt&&yn(new wt)!=ln||on&&yn(on.resolve())!=un||sn&&yn(new sn)!=cn||ee&&yn(new ee)!=dn)&&(yn=function(e){var t=f(e),n="[object Object]"==t?e.constructor:void 0,r=n?W(n):"";if(r)switch(r){case hn:return fn;case pn:return ln;case vn:return un;case mn:return cn;case gn:return dn}return t});var bn=yn,xn=Object.prototype.hasOwnProperty;var wn=n.Uint8Array;function Sn(e){var t=new e.constructor(e.byteLength);return new wn(t).set(new wn(e)),t}var _n=/\w*$/;var kn=r?r.prototype:void 0,En=kn?kn.valueOf:void 0;var Cn="[object Boolean]",Mn="[object Date]",Tn="[object Map]",Rn="[object Number]",An="[object RegExp]",Pn="[object Set]",In="[object String]",On="[object Symbol]",Ln="[object ArrayBuffer]",Nn="[object DataView]",Dn="[object Float32Array]",Un="[object Float64Array]",Fn="[object Int8Array]",zn="[object Int16Array]",Bn="[object Int32Array]",jn="[object Uint8Array]",Hn="[object Uint8ClampedArray]",Gn="[object Uint16Array]",Vn="[object Uint32Array]";function Wn(e,t,n){var r,i=e.constructor;switch(t){case Ln:return Sn(e);case Cn:case Mn:return new i(+e);case Nn:return function(e,t){var n=t?Sn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case Dn:case Un:case Fn:case zn:case Bn:case jn:case Hn:case Gn:case Vn:return function(e,t){var n=t?Sn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case Tn:return new i;case Rn:case In:return new i(e);case An:return function(e){var t=new e.constructor(e.source,_n.exec(e));return t.lastIndex=e.lastIndex,t}(e);case Pn:return new i;case On:return r=e,En?Object(En.call(r)):{}}}var qn=Xe&&Xe.isMap,Xn=qn?Ge(qn):function(e){return h(e)&&"[object Map]"==bn(e)},Yn=Xn;var Kn=Xe&&Xe.isSet,Zn=Kn?Ge(Kn):function(e){return h(e)&&"[object Set]"==bn(e)},Qn=Zn,$n=1,Jn=2,er=4,tr="[object Arguments]",nr="[object Function]",rr="[object GeneratorFunction]",ir="[object Object]",ar={};function or(e,t,n,r,i,a){var o,s=t&$n,l=t&Jn,u=t&er;if(n&&(o=i?n(e,r,i,a):n(e)),void 0!==o)return o;if(!C(e))return e;var c=g(e);if(c){if(o=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&xn.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,o)}else{var d=bn(e),f=d==nr||d==rr;if(je(e))return function(e,t){if(t)return e.slice();var n=e.length,r=qt?qt(n):new e.constructor(n);return e.copy(r),r}(e,s);if(d==ir||d==tr||f&&!i){if(o=l||f?{}:function(e){return"function"!=typeof e.constructor||Pe(e)?{}:re(zt(e))}(e),!s)return l?function(e,t){return _e(e,en(e),t)}(e,function(e,t){return e&&_e(t,ct(t),e)}(o,e)):function(e,t){return _e(e,$t(e),t)}(e,function(e,t){return e&&_e(t,rt(t),e)}(o,e))}else{if(!ar[d])return i?e:{};o=Wn(e,d,s)}}a||(a=new Ht);var h=a.get(e);if(h)return h;a.set(e,o),Qn(e)?e.forEach((function(r){o.add(or(r,t,n,r,e,a))})):Yn(e)&&e.forEach((function(r,i){o.set(i,or(r,t,n,i,e,a))}));var p=c?void 0:(u?l?rn:nn:l?ct:rt)(e);return de(p||e,(function(r,i){p&&(r=e[i=r]),Se(o,i,or(r,t,n,i,e,a))})),o}ar[tr]=ar["[object Array]"]=ar["[object ArrayBuffer]"]=ar["[object DataView]"]=ar["[object Boolean]"]=ar["[object Date]"]=ar["[object Float32Array]"]=ar["[object Float64Array]"]=ar["[object Int8Array]"]=ar["[object Int16Array]"]=ar["[object Int32Array]"]=ar["[object Map]"]=ar["[object Number]"]=ar[ir]=ar["[object RegExp]"]=ar["[object Set]"]=ar["[object String]"]=ar["[object Symbol]"]=ar["[object Uint8Array]"]=ar["[object Uint8ClampedArray]"]=ar["[object Uint16Array]"]=ar["[object Uint32Array]"]=!0,ar["[object Error]"]=ar[nr]=ar["[object WeakMap]"]=!1;var sr=4;function lr(e){return or(e,sr)}function ur(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i}function cr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new _t;++t<n;)this.add(e[t])}function dr(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function fr(e,t){return e.has(t)}cr.prototype.add=cr.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},cr.prototype.has=function(e){return this.__data__.has(e)};var hr=1,pr=2;function vr(e,t,n,r,i,a){var o=n&hr,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,h=n&pr?new cr:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var p=e[d],v=t[d];if(r)var m=o?r(v,p,d,t,e,a):r(p,v,d,e,t,a);if(void 0!==m){if(m)continue;f=!1;break}if(h){if(!dr(t,(function(e,t){if(!fr(h,t)&&(p===e||i(p,e,n,r,a)))return h.push(t)}))){f=!1;break}}else if(p!==v&&!i(p,v,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function mr(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function gr(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var yr=1,br=2,xr="[object Boolean]",wr="[object Date]",Sr="[object Error]",_r="[object Map]",kr="[object Number]",Er="[object RegExp]",Cr="[object Set]",Mr="[object String]",Tr="[object Symbol]",Rr="[object ArrayBuffer]",Ar="[object DataView]",Pr=r?r.prototype:void 0,Ir=Pr?Pr.valueOf:void 0;var Or=1,Lr=Object.prototype.hasOwnProperty;var Nr=1,Dr="[object Arguments]",Ur="[object Array]",Fr="[object Object]",zr=Object.prototype.hasOwnProperty;function jr(e,t,n,r,i,a){var o=g(e),s=g(t),l=o?Ur:bn(e),u=s?Ur:bn(t),c=(l=l==Dr?Fr:l)==Fr,d=(u=u==Dr?Fr:u)==Fr,f=l==u;if(f&&je(e)){if(!je(t))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new Ht),o||Ze(e)?vr(e,t,n,r,i,a):function(e,t,n,r,i,a,o){switch(n){case Ar:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Rr:return!(e.byteLength!=t.byteLength||!a(new wn(e),new wn(t)));case xr:case wr:case kr:return xe(+e,+t);case Sr:return e.name==t.name&&e.message==t.message;case Er:case Mr:return e==t+"";case _r:var s=mr;case Cr:var l=r&yr;if(s||(s=gr),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=br,o.set(e,t);var c=vr(s(e),s(t),r,i,a,o);return o.delete(e),c;case Tr:if(Ir)return Ir.call(e)==Ir.call(t)}return!1}(e,t,l,n,r,i,a);if(!(n&Nr)){var h=c&&zr.call(e,"__wrapped__"),p=d&&zr.call(t,"__wrapped__");if(h||p){var v=h?e.value():e,m=p?t.value():t;return a||(a=new Ht),i(v,m,n,r,a)}}return!!f&&(a||(a=new Ht),function(e,t,n,r,i,a){var o=n&Or,s=nn(e),l=s.length;if(l!=nn(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:Lr.call(t,c)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var h=!0;a.set(e,t),a.set(t,e);for(var p=o;++u<l;){var v=e[c=s[u]],m=t[c];if(r)var g=o?r(m,v,c,t,e,a):r(v,m,c,e,t,a);if(!(void 0===g?v===m||i(v,m,n,r,a):g)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,r,i,a))}function Hr(e,t,n,r,i){return e===t||(null==e||null==t||!h(e)&&!h(t)?e!==e&&t!==t:jr(e,t,n,r,Hr,i))}var Gr=1,Vr=2;function Wr(e){return e===e&&!C(e)}function qr(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function Xr(e){var t=function(e){for(var t=rt(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Wr(i)]}return t}(e);return 1==t.length&&t[0][2]?qr(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=n[i])[0],u=e[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in e))return!1}else{var d=new Ht;if(r)var f=r(u,c,l,e,t,d);if(!(void 0===f?Hr(c,u,Gr|Vr,r,d):f))return!1}}return!0}(n,e,t)}}function Yr(e,t){return null!=e&&t in Object(e)}function Kr(e,t,n){for(var r=-1,i=(t=At(t,e)).length,a=!1;++r<i;){var o=It(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Me(i)&&ye(o,i)&&(g(e)||Ue(e))}var Zr=1,Qr=2;function $r(e,t){return ht(e)&&Wr(t)?qr(It(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:Ot(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&Kr(e,t,Yr)}(n,e):Hr(t,r,Zr|Qr)}}function Jr(e){return ht(e)?(t=It(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return Ot(t,e)}}(e);var t}function ei(e){return"function"==typeof e?e:null==e?D:"object"==typeof e?g(e)?$r(e[0],e[1]):Xr(e):Jr(e)}function ti(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}var ni,ri=function(e,t,n){for(var r=-1,i=Object(e),a=n(e),o=a.length;o--;){var s=a[ni?o:++r];if(!1===t(i[s],s,i))break}return e},ii=ri;var ai=function(e,t){return function(n,r){if(null==n)return n;if(!Te(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}((function(e,t){return e&&ii(e,t,rt)})),oi=ai;function si(e,t,n,r){return oi(e,(function(e,i,a){t(r,e,n(e),a)})),r}var li=Object.prototype,ui=li.hasOwnProperty,ci=Ee((function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&Re(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],o=ct(a),s=-1,l=o.length;++s<l;){var u=o[s],c=e[u];(void 0===c||xe(c,li[u])&&!ui.call(e,u))&&(e[u]=a[u])}return e})),di=ci;function fi(e){return h(e)&&Te(e)}function hi(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var pi=Ee((function(e,t){return fi(e)?function(e,t,n,r){var i=-1,a=ve,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=m(t,Ge(n))),r?(a=hi,o=!1):t.length>=200&&(a=fr,o=!1,t=new cr(t));e:for(;++i<s;){var c=e[i],d=null==n?c:n(c);if(c=r||0!==c?c:0,o&&d===d){for(var f=u;f--;)if(t[f]===d)continue e;l.push(c)}else a(t,d,r)||l.push(c)}return l}(e,Ut(t,1,fi,!0)):[]})),vi=pi;function mi(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function gi(e,t,n){var r=null==e?0:e.length;return r?Bt(e,(t=n||void 0===t?1:N(t))<0?0:t,r):[]}function yi(e,t,n){var r=null==e?0:e.length;return r?Bt(e,0,(t=r-(t=n||void 0===t?1:N(t)))<0?0:t):[]}function bi(e,t){return(g(e)?de:oi)(e,function(e){return"function"==typeof e?e:D}(t))}function xi(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function wi(e,t){var n=!0;return oi(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function Si(e,t,n){var r=g(e)?xi:wi;return n&&Re(e,t,n)&&(t=void 0),r(e,ei(t))}function _i(e,t){var n=[];return oi(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function ki(e,t){return(g(e)?Xt:_i)(e,ei(t))}var Ei=Math.max;var Ci,Mi=(Ci=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:N(n);return i<0&&(i=Ei(r+i,0)),fe(e,ei(t),i)},function(e,t,n){var r=Object(e);if(!Te(e)){var i=ei(t);e=rt(e),t=function(e){return i(r[e],e,r)}}var a=Ci(e,t,n);return a>-1?r[i?e[a]:a]:void 0}),Ti=Mi;function Ri(e){return e&&e.length?e[0]:void 0}function Ai(e,t){var n=-1,r=Te(e)?Array(e.length):[];return oi(e,(function(e,i,a){r[++n]=t(e,i,a)})),r}function Pi(e,t){return(g(e)?m:Ai)(e,ei(t))}function Ii(e,t){return Ut(Pi(e,t),1)}var Oi,Li,Ni=Object.prototype.hasOwnProperty,Di=(Oi=function(e,t,n){Ni.call(e,n)?e[n].push(t):be(e,n,[t])},function(e,t){var n=g(e)?ti:si,r=Li?Li():{};return n(e,Oi,ei(t),r)}),Ui=Di,Fi=Object.prototype.hasOwnProperty;function zi(e,t){return null!=e&&Fi.call(e,t)}function Bi(e,t){return null!=e&&Kr(e,t,zi)}var ji="[object String]";function Hi(e){return"string"==typeof e||!g(e)&&h(e)&&f(e)==ji}function Gi(e){return null==e?[]:function(e,t){return m(t,(function(t){return e[t]}))}(e,rt(e))}var Vi=Math.max;function Wi(e,t,n,r){e=Te(e)?e:Gi(e),n=n&&!r?N(n):0;var i=e.length;return n<0&&(n=Vi(i+n,0)),Hi(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&pe(e,t,n)>-1}var qi=Math.max;function Xi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:N(n);return i<0&&(i=qi(r+i,0)),pe(e,t,i)}var Yi="[object Map]",Ki="[object Set]",Zi=Object.prototype.hasOwnProperty;function Qi(e){if(null==e)return!0;if(Te(e)&&(g(e)||"string"==typeof e||"function"==typeof e.splice||je(e)||Ze(e)||Ue(e)))return!e.length;var t=bn(e);if(t==Yi||t==Ki)return!e.size;if(Pe(e))return!nt(e).length;for(var n in e)if(Zi.call(e,n))return!1;return!0}var $i=Xe&&Xe.isRegExp,Ji=$i?Ge($i):function(e){return h(e)&&"[object RegExp]"==f(e)},ea=Ji;function ta(e){return void 0===e}var na="Expected a function";function ra(e,t,n,r){if(!C(e))return e;for(var i=-1,a=(t=At(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var l=It(t[i]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=o){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=C(c)?c:ye(t[i+1])?[]:{})}Se(s,l,u),s=s[l]}return e}function ia(e,t){if(null==e)return{};var n=m(rn(e),(function(e){return[e]}));return t=ei(t),function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=Ot(e,o);n(s,o)&&ra(a,At(o,e),s)}return a}(e,n,(function(e,n){return t(e,n[0])}))}function aa(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function oa(e,t,n){var r=g(e)?jt:aa,i=arguments.length<3;return r(e,ei(t),n,i,oi)}function sa(e,t){return(g(e)?Xt:_i)(e,function(e){if("function"!=typeof e)throw new TypeError(na);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}(ei(t)))}function la(e,t){var n;return oi(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ua(e,t,n){var r=g(e)?dr:la;return n&&Re(e,t,n)&&(t=void 0),r(e,ei(t))}var ca=sn&&1/gr(new sn([,-0]))[1]==1/0?function(e){return new sn(e)}:ie,da=200;function fa(e){return e&&e.length?function(e,t,n){var r=-1,i=ve,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=hi;else if(a>=da){var u=t?null:ca(e);if(u)return gr(u);o=!1,i=fr,l=new cr}else l=t?[]:s;e:for(;++r<a;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,o&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}(e):[]}function ha(e){console&&console.error&&console.error("Error: ".concat(e))}function pa(e){console&&console.warn&&console.warn("Warning: ".concat(e))}function va(e){var t=(new Date).getTime(),n=e();return{time:(new Date).getTime()-t,value:n}}function ma(e){function t(){}t.prototype=e;var n=new t;function r(){return typeof n.bar}return r(),r(),e}function ga(e){return Hi((t=e).LABEL)&&""!==t.LABEL?e.LABEL:e.name;var t}var ya=function(){function e(t){Xs(this,e),this._definition=t}return Ks(e,[{key:"definition",get:function(){return this._definition},set:function(e){this._definition=e}},{key:"accept",value:function(e){e.visit(this),bi(this.definition,(function(t){t.accept(e)}))}}]),e}(),ba=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this,[])).idx=1,st(Br(r),ia(e,(function(e){return void 0!==e}))),r}return Ks(n,[{key:"definition",get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(e){}},{key:"accept",value:function(e){e.visit(this)}}]),n}(ya),xa=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this,e.definition)).orgText="",st(Br(r),ia(e,(function(e){return void 0!==e}))),r}return Ks(n)}(ya),wa=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this,e.definition)).ignoreAmbiguities=!1,st(Br(r),ia(e,(function(e){return void 0!==e}))),r}return Ks(n)}(ya),Sa=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this,e.definition)).idx=1,st(Br(r),ia(e,(function(e){return void 0!==e}))),r}return Ks(n)}(ya),_a=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this,e.definition)).idx=1,st(Br(r),ia(e,(function(e){return void 0!==e}))),r}return Ks(n)}(ya),ka=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this,e.definition)).idx=1,st(Br(r),ia(e,(function(e){return void 0!==e}))),r}return Ks(n)}(ya),Ea=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this,e.definition)).idx=1,st(Br(r),ia(e,(function(e){return void 0!==e}))),r}return Ks(n)}(ya),Ca=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this,e.definition)).idx=1,st(Br(r),ia(e,(function(e){return void 0!==e}))),r}return Ks(n)}(ya),Ma=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this,e.definition)).idx=1,r.ignoreAmbiguities=!1,r.hasPredicates=!1,st(Br(r),ia(e,(function(e){return void 0!==e}))),r}return Ks(n,[{key:"definition",get:function(){return this._definition},set:function(e){this._definition=e}}]),n}(ya),Ta=function(){function e(t){Xs(this,e),this.idx=1,st(this,ia(t,(function(e){return void 0!==e})))}return Ks(e,[{key:"accept",value:function(e){e.visit(this)}}]),e}();function Ra(e){function t(e){return Pi(e,Ra)}if(e instanceof ba){var n={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return Hi(e.label)&&(n.label=e.label),n}if(e instanceof wa)return{type:"Alternative",definition:t(e.definition)};if(e instanceof Sa)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof _a)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof ka)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:Ra(new Ta({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Ca)return{type:"RepetitionWithSeparator",idx:e.idx,separator:Ra(new Ta({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Ea)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof Ma)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof Ta){var r={type:"Terminal",name:e.terminalType.name,label:ga(e.terminalType),idx:e.idx};Hi(e.label)&&(r.terminalLabel=e.label);var i=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=ea(i)?i.source:i),r}if(e instanceof xa)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}var Aa=function(){function e(){Xs(this,e)}return Ks(e,[{key:"visit",value:function(e){var t=e;switch(t.constructor){case ba:return this.visitNonTerminal(t);case wa:return this.visitAlternative(t);case Sa:return this.visitOption(t);case _a:return this.visitRepetitionMandatory(t);case ka:return this.visitRepetitionMandatoryWithSeparator(t);case Ca:return this.visitRepetitionWithSeparator(t);case Ea:return this.visitRepetition(t);case Ma:return this.visitAlternation(t);case Ta:return this.visitTerminal(t);case xa:return this.visitRule(t);default:throw Error("non exhaustive match")}}},{key:"visitNonTerminal",value:function(e){}},{key:"visitAlternative",value:function(e){}},{key:"visitOption",value:function(e){}},{key:"visitRepetition",value:function(e){}},{key:"visitRepetitionMandatory",value:function(e){}},{key:"visitRepetitionMandatoryWithSeparator",value:function(e){}},{key:"visitRepetitionWithSeparator",value:function(e){}},{key:"visitAlternation",value:function(e){}},{key:"visitTerminal",value:function(e){}},{key:"visitRule",value:function(e){}}]),e}();function Pa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!!(e instanceof Sa||e instanceof Ea||e instanceof Ca)||(e instanceof Ma?ua(e.definition,(function(e){return Pa(e,t)})):!(e instanceof ba&&Wi(t,e))&&(e instanceof ya&&(e instanceof ba&&t.push(e),Si(e.definition,(function(e){return Pa(e,t)})))))}function Ia(e){if(e instanceof ba)return"SUBRULE";if(e instanceof Sa)return"OPTION";if(e instanceof Ma)return"OR";if(e instanceof _a)return"AT_LEAST_ONE";if(e instanceof ka)return"AT_LEAST_ONE_SEP";if(e instanceof Ca)return"MANY_SEP";if(e instanceof Ea)return"MANY";if(e instanceof Ta)return"CONSUME";throw Error("non exhaustive match")}var Oa=function(){function e(){Xs(this,e)}return Ks(e,[{key:"walk",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];bi(e.definition,(function(r,i){var a=gi(e.definition,i+1);if(r instanceof ba)t.walkProdRef(r,a,n);else if(r instanceof Ta)t.walkTerminal(r,a,n);else if(r instanceof wa)t.walkFlat(r,a,n);else if(r instanceof Sa)t.walkOption(r,a,n);else if(r instanceof _a)t.walkAtLeastOne(r,a,n);else if(r instanceof ka)t.walkAtLeastOneSep(r,a,n);else if(r instanceof Ca)t.walkManySep(r,a,n);else if(r instanceof Ea)t.walkMany(r,a,n);else{if(!(r instanceof Ma))throw Error("non exhaustive match");t.walkOr(r,a,n)}}))}},{key:"walkTerminal",value:function(e,t,n){}},{key:"walkProdRef",value:function(e,t,n){}},{key:"walkFlat",value:function(e,t,n){var r=t.concat(n);this.walk(e,r)}},{key:"walkOption",value:function(e,t,n){var r=t.concat(n);this.walk(e,r)}},{key:"walkAtLeastOne",value:function(e,t,n){var r=[new Sa({definition:e.definition})].concat(t,n);this.walk(e,r)}},{key:"walkAtLeastOneSep",value:function(e,t,n){var r=La(e,t,n);this.walk(e,r)}},{key:"walkMany",value:function(e,t,n){var r=[new Sa({definition:e.definition})].concat(t,n);this.walk(e,r)}},{key:"walkManySep",value:function(e,t,n){var r=La(e,t,n);this.walk(e,r)}},{key:"walkOr",value:function(e,t,n){var r=this,i=t.concat(n);bi(e.definition,(function(e){var t=new wa({definition:[e]});r.walk(t,i)}))}}]),e}();function La(e,t,n){return[new Sa({definition:[new Ta({terminalType:e.separator})].concat(e.definition)})].concat(t,n)}function Na(e){if(e instanceof ba)return Na(e.referencedRule);if(e instanceof Ta)return[e.terminalType];if(function(e){return e instanceof wa||e instanceof Sa||e instanceof Ea||e instanceof _a||e instanceof ka||e instanceof Ca||e instanceof Ta||e instanceof xa}(e))return function(e){var t,n=[],r=e.definition,i=0,a=r.length>i,o=!0;for(;a&&o;)o=Pa(t=r[i]),n=n.concat(Na(t)),i+=1,a=r.length>i;return fa(n)}(e);if(function(e){return e instanceof Ma}(e))return function(e){var t=Pi(e.definition,(function(e){return Na(e)}));return fa(Ft(t))}(e);throw Error("non exhaustive match")}var Da="_~IN~_",Ua=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).topProd=e,r.follows={},r}return Ks(n,[{key:"startWalking",value:function(){return this.walk(this.topProd),this.follows}},{key:"walkTerminal",value:function(e,t,n){}},{key:"walkProdRef",value:function(e,t,n){var r,i,a=(r=e.referencedRule,i=e.idx,r.name+i+Da+this.topProd.name),o=t.concat(n),s=Na(new wa({definition:o}));this.follows[a]=s}}]),n}(Oa);function Fa(e){return e.charCodeAt(0)}function za(e,t){Array.isArray(e)?e.forEach((function(e){t.push(e)})):t.push(e)}function Ba(e,t){if(!0===e[t])throw"duplicate flag "+t;e[t],e[t]=!0}function ja(e){if(void 0===e)throw Error("Internal Error - Should never get here!");return!0}function Ha(e){return"Character"===e.type}for(var Ga=[],Va=Fa("0");Va<=Fa("9");Va++)Ga.push(Va);for(var Wa=[Fa("_")].concat(Ga),qa=Fa("a");qa<=Fa("z");qa++)Wa.push(qa);for(var Xa=Fa("A");Xa<=Fa("Z");Xa++)Wa.push(Xa);var Ya=[Fa(" "),Fa("\f"),Fa("\n"),Fa("\r"),Fa("\t"),Fa("\v"),Fa("\t"),Fa("\xa0"),Fa("\u1680"),Fa("\u2000"),Fa("\u2001"),Fa("\u2002"),Fa("\u2003"),Fa("\u2004"),Fa("\u2005"),Fa("\u2006"),Fa("\u2007"),Fa("\u2008"),Fa("\u2009"),Fa("\u200a"),Fa("\u2028"),Fa("\u2029"),Fa("\u202f"),Fa("\u205f"),Fa("\u3000"),Fa("\ufeff")],Ka=/[0-9a-fA-F]/,Za=/[0-9]/,Qa=/[1-9]/,$a=function(){function e(){Xs(this,e),this.idx=0,this.input="",this.groupIdx=0}return Ks(e,[{key:"saveState",value:function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}},{key:"restoreState",value:function(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}},{key:"pattern",value:function(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");var t=this.disjunction();this.consumeChar("/");for(var n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":Ba(n,"global");break;case"i":Ba(n,"ignoreCase");break;case"m":Ba(n,"multiLine");break;case"u":Ba(n,"unicode");break;case"y":Ba(n,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:t,loc:this.loc(0)}}},{key:"disjunction",value:function(){var e=[],t=this.idx;for(e.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}}},{key:"alternative",value:function(){for(var e=[],t=this.idx;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}}},{key:"term",value:function(){return this.isAssertion()?this.assertion():this.atom()}},{key:"assertion",value:function(){var e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":var t;switch(this.consumeChar("?"),this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead"}ja(t);var n=this.disjunction();return this.consumeChar(")"),{type:t,value:n,loc:this.loc(e)}}return function(){throw Error("Internal Error - Should never get here!")}()}},{key:"quantifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=void 0,n=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":var r=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:r,atMost:r};break;case",":t=this.isDigit()?{atLeast:r,atMost:this.integerIncludingZero()}:{atLeast:r,atMost:1/0},this.consumeChar("}")}if(!0===e&&void 0===t)return;ja(t)}if(!0!==e||void 0!==t)return ja(t)?("?"===this.peekChar(0)?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(n),t):void 0}},{key:"atom",value:function(){var e,t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group()}if(void 0===e&&this.isPatternCharacter()&&(e=this.patternCharacter()),ja(e))return e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}},{key:"dotAll",value:function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[Fa("\n"),Fa("\r"),Fa("\u2028"),Fa("\u2029")]}}},{key:"atomEscape",value:function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}},{key:"decimalEscapeAtom",value:function(){return{type:"GroupBackReference",value:this.positiveInteger()}}},{key:"characterClassEscape",value:function(){var e,t=!1;switch(this.popChar()){case"d":e=Ga;break;case"D":e=Ga,t=!0;break;case"s":e=Ya;break;case"S":e=Ya,t=!0;break;case"w":e=Wa;break;case"W":e=Wa,t=!0}if(ja(e))return{type:"Set",value:e,complement:t}}},{key:"controlEscapeAtom",value:function(){var e;switch(this.popChar()){case"f":e=Fa("\f");break;case"n":e=Fa("\n");break;case"r":e=Fa("\r");break;case"t":e=Fa("\t");break;case"v":e=Fa("\v")}if(ja(e))return{type:"Character",value:e}}},{key:"controlLetterEscapeAtom",value:function(){this.consumeChar("c");var e=this.popChar();if(!1===/[a-zA-Z]/.test(e))throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}},{key:"nulCharacterAtom",value:function(){return this.consumeChar("0"),{type:"Character",value:Fa("\0")}}},{key:"hexEscapeSequenceAtom",value:function(){return this.consumeChar("x"),this.parseHexDigits(2)}},{key:"regExpUnicodeEscapeSequenceAtom",value:function(){return this.consumeChar("u"),this.parseHexDigits(4)}},{key:"identityEscapeAtom",value:function(){return{type:"Character",value:Fa(this.popChar())}}},{key:"classPatternCharacterAtom",value:function(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:Fa(this.popChar())}}}},{key:"characterClass",value:function(){var e=[],t=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),t=!0);this.isClassAtom();){var n=this.classAtom();if(n.type,Ha(n)&&this.isRangeDash()){this.consumeChar("-");var r=this.classAtom();if(r.type,Ha(r)){if(r.value<n.value)throw Error("Range out of order in character class");e.push({from:n.value,to:r.value})}else za(n.value,e),e.push(Fa("-")),za(r.value,e)}else za(n.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}}},{key:"classAtom",value:function(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}},{key:"classEscape",value:function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:Fa("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}},{key:"group",value:function(){var e=!0;if(this.consumeChar("("),"?"===this.peekChar(0))this.consumeChar("?"),this.consumeChar(":"),e=!1;else this.groupIdx++;var t=this.disjunction();this.consumeChar(")");var n={type:"Group",capturing:e,value:t};return e&&(n.idx=this.groupIdx),n}},{key:"positiveInteger",value:function(){var e=this.popChar();if(!1===Qa.test(e))throw Error("Expecting a positive integer");for(;Za.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}},{key:"integerIncludingZero",value:function(){var e=this.popChar();if(!1===Za.test(e))throw Error("Expecting an integer");for(;Za.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}},{key:"patternCharacter",value:function(){var e=this.popChar();switch(e){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:Fa(e)}}}},{key:"isRegExpFlag",value:function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}},{key:"isRangeDash",value:function(){return"-"===this.peekChar()&&this.isClassAtom(1)}},{key:"isDigit",value:function(){return Za.test(this.peekChar(0))}},{key:"isClassAtom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(this.peekChar(e)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}},{key:"isTerm",value:function(){return this.isAtom()||this.isAssertion()}},{key:"isAtom",value:function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}},{key:"isAssertion",value:function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}}},{key:"isQuantifier",value:function(){var e=this.saveState();try{return void 0!==this.quantifier(!0)}catch(Ine){return!1}finally{this.restoreState(e)}}},{key:"isPatternCharacter",value:function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}},{key:"parseHexDigits",value:function(e){for(var t="",n=0;n<e;n++){var r=this.popChar();if(!1===Ka.test(r))throw Error("Expecting a HexDecimal digits");t+=r}return{type:"Character",value:parseInt(t,16)}}},{key:"peekChar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.input[this.idx+e]}},{key:"popChar",value:function(){var e=this.peekChar(0);return this.consumeChar(void 0),e}},{key:"consumeChar",value:function(e){if(void 0!==e&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}},{key:"loc",value:function(e){return{begin:e,end:this.idx}}}]),e}(),Ja=function(){function e(){Xs(this,e)}return Ks(e,[{key:"visitChildren",value:function(e){var t=this;for(var n in e){var r=e[n];e.hasOwnProperty(n)&&(void 0!==r.type?this.visit(r):Array.isArray(r)&&r.forEach((function(e){t.visit(e)}),this))}}},{key:"visit",value:function(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e)}this.visitChildren(e)}},{key:"visitPattern",value:function(e){}},{key:"visitFlags",value:function(e){}},{key:"visitDisjunction",value:function(e){}},{key:"visitAlternative",value:function(e){}},{key:"visitStartAnchor",value:function(e){}},{key:"visitEndAnchor",value:function(e){}},{key:"visitWordBoundary",value:function(e){}},{key:"visitNonWordBoundary",value:function(e){}},{key:"visitLookahead",value:function(e){}},{key:"visitNegativeLookahead",value:function(e){}},{key:"visitCharacter",value:function(e){}},{key:"visitSet",value:function(e){}},{key:"visitGroup",value:function(e){}},{key:"visitGroupBackReference",value:function(e){}},{key:"visitQuantifier",value:function(e){}}]),e}(),eo={},to=new $a;function no(e){var t=e.toString();if(eo.hasOwnProperty(t))return eo[t];var n=to.pattern(t);return eo[t]=n,n}var ro="Complement Sets are not supported for first char optimization",io='Unable to use "first char" lexer optimizations:\n';function ao(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var n=no(e);return oo(n.value,{},n.flags.ignoreCase)}catch(Ine){if(Ine.message===ro)t&&pa("".concat(io,"\tUnable to optimize: < ").concat(e.toString()," >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details."));else{var r="";t&&(r="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),ha("".concat(io,"\n\tFailed parsing: < ").concat(e.toString()," >\n\tUsing the @chevrotain/regexp-to-ast library\n\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues")+r)}}return[]}function oo(e,t,n){switch(e.type){case"Disjunction":for(var r=0;r<e.value.length;r++)oo(e.value[r],t,n);break;case"Alternative":for(var i=e.value,a=0;a<i.length;a++){var o=i[a];switch(o.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var s=o;switch(s.type){case"Character":so(s.value,t,n);break;case"Set":if(!0===s.complement)throw Error(ro);bi(s.value,(function(e){if("number"===typeof e)so(e,t,n);else{var r=e;if(!0===n)for(var i=r.from;i<=r.to;i++)so(i,t,n);else{for(var a=r.from;a<=r.to&&a<Ao;a++)so(a,t,n);if(r.to>=Ao)for(var o=r.from>=Ao?r.from:Ao,s=r.to,l=Io(o),u=Io(s),c=l;c<=u;c++)t[c]=c}}}));break;case"Group":oo(s.value,t,n);break;default:throw Error("Non Exhaustive Match")}var l=void 0!==s.quantifier&&0===s.quantifier.atLeast;if("Group"===s.type&&!1===uo(s)||"Group"!==s.type&&!1===l)break}break;default:throw Error("non exhaustive match!")}return Gi(t)}function so(e,t,n){var r=Io(e);t[r]=r,!0===n&&function(e,t){var n=String.fromCharCode(e),r=n.toUpperCase();if(r!==n){var i=Io(r.charCodeAt(0));t[i]=i}else{var a=n.toLowerCase();if(a!==n){var o=Io(a.charCodeAt(0));t[o]=o}}}(e,t)}function lo(e,t){return Ti(e.value,(function(e){if("number"===typeof e)return Wi(t,e);var n=e;return void 0!==Ti(t,(function(e){return n.from<=e&&e<=n.to}))}))}function uo(e){var t=e.quantifier;return!(!t||0!==t.atLeast)||!!e.value&&(g(e.value)?Si(e.value,uo):uo(e.value))}var co=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).targetCharCodes=e,r.found=!1,r}return Ks(n,[{key:"visitChildren",value:function(e){if(!0!==this.found){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}lm(nm(n.prototype),"visitChildren",this).call(this,e)}}},{key:"visitCharacter",value:function(e){Wi(this.targetCharCodes,e.value)&&(this.found=!0)}},{key:"visitSet",value:function(e){e.complement?void 0===lo(e,this.targetCharCodes)&&(this.found=!0):void 0!==lo(e,this.targetCharCodes)&&(this.found=!0)}}]),n}(Ja);function fo(e,t){if(t instanceof RegExp){var n=no(t),r=new co(e);return r.visit(n),r.found}return void 0!==Ti(t,(function(t){return Wi(e,t.charCodeAt(0))}))}var ho="PATTERN",po="defaultMode",vo="modes",mo="boolean"===typeof new RegExp("(?:)").sticky;function go(e,t){var n,r=(t=di(t,{useSticky:mo,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:function(e,t){return t()}})).tracer;r("initCharCodeToOptimizedIndexMap",(function(){!function(){if(Qi(Po)){Po=new Array(65536);for(var e=0;e<65536;e++)Po[e]=e>255?255+~~(e/255):e}}()})),r("Reject Lexer.NA",(function(){n=sa(e,(function(e){return e[ho]===Wo.NA}))}));var i,a,o,s,l,u,c,d,f,h,p,v=!1;r("Transform Patterns",(function(){v=!1,i=Pi(n,(function(e){var n=e[ho];if(ea(n)){var r=n.source;return 1!==r.length||"^"===r||"$"===r||"."===r||n.ignoreCase?2!==r.length||"\\"!==r[0]||Wi(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],r[1])?t.useSticky?So(n):wo(n):r[1]:r}if(j(n))return v=!0,{exec:n};if("object"===typeof n)return v=!0,n;if("string"===typeof n){if(1===n.length)return n;var i=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),a=new RegExp(i);return t.useSticky?So(a):wo(a)}throw Error("non exhaustive match")}))})),r("misc mapping",(function(){a=Pi(n,(function(e){return e.tokenTypeIdx})),o=Pi(n,(function(e){var t=e.GROUP;if(t!==Wo.SKIPPED){if(Hi(t))return t;if(ta(t))return!1;throw Error("non exhaustive match")}})),s=Pi(n,(function(e){var t=e.LONGER_ALT;if(t)return g(t)?Pi(t,(function(e){return Xi(n,e)})):[Xi(n,t)]})),l=Pi(n,(function(e){return e.PUSH_MODE})),u=Pi(n,(function(e){return Bi(e,"POP_MODE")}))})),r("Line Terminator Handling",(function(){var e=To(t.lineTerminatorCharacters);c=Pi(n,(function(e){return!1})),"onlyOffset"!==t.positionTracking&&(c=Pi(n,(function(t){return Bi(t,"LINE_BREAKS")?!!t.LINE_BREAKS:!1===Mo(t,e)&&fo(e,t.PATTERN)})))})),r("Misc Mapping #2",(function(){d=Pi(n,ko),f=Pi(i,Eo),h=oa(n,(function(e,t){var n=t.GROUP;return Hi(n)&&n!==Wo.SKIPPED&&(e[n]=[]),e}),{}),p=Pi(i,(function(e,t){return{pattern:i[t],longerAlt:s[t],canLineTerminator:c[t],isCustom:d[t],short:f[t],group:o[t],push:l[t],pop:u[t],tokenTypeIdx:a[t],tokenType:n[t]}}))}));var m=!0,y=[];return t.safeMode||r("First Char Optimization",(function(){y=oa(n,(function(e,n,r){if("string"===typeof n.PATTERN){var i=Io(n.PATTERN.charCodeAt(0));Ro(e,i,p[r])}else if(g(n.START_CHARS_HINT)){var a;bi(n.START_CHARS_HINT,(function(t){var n=Io("string"===typeof t?t.charCodeAt(0):t);a!==n&&(a=n,Ro(e,n,p[r]))}))}else if(ea(n.PATTERN))if(n.PATTERN.unicode)m=!1,t.ensureOptimizations&&ha("".concat(io,"\tUnable to analyze < ").concat(n.PATTERN.toString()," > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE"));else{var o=ao(n.PATTERN,t.ensureOptimizations);Qi(o)&&(m=!1),bi(o,(function(t){Ro(e,t,p[r])}))}else t.ensureOptimizations&&ha("".concat(io,"\tTokenType: <").concat(n.name,"> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE")),m=!1;return e}),[])})),{emptyGroups:h,patternIdxToConfig:p,charCodeToPatternIdxToConfig:y,hasCustom:v,canBeOptimized:m}}function yo(e,t){var n=[],r=function(e){var t=ki(e,(function(e){return!Bi(e,ho)})),n=Pi(t,(function(e){return{message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:Ho.MISSING_PATTERN,tokenTypes:[e]}})),r=vi(e,t);return{errors:n,valid:r}}(e);n=n.concat(r.errors);var i=function(e){var t=ki(e,(function(e){var t=e[ho];return!ea(t)&&!j(t)&&!Bi(t,"exec")&&!Hi(t)})),n=Pi(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Ho.INVALID_PATTERN,tokenTypes:[e]}})),r=vi(e,t);return{errors:n,valid:r}}(r.valid),a=i.valid;return n=(n=n.concat(i.errors)).concat(function(e){var t=[],n=ki(e,(function(e){return ea(e[ho])}));return t=t.concat(function(e){var t=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.apply(this,arguments)).found=!1,e}return Ks(n,[{key:"visitEndAnchor",value:function(e){this.found=!0}}]),n}(Ja),n=ki(e,(function(e){var n=e.PATTERN;try{var r=no(n),i=new t;return i.visit(r),i.found}catch(Ine){return bo.test(n.source)}})),r=Pi(n,(function(e){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:Ho.EOI_ANCHOR_FOUND,tokenTypes:[e]}}));return r}(n)),t=t.concat(function(e){var t=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.apply(this,arguments)).found=!1,e}return Ks(n,[{key:"visitStartAnchor",value:function(e){this.found=!0}}]),n}(Ja),n=ki(e,(function(e){var n=e.PATTERN;try{var r=no(n),i=new t;return i.visit(r),i.found}catch(Ine){return xo.test(n.source)}})),r=Pi(n,(function(e){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:Ho.SOI_ANCHOR_FOUND,tokenTypes:[e]}}));return r}(n)),t=t.concat(function(e){var t=ki(e,(function(e){var t=e[ho];return t instanceof RegExp&&(t.multiline||t.global)})),n=Pi(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Ho.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]}}));return n}(n)),t=t.concat(function(e){var t=[],n=Pi(e,(function(n){return oa(e,(function(e,r){return n.PATTERN.source!==r.PATTERN.source||Wi(t,r)||r.PATTERN===Wo.NA||(t.push(r),e.push(r)),e}),[])})),r=Pi(ki(n=ur(n),(function(e){return e.length>1})),(function(e){var t=Pi(e,(function(e){return e.name})),n=Ri(e).PATTERN;return{message:"The same RegExp pattern ->".concat(n,"<-has been used in all of the following Token Types: ").concat(t.join(", ")," <-"),type:Ho.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}}));return r}(n)),t=t.concat(function(e){var t=ki(e,(function(e){return e.PATTERN.test("")})),n=Pi(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:Ho.EMPTY_MATCH_PATTERN,tokenTypes:[e]}}));return n}(n)),t}(a)),n=n.concat(function(e){var t=ki(e,(function(e){if(!Bi(e,"GROUP"))return!1;var t=e.GROUP;return t!==Wo.SKIPPED&&t!==Wo.NA&&!Hi(t)})),n=Pi(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Ho.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]}}));return n}(a)),n=n.concat(function(e,t){var n=ki(e,(function(e){return void 0!==e.PUSH_MODE&&!Wi(t,e.PUSH_MODE)})),r=Pi(n,(function(e){return{message:"Token Type: ->".concat(e.name,"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->").concat(e.PUSH_MODE,"<-which does not exist"),type:Ho.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]}}));return r}(a,t)),n=n.concat(function(e){var t=[],n=oa(e,(function(e,t,n){var r,i=t.PATTERN;return i===Wo.NA||(Hi(i)?e.push({str:i,idx:n,tokenType:t}):ea(i)&&(r=i,void 0===Ti([".","\\","[","]","|","^","$","(",")","?","*","+","{"],(function(e){return-1!==r.source.indexOf(e)})))&&e.push({str:i.source,idx:n,tokenType:t})),e}),[]);return bi(e,(function(e,r){bi(n,(function(n){var i=n.str,a=n.idx,o=n.tokenType;if(r<a&&function(e,t){if(ea(t)){var n=t.exec(e);return null!==n&&0===n.index}if(j(t))return t(e,0,[],{});if(Bi(t,"exec"))return t.exec(e,0,[],{});if("string"===typeof t)return t===e;throw Error("non exhaustive match")}(i,e.PATTERN)){var s="Token: ->".concat(o.name,"<- can never be matched.\nBecause it appears AFTER the Token Type ->").concat(e.name,"<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE");t.push({message:s,type:Ho.UNREACHABLE_PATTERN,tokenTypes:[e,o]})}}))})),t}(a)),n}var bo=/[^\\][$]/;var xo=/[^\\[][\^]|^\^/;function wo(e){var t=e.ignoreCase?"i":"";return new RegExp("^(?:".concat(e.source,")"),t)}function So(e){var t=e.ignoreCase?"iy":"y";return new RegExp("".concat(e.source),t)}function _o(e,t,n){var r=[],i=!1,a=sa(ur(Ft(Gi(e.modes))),(function(e){return e[ho]===Wo.NA})),o=To(n);return t&&bi(a,(function(e){var t=Mo(e,o);if(!1!==t){var n=function(e,t){if(t.issue===Ho.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <".concat(e.name,"> Token Type\n\t Root cause: ").concat(t.errMsg,".\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR");if(t.issue===Ho.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <".concat(e.name,"> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK");throw Error("non exhaustive match")}(e,t),a={message:n,type:t.issue,tokenType:e};r.push(a)}else Bi(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(i=!0):fo(o,e.PATTERN)&&(i=!0)})),t&&!i&&r.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:Ho.NO_LINE_BREAKS_FLAGS}),r}function ko(e){var t=e.PATTERN;if(ea(t))return!1;if(j(t))return!0;if(Bi(t,"exec"))return!0;if(Hi(t))return!1;throw Error("non exhaustive match")}function Eo(e){return!(!Hi(e)||1!==e.length)&&e.charCodeAt(0)}var Co={test:function(e){for(var t=e.length,n=this.lastIndex;n<t;n++){var r=e.charCodeAt(n);if(10===r)return this.lastIndex=n+1,!0;if(13===r)return 10===e.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function Mo(e,t){if(Bi(e,"LINE_BREAKS"))return!1;if(ea(e.PATTERN)){try{fo(t,e.PATTERN)}catch(Ine){return{issue:Ho.IDENTIFY_TERMINATOR,errMsg:Ine.message}}return!1}if(Hi(e.PATTERN))return!1;if(ko(e))return{issue:Ho.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function To(e){return Pi(e,(function(e){return Hi(e)?e.charCodeAt(0):e}))}function Ro(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}var Ao=256,Po=[];function Io(e){return e<Ao?e:Po[e]}function Oo(e,t){var n=e.tokenTypeIdx;return n===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[n]}function Lo(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}var No=1,Do={};function Uo(e){var t=function(e){var t=lr(e),n=e,r=!0;for(;r;){n=ur(Ft(Pi(n,(function(e){return e.CATEGORIES}))));var i=vi(n,t);t=t.concat(i),Qi(i)?r=!1:n=i}return t}(e);!function(e){bi(e,(function(e){zo(e)||(Do[No]=e,e.tokenTypeIdx=No++),Bo(e)&&!g(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),Bo(e)||(e.CATEGORIES=[]),Bi(e,"categoryMatches")||(e.categoryMatches=[]),function(e){return Bi(e,"categoryMatchesMap")}(e)||(e.categoryMatchesMap={})}))}(t),function(e){bi(e,(function(e){Fo([],e)}))}(t),function(e){bi(e,(function(e){e.categoryMatches=[],bi(e.categoryMatchesMap,(function(t,n){e.categoryMatches.push(Do[n].tokenTypeIdx)}))}))}(t),bi(t,(function(e){e.isParent=e.categoryMatches.length>0}))}function Fo(e,t){bi(e,(function(e){t.categoryMatchesMap[e.tokenTypeIdx]=!0})),bi(t.CATEGORIES,(function(n){var r=e.concat(t);Wi(r,n)||Fo(r,n)}))}function zo(e){return Bi(e,"tokenTypeIdx")}function Bo(e){return Bi(e,"CATEGORIES")}function jo(e){return Bi(e,"tokenTypeIdx")}var Ho,Go;(Go=Ho||(Ho={}))[Go.MISSING_PATTERN=0]="MISSING_PATTERN",Go[Go.INVALID_PATTERN=1]="INVALID_PATTERN",Go[Go.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",Go[Go.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",Go[Go.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",Go[Go.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",Go[Go.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",Go[Go.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",Go[Go.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",Go[Go.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",Go[Go.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",Go[Go.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",Go[Go.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",Go[Go.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",Go[Go.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",Go[Go.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",Go[Go.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",Go[Go.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE";var Vo={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:{buildUnableToPopLexerModeMessage:function(e){return"Unable to pop Lexer Mode after encountering Token ->".concat(e.image,"<- The Mode Stack is empty")},buildUnexpectedCharactersMessage:function(e,t,n,r,i){return"unexpected character: ->".concat(e.charAt(t),"<- at offset: ").concat(t,", skipped ").concat(n," characters.")}},traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Vo);var Wo=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vo;if(Xs(this,e),this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=function(e,t){if(!0===n.traceInitPerf){n.traceInitIndent++;var r=new Array(n.traceInitIndent+1).join("\t");n.traceInitIndent<n.traceInitMaxIdent&&console.log("".concat(r,"--\x3e <").concat(e,">"));var i=va(t),a=i.time,o=i.value,s=a>10?console.warn:console.log;return n.traceInitIndent<n.traceInitMaxIdent&&s("".concat(r,"<-- <").concat(e,"> time: ").concat(a,"ms")),n.traceInitIndent--,o}return t()},"boolean"===typeof r)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=st({},Vo,r);var i=this.config.traceInitPerf;!0===i?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"===typeof i&&(this.traceInitMaxIdent=i,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(function(){var e,i=!0;n.TRACE_INIT("Lexer Config handling",(function(){if(n.config.lineTerminatorsPattern===Vo.lineTerminatorsPattern)n.config.lineTerminatorsPattern=Co;else if(n.config.lineTerminatorCharacters===Vo.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');n.trackStartLines=/full|onlyStart/i.test(n.config.positionTracking),n.trackEndLines=/full/i.test(n.config.positionTracking),g(t)?e={modes:{defaultMode:lr(t)},defaultMode:po}:(i=!1,e=lr(t))})),!1===n.config.skipValidations&&(n.TRACE_INIT("performRuntimeChecks",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(function(e,t,n){var r=[];return Bi(e,po)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+po+"> property in its definition\n",type:Ho.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Bi(e,vo)||r.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:Ho.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Bi(e,vo)&&Bi(e,po)&&!Bi(e.modes,e.defaultMode)&&r.push({message:"A MultiMode Lexer cannot be initialized with a ".concat(po,": <").concat(e.defaultMode,">which does not exist\n"),type:Ho.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Bi(e,vo)&&bi(e.modes,(function(e,t){bi(e,(function(n,i){ta(n)?r.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:<".concat(t,"> at index: <").concat(i,">\n"),type:Ho.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED}):Bi(n,"LONGER_ALT")&&bi(g(n.LONGER_ALT)?n.LONGER_ALT:[n.LONGER_ALT],(function(i){ta(i)||Wi(e,i)||r.push({message:"A MultiMode Lexer cannot be initialized with a longer_alt <".concat(i.name,"> on token <").concat(n.name,"> outside of mode <").concat(t,">\n"),type:Ho.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})}))}))})),r}(e,n.trackStartLines,n.config.lineTerminatorCharacters))})),n.TRACE_INIT("performWarningRuntimeChecks",(function(){n.lexerDefinitionWarning=n.lexerDefinitionWarning.concat(_o(e,n.trackStartLines,n.config.lineTerminatorCharacters))}))),e.modes=e.modes?e.modes:{},bi(e.modes,(function(t,n){e.modes[n]=sa(t,(function(e){return ta(e)}))}));var a=rt(e.modes);if(bi(e.modes,(function(e,t){n.TRACE_INIT("Mode: <".concat(t,"> processing"),(function(){var i;(n.modes.push(t),!1===n.config.skipValidations&&n.TRACE_INIT("validatePatterns",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(yo(e,a))})),Qi(n.lexerDefinitionErrors))&&(Uo(e),n.TRACE_INIT("analyzeTokenTypes",(function(){i=go(e,{lineTerminatorCharacters:n.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:n.TRACE_INIT})})),n.patternIdxToConfig[t]=i.patternIdxToConfig,n.charCodeToPatternIdxToConfig[t]=i.charCodeToPatternIdxToConfig,n.emptyGroups=st({},n.emptyGroups,i.emptyGroups),n.hasCustom=i.hasCustom||n.hasCustom,n.canModeBeOptimized[t]=i.canBeOptimized)}))})),n.defaultMode=e.defaultMode,!Qi(n.lexerDefinitionErrors)&&!n.config.deferDefinitionErrorsHandling){var o=Pi(n.lexerDefinitionErrors,(function(e){return e.message})).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+o)}bi(n.lexerDefinitionWarning,(function(e){pa(e.message)})),n.TRACE_INIT("Choosing sub-methods implementations",(function(){if(mo?(n.chopInput=D,n.match=n.matchWithTest):(n.updateLastIndex=ie,n.match=n.matchWithExec),i&&(n.handleModes=ie),!1===n.trackStartLines&&(n.computeNewColumn=D),!1===n.trackEndLines&&(n.updateTokenEndLineColumnLocation=ie),/full/i.test(n.config.positionTracking))n.createTokenInstance=n.createFullToken;else if(/onlyStart/i.test(n.config.positionTracking))n.createTokenInstance=n.createStartOnlyToken;else{if(!/onlyOffset/i.test(n.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'.concat(n.config.positionTracking,'"'));n.createTokenInstance=n.createOffsetOnlyToken}n.hasCustom?(n.addToken=n.addTokenUsingPush,n.handlePayload=n.handlePayloadWithCustom):(n.addToken=n.addTokenUsingMemberAccess,n.handlePayload=n.handlePayloadNoCustom)})),n.TRACE_INIT("Failed Optimization Warnings",(function(){var e=oa(n.canModeBeOptimized,(function(e,t,n){return!1===t&&e.push(n),e}),[]);if(r.ensureOptimizations&&!Qi(e))throw Error("Lexer Modes: < ".concat(e.join(", "),' > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.'))})),n.TRACE_INIT("clearRegExpParserCache",(function(){eo={}})),n.TRACE_INIT("toFastProperties",(function(){ma(n)}))}))}return Ks(e,[{key:"tokenize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultMode;if(!Qi(this.lexerDefinitionErrors)){var n=Pi(this.lexerDefinitionErrors,(function(e){return e.message})).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+n)}return this.tokenizeInternal(e,t)}},{key:"tokenizeInternal",value:function(e,t){var n,r,i,a,o,s,l,u,c,d,f,h,p,v,m,y,b=this,x=e,w=x.length,S=0,_=0,k=this.hasCustom?0:Math.floor(e.length/10),E=new Array(k),C=[],M=this.trackStartLines?1:void 0,T=this.trackStartLines?1:void 0,R=function(e){var t={};return bi(rt(e),(function(n){var r=e[n];if(!g(r))throw Error("non exhaustive match");t[n]=[]})),t}(this.emptyGroups),A=this.trackStartLines,P=this.config.lineTerminatorsPattern,I=0,O=[],L=[],N=[],D=[];function U(){return O}function F(e){var t=Io(e),n=L[t];return void 0===n?D:n}Object.freeze(D);var z,B=function(e){if(1===N.length&&void 0===e.tokenType.PUSH_MODE){var t=b.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);C.push({offset:e.startOffset,line:e.startLine,column:e.startColumn,length:e.image.length,message:t})}else{N.pop();var n=mi(N);O=b.patternIdxToConfig[n],L=b.charCodeToPatternIdxToConfig[n],I=O.length;var r=b.canModeBeOptimized[n]&&!1===b.config.safeMode;y=L&&r?F:U}};function j(e){N.push(e),L=this.charCodeToPatternIdxToConfig[e],O=this.patternIdxToConfig[e],I=O.length,I=O.length;var t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;y=L&&t?F:U}j.call(this,t);for(var H=this.config.recoveryEnabled;S<w;){s=null;var G=x.charCodeAt(S),V=y(G),W=V.length;for(n=0;n<W;n++){var q=(z=V[n]).pattern;l=null;var X=z.short;if(!1!==X?G===X&&(s=q):!0===z.isCustom?null!==(m=q.exec(x,S,E,R))?(s=m[0],void 0!==m.payload&&(l=m.payload)):s=null:(this.updateLastIndex(q,S),s=this.match(q,e,S)),null!==s){if(void 0!==(o=z.longerAlt)){var Y=o.length;for(i=0;i<Y;i++){var K=O[o[i]],Z=K.pattern;if(u=null,!0===K.isCustom?null!==(m=Z.exec(x,S,E,R))?(a=m[0],void 0!==m.payload&&(u=m.payload)):a=null:(this.updateLastIndex(Z,S),a=this.match(Z,e,S)),a&&a.length>s.length){s=a,l=u,z=K;break}}}break}}if(null!==s){if(c=s.length,void 0!==(d=z.group)&&(f=z.tokenTypeIdx,h=this.createTokenInstance(s,S,f,z.tokenType,M,T,c),this.handlePayload(h,l),!1===d?_=this.addToken(E,_,h):R[d].push(h)),e=this.chopInput(e,c),S+=c,T=this.computeNewColumn(T,c),!0===A&&!0===z.canLineTerminator){var Q=0,$=void 0,J=void 0;P.lastIndex=0;do{!0===($=P.test(s))&&(J=P.lastIndex-1,Q++)}while(!0===$);0!==Q&&(M+=Q,T=c-J,this.updateTokenEndLineColumnLocation(h,d,J,Q,M,T,c))}this.handleModes(z,B,j,h)}else{for(var ee=S,te=M,ne=T,re=!1===H;!1===re&&S<w;)for(e=this.chopInput(e,1),S++,r=0;r<I;r++){var ie=O[r],ae=ie.pattern,oe=ie.short;if(!1!==oe?x.charCodeAt(S)===oe&&(re=!0):!0===ie.isCustom?re=null!==ae.exec(x,S,E,R):(this.updateLastIndex(ae,S),re=null!==ae.exec(e)),!0===re)break}if(p=S-ee,T=this.computeNewColumn(T,p),v=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(x,ee,p,te,ne),C.push({offset:ee,line:te,column:ne,length:p,message:v}),!1===H)break}}return this.hasCustom||(E.length=_),{tokens:E,groups:R,errors:C}}},{key:"handleModes",value:function(e,t,n,r){if(!0===e.pop){var i=e.push;t(r),void 0!==i&&n.call(this,i)}else void 0!==e.push&&n.call(this,e.push)}},{key:"chopInput",value:function(e,t){return e.substring(t)}},{key:"updateLastIndex",value:function(e,t){e.lastIndex=t}},{key:"updateTokenEndLineColumnLocation",value:function(e,t,n,r,i,a,o){var s,l;void 0!==t&&(l=(s=n===o-1)?-1:0,1===r&&!0===s||(e.endLine=i+l,e.endColumn=a-1-l))}},{key:"computeNewColumn",value:function(e,t){return e+t}},{key:"createOffsetOnlyToken",value:function(e,t,n,r){return{image:e,startOffset:t,tokenTypeIdx:n,tokenType:r}}},{key:"createStartOnlyToken",value:function(e,t,n,r,i,a){return{image:e,startOffset:t,startLine:i,startColumn:a,tokenTypeIdx:n,tokenType:r}}},{key:"createFullToken",value:function(e,t,n,r,i,a,o){return{image:e,startOffset:t,endOffset:t+o-1,startLine:i,endLine:i,startColumn:a,endColumn:a+o-1,tokenTypeIdx:n,tokenType:r}}},{key:"addTokenUsingPush",value:function(e,t,n){return e.push(n),t}},{key:"addTokenUsingMemberAccess",value:function(e,t,n){return e[t]=n,++t}},{key:"handlePayloadNoCustom",value:function(e,t){}},{key:"handlePayloadWithCustom",value:function(e,t){null!==t&&(e.payload=t)}},{key:"matchWithTest",value:function(e,t,n){return!0===e.test(t)?t.substring(n,e.lastIndex):null}},{key:"matchWithExec",value:function(e,t){var n=e.exec(t);return null!==n?n[0]:null}}]),e}();function qo(e){return Xo(e)?e.LABEL:e.name}function Xo(e){return Hi(e.LABEL)&&""!==e.LABEL}Wo.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",Wo.NA=/NOT_APPLICABLE/;var Yo="parent",Ko="categories",Zo="label",Qo="group",$o="push_mode",Jo="pop_mode",es="longer_alt",ts="line_breaks",ns="start_chars_hint";function rs(e){return function(e){var t=e.pattern,n={};n.name=e.name,ta(t)||(n.PATTERN=t);if(Bi(e,Yo))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";Bi(e,Ko)&&(n.CATEGORIES=e[Ko]);Uo([n]),Bi(e,Zo)&&(n.LABEL=e[Zo]);Bi(e,Qo)&&(n.GROUP=e[Qo]);Bi(e,Jo)&&(n.POP_MODE=e[Jo]);Bi(e,$o)&&(n.PUSH_MODE=e[$o]);Bi(e,es)&&(n.LONGER_ALT=e[es]);Bi(e,ts)&&(n.LINE_BREAKS=e[ts]);Bi(e,ns)&&(n.START_CHARS_HINT=e[ns]);return n}(e)}var is=rs({name:"EOF",pattern:Wo.NA});function as(e,t,n,r,i,a,o,s){return{image:t,startOffset:n,endOffset:r,startLine:i,endLine:a,startColumn:o,endColumn:s,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function os(e,t){return Oo(e,t)}Uo([is]);var ss={buildMismatchTokenMessage:function(e){var t=e.expected,n=e.actual,r=(e.previous,e.ruleName,Xo(t)?"--\x3e ".concat(qo(t)," <--"):"token of type --\x3e ".concat(t.name," <--"));return"Expecting ".concat(r," but found --\x3e '").concat(n.image,"' <--")},buildNotAllInputParsedMessage:function(e){var t=e.firstRedundant;e.ruleName;return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage:function(e){var t=e.expectedPathsPerAlt,n=e.actual,r=(e.previous,e.customUserDescription),i=(e.ruleName,"Expecting: "),a="\nbut found: '"+Ri(n).image+"'";if(r)return i+r+a;var o=Pi(oa(t,(function(e,t){return e.concat(t)}),[]),(function(e){return"[".concat(Pi(e,(function(e){return qo(e)})).join(", "),"]")})),s=Pi(o,(function(e,t){return"  ".concat(t+1,". ").concat(e)}));return i+"one of these possible Token sequences:\n".concat(s.join("\n"))+a},buildEarlyExitMessage:function(e){var t=e.expectedIterationPaths,n=e.actual,r=e.customUserDescription,i=(e.ruleName,"Expecting: "),a="\nbut found: '"+Ri(n).image+"'";if(r)return i+r+a;var o=Pi(t,(function(e){return"[".concat(Pi(e,(function(e){return qo(e)})).join(","),"]")}));return i+"expecting at least one iteration which starts with one of these possible Token sequences::\n  <".concat(o.join(" ,"),">")+a}};Object.freeze(ss);var ls={buildRuleNotFoundError:function(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-"}},us={buildDuplicateFoundError:function(e,t){var n,r=e.name,i=Ri(t),a=i.idx,o=Ia(i),s=(n=i)instanceof Ta?n.terminalType.name:n instanceof ba?n.nonTerminalName:"",l=a>0,u="->".concat(o).concat(l?a:"","<- ").concat(s?"with argument: ->".concat(s,"<-"):"","\n                  appears more than once (").concat(t.length," times) in the top level rule: ->").concat(r,"<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ");return u=(u=u.replace(/[ \t]+/g," ")).replace(/\s\s+/g,"\n")},buildNamespaceConflictError:function(e){return"Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <".concat(e.name,">.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.")},buildAlternationPrefixAmbiguityError:function(e){var t=Pi(e.prefixPath,(function(e){return qo(e)})).join(", "),n=0===e.alternation.idx?"":e.alternation.idx;return"Ambiguous alternatives: <".concat(e.ambiguityIndices.join(" ,"),"> due to common lookahead prefix\nin <OR").concat(n,"> inside <").concat(e.topLevelRule.name,"> Rule,\n<").concat(t,"> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.")},buildAlternationAmbiguityError:function(e){var t=Pi(e.prefixPath,(function(e){return qo(e)})).join(", "),n=0===e.alternation.idx?"":e.alternation.idx,r="Ambiguous Alternatives Detected: <".concat(e.ambiguityIndices.join(" ,"),"> in <OR").concat(n,"> inside <").concat(e.topLevelRule.name,"> Rule,\n<").concat(t,"> may appears as a prefix path in all these alternatives.\n");return r+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details."},buildEmptyRepetitionError:function(e){var t=Ia(e.repetition);return 0!==e.repetition.idx&&(t+=e.repetition.idx),"The repetition <".concat(t,"> within Rule <").concat(e.topLevelRule.name,"> can never consume any tokens.\nThis could lead to an infinite loop.")},buildTokenNameError:function(e){return"deprecated"},buildEmptyAlternationError:function(e){return"Ambiguous empty alternative: <".concat(e.emptyChoiceIdx+1,"> in <OR").concat(e.alternation.idx,"> inside <").concat(e.topLevelRule.name,"> Rule.\nOnly the last alternative may be an empty alternative.")},buildTooManyAlternativesError:function(e){return"An Alternation cannot have more than 256 alternatives:\n<OR".concat(e.alternation.idx,"> inside <").concat(e.topLevelRule.name,"> Rule.\n has ").concat(e.alternation.definition.length+1," alternatives.")},buildLeftRecursionError:function(e){var t=e.topLevelRule.name,n=Pi(e.leftRecursionPath,(function(e){return e.name})),r="".concat(t," --\x3e ").concat(n.concat([t]).join(" --\x3e "));return"Left Recursion found in grammar.\nrule: <".concat(t,"> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ").concat(r,"\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.")},buildInvalidRuleNameError:function(e){return"deprecated"},buildDuplicateRuleNameError:function(e){var t;return t=e.topLevelRule instanceof xa?e.topLevelRule.name:e.topLevelRule,"Duplicate definition, rule: ->".concat(t,"<- is already defined in the grammar: ->").concat(e.grammarName,"<-")}};var cs,ds,fs=function(e){tm(n,e);var t=im(n);function n(e,r){var i;return Xs(this,n),(i=t.call(this)).nameToTopRule=e,i.errMsgProvider=r,i.errors=[],i}return Ks(n,[{key:"resolveRefs",value:function(){var e=this;bi(Gi(this.nameToTopRule),(function(t){e.currTopLevel=t,t.accept(e)}))}},{key:"visitNonTerminal",value:function(e){var t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{var n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:n,type:Vl.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}]),n}(Aa),hs=function(e){tm(n,e);var t=im(n);function n(e,r){var i;return Xs(this,n),(i=t.call(this)).topProd=e,i.path=r,i.possibleTokTypes=[],i.nextProductionName="",i.nextProductionOccurrence=0,i.found=!1,i.isAtEndOfPath=!1,i}return Ks(n,[{key:"startWalking",value:function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=lr(this.path.ruleStack).reverse(),this.occurrenceStack=lr(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}},{key:"walk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.found||lm(nm(n.prototype),"walk",this).call(this,e,t)}},{key:"walkProdRef",value:function(e,t,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){var r=t.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,r)}}},{key:"updateExpectedNext",value:function(){Qi(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}]),n}(Oa),ps=function(e){tm(n,e);var t=im(n);function n(e,r){var i;return Xs(this,n),(i=t.call(this,e,r)).path=r,i.nextTerminalName="",i.nextTerminalOccurrence=0,i.nextTerminalName=i.path.lastTok.name,i.nextTerminalOccurrence=i.path.lastTokOccurrence,i}return Ks(n,[{key:"walkTerminal",value:function(e,t,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){var r=t.concat(n),i=new wa({definition:r});this.possibleTokTypes=Na(i),this.found=!0}}}]),n}(hs),vs=function(e){tm(n,e);var t=im(n);function n(e,r){var i;return Xs(this,n),(i=t.call(this)).topRule=e,i.occurrence=r,i.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},i}return Ks(n,[{key:"startWalking",value:function(){return this.walk(this.topRule),this.result}}]),n}(Oa),ms=function(e){tm(n,e);var t=im(n);function n(){return Xs(this,n),t.apply(this,arguments)}return Ks(n,[{key:"walkMany",value:function(e,t,r){if(e.idx===this.occurrence){var i=Ri(t.concat(r));this.result.isEndOfRule=void 0===i,i instanceof Ta&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else lm(nm(n.prototype),"walkMany",this).call(this,e,t,r)}}]),n}(vs),gs=function(e){tm(n,e);var t=im(n);function n(){return Xs(this,n),t.apply(this,arguments)}return Ks(n,[{key:"walkManySep",value:function(e,t,r){if(e.idx===this.occurrence){var i=Ri(t.concat(r));this.result.isEndOfRule=void 0===i,i instanceof Ta&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else lm(nm(n.prototype),"walkManySep",this).call(this,e,t,r)}}]),n}(vs),ys=function(e){tm(n,e);var t=im(n);function n(){return Xs(this,n),t.apply(this,arguments)}return Ks(n,[{key:"walkAtLeastOne",value:function(e,t,r){if(e.idx===this.occurrence){var i=Ri(t.concat(r));this.result.isEndOfRule=void 0===i,i instanceof Ta&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else lm(nm(n.prototype),"walkAtLeastOne",this).call(this,e,t,r)}}]),n}(vs),bs=function(e){tm(n,e);var t=im(n);function n(){return Xs(this,n),t.apply(this,arguments)}return Ks(n,[{key:"walkAtLeastOneSep",value:function(e,t,r){if(e.idx===this.occurrence){var i=Ri(t.concat(r));this.result.isEndOfRule=void 0===i,i instanceof Ta&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else lm(nm(n.prototype),"walkAtLeastOneSep",this).call(this,e,t,r)}}]),n}(vs);function xs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n=lr(n);var r=[],i=0;function a(a){var o=xs(a.concat(gi(e,i+1)),t,n);return r.concat(o)}for(;n.length<t&&i<e.length;){var o=e[i];if(o instanceof wa)return a(o.definition);if(o instanceof ba)return a(o.definition);if(o instanceof Sa)r=a(o.definition);else{if(o instanceof _a)return a(o.definition.concat([new Ea({definition:o.definition})]));if(o instanceof ka)return a([new wa({definition:o.definition}),new Ea({definition:[new Ta({terminalType:o.separator})].concat(o.definition)})]);if(o instanceof Ca){var s=o.definition.concat([new Ea({definition:[new Ta({terminalType:o.separator})].concat(o.definition)})]);r=a(s)}else if(o instanceof Ea){var l=o.definition.concat([new Ea({definition:o.definition})]);r=a(l)}else{if(o instanceof Ma)return bi(o.definition,(function(e){!1===Qi(e.definition)&&(r=a(e.definition))})),r;if(!(o instanceof Ta))throw Error("non exhaustive match");n.push(o.terminalType)}}i++}return r.push({partialPath:n,suffixDef:gi(e,i)}),r}function ws(e,t,n,r){var i="EXIT_NONE_TERMINAL",a=[i],o="EXIT_ALTERNATIVE",s=!1,l=t.length,u=l-r-1,c=[],d=[];for(d.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!Qi(d);){var f=d.pop();if(f!==o){var h=f.def,p=f.idx,v=f.ruleStack,m=f.occurrenceStack;if(!Qi(h)){var g=h[0];if(g===i){var y={idx:p,def:gi(h),ruleStack:yi(v),occurrenceStack:yi(m)};d.push(y)}else if(g instanceof Ta)if(p<l-1){var b=p+1;if(n(t[b],g.terminalType)){var x={idx:b,def:gi(h),ruleStack:v,occurrenceStack:m};d.push(x)}}else{if(p!==l-1)throw Error("non exhaustive match");c.push({nextTokenType:g.terminalType,nextTokenOccurrence:g.idx,ruleStack:v,occurrenceStack:m}),s=!0}else if(g instanceof ba){var w=lr(v);w.push(g.nonTerminalName);var S=lr(m);S.push(g.idx);var _={idx:p,def:g.definition.concat(a,gi(h)),ruleStack:w,occurrenceStack:S};d.push(_)}else if(g instanceof Sa){var k={idx:p,def:gi(h),ruleStack:v,occurrenceStack:m};d.push(k),d.push(o);var E={idx:p,def:g.definition.concat(gi(h)),ruleStack:v,occurrenceStack:m};d.push(E)}else if(g instanceof _a){var C=new Ea({definition:g.definition,idx:g.idx}),M={idx:p,def:g.definition.concat([C],gi(h)),ruleStack:v,occurrenceStack:m};d.push(M)}else if(g instanceof ka){var T=new Ta({terminalType:g.separator}),R=new Ea({definition:[T].concat(g.definition),idx:g.idx}),A={idx:p,def:g.definition.concat([R],gi(h)),ruleStack:v,occurrenceStack:m};d.push(A)}else if(g instanceof Ca){var P={idx:p,def:gi(h),ruleStack:v,occurrenceStack:m};d.push(P),d.push(o);var I=new Ta({terminalType:g.separator}),O=new Ea({definition:[I].concat(g.definition),idx:g.idx}),L={idx:p,def:g.definition.concat([O],gi(h)),ruleStack:v,occurrenceStack:m};d.push(L)}else if(g instanceof Ea){var N={idx:p,def:gi(h),ruleStack:v,occurrenceStack:m};d.push(N),d.push(o);var D=new Ea({definition:g.definition,idx:g.idx}),U={idx:p,def:g.definition.concat([D],gi(h)),ruleStack:v,occurrenceStack:m};d.push(U)}else if(g instanceof Ma)for(var F=g.definition.length-1;F>=0;F--){var z={idx:p,def:g.definition[F].definition.concat(gi(h)),ruleStack:v,occurrenceStack:m};d.push(z),d.push(o)}else if(g instanceof wa)d.push({idx:p,def:g.definition.concat(gi(h)),ruleStack:v,occurrenceStack:m});else{if(!(g instanceof xa))throw Error("non exhaustive match");d.push(Ss(g,p,v,m))}}}else s&&mi(d).idx<=u&&d.pop()}return c}function Ss(e,t,n,r){var i=lr(n);i.push(e.name);var a=lr(r);return a.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:a}}function _s(e){if(e instanceof Sa||"Option"===e)return cs.OPTION;if(e instanceof Ea||"Repetition"===e)return cs.REPETITION;if(e instanceof _a||"RepetitionMandatory"===e)return cs.REPETITION_MANDATORY;if(e instanceof ka||"RepetitionMandatoryWithSeparator"===e)return cs.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof Ca||"RepetitionWithSeparator"===e)return cs.REPETITION_WITH_SEPARATOR;if(e instanceof Ma||"Alternation"===e)return cs.ALTERNATION;throw Error("non exhaustive match")}function ks(e,t,n,r){var i=e.length,a=Si(e,(function(e){return Si(e,(function(e){return 1===e.length}))}));if(t)return function(t){for(var r=Pi(t,(function(e){return e.GATE})),a=0;a<i;a++){var o=e[a],s=o.length,l=r[a];if(void 0===l||!1!==l.call(this))e:for(var u=0;u<s;u++){for(var c=o[u],d=c.length,f=0;f<d;f++){var h=this.LA(f+1);if(!1===n(h,c[f]))continue e}return a}}};if(a&&!r){var o=oa(Pi(e,(function(e){return Ft(e)})),(function(e,t,n){return bi(t,(function(t){Bi(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=n),bi(t.categoryMatches,(function(t){Bi(e,t)||(e[t]=n)}))})),e}),{});return function(){var e=this.LA(1);return o[e.tokenTypeIdx]}}return function(){for(var t=0;t<i;t++){var r=e[t],a=r.length;e:for(var o=0;o<a;o++){for(var s=r[o],l=s.length,u=0;u<l;u++){var c=this.LA(u+1);if(!1===n(c,s[u]))continue e}return t}}}}function Es(e,t,n){var r=Si(e,(function(e){return 1===e.length})),i=e.length;if(r&&!n){var a=Ft(e);if(1===a.length&&Qi(a[0].categoryMatches)){var o=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===o}}var s=oa(a,(function(e,t,n){return e[t.tokenTypeIdx]=!0,bi(t.categoryMatches,(function(t){e[t]=!0})),e}),[]);return function(){var e=this.LA(1);return!0===s[e.tokenTypeIdx]}}return function(){e:for(var n=0;n<i;n++){for(var r=e[n],a=r.length,o=0;o<a;o++){var s=this.LA(o+1);if(!1===t(s,r[o]))continue e}return!0}return!1}}(ds=cs||(cs={}))[ds.OPTION=0]="OPTION",ds[ds.REPETITION=1]="REPETITION",ds[ds.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",ds[ds.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",ds[ds.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",ds[ds.ALTERNATION=5]="ALTERNATION";var Cs=function(e){tm(n,e);var t=im(n);function n(e,r,i){var a;return Xs(this,n),(a=t.call(this)).topProd=e,a.targetOccurrence=r,a.targetProdType=i,a}return Ks(n,[{key:"startWalking",value:function(){return this.walk(this.topProd),this.restDef}},{key:"checkIsTarget",value:function(e,t,n,r){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=n.concat(r),!0)}},{key:"walkOption",value:function(e,t,r){this.checkIsTarget(e,cs.OPTION,t,r)||lm(nm(n.prototype),"walkOption",this).call(this,e,t,r)}},{key:"walkAtLeastOne",value:function(e,t,r){this.checkIsTarget(e,cs.REPETITION_MANDATORY,t,r)||lm(nm(n.prototype),"walkOption",this).call(this,e,t,r)}},{key:"walkAtLeastOneSep",value:function(e,t,r){this.checkIsTarget(e,cs.REPETITION_MANDATORY_WITH_SEPARATOR,t,r)||lm(nm(n.prototype),"walkOption",this).call(this,e,t,r)}},{key:"walkMany",value:function(e,t,r){this.checkIsTarget(e,cs.REPETITION,t,r)||lm(nm(n.prototype),"walkOption",this).call(this,e,t,r)}},{key:"walkManySep",value:function(e,t,r){this.checkIsTarget(e,cs.REPETITION_WITH_SEPARATOR,t,r)||lm(nm(n.prototype),"walkOption",this).call(this,e,t,r)}}]),n}(Oa),Ms=function(e){tm(n,e);var t=im(n);function n(e,r,i){var a;return Xs(this,n),(a=t.call(this)).targetOccurrence=e,a.targetProdType=r,a.targetRef=i,a.result=[],a}return Ks(n,[{key:"checkIsTarget",value:function(e,t){e.idx!==this.targetOccurrence||this.targetProdType!==t||void 0!==this.targetRef&&e!==this.targetRef||(this.result=e.definition)}},{key:"visitOption",value:function(e){this.checkIsTarget(e,cs.OPTION)}},{key:"visitRepetition",value:function(e){this.checkIsTarget(e,cs.REPETITION)}},{key:"visitRepetitionMandatory",value:function(e){this.checkIsTarget(e,cs.REPETITION_MANDATORY)}},{key:"visitRepetitionMandatoryWithSeparator",value:function(e){this.checkIsTarget(e,cs.REPETITION_MANDATORY_WITH_SEPARATOR)}},{key:"visitRepetitionWithSeparator",value:function(e){this.checkIsTarget(e,cs.REPETITION_WITH_SEPARATOR)}},{key:"visitAlternation",value:function(e){this.checkIsTarget(e,cs.ALTERNATION)}}]),n}(Aa);function Ts(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=[];return t}function Rs(e){for(var t=[""],n=0;n<e.length;n++){for(var r=e[n],i=[],a=0;a<t.length;a++){var o=t[a];i.push(o+"_"+r.tokenTypeIdx);for(var s=0;s<r.categoryMatches.length;s++){var l="_"+r.categoryMatches[s];i.push(o+l)}}t=i}return t}function As(e,t,n){for(var r=0;r<e.length;r++)if(r!==n)for(var i=e[r],a=0;a<t.length;a++){if(!0===i[t[a]])return!1}return!0}function Ps(e,t){for(var n=Pi(e,(function(e){return xs([e],1)})),r=Ts(n.length),i=Pi(n,(function(e){var t={};return bi(e,(function(e){bi(Rs(e.partialPath),(function(e){t[e]=!0}))})),t})),a=n,o=1;o<=t;o++){var s=a;a=Ts(s.length);for(var l=function(e){for(var n=s[e],l=0;l<n.length;l++){var u=n[l].partialPath,c=n[l].suffixDef,d=Rs(u);if(As(i,d,e)||Qi(c)||u.length===t){var f=r[e];if(!1===Ls(f,u)){f.push(u);for(var h=0;h<d.length;h++){var p=d[h];i[e][p]=!0}}}else{var v=xs(c,o+1,u);a[e]=a[e].concat(v),bi(v,(function(t){bi(Rs(t.partialPath),(function(t){i[e][t]=!0}))}))}}},u=0;u<s.length;u++)l(u)}return r}function Is(e,t,n,r){var i=new Ms(e,cs.ALTERNATION,r);return t.accept(i),Ps(i.result,n)}function Os(e,t,n,r){var i=new Ms(e,n);t.accept(i);var a=i.result,o=new Cs(t,e,n).startWalking();return Ps([new wa({definition:a}),new wa({definition:o})],r)}function Ls(e,t){e:for(var n=0;n<e.length;n++){var r=e[n];if(r.length===t.length){for(var i=0;i<r.length;i++){var a=t[i],o=r[i];if(!1===(a===o||void 0!==o.categoryMatchesMap[a.tokenTypeIdx]))continue e}return!0}}return!1}function Ns(e){return Si(e,(function(e){return Si(e,(function(e){return Si(e,(function(e){return Qi(e.categoryMatches)}))}))}))}function Ds(e,t,n,r){var i=Ii(e,(function(e){return function(e,t){var n=new zs;e.accept(n);var r=n.allProductions,i=Pi(Gi(ia(Ui(r,Us),(function(e){return e.length>1}))),(function(n){var r=Ri(n),i=t.buildDuplicateFoundError(e,n),a=Ia(r),o={message:i,type:Vl.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:a,occurrence:r.idx},s=Fs(r);return s&&(o.parameter=s),o}));return i}(e,n)})),a=function(e,t,n){var r=[],i=Pi(t,(function(e){return e.name}));return bi(e,(function(e){var t=e.name;if(Wi(i,t)){var a=n.buildNamespaceConflictError(e);r.push({message:a,type:Vl.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}})),r}(e,t,n),o=Ii(e,(function(e){return function(e,t){var n=new Hs;e.accept(n);var r=Ii(n.alternations,(function(n){return n.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:n}),type:Vl.TOO_MANY_ALTS,ruleName:e.name,occurrence:n.idx}]:[]}));return r}(e,n)})),s=Ii(e,(function(t){return function(e,t,n,r){var i=[],a=oa(t,(function(t,n){return n.name===e.name?t+1:t}),0);if(a>1){var o=r.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});i.push({message:o,type:Vl.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}(t,e,r,n)}));return i.concat(a,o,s)}function Us(e){return"".concat(Ia(e),"_#_").concat(e.idx,"_#_").concat(Fs(e))}function Fs(e){return e instanceof Ta?e.terminalType.name:e instanceof ba?e.nonTerminalName:""}var zs=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.apply(this,arguments)).allProductions=[],e}return Ks(n,[{key:"visitNonTerminal",value:function(e){this.allProductions.push(e)}},{key:"visitOption",value:function(e){this.allProductions.push(e)}},{key:"visitRepetitionWithSeparator",value:function(e){this.allProductions.push(e)}},{key:"visitRepetitionMandatory",value:function(e){this.allProductions.push(e)}},{key:"visitRepetitionMandatoryWithSeparator",value:function(e){this.allProductions.push(e)}},{key:"visitRepetition",value:function(e){this.allProductions.push(e)}},{key:"visitAlternation",value:function(e){this.allProductions.push(e)}},{key:"visitTerminal",value:function(e){this.allProductions.push(e)}}]),n}(Aa);function Bs(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=[],a=js(t.definition);if(Qi(a))return[];var o=e.name;Wi(a,e)&&i.push({message:n.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:r}),type:Vl.LEFT_RECURSION,ruleName:o});var s=Ii(vi(a,r.concat([e])),(function(t){var i=lr(r);return i.push(t),Bs(e,t,n,i)}));return i.concat(s)}function js(e){var t=[];if(Qi(e))return t;var n=Ri(e);if(n instanceof ba)t.push(n.referencedRule);else if(n instanceof wa||n instanceof Sa||n instanceof _a||n instanceof ka||n instanceof Ca||n instanceof Ea)t=t.concat(js(n.definition));else if(n instanceof Ma)t=Ft(Pi(n.definition,(function(e){return js(e.definition)})));else if(!(n instanceof Ta))throw Error("non exhaustive match");var r=Pa(n),i=e.length>1;if(r&&i){var a=gi(e);return t.concat(js(a))}return t}var Hs=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.apply(this,arguments)).alternations=[],e}return Ks(n,[{key:"visitAlternation",value:function(e){this.alternations.push(e)}}]),n}(Aa);function Gs(e,t,n){var r=new Hs;e.accept(r);var i=r.alternations,a=Ii(i=sa(i,(function(e){return!0===e.ignoreAmbiguities})),(function(r){var i=r.idx,a=r.maxLookahead||t,o=Is(i,e,a,r),s=function(e,t,n,r){var i=[],a=oa(e,(function(n,r,a){return!0===t.definition[a].ignoreAmbiguities||bi(r,(function(r){var o=[a];bi(e,(function(e,n){a!==n&&Ls(e,r)&&!0!==t.definition[n].ignoreAmbiguities&&o.push(n)})),o.length>1&&!Ls(i,r)&&(i.push(r),n.push({alts:o,path:r}))})),n}),[]),o=Pi(a,(function(e){var i=Pi(e.alts,(function(e){return e+1}));return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:Vl.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:e.alts}}));return o}(o,r,e,n),l=function(e,t,n,r){var i=oa(e,(function(e,t,n){var r=Pi(t,(function(e){return{idx:n,path:e}}));return e.concat(r)}),[]),a=ur(Ii(i,(function(e){if(!0===t.definition[e.idx].ignoreAmbiguities)return[];var a=e.idx,o=e.path;return Pi(ki(i,(function(e){return!0!==t.definition[e.idx].ignoreAmbiguities&&e.idx<a&&function(e,t){return e.length<t.length&&Si(e,(function(e,n){var r=t[n];return e===r||r.categoryMatchesMap[e.tokenTypeIdx]}))}(e.path,o)})),(function(e){var i=[e.idx+1,a+1],o=0===t.idx?"":t.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:Vl.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:o,alternatives:i}}))})));return a}(o,r,e,n);return s.concat(l)}));return a}var Vs=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.apply(this,arguments)).allProductions=[],e}return Ks(n,[{key:"visitRepetitionWithSeparator",value:function(e){this.allProductions.push(e)}},{key:"visitRepetitionMandatory",value:function(e){this.allProductions.push(e)}},{key:"visitRepetitionMandatoryWithSeparator",value:function(e){this.allProductions.push(e)}},{key:"visitRepetition",value:function(e){this.allProductions.push(e)}}]),n}(Aa);function Ws(e){var t=di(e,{errMsgProvider:ls}),n={};return bi(e.rules,(function(e){n[e.name]=e})),function(e,t){var n=new fs(e,t);return n.resolveRefs(),n.errors}(n,t.errMsgProvider)}var qs="MismatchedTokenException",Ys="NoViableAltException",Zs="EarlyExitException",Qs="NotAllInputParsedException",$s=[qs,Ys,Zs,Qs];function Js(e){return Wi($s,e.name)}Object.freeze($s);var el=function(e){tm(n,e);var t=im(n);function n(e,r){var i;return Xs(this,n),(i=t.call(this,e)).token=r,i.resyncedTokens=[],Object.setPrototypeOf(Br(i),(this instanceof n?this.constructor:void 0).prototype),Error.captureStackTrace&&Error.captureStackTrace(Br(i),i.constructor),i}return Ks(n)}(am(Error)),tl=function(e){tm(n,e);var t=im(n);function n(e,r,i){var a;return Xs(this,n),(a=t.call(this,e,r)).previousToken=i,a.name=qs,a}return Ks(n)}(el),nl=function(e){tm(n,e);var t=im(n);function n(e,r,i){var a;return Xs(this,n),(a=t.call(this,e,r)).previousToken=i,a.name=Ys,a}return Ks(n)}(el),rl=function(e){tm(n,e);var t=im(n);function n(e,r){var i;return Xs(this,n),(i=t.call(this,e,r)).name=Qs,i}return Ks(n)}(el),il=function(e){tm(n,e);var t=im(n);function n(e,r,i){var a;return Xs(this,n),(a=t.call(this,e,r)).previousToken=i,a.name=Zs,a}return Ks(n)}(el),al={},ol="InRuleRecoveryException",sl=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this,e)).name=ol,r}return Ks(n)}(am(Error)),ll=function(){function e(){Xs(this,e)}return Ks(e,[{key:"initRecoverable",value:function(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Bi(e,"recoveryEnabled")?e.recoveryEnabled:ql.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=ul)}},{key:"getTokenToInsert",value:function(e){var t=as(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}},{key:"canTokenTypeBeInsertedInRecovery",value:function(e){return!0}},{key:"canTokenTypeBeDeletedInRecovery",value:function(e){return!0}},{key:"tryInRepetitionRecovery",value:function(e,t,n,r){for(var i=this,a=this.findReSyncTokenType(),o=this.exportLexerState(),s=[],l=!1,u=this.LA(1),c=this.LA(1),d=function(){var e=i.LA(0),t=i.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:u,previous:e,ruleName:i.getCurrRuleFullName()}),n=new tl(t,u,i.LA(0));n.resyncedTokens=yi(s),i.SAVE_ERROR(n)};!l;){if(this.tokenMatcher(c,r))return void d();if(n.call(this))return d(),void e.apply(this,t);this.tokenMatcher(c,a)?l=!0:(c=this.SKIP_TOKEN(),this.addToResyncTokens(c,s))}this.importLexerState(o)}},{key:"shouldInRepetitionRecoveryBeTried",value:function(e,t,n){return!1!==n&&(!this.tokenMatcher(this.LA(1),e)&&(!this.isBackTracking()&&!this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t))))}},{key:"getFollowsForInRuleRecovery",value:function(e,t){var n=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(n)}},{key:"tryInRuleRecovery",value:function(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){var n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new sl("sad sad panda")}},{key:"canPerformInRuleRecovery",value:function(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)}},{key:"canRecoverWithSingleTokenInsertion",value:function(e,t){var n=this;if(!this.canTokenTypeBeInsertedInRecovery(e))return!1;if(Qi(t))return!1;var r=this.LA(1);return void 0!==Ti(t,(function(e){return n.tokenMatcher(r,e)}))}},{key:"canRecoverWithSingleTokenDeletion",value:function(e){return!!this.canTokenTypeBeDeletedInRecovery(e)&&this.tokenMatcher(this.LA(2),e)}},{key:"isInCurrentRuleReSyncSet",value:function(e){var t=this.getCurrFollowKey();return Wi(this.getFollowSetFromFollowKey(t),e)}},{key:"findReSyncTokenType",value:function(){for(var e=this.flattenFollowSet(),t=this.LA(1),n=2;;){var r=Ti(e,(function(e){return os(t,e)}));if(void 0!==r)return r;t=this.LA(n),n++}}},{key:"getCurrFollowKey",value:function(){if(1===this.RULE_STACK.length)return al;var e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(n)}}},{key:"buildFullFollowKeyStack",value:function(){var e=this,t=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return Pi(t,(function(r,i){return 0===i?al:{ruleName:e.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:e.shortRuleNameToFullName(t[i-1])}}))}},{key:"flattenFollowSet",value:function(){var e=this;return Ft(Pi(this.buildFullFollowKeyStack(),(function(t){return e.getFollowSetFromFollowKey(t)})))}},{key:"getFollowSetFromFollowKey",value:function(e){if(e===al)return[is];var t=e.ruleName+e.idxInCallingRule+Da+e.inRule;return this.resyncFollows[t]}},{key:"addToResyncTokens",value:function(e,t){return this.tokenMatcher(e,is)||t.push(e),t}},{key:"reSyncTo",value:function(e){for(var t=[],n=this.LA(1);!1===this.tokenMatcher(n,e);)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,t);return yi(t)}},{key:"attemptInRepetitionRecovery",value:function(e,t,n,r,i,a,o){}},{key:"getCurrentGrammarPath",value:function(e,t){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:lr(this.RULE_OCCURRENCE_STACK),lastTok:e,lastTokOccurrence:t}}},{key:"getHumanReadableRuleStack",value:function(){var e=this;return Pi(this.RULE_STACK,(function(t){return e.shortRuleNameToFullName(t)}))}}]),e}();function ul(e,t,n,r,i,a,o){var s=this.getKeyForAutomaticLookahead(r,i),l=this.firstAfterRepMap[s];if(void 0===l){var u=this.getCurrRuleFullName();l=new a(this.getGAstProductions()[u],i).startWalking(),this.firstAfterRepMap[s]=l}var c=l.token,d=l.occurrence,f=l.isEndOfRule;1===this.RULE_STACK.length&&f&&void 0===c&&(c=is,d=1),void 0!==c&&void 0!==d&&this.shouldInRepetitionRecoveryBeTried(c,d,o)&&this.tryInRepetitionRecovery(e,t,n,c)}var cl=1024,dl=1280,fl=1536;function hl(e,t,n){return n|t|e}var pl=function(){function e(t){var n;Xs(this,e),this.maxLookahead=null!==(n=null===t||void 0===t?void 0:t.maxLookahead)&&void 0!==n?n:ql.maxLookahead}return Ks(e,[{key:"validate",value:function(e){var t=this.validateNoLeftRecursion(e.rules);if(Qi(t)){var n=this.validateEmptyOrAlternatives(e.rules),r=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),i=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[].concat(k(t),k(n),k(r),k(i))}return t}},{key:"validateNoLeftRecursion",value:function(e){return Ii(e,(function(e){return Bs(e,e,us)}))}},{key:"validateEmptyOrAlternatives",value:function(e){return Ii(e,(function(e){return function(e,t){var n=new Hs;return e.accept(n),Ii(n.alternations,(function(n){return Ii(yi(n.definition),(function(r,i){return Qi(ws([r],[],Oo,1))?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:n,emptyChoiceIdx:i}),type:Vl.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:n.idx,alternative:i+1}]:[]}))}))}(e,us)}))}},{key:"validateAmbiguousAlternationAlternatives",value:function(e,t){return Ii(e,(function(e){return Gs(e,t,us)}))}},{key:"validateSomeNonEmptyLookaheadPath",value:function(e,t){return function(e,t,n){var r=[];return bi(e,(function(e){var i=new Vs;e.accept(i),bi(i.allProductions,(function(i){var a=_s(i),o=i.maxLookahead||t;if(Qi(Ft(Os(i.idx,e,a,o)[0]))){var s=n.buildEmptyRepetitionError({topLevelRule:e,repetition:i});r.push({message:s,type:Vl.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}}))})),r}(e,t,us)}},{key:"buildLookaheadForAlternation",value:function(e){return function(e,t,n,r,i,a){var o=Is(e,t,n);return a(o,r,Ns(o)?Lo:Oo,i)}(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,ks)}},{key:"buildLookaheadForOptional",value:function(e){return function(e,t,n,r,i,a){var o=Os(e,t,i,n),s=Ns(o)?Lo:Oo;return a(o[0],s,r)}(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,_s(e.prodType),Es)}}]),e}(),vl=function(){function e(){Xs(this,e)}return Ks(e,[{key:"initLooksAhead",value:function(e){this.dynamicTokensEnabled=Bi(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:ql.dynamicTokensEnabled,this.maxLookahead=Bi(e,"maxLookahead")?e.maxLookahead:ql.maxLookahead,this.lookaheadStrategy=Bi(e,"lookaheadStrategy")?e.lookaheadStrategy:new pl({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}},{key:"preComputeLookaheadFunctions",value:function(e){var t=this;bi(e,(function(e){t.TRACE_INIT("".concat(e.name," Rule Lookahead"),(function(){var n=function(e){gl.reset(),e.accept(gl);var t=gl.dslMethods;return gl.reset(),t}(e),r=n.alternation,i=n.repetition,a=n.option,o=n.repetitionMandatory,s=n.repetitionMandatoryWithSeparator,l=n.repetitionWithSeparator;bi(r,(function(n){var r=0===n.idx?"":n.idx;t.TRACE_INIT("".concat(Ia(n)).concat(r),(function(){var r=t.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:n.idx,rule:e,maxLookahead:n.maxLookahead||t.maxLookahead,hasPredicates:n.hasPredicates,dynamicTokensEnabled:t.dynamicTokensEnabled}),i=hl(t.fullRuleNameToShort[e.name],256,n.idx);t.setLaFuncCache(i,r)}))})),bi(i,(function(n){t.computeLookaheadFunc(e,n.idx,768,"Repetition",n.maxLookahead,Ia(n))})),bi(a,(function(n){t.computeLookaheadFunc(e,n.idx,512,"Option",n.maxLookahead,Ia(n))})),bi(o,(function(n){t.computeLookaheadFunc(e,n.idx,cl,"RepetitionMandatory",n.maxLookahead,Ia(n))})),bi(s,(function(n){t.computeLookaheadFunc(e,n.idx,fl,"RepetitionMandatoryWithSeparator",n.maxLookahead,Ia(n))})),bi(l,(function(n){t.computeLookaheadFunc(e,n.idx,dl,"RepetitionWithSeparator",n.maxLookahead,Ia(n))}))}))}))}},{key:"computeLookaheadFunc",value:function(e,t,n,r,i,a){var o=this;this.TRACE_INIT("".concat(a).concat(0===t?"":t),(function(){var a=o.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:e,maxLookahead:i||o.maxLookahead,dynamicTokensEnabled:o.dynamicTokensEnabled,prodType:r}),s=hl(o.fullRuleNameToShort[e.name],n,t);o.setLaFuncCache(s,a)}))}},{key:"getKeyForAutomaticLookahead",value:function(e,t){return hl(this.getLastExplicitRuleShortName(),e,t)}},{key:"getLaFuncFromCache",value:function(e){return this.lookAheadFuncsCache.get(e)}},{key:"setLaFuncCache",value:function(e,t){this.lookAheadFuncsCache.set(e,t)}}]),e}(),ml=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.apply(this,arguments)).dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},e}return Ks(n,[{key:"reset",value:function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}},{key:"visitOption",value:function(e){this.dslMethods.option.push(e)}},{key:"visitRepetitionWithSeparator",value:function(e){this.dslMethods.repetitionWithSeparator.push(e)}},{key:"visitRepetitionMandatory",value:function(e){this.dslMethods.repetitionMandatory.push(e)}},{key:"visitRepetitionMandatoryWithSeparator",value:function(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}},{key:"visitRepetition",value:function(e){this.dslMethods.repetition.push(e)}},{key:"visitAlternation",value:function(e){this.dslMethods.alternation.push(e)}}]),n}(Aa),gl=new ml;function yl(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset===!0&&(e.endOffset=t.endOffset)}function bl(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset===!0&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}var xl,wl,Sl="name";function _l(e,t){Object.defineProperty(e,Sl,{enumerable:!1,configurable:!0,writable:!1,value:t})}function kl(e,t){for(var n=rt(e),r=n.length,i=0;i<r;i++)for(var a=e[n[i]],o=a.length,s=0;s<o;s++){var l=a[s];void 0===l.tokenTypeIdx&&this[l.name](l.children,t)}}function El(e,t){var n=function(){};_l(n,e+"BaseSemantics");var r={visit:function(e,t){if(g(e)&&(e=e[0]),!ta(e))return this[e.name](e.children,t)},validateVisitor:function(){var e=function(e,t){var n=function(e,t){var n=ki(t,(function(t){return!1===j(e[t])})),r=Pi(n,(function(t){return{msg:"Missing visitor method: <".concat(t,"> on ").concat(e.constructor.name," CST Visitor."),type:xl.MISSING_METHOD,methodName:t}}));return ur(r)}(e,t);return n}(this,t);if(!Qi(e)){var n=Pi(e,(function(e){return e.msg}));throw Error("Errors Detected in CST Visitor <".concat(this.constructor.name,">:\n\t").concat(n.join("\n\n").replace(/\n/g,"\n\t")))}}};return(n.prototype=r).constructor=n,n._RULE_NAMES=t,n}(wl=xl||(xl={}))[wl.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",wl[wl.MISSING_METHOD=1]="MISSING_METHOD";var Cl=function(){function e(){Xs(this,e)}return Ks(e,[{key:"initTreeBuilder",value:function(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=Bi(e,"nodeLocationTracking")?e.nodeLocationTracking:ql.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=bl,this.setNodeLocationFromNode=bl,this.cstPostRule=ie,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=ie,this.setNodeLocationFromNode=ie,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=yl,this.setNodeLocationFromNode=yl,this.cstPostRule=ie,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=ie,this.setNodeLocationFromNode=ie,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: "'.concat(e.nodeLocationTracking,'"'));this.setNodeLocationFromToken=ie,this.setNodeLocationFromNode=ie,this.cstPostRule=ie,this.setInitialNodeLocation=ie}else this.cstInvocationStateUpdate=ie,this.cstFinallyStateUpdate=ie,this.cstPostTerminal=ie,this.cstPostNonTerminal=ie,this.cstPostRule=ie}},{key:"setInitialNodeLocationOnlyOffsetRecovery",value:function(e){e.location={startOffset:NaN,endOffset:NaN}}},{key:"setInitialNodeLocationOnlyOffsetRegular",value:function(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}},{key:"setInitialNodeLocationFullRecovery",value:function(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}},{key:"setInitialNodeLocationFullRegular",value:function(e){var t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}},{key:"cstInvocationStateUpdate",value:function(e){var t={name:e,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}},{key:"cstFinallyStateUpdate",value:function(){this.CST_STACK.pop()}},{key:"cstPostRuleFull",value:function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset===!0?(n.endOffset=t.endOffset,n.endLine=t.endLine,n.endColumn=t.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}},{key:"cstPostRuleOnlyOffset",value:function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset===!0?n.endOffset=t.endOffset:n.startOffset=NaN}},{key:"cstPostTerminal",value:function(e,t){var n=this.CST_STACK[this.CST_STACK.length-1];!function(e,t,n){void 0===e.children[n]?e.children[n]=[t]:e.children[n].push(t)}(n,t,e),this.setNodeLocationFromToken(n.location,t)}},{key:"cstPostNonTerminal",value:function(e,t){var n=this.CST_STACK[this.CST_STACK.length-1];!function(e,t,n){void 0===e.children[t]?e.children[t]=[n]:e.children[t].push(n)}(n,t,e),this.setNodeLocationFromNode(n.location,e.location)}},{key:"getBaseCstVisitorConstructor",value:function(){if(ta(this.baseCstVisitorConstructor)){var e=El(this.className,rt(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}},{key:"getBaseCstVisitorConstructorWithDefaults",value:function(){if(ta(this.baseCstVisitorWithDefaultsConstructor)){var e=function(e,t,n){var r=function(){};_l(r,e+"BaseSemanticsWithDefaults");var i=Object.create(n.prototype);return bi(t,(function(e){i[e]=kl})),(r.prototype=i).constructor=r,r}(this.className,rt(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}},{key:"getLastExplicitRuleShortName",value:function(){var e=this.RULE_STACK;return e[e.length-1]}},{key:"getPreviousExplicitRuleShortName",value:function(){var e=this.RULE_STACK;return e[e.length-2]}},{key:"getLastExplicitRuleOccurrenceIndex",value:function(){var e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}]),e}(),Ml=function(){function e(){Xs(this,e)}return Ks(e,[{key:"initLexerAdapter",value:function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}},{key:"input",get:function(){return this.tokVector},set:function(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}},{key:"SKIP_TOKEN",value:function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Gl}},{key:"LA",value:function(e){var t=this.currIdx+e;return t<0||this.tokVectorLength<=t?Gl:this.tokVector[t]}},{key:"consumeToken",value:function(){this.currIdx++}},{key:"exportLexerState",value:function(){return this.currIdx}},{key:"importLexerState",value:function(e){this.currIdx=e}},{key:"resetLexerState",value:function(){this.currIdx=-1}},{key:"moveToTerminatedState",value:function(){this.currIdx=this.tokVector.length-1}},{key:"getLexerPosition",value:function(){return this.exportLexerState()}}]),e}(),Tl=function(){function e(){Xs(this,e)}return Ks(e,[{key:"ACTION",value:function(e){return e.call(this)}},{key:"consume",value:function(e,t,n){return this.consumeInternal(t,e,n)}},{key:"subrule",value:function(e,t,n){return this.subruleInternal(t,e,n)}},{key:"option",value:function(e,t){return this.optionInternal(t,e)}},{key:"or",value:function(e,t){return this.orInternal(t,e)}},{key:"many",value:function(e,t){return this.manyInternal(e,t)}},{key:"atLeastOne",value:function(e,t){return this.atLeastOneInternal(e,t)}},{key:"CONSUME",value:function(e,t){return this.consumeInternal(e,0,t)}},{key:"CONSUME1",value:function(e,t){return this.consumeInternal(e,1,t)}},{key:"CONSUME2",value:function(e,t){return this.consumeInternal(e,2,t)}},{key:"CONSUME3",value:function(e,t){return this.consumeInternal(e,3,t)}},{key:"CONSUME4",value:function(e,t){return this.consumeInternal(e,4,t)}},{key:"CONSUME5",value:function(e,t){return this.consumeInternal(e,5,t)}},{key:"CONSUME6",value:function(e,t){return this.consumeInternal(e,6,t)}},{key:"CONSUME7",value:function(e,t){return this.consumeInternal(e,7,t)}},{key:"CONSUME8",value:function(e,t){return this.consumeInternal(e,8,t)}},{key:"CONSUME9",value:function(e,t){return this.consumeInternal(e,9,t)}},{key:"SUBRULE",value:function(e,t){return this.subruleInternal(e,0,t)}},{key:"SUBRULE1",value:function(e,t){return this.subruleInternal(e,1,t)}},{key:"SUBRULE2",value:function(e,t){return this.subruleInternal(e,2,t)}},{key:"SUBRULE3",value:function(e,t){return this.subruleInternal(e,3,t)}},{key:"SUBRULE4",value:function(e,t){return this.subruleInternal(e,4,t)}},{key:"SUBRULE5",value:function(e,t){return this.subruleInternal(e,5,t)}},{key:"SUBRULE6",value:function(e,t){return this.subruleInternal(e,6,t)}},{key:"SUBRULE7",value:function(e,t){return this.subruleInternal(e,7,t)}},{key:"SUBRULE8",value:function(e,t){return this.subruleInternal(e,8,t)}},{key:"SUBRULE9",value:function(e,t){return this.subruleInternal(e,9,t)}},{key:"OPTION",value:function(e){return this.optionInternal(e,0)}},{key:"OPTION1",value:function(e){return this.optionInternal(e,1)}},{key:"OPTION2",value:function(e){return this.optionInternal(e,2)}},{key:"OPTION3",value:function(e){return this.optionInternal(e,3)}},{key:"OPTION4",value:function(e){return this.optionInternal(e,4)}},{key:"OPTION5",value:function(e){return this.optionInternal(e,5)}},{key:"OPTION6",value:function(e){return this.optionInternal(e,6)}},{key:"OPTION7",value:function(e){return this.optionInternal(e,7)}},{key:"OPTION8",value:function(e){return this.optionInternal(e,8)}},{key:"OPTION9",value:function(e){return this.optionInternal(e,9)}},{key:"OR",value:function(e){return this.orInternal(e,0)}},{key:"OR1",value:function(e){return this.orInternal(e,1)}},{key:"OR2",value:function(e){return this.orInternal(e,2)}},{key:"OR3",value:function(e){return this.orInternal(e,3)}},{key:"OR4",value:function(e){return this.orInternal(e,4)}},{key:"OR5",value:function(e){return this.orInternal(e,5)}},{key:"OR6",value:function(e){return this.orInternal(e,6)}},{key:"OR7",value:function(e){return this.orInternal(e,7)}},{key:"OR8",value:function(e){return this.orInternal(e,8)}},{key:"OR9",value:function(e){return this.orInternal(e,9)}},{key:"MANY",value:function(e){this.manyInternal(0,e)}},{key:"MANY1",value:function(e){this.manyInternal(1,e)}},{key:"MANY2",value:function(e){this.manyInternal(2,e)}},{key:"MANY3",value:function(e){this.manyInternal(3,e)}},{key:"MANY4",value:function(e){this.manyInternal(4,e)}},{key:"MANY5",value:function(e){this.manyInternal(5,e)}},{key:"MANY6",value:function(e){this.manyInternal(6,e)}},{key:"MANY7",value:function(e){this.manyInternal(7,e)}},{key:"MANY8",value:function(e){this.manyInternal(8,e)}},{key:"MANY9",value:function(e){this.manyInternal(9,e)}},{key:"MANY_SEP",value:function(e){this.manySepFirstInternal(0,e)}},{key:"MANY_SEP1",value:function(e){this.manySepFirstInternal(1,e)}},{key:"MANY_SEP2",value:function(e){this.manySepFirstInternal(2,e)}},{key:"MANY_SEP3",value:function(e){this.manySepFirstInternal(3,e)}},{key:"MANY_SEP4",value:function(e){this.manySepFirstInternal(4,e)}},{key:"MANY_SEP5",value:function(e){this.manySepFirstInternal(5,e)}},{key:"MANY_SEP6",value:function(e){this.manySepFirstInternal(6,e)}},{key:"MANY_SEP7",value:function(e){this.manySepFirstInternal(7,e)}},{key:"MANY_SEP8",value:function(e){this.manySepFirstInternal(8,e)}},{key:"MANY_SEP9",value:function(e){this.manySepFirstInternal(9,e)}},{key:"AT_LEAST_ONE",value:function(e){this.atLeastOneInternal(0,e)}},{key:"AT_LEAST_ONE1",value:function(e){return this.atLeastOneInternal(1,e)}},{key:"AT_LEAST_ONE2",value:function(e){this.atLeastOneInternal(2,e)}},{key:"AT_LEAST_ONE3",value:function(e){this.atLeastOneInternal(3,e)}},{key:"AT_LEAST_ONE4",value:function(e){this.atLeastOneInternal(4,e)}},{key:"AT_LEAST_ONE5",value:function(e){this.atLeastOneInternal(5,e)}},{key:"AT_LEAST_ONE6",value:function(e){this.atLeastOneInternal(6,e)}},{key:"AT_LEAST_ONE7",value:function(e){this.atLeastOneInternal(7,e)}},{key:"AT_LEAST_ONE8",value:function(e){this.atLeastOneInternal(8,e)}},{key:"AT_LEAST_ONE9",value:function(e){this.atLeastOneInternal(9,e)}},{key:"AT_LEAST_ONE_SEP",value:function(e){this.atLeastOneSepFirstInternal(0,e)}},{key:"AT_LEAST_ONE_SEP1",value:function(e){this.atLeastOneSepFirstInternal(1,e)}},{key:"AT_LEAST_ONE_SEP2",value:function(e){this.atLeastOneSepFirstInternal(2,e)}},{key:"AT_LEAST_ONE_SEP3",value:function(e){this.atLeastOneSepFirstInternal(3,e)}},{key:"AT_LEAST_ONE_SEP4",value:function(e){this.atLeastOneSepFirstInternal(4,e)}},{key:"AT_LEAST_ONE_SEP5",value:function(e){this.atLeastOneSepFirstInternal(5,e)}},{key:"AT_LEAST_ONE_SEP6",value:function(e){this.atLeastOneSepFirstInternal(6,e)}},{key:"AT_LEAST_ONE_SEP7",value:function(e){this.atLeastOneSepFirstInternal(7,e)}},{key:"AT_LEAST_ONE_SEP8",value:function(e){this.atLeastOneSepFirstInternal(8,e)}},{key:"AT_LEAST_ONE_SEP9",value:function(e){this.atLeastOneSepFirstInternal(9,e)}},{key:"RULE",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xl;if(Wi(this.definedRulesNames,e)){var r={message:us.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:Vl.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(r)}this.definedRulesNames.push(e);var i=this.defineRule(e,t,n);return this[e]=i,i}},{key:"OVERRIDE_RULE",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xl,r=function(e,t,n){var r,i=[];return Wi(t,e)||(r="Invalid rule override, rule: ->".concat(e,"<- cannot be overridden in the grammar: ->").concat(n,"<-as it is not defined in any of the super grammars "),i.push({message:r,type:Vl.INVALID_RULE_OVERRIDE,ruleName:e})),i}(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(r);var i=this.defineRule(e,t,n);return this[e]=i,i}},{key:"BACKTRACK",value:function(e,t){return function(){this.isBackTrackingStack.push(1);var n=this.saveRecogState();try{return e.apply(this,t),!0}catch(Ine){if(Js(Ine))return!1;throw Ine}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}},{key:"getGAstProductions",value:function(){return this.gastProductionsCache}},{key:"getSerializedGastProductions",value:function(){return Pi(Gi(this.gastProductionsCache),Ra)}}]),e}(),Rl=function(){function e(){Xs(this,e)}return Ks(e,[{key:"initRecognizerEngine",value:function(e,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Lo,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Bi(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(g(e)){if(Qi(e))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"===typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(g(e))this.tokensMap=oa(e,(function(e,t){return e[t.name]=t,e}),{});else if(Bi(e,"modes")&&Si(Ft(Gi(e.modes)),jo)){var n=fa(Ft(Gi(e.modes)));this.tokensMap=oa(n,(function(e,t){return e[t.name]=t,e}),{})}else{if(!C(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=lr(e)}this.tokensMap.EOF=is;var r=Si(Bi(e,"modes")?Ft(Gi(e.modes)):Gi(e),(function(e){return Qi(e.categoryMatches)}));this.tokenMatcher=r?Lo:Oo,Uo(Gi(this.tokensMap))}},{key:"defineRule",value:function(e,t,n){if(this.selfAnalysisDone)throw Error("Grammar rule <".concat(e,"> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called."));var r,i=Bi(n,"resyncEnabled")?n.resyncEnabled:Xl.resyncEnabled,a=Bi(n,"recoveryValueFunc")?n.recoveryValueFunc:Xl.recoveryValueFunc,o=this.ruleShortNameIdx<<12;return this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o,r=!0===this.outputCst?function(){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];t.apply(this,r);var l=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(l),l}catch(Ine){return this.invokeRuleCatch(Ine,i,a)}finally{this.ruleFinallyStateUpdate()}}:function(){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.apply(this,r)}catch(Ine){return this.invokeRuleCatch(Ine,i,a)}finally{this.ruleFinallyStateUpdate()}},Object.assign(r,{ruleName:e,originalGrammarAction:t})}},{key:"invokeRuleCatch",value:function(e,t,n){var r=1===this.RULE_STACK.length,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if(Js(e)){var a=e;if(i){var o=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(o)){if(a.resyncedTokens=this.reSyncTo(o),this.outputCst){var s=this.CST_STACK[this.CST_STACK.length-1];return s.recoveredNode=!0,s}return n(e)}if(this.outputCst){var l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,a.partialCstResult=l}throw a}if(r)return this.moveToTerminatedState(),n(e);throw a}throw e}},{key:"optionInternal",value:function(e,t){var n=this.getKeyForAutomaticLookahead(512,t);return this.optionInternalLogic(e,t,n)}},{key:"optionInternalLogic",value:function(e,t,n){var r,i=this,a=this.getLaFuncFromCache(n);if("function"!==typeof e){r=e.DEF;var o=e.GATE;if(void 0!==o){var s=a;a=function(){return o.call(i)&&s.call(i)}}}else r=e;if(!0===a.call(this))return r.call(this)}},{key:"atLeastOneInternal",value:function(e,t){var n=this.getKeyForAutomaticLookahead(cl,e);return this.atLeastOneInternalLogic(e,t,n)}},{key:"atLeastOneInternalLogic",value:function(e,t,n){var r,i=this,a=this.getLaFuncFromCache(n);if("function"!==typeof t){r=t.DEF;var o=t.GATE;if(void 0!==o){var s=a;a=function(){return o.call(i)&&s.call(i)}}}else r=t;if(!0!==a.call(this))throw this.raiseEarlyExitException(e,cs.REPETITION_MANDATORY,t.ERR_MSG);for(var l=this.doSingleRepetition(r);!0===a.call(this)&&!0===l;)l=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],a,cl,e,ys)}},{key:"atLeastOneSepFirstInternal",value:function(e,t){var n=this.getKeyForAutomaticLookahead(fl,e);this.atLeastOneSepFirstInternalLogic(e,t,n)}},{key:"atLeastOneSepFirstInternalLogic",value:function(e,t,n){var r=this,i=t.DEF,a=t.SEP;if(!0!==this.getLaFuncFromCache(n).call(this))throw this.raiseEarlyExitException(e,cs.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG);i.call(this);for(var o=function(){return r.tokenMatcher(r.LA(1),a)};!0===this.tokenMatcher(this.LA(1),a);)this.CONSUME(a),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,a,o,i,bs],o,fl,e,bs)}},{key:"manyInternal",value:function(e,t){var n=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,t,n)}},{key:"manyInternalLogic",value:function(e,t,n){var r,i=this,a=this.getLaFuncFromCache(n);if("function"!==typeof t){r=t.DEF;var o=t.GATE;if(void 0!==o){var s=a;a=function(){return o.call(i)&&s.call(i)}}}else r=t;for(var l=!0;!0===a.call(this)&&!0===l;)l=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],a,768,e,ms,l)}},{key:"manySepFirstInternal",value:function(e,t){var n=this.getKeyForAutomaticLookahead(dl,e);this.manySepFirstInternalLogic(e,t,n)}},{key:"manySepFirstInternalLogic",value:function(e,t,n){var r=this,i=t.DEF,a=t.SEP;if(!0===this.getLaFuncFromCache(n).call(this)){i.call(this);for(var o=function(){return r.tokenMatcher(r.LA(1),a)};!0===this.tokenMatcher(this.LA(1),a);)this.CONSUME(a),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,a,o,i,gs],o,dl,e,gs)}}},{key:"repetitionSepSecondInternal",value:function(e,t,n,r,i){for(;n();)this.CONSUME(t),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,n,r,i],n,fl,e,i)}},{key:"doSingleRepetition",value:function(e){var t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t}},{key:"orInternal",value:function(e,t){var n=this.getKeyForAutomaticLookahead(256,t),r=g(e)?e:e.DEF,i=this.getLaFuncFromCache(n).call(this,r);if(void 0!==i)return r[i].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)}},{key:"ruleFinallyStateUpdate",value:function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new rl(t,e))}}},{key:"subruleInternal",value:function(e,t,n){var r;try{var i=void 0!==n?n.ARGS:void 0;return this.subruleIdx=t,r=e.apply(this,i),this.cstPostNonTerminal(r,void 0!==n&&void 0!==n.LABEL?n.LABEL:e.ruleName),r}catch(Ine){throw this.subruleInternalError(Ine,n,e.ruleName)}}},{key:"subruleInternalError",value:function(e,t,n){throw Js(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:n),delete e.partialCstResult),e}},{key:"consumeInternal",value:function(e,t,n){var r;try{var i=this.LA(1);!0===this.tokenMatcher(i,e)?(this.consumeToken(),r=i):this.consumeInternalError(e,i,n)}catch(a){r=this.consumeInternalRecovery(e,t,a)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:e.name,r),r}},{key:"consumeInternalError",value:function(e,t,n){var r,i=this.LA(0);throw r=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new tl(r,t,i))}},{key:"consumeInternalRecovery",value:function(e,t,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;var r=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,r)}catch(i){throw i.name===ol?n:i}}},{key:"saveRecogState",value:function(){var e=this.errors,t=lr(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}},{key:"reloadRecogState",value:function(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}},{key:"ruleInvocationStateUpdate",value:function(e,t,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t)}},{key:"isBackTracking",value:function(){return 0!==this.isBackTrackingStack.length}},{key:"getCurrRuleFullName",value:function(){var e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}},{key:"shortRuleNameToFullName",value:function(e){return this.shortRuleNameToFull[e]}},{key:"isAtEndOfInput",value:function(){return this.tokenMatcher(this.LA(1),is)}},{key:"reset",value:function(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}]),e}(),Al=function(){function e(){Xs(this,e)}return Ks(e,[{key:"initErrorHandler",value:function(e){this._errors=[],this.errorMessageProvider=Bi(e,"errorMessageProvider")?e.errorMessageProvider:ql.errorMessageProvider}},{key:"SAVE_ERROR",value:function(e){if(Js(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:lr(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}},{key:"errors",get:function(){return lr(this._errors)},set:function(e){this._errors=e}},{key:"raiseEarlyExitException",value:function(e,t,n){for(var r=this.getCurrRuleFullName(),i=Os(e,this.getGAstProductions()[r],t,this.maxLookahead)[0],a=[],o=1;o<=this.maxLookahead;o++)a.push(this.LA(o));var s=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:i,actual:a,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new il(s,this.LA(1),this.LA(0)))}},{key:"raiseNoAltException",value:function(e,t){for(var n=this.getCurrRuleFullName(),r=Is(e,this.getGAstProductions()[n],this.maxLookahead),i=[],a=1;a<=this.maxLookahead;a++)i.push(this.LA(a));var o=this.LA(0),s=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:r,actual:i,previous:o,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new nl(s,this.LA(1),o))}}]),e}(),Pl=function(){function e(){Xs(this,e)}return Ks(e,[{key:"initContentAssist",value:function(){}},{key:"computeContentAssist",value:function(e,t){var n=this.gastProductionsCache[e];if(ta(n))throw Error("Rule ->".concat(e,"<- does not exist in this grammar."));return ws([n],t,this.tokenMatcher,this.maxLookahead)}},{key:"getNextPossibleTokenTypes",value:function(e){var t=Ri(e.ruleStack),n=this.getGAstProductions()[t];return new ps(n,e).startWalking()}}]),e}(),Il={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Il);var Ol=Math.pow(2,8)-1,Ll=rs({name:"RECORDING_PHASE_TOKEN",pattern:Wo.NA});Uo([Ll]);var Nl=as(Ll,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(Nl);var Dl={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}},Ul=function(){function e(){Xs(this,e)}return Ks(e,[{key:"initGastRecorder",value:function(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}},{key:"enableRecording",value:function(){var e=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(function(){for(var t=function(t){var n=t>0?t:"";e["CONSUME".concat(n)]=function(e,n){return this.consumeInternalRecord(e,t,n)},e["SUBRULE".concat(n)]=function(e,n){return this.subruleInternalRecord(e,t,n)},e["OPTION".concat(n)]=function(e){return this.optionInternalRecord(e,t)},e["OR".concat(n)]=function(e){return this.orInternalRecord(e,t)},e["MANY".concat(n)]=function(e){this.manyInternalRecord(t,e)},e["MANY_SEP".concat(n)]=function(e){this.manySepFirstInternalRecord(t,e)},e["AT_LEAST_ONE".concat(n)]=function(e){this.atLeastOneInternalRecord(t,e)},e["AT_LEAST_ONE_SEP".concat(n)]=function(e){this.atLeastOneSepFirstInternalRecord(t,e)}},n=0;n<10;n++)t(n);e.consume=function(e,t,n){return this.consumeInternalRecord(t,e,n)},e.subrule=function(e,t,n){return this.subruleInternalRecord(t,e,n)},e.option=function(e,t){return this.optionInternalRecord(t,e)},e.or=function(e,t){return this.orInternalRecord(t,e)},e.many=function(e,t){this.manyInternalRecord(e,t)},e.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},e.ACTION=e.ACTION_RECORD,e.BACKTRACK=e.BACKTRACK_RECORD,e.LA=e.LA_RECORD}))}},{key:"disableRecording",value:function(){var e=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(function(){for(var t=e,n=0;n<10;n++){var r=n>0?n:"";delete t["CONSUME".concat(r)],delete t["SUBRULE".concat(r)],delete t["OPTION".concat(r)],delete t["OR".concat(r)],delete t["MANY".concat(r)],delete t["MANY_SEP".concat(r)],delete t["AT_LEAST_ONE".concat(r)],delete t["AT_LEAST_ONE_SEP".concat(r)]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA}))}},{key:"ACTION_RECORD",value:function(e){}},{key:"BACKTRACK_RECORD",value:function(e,t){return function(){return!0}}},{key:"LA_RECORD",value:function(e){return Gl}},{key:"topLevelRuleRecord",value:function(e,t){try{var n=new xa({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),t.call(this),this.recordingProdStack.pop(),n}catch(r){if(!0!==r.KNOWN_RECORDER_ERROR)try{r.message=r.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch(i){throw r}throw r}}},{key:"optionInternalRecord",value:function(e,t){return Fl.call(this,Sa,e,t)}},{key:"atLeastOneInternalRecord",value:function(e,t){Fl.call(this,_a,t,e)}},{key:"atLeastOneSepFirstInternalRecord",value:function(e,t){Fl.call(this,ka,t,e,true)}},{key:"manyInternalRecord",value:function(e,t){Fl.call(this,Ea,t,e)}},{key:"manySepFirstInternalRecord",value:function(e,t){Fl.call(this,Ca,t,e,true)}},{key:"orInternalRecord",value:function(e,t){return zl.call(this,e,t)}},{key:"subruleInternalRecord",value:function(e,t,n){if(jl(t),!e||!1===Bi(e,"ruleName")){var r=new Error("<SUBRULE".concat(Bl(t),"> argument is invalid expecting a Parser method reference but got: <").concat(JSON.stringify(e),">\n inside top level rule: <").concat(this.recordingProdStack[0].name,">"));throw r.KNOWN_RECORDER_ERROR=!0,r}var i=mi(this.recordingProdStack),a=e.ruleName,o=new ba({idx:t,nonTerminalName:a,label:null===n||void 0===n?void 0:n.LABEL,referencedRule:void 0});return i.definition.push(o),this.outputCst?Dl:Il}},{key:"consumeInternalRecord",value:function(e,t,n){if(jl(t),!zo(e)){var r=new Error("<CONSUME".concat(Bl(t),"> argument is invalid expecting a TokenType reference but got: <").concat(JSON.stringify(e),">\n inside top level rule: <").concat(this.recordingProdStack[0].name,">"));throw r.KNOWN_RECORDER_ERROR=!0,r}var i=mi(this.recordingProdStack),a=new Ta({idx:t,terminalType:e,label:null===n||void 0===n?void 0:n.LABEL});return i.definition.push(a),Nl}}]),e}();function Fl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];jl(n);var i=mi(this.recordingProdStack),a=j(t)?t:t.DEF,o=new e({definition:[],idx:n});return r&&(o.separator=t.SEP),Bi(t,"MAX_LOOKAHEAD")&&(o.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(o),a.call(this),i.definition.push(o),this.recordingProdStack.pop(),Il}function zl(e,t){var n=this;jl(t);var r=mi(this.recordingProdStack),i=!1===g(e),a=!1===i?e:e.DEF,o=new Ma({definition:[],idx:t,ignoreAmbiguities:i&&!0===e.IGNORE_AMBIGUITIES});Bi(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD);var s=ua(a,(function(e){return j(e.GATE)}));return o.hasPredicates=s,r.definition.push(o),bi(a,(function(e){var t=new wa({definition:[]});o.definition.push(t),Bi(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:Bi(e,"GATE")&&(t.ignoreAmbiguities=!0),n.recordingProdStack.push(t),e.ALT.call(n),n.recordingProdStack.pop()})),Il}function Bl(e){return 0===e?"":"".concat(e)}function jl(e){if(e<0||e>Ol){var t=new Error("Invalid DSL Method idx value: <".concat(e,">\n\tIdx value must be a none negative value smaller than ").concat(Ol+1));throw t.KNOWN_RECORDER_ERROR=!0,t}}var Hl=function(){function e(){Xs(this,e)}return Ks(e,[{key:"initPerformanceTracer",value:function(e){if(Bi(e,"traceInitPerf")){var t=e.traceInitPerf,n="number"===typeof t;this.traceInitMaxIdent=n?t:1/0,this.traceInitPerf=n?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=ql.traceInitPerf;this.traceInitIndent=-1}},{key:"TRACE_INIT",value:function(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log("".concat(n,"--\x3e <").concat(e,">"));var r=va(t),i=r.time,a=r.value,o=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o("".concat(n,"<-- <").concat(e,"> time: ").concat(i,"ms")),this.traceInitIndent--,a}return t()}}]),e}();var Gl=as(is,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Gl);var Vl,Wl,ql=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:ss,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Xl=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});(Wl=Vl||(Vl={}))[Wl.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",Wl[Wl.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",Wl[Wl.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",Wl[Wl.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",Wl[Wl.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",Wl[Wl.LEFT_RECURSION=5]="LEFT_RECURSION",Wl[Wl.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",Wl[Wl.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",Wl[Wl.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",Wl[Wl.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",Wl[Wl.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",Wl[Wl.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",Wl[Wl.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",Wl[Wl.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION";var Yl,Kl=function(){function e(t,n){Xs(this,e),this.definitionErrors=[],this.selfAnalysisDone=!1;var r=this;if(r.initErrorHandler(n),r.initLexerAdapter(),r.initLooksAhead(n),r.initRecognizerEngine(t,n),r.initRecoverable(n),r.initTreeBuilder(n),r.initContentAssist(),r.initGastRecorder(n),r.initPerformanceTracer(n),Bi(n,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=Bi(n,"skipValidations")?n.skipValidations:ql.skipValidations}return Ks(e,[{key:"performSelfAnalysis",value:function(){var t=this;this.TRACE_INIT("performSelfAnalysis",(function(){var n;t.selfAnalysisDone=!0;var r=t.className;t.TRACE_INIT("toFastProps",(function(){ma(t)})),t.TRACE_INIT("Grammar Recording",(function(){try{t.enableRecording(),bi(t.definedRulesNames,(function(e){var n,r=t[e].originalGrammarAction;t.TRACE_INIT("".concat(e," Rule"),(function(){n=t.topLevelRuleRecord(e,r)})),t.gastProductionsCache[e]=n}))}finally{t.disableRecording()}}));var i=[];if(t.TRACE_INIT("Grammar Resolving",(function(){i=Ws({rules:Gi(t.gastProductionsCache)}),t.definitionErrors=t.definitionErrors.concat(i)})),t.TRACE_INIT("Grammar Validations",(function(){if(Qi(i)&&!1===t.skipValidations){var e=(a={rules:Gi(t.gastProductionsCache),tokenTypes:Gi(t.tokensMap),errMsgProvider:us,grammarName:r},Ds((a=di(a,{errMsgProvider:us})).rules,a.tokenTypes,a.errMsgProvider,a.grammarName)),n=function(e){return Pi(e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName}),(function(e){return Object.assign({type:Vl.CUSTOM_LOOKAHEAD_VALIDATION},e)}))}({lookaheadStrategy:t.lookaheadStrategy,rules:Gi(t.gastProductionsCache),tokenTypes:Gi(t.tokensMap),grammarName:r});t.definitionErrors=t.definitionErrors.concat(e,n)}var a})),Qi(t.definitionErrors)&&(t.recoveryEnabled&&t.TRACE_INIT("computeAllProdsFollows",(function(){var e=function(e){var t={};return bi(e,(function(e){var n=new Ua(e).startWalking();st(t,n)})),t}(Gi(t.gastProductionsCache));t.resyncFollows=e})),t.TRACE_INIT("ComputeLookaheadFunctions",(function(){var e,n;null===(n=(e=t.lookaheadStrategy).initialize)||void 0===n||n.call(e,{rules:Gi(t.gastProductionsCache)}),t.preComputeLookaheadFunctions(Gi(t.gastProductionsCache))}))),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!Qi(t.definitionErrors))throw n=Pi(t.definitionErrors,(function(e){return e.message})),new Error("Parser Definition Errors detected:\n ".concat(n.join("\n-------------------------------\n")))}))}}],[{key:"performSelfAnalysis",value:function(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}}]),e}();Kl.DEFER_DEFINITION_ERRORS_HANDLING=!1,Yl=Kl,[ll,vl,Cl,Ml,Rl,Tl,Al,Pl,Ul,Hl].forEach((function(e){var t=e.prototype;Object.getOwnPropertyNames(t).forEach((function(n){if("constructor"!==n){var r=Object.getOwnPropertyDescriptor(t,n);r&&(r.get||r.set)?Object.defineProperty(Yl.prototype,n,r):Yl.prototype[n]=e.prototype[n]}}))}));var Zl=function(e){tm(n,e);var t=im(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ql;Xs(this,n);var i=lr(r);return i.outputCst=!0,t.call(this,e,i)}return Ks(n)}(Kl);return{CstParser:Zl,Lexer:Wo,createToken:rs}}();PB.CstParser,PB.Lexer,PB.createToken,s(Kz={},109,jg),s(Kz,97,jg),s(Kz,37,jg),s(Kz,43,jg),s(Kz,103,Yg),s(Kz,83,Yg),s(Kz,16,Yg),s(Kz,22,Yg),s(Kz,100,qg),s(Kz,76,qg),s(Kz,15,qg),s(Kz,9,qg),s(Zz={},109,Ng),s(Zz,97,Dg),s(Zz,37,Rg),s(Zz,43,Rg),s(Zz,103,Ng),s(Zz,83,Dg),s(Zz,16,Rg),s(Zz,22,Rg),s(Zz,100,Ng),s(Zz,76,Dg),s(Zz,15,Rg),s(Zz,9,Rg),s(Qz={},43,3001),s(Qz,22,3001),s(Qz,15,3001);var IB=function(){var e=0,t=-3;function n(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function r(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new n,this.dtree=new n}var i=new n,a=new n,o=new Uint8Array(30),s=new Uint16Array(30),l=new Uint8Array(30),u=new Uint16Array(30),c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=new n,f=new Uint8Array(320);function h(e,t,n,r){var i,a;for(i=0;i<n;++i)e[i]=0;for(i=0;i<30-n;++i)e[i+n]=i/n|0;for(a=r,i=0;i<30;++i)t[i]=a,a+=1<<e[i]}var p=new Uint16Array(16);function v(e,t,n,r){var i,a;for(i=0;i<16;++i)e.table[i]=0;for(i=0;i<r;++i)e.table[t[n+i]]++;for(e.table[0]=0,a=0,i=0;i<16;++i)p[i]=a,a+=e.table[i];for(i=0;i<r;++i)t[n+i]&&(e.trans[p[t[n+i]]++]=i)}function m(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function g(e,t,n){if(!t)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,r+n}function y(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=0,r=0,i=0,a=e.tag;do{r=2*r+(1&a),a>>>=1,++i,n+=t.table[i],r-=t.table[i]}while(r>=0);return e.tag=a,e.bitcount-=i,t.trans[n+r]}function b(e,t,n){var r,i,a,o,s,l;for(r=g(e,5,257),i=g(e,5,1),a=g(e,4,4),o=0;o<19;++o)f[o]=0;for(o=0;o<a;++o){var u=g(e,3,0);f[c[o]]=u}for(v(d,f,0,19),s=0;s<r+i;){var h=y(e,d);switch(h){case 16:var p=f[s-1];for(l=g(e,2,3);l;--l)f[s++]=p;break;case 17:for(l=g(e,3,3);l;--l)f[s++]=0;break;case 18:for(l=g(e,7,11);l;--l)f[s++]=0;break;default:f[s++]=h}}v(t,f,0,r),v(n,f,r,i)}function x(t,n,r){for(;;){var i,a,c,d,f=y(t,n);if(256===f)return e;if(f<256)t.dest[t.destLen++]=f;else for(i=g(t,o[f-=257],s[f]),a=y(t,r),d=c=t.destLen-g(t,l[a],u[a]);d<c+i;++d)t.dest[t.destLen++]=t.dest[d]}}function w(n){for(var r,i;n.bitcount>8;)n.sourceIndex--,n.bitcount-=8;if((r=256*(r=n.source[n.sourceIndex+1])+n.source[n.sourceIndex])!==(65535&~(256*n.source[n.sourceIndex+3]+n.source[n.sourceIndex+2])))return t;for(n.sourceIndex+=4,i=r;i;--i)n.dest[n.destLen++]=n.source[n.sourceIndex++];return n.bitcount=0,e}!function(e,t){var n;for(n=0;n<7;++n)e.table[n]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,n=0;n<24;++n)e.trans[n]=256+n;for(n=0;n<144;++n)e.trans[24+n]=n;for(n=0;n<8;++n)e.trans[168+n]=280+n;for(n=0;n<112;++n)e.trans[176+n]=144+n;for(n=0;n<5;++n)t.table[n]=0;for(t.table[5]=32,n=0;n<32;++n)t.trans[n]=n}(i,a),h(o,s,4,3),h(l,u,2,1),o[28]=0,s[28]=258;var S=function(n,o){var s,l,u=new r(n,o);do{switch(s=m(u),g(u,2,0)){case 0:l=w(u);break;case 1:l=x(u,i,a);break;case 2:b(u,u.ltree,u.dtree),l=x(u,u.ltree,u.dtree);break;default:l=t}if(l!==e)throw new Error("Data error")}while(!s);return u.destLen<u.dest.length?"function"===typeof u.dest.slice?u.dest.slice(0,u.destLen):u.dest.subarray(0,u.destLen):u.dest};function _(e,t,n,r,i){return Math.pow(1-i,3)*e+3*Math.pow(1-i,2)*i*t+3*(1-i)*Math.pow(i,2)*n+Math.pow(i,3)*r}function k(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function E(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function C(e){throw new Error(e)}function M(e,t){e||C(t)}k.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},k.prototype.addPoint=function(e,t){"number"===typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),"number"===typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},k.prototype.addX=function(e){this.addPoint(e,null)},k.prototype.addY=function(e){this.addPoint(null,e)},k.prototype.addBezier=function(e,t,n,r,i,a,o,s){var l=[e,t],u=[n,r],c=[i,a],d=[o,s];this.addPoint(e,t),this.addPoint(o,s);for(var f=0;f<=1;f++){var h=6*l[f]-12*u[f]+6*c[f],p=-3*l[f]+9*u[f]-9*c[f]+3*d[f],v=3*u[f]-3*l[f];if(0!==p){var m=Math.pow(h,2)-4*v*p;if(!(m<0)){var g=(-h+Math.sqrt(m))/(2*p);0<g&&g<1&&(0===f&&this.addX(_(l[f],u[f],c[f],d[f],g)),1===f&&this.addY(_(l[f],u[f],c[f],d[f],g)));var y=(-h-Math.sqrt(m))/(2*p);0<y&&y<1&&(0===f&&this.addX(_(l[f],u[f],c[f],d[f],y)),1===f&&this.addY(_(l[f],u[f],c[f],d[f],y)))}}else{if(0===h)continue;var b=-v/h;0<b&&b<1&&(0===f&&this.addX(_(l[f],u[f],c[f],d[f],b)),1===f&&this.addY(_(l[f],u[f],c[f],d[f],b)))}}},k.prototype.addQuad=function(e,t,n,r,i,a){var o=e+2/3*(n-e),s=t+2/3*(r-t),l=o+1/3*(i-e),u=s+1/3*(a-t);this.addBezier(e,t,o,s,l,u,i,a)},E.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},E.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},E.prototype.curveTo=E.prototype.bezierCurveTo=function(e,t,n,r,i,a){this.commands.push({type:"C",x1:e,y1:t,x2:n,y2:r,x:i,y:a})},E.prototype.quadTo=E.prototype.quadraticCurveTo=function(e,t,n,r){this.commands.push({type:"Q",x1:e,y1:t,x:n,y:r})},E.prototype.close=E.prototype.closePath=function(){this.commands.push({type:"Z"})},E.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof k){var t=e;return this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),void this.close()}Array.prototype.push.apply(this.commands,e)},E.prototype.getBoundingBox=function(){for(var e=new k,t=0,n=0,r=0,i=0,a=0;a<this.commands.length;a++){var o=this.commands[a];switch(o.type){case"M":e.addPoint(o.x,o.y),t=r=o.x,n=i=o.y;break;case"L":e.addPoint(o.x,o.y),r=o.x,i=o.y;break;case"Q":e.addQuad(r,i,o.x1,o.y1,o.x,o.y),r=o.x,i=o.y;break;case"C":e.addBezier(r,i,o.x1,o.y1,o.x2,o.y2,o.x,o.y),r=o.x,i=o.y;break;case"Z":r=t,i=n;break;default:throw new Error("Unexpected path command "+o.type)}}return e.isEmpty()&&e.addPoint(0,0),e},E.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var n=this.commands[t];"M"===n.type?e.moveTo(n.x,n.y):"L"===n.type?e.lineTo(n.x,n.y):"C"===n.type?e.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?e.quadraticCurveTo(n.x1,n.y1,n.x,n.y):"Z"===n.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},E.prototype.toPathData=function(e){function t(t){return Math.round(t)===t?""+Math.round(t):t.toFixed(e)}function n(){for(var e=arguments,n="",r=0;r<arguments.length;r+=1){var i=e[r];i>=0&&r>0&&(n+=" "),n+=t(i)}return n}e=void 0!==e?e:2;for(var r="",i=0;i<this.commands.length;i+=1){var a=this.commands[i];"M"===a.type?r+="M"+n(a.x,a.y):"L"===a.type?r+="L"+n(a.x,a.y):"C"===a.type?r+="C"+n(a.x1,a.y1,a.x2,a.y2,a.x,a.y):"Q"===a.type?r+="Q"+n(a.x1,a.y1,a.x,a.y):"Z"===a.type&&(r+="Z")}return r},E.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&"black"!==this.fill&&(null===this.fill?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>"},E.prototype.toDOMElement=function(e){var t=this.toPathData(e),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t),n};var T={fail:C,argument:M,assert:M},R=2147483648,A={},P={},I={};function O(e){return function(){return e}}P.BYTE=function(e){return T.argument(e>=0&&e<=255,"Byte value should be between 0 and 255."),[e]},I.BYTE=O(1),P.CHAR=function(e){return[e.charCodeAt(0)]},I.CHAR=O(1),P.CHARARRAY=function(e){"undefined"===typeof e&&(e="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var t=[],n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t},I.CHARARRAY=function(e){return"undefined"===typeof e?0:e.length},P.USHORT=function(e){return[e>>8&255,255&e]},I.USHORT=O(2),P.SHORT=function(e){return e>=32768&&(e=-(65536-e)),[e>>8&255,255&e]},I.SHORT=O(2),P.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},I.UINT24=O(3),P.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},I.ULONG=O(4),P.LONG=function(e){return e>=R&&(e=-(2*R-e)),[e>>24&255,e>>16&255,e>>8&255,255&e]},I.LONG=O(4),P.FIXED=P.ULONG,I.FIXED=I.ULONG,P.FWORD=P.SHORT,I.FWORD=I.SHORT,P.UFWORD=P.USHORT,I.UFWORD=I.USHORT,P.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},I.LONGDATETIME=O(8),P.TAG=function(e){return T.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},I.TAG=O(4),P.Card8=P.BYTE,I.Card8=I.BYTE,P.Card16=P.USHORT,I.Card16=I.USHORT,P.OffSize=P.BYTE,I.OffSize=I.BYTE,P.SID=P.USHORT,I.SID=I.USHORT,P.NUMBER=function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?[247+((e-=108)>>8),255&e]:e>=-1131&&e<=-108?[251+((e=-e-108)>>8),255&e]:e>=-32768&&e<=32767?P.NUMBER16(e):P.NUMBER32(e)},I.NUMBER=function(e){return P.NUMBER(e).length},P.NUMBER16=function(e){return[28,e>>8&255,255&e]},I.NUMBER16=O(3),P.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},I.NUMBER32=O(5),P.REAL=function(e){var t=e.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));t=(Math.round(e*r)/r).toString()}for(var i="",a=0,o=t.length;a<o;a+=1){var s=t[a];i+="e"===s?"-"===t[++a]?"c":"b":"."===s?"a":"-"===s?"e":s}for(var l=[30],u=0,c=(i+=1&i.length?"f":"ff").length;u<c;u+=2)l.push(parseInt(i.substr(u,2),16));return l},I.REAL=function(e){return P.REAL(e).length},P.NAME=P.CHARARRAY,I.NAME=I.CHARARRAY,P.STRING=P.CHARARRAY,I.STRING=I.CHARARRAY,A.UTF8=function(e,t,n){for(var r=[],i=n,a=0;a<i;a++,t+=1)r[a]=e.getUint8(t);return String.fromCharCode.apply(null,r)},A.UTF16=function(e,t,n){for(var r=[],i=n/2,a=0;a<i;a++,t+=2)r[a]=e.getUint16(t);return String.fromCharCode.apply(null,r)},P.UTF16=function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t[t.length]=r>>8&255,t[t.length]=255&r}return t},I.UTF16=function(e){return 2*e.length};var L={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026 \xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026 \u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026 \xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026 \u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026 \xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026 \u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026 \u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026 \xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026 \xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026 \xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"};A.MACSTRING=function(e,t,n,r){var i=L[r];if(void 0!==i){for(var a="",o=0;o<n;o++){var s=e.getUint8(t+o);a+=s<=127?String.fromCharCode(s):i[127&s]}return a}};var N,D="function"===typeof WeakMap&&new WeakMap;function U(e){return e>=-128&&e<=127}function F(e,t,n){for(var r=0,i=e.length;t<i&&r<64&&0===e[t];)++t,++r;return n.push(128|r-1),t}function z(e,t,n){for(var r=0,i=e.length,a=t;a<i&&r<64;){var o=e[a];if(!U(o))break;if(0===o&&a+1<i&&0===e[a+1])break;++a,++r}n.push(r-1);for(var s=t;s<a;++s)n.push(e[s]+256&255);return a}function B(e,t,n){for(var r=0,i=e.length,a=t;a<i&&r<64;){var o=e[a];if(0===o)break;if(U(o)&&a+1<i&&U(e[a+1]))break;++a,++r}n.push(64|r-1);for(var s=t;s<a;++s){var l=e[s];n.push(l+65536>>8&255,l+256&255)}return a}P.MACSTRING=function(e,t){var n=function(e){if(!N)for(var t in N={},L)N[t]=new String(t);var n=N[e];if(void 0!==n){if(D){var r=D.get(n);if(void 0!==r)return r}var i=L[e];if(void 0!==i){for(var a={},o=0;o<i.length;o++)a[i.charCodeAt(o)]=o+128;return D&&D.set(n,a),a}}}(t);if(void 0!==n){for(var r=[],i=0;i<e.length;i++){var a=e.charCodeAt(i);if(a>=128&&void 0===(a=n[a]))return;r[i]=a}return r}},I.MACSTRING=function(e,t){var n=P.MACSTRING(e,t);return void 0!==n?n.length:0},P.VARDELTAS=function(e){for(var t=0,n=[];t<e.length;){var r=e[t];t=0===r?F(e,t,n):r>=-128&&r<=127?z(e,t,n):B(e,t,n)}return n},P.INDEX=function(e){for(var t=1,n=[t],r=[],i=0;i<e.length;i+=1){var a=P.OBJECT(e[i]);Array.prototype.push.apply(r,a),t+=a.length,n.push(t)}if(0===r.length)return[0,0];for(var o=[],s=1+Math.floor(Math.log(t)/Math.log(2))/8|0,l=[void 0,P.BYTE,P.USHORT,P.UINT24,P.ULONG][s],u=0;u<n.length;u+=1){var c=l(n[u]);Array.prototype.push.apply(o,c)}return Array.prototype.concat(P.Card16(e.length),P.OffSize(s),o,r)},I.INDEX=function(e){return P.INDEX(e).length},P.DICT=function(e){for(var t=[],n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var a=parseInt(n[i],0),o=e[a];t=(t=t.concat(P.OPERAND(o.value,o.type))).concat(P.OPERATOR(a))}return t},I.DICT=function(e){return P.DICT(e).length},P.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]},P.OPERAND=function(e,t){var n=[];if(Array.isArray(t))for(var r=0;r<t.length;r+=1)T.argument(e.length===t.length,"Not enough arguments given for type"+t),n=n.concat(P.OPERAND(e[r],t[r]));else if("SID"===t)n=n.concat(P.NUMBER(e));else if("offset"===t)n=n.concat(P.NUMBER32(e));else if("number"===t)n=n.concat(P.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);n=n.concat(P.REAL(e))}return n},P.OP=P.BYTE,I.OP=I.BYTE;var j="function"===typeof WeakMap&&new WeakMap;function H(e,t,n){if(t.length&&("coverageFormat"!==t[0].name||1===t[0].value))for(var r=0;r<t.length;r+=1){var i=t[r];this[i.name]=i.value}if(this.tableName=e,this.fields=t,n)for(var a=Object.keys(n),o=0;o<a.length;o+=1){var s=a[o],l=n[s];void 0!==this[s]&&(this[s]=l)}}function G(e,t,n){void 0===n&&(n=t.length);var r=new Array(t.length+1);r[0]={name:e+"Count",type:"USHORT",value:n};for(var i=0;i<t.length;i++)r[i+1]={name:e+i,type:"USHORT",value:t[i]};return r}function V(e,t,n){var r=t.length,i=new Array(r+1);i[0]={name:e+"Count",type:"USHORT",value:r};for(var a=0;a<r;a++)i[a+1]={name:e+a,type:"TABLE",value:n(t[a],a)};return i}function W(e,t,n){var r=t.length,i=[];i[0]={name:e+"Count",type:"USHORT",value:r};for(var a=0;a<r;a++)i=i.concat(n(t[a],a));return i}function q(e){1===e.format?H.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(G("glyph",e.glyphs))):2===e.format?H.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(W("rangeRecord",e.ranges,(function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]})))):T.assert(!1,"Coverage format must be 1 or 2.")}function X(e){H.call(this,"scriptListTable",W("scriptRecord",e,(function(e,t){var n=e.script,r=n.defaultLangSys;return T.assert(!!r,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new H("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new H("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(G("featureIndex",r.featureIndexes)))}].concat(W("langSys",n.langSysRecords,(function(e,t){var n=e.langSys;return[{name:"langSysTag"+t,type:"TAG",value:e.tag},{name:"langSys"+t,type:"TABLE",value:new H("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(G("featureIndex",n.featureIndexes)))}]}))))}]})))}function Y(e){H.call(this,"featureListTable",W("featureRecord",e,(function(e,t){var n=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new H("featureTable",[{name:"featureParams",type:"USHORT",value:n.featureParams}].concat(G("lookupListIndex",n.lookupListIndexes)))}]})))}function K(e,t){H.call(this,"lookupListTable",V("lookup",e,(function(e){var n=t[e.lookupType];return T.assert(!!n,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new H("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat(V("subtable",e.subtables,n)))})))}P.CHARSTRING=function(e){if(j){var t=j.get(e);if(void 0!==t)return t}for(var n=[],r=e.length,i=0;i<r;i+=1){var a=e[i];n=n.concat(P[a.type](a.value))}return j&&j.set(e,n),n},I.CHARSTRING=function(e){return P.CHARSTRING(e).length},P.OBJECT=function(e){var t=P[e.type];return T.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},I.OBJECT=function(e){var t=I[e.type];return T.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},P.TABLE=function(e){for(var t=[],n=e.fields.length,r=[],i=[],a=0;a<n;a+=1){var o=e.fields[a],s=P[o.type];T.argument(void 0!==s,"No encoding function for field type "+o.type+" ("+o.name+")");var l=e[o.name];void 0===l&&(l=o.value);var u=s(l);"TABLE"===o.type?(i.push(t.length),t=t.concat([0,0]),r.push(u)):t=t.concat(u)}for(var c=0;c<r.length;c+=1){var d=i[c],f=t.length;T.argument(f<65536,"Table "+e.tableName+" too big."),t[d]=f>>8,t[d+1]=255&f,t=t.concat(r[c])}return t},I.TABLE=function(e){for(var t=0,n=e.fields.length,r=0;r<n;r+=1){var i=e.fields[r],a=I[i.type];T.argument(void 0!==a,"No sizeOf function for field type "+i.type+" ("+i.name+")");var o=e[i.name];void 0===o&&(o=i.value),t+=a(o),"TABLE"===i.type&&(t+=2)}return t},P.RECORD=P.TABLE,I.RECORD=I.TABLE,P.LITERAL=function(e){return e},I.LITERAL=function(e){return e.length},H.prototype.encode=function(){return P.TABLE(this)},H.prototype.sizeOf=function(){return I.TABLE(this)},q.prototype=Object.create(H.prototype),q.prototype.constructor=q,X.prototype=Object.create(H.prototype),X.prototype.constructor=X,Y.prototype=Object.create(H.prototype),Y.prototype.constructor=Y,K.prototype=Object.create(H.prototype),K.prototype.constructor=K;var Z={Table:H,Record:H,Coverage:q,ScriptList:X,FeatureList:Y,LookupList:K,ushortList:G,tableList:V,recordList:W};function Q(e,t){return e.getUint8(t)}function $(e,t){return e.getUint16(t,!1)}function J(e,t){return e.getUint32(t,!1)}function ee(e,t){return e.getInt16(t,!1)+e.getUint16(t+2,!1)/65535}var te={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function ne(e,t){this.data=e,this.offset=t,this.relativeOffset=0}ne.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},ne.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},ne.prototype.parseCard8=ne.prototype.parseByte,ne.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},ne.prototype.parseCard16=ne.prototype.parseUShort,ne.prototype.parseSID=ne.prototype.parseUShort,ne.prototype.parseOffset16=ne.prototype.parseUShort,ne.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},ne.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},ne.prototype.parseULong=function(){var e=J(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},ne.prototype.parseOffset32=ne.prototype.parseULong,ne.prototype.parseFixed=function(){var e=ee(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},ne.prototype.parseString=function(e){var t=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=e;for(var i=0;i<e;i++)r+=String.fromCharCode(t.getUint8(n+i));return r},ne.prototype.parseTag=function(){return this.parseString(4)},ne.prototype.parseLongDateTime=function(){var e=J(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e},ne.prototype.parseVersion=function(e){var t=$(this.data,this.offset+this.relativeOffset),n=$(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===e&&(e=4096),t+n/e/10},ne.prototype.skip=function(e,t){void 0===t&&(t=1),this.relativeOffset+=te[e]*t},ne.prototype.parseULongList=function(e){void 0===e&&(e=this.parseULong());for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getUint32(r),r+=4;return this.relativeOffset+=4*e,t},ne.prototype.parseOffset16List=ne.prototype.parseUShortList=function(e){void 0===e&&(e=this.parseUShort());for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getUint16(r),r+=2;return this.relativeOffset+=2*e,t},ne.prototype.parseShortList=function(e){for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getInt16(r),r+=2;return this.relativeOffset+=2*e,t},ne.prototype.parseByteList=function(e){for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getUint8(r++);return this.relativeOffset+=e,t},ne.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),r=0;r<e;r++)n[r]=t.call(this);return n},ne.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),r=0;r<e;r++)n[r]=t.call(this);return n},ne.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),r=Object.keys(t),i=0;i<e;i++){for(var a={},o=0;o<r.length;o++){var s=r[o],l=t[s];a[s]=l.call(this)}n[i]=a}return n},ne.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),r=Object.keys(t),i=0;i<e;i++){for(var a={},o=0;o<r.length;o++){var s=r[o],l=t[s];a[s]=l.call(this)}n[i]=a}return n},ne.prototype.parseStruct=function(e){if("function"===typeof e)return e.call(this);for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r],a=e[i];n[i]=a.call(this)}return n},ne.prototype.parseValueRecord=function(e){if(void 0===e&&(e=this.parseUShort()),0!==e){var t={};return 1&e&&(t.xPlacement=this.parseShort()),2&e&&(t.yPlacement=this.parseShort()),4&e&&(t.xAdvance=this.parseShort()),8&e&&(t.yAdvance=this.parseShort()),16&e&&(t.xPlaDevice=void 0,this.parseShort()),32&e&&(t.yPlaDevice=void 0,this.parseShort()),64&e&&(t.xAdvDevice=void 0,this.parseShort()),128&e&&(t.yAdvDevice=void 0,this.parseShort()),t}},ne.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),n=new Array(t),r=0;r<t;r++)n[r]=this.parseValueRecord(e);return n},ne.prototype.parsePointer=function(e){var t=this.parseOffset16();if(t>0)return new ne(this.data,this.offset+t).parseStruct(e)},ne.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(t>0)return new ne(this.data,this.offset+t).parseStruct(e)},ne.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),n=t.length,r=this.relativeOffset,i=new Array(n),a=0;a<n;a++){var o=t[a];if(0!==o)if(this.relativeOffset=o,e){for(var s=this.parseOffset16List(),l=new Array(s.length),u=0;u<s.length;u++)this.relativeOffset=o+s[u],l[u]=e.call(this);i[a]=l}else i[a]=this.parseUShortList();else i[a]=void 0}return this.relativeOffset=r,i},ne.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),n=this.parseUShort();if(1===t)return{format:1,glyphs:this.parseUShortList(n)};if(2===t){for(var r=new Array(n),i=0;i<n;i++)r[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}}throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")},ne.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:ne.uShort,end:ne.uShort,classId:ne.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},ne.list=function(e,t){return function(){return this.parseList(e,t)}},ne.list32=function(e,t){return function(){return this.parseList32(e,t)}},ne.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}},ne.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}},ne.pointer=function(e){return function(){return this.parsePointer(e)}},ne.pointer32=function(e){return function(){return this.parsePointer32(e)}},ne.tag=ne.prototype.parseTag,ne.byte=ne.prototype.parseByte,ne.uShort=ne.offset16=ne.prototype.parseUShort,ne.uShortList=ne.prototype.parseUShortList,ne.uLong=ne.offset32=ne.prototype.parseULong,ne.uLongList=ne.prototype.parseULongList,ne.struct=ne.prototype.parseStruct,ne.coverage=ne.prototype.parseCoverage,ne.classDef=ne.prototype.parseClassDef;var re={reserved:ne.uShort,reqFeatureIndex:ne.uShort,featureIndexes:ne.uShortList};ne.prototype.parseScriptList=function(){return this.parsePointer(ne.recordList({tag:ne.tag,script:ne.pointer({defaultLangSys:ne.pointer(re),langSysRecords:ne.recordList({tag:ne.tag,langSys:ne.pointer(re)})})}))||[]},ne.prototype.parseFeatureList=function(){return this.parsePointer(ne.recordList({tag:ne.tag,feature:ne.pointer({featureParams:ne.offset16,lookupListIndexes:ne.uShortList})}))||[]},ne.prototype.parseLookupList=function(e){return this.parsePointer(ne.list(ne.pointer((function(){var t=this.parseUShort();T.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown.");var n=this.parseUShort(),r=16&n;return{lookupType:t,lookupFlag:n,subtables:this.parseList(ne.pointer(e[t])),markFilteringSet:r?this.parseUShort():void 0}}))))||[]},ne.prototype.parseFeatureVariationsList=function(){return this.parsePointer32((function(){var e=this.parseUShort(),t=this.parseUShort();return T.argument(1===e&&t<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:ne.offset32,featureTableSubstitutionOffset:ne.offset32})}))||[]};var ie={getByte:Q,getCard8:Q,getUShort:$,getCard16:$,getShort:function(e,t){return e.getInt16(t,!1)},getULong:J,getFixed:ee,getTag:function(e,t){for(var n="",r=t;r<t+4;r+=1)n+=String.fromCharCode(e.getInt8(r));return n},getOffset:function(e,t,n){for(var r=0,i=0;i<n;i+=1)r<<=8,r+=e.getUint8(t+i);return r},getBytes:function(e,t,n){for(var r=[],i=t;i<n;i+=1)r.push(e.getUint8(i));return r},bytesToString:function(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return t},Parser:ne};function ae(e,t,n){e.segments.push({end:t,start:t,delta:-(t-n),offset:0,glyphIndex:n})}var oe={parse:function(e,t){var n={};n.version=ie.getUShort(e,t),T.argument(0===n.version,"cmap table version should be 0."),n.numTables=ie.getUShort(e,t+2);for(var r=-1,i=n.numTables-1;i>=0;i-=1){var a=ie.getUShort(e,t+4+8*i),o=ie.getUShort(e,t+4+8*i+2);if(3===a&&(0===o||1===o||10===o)||0===a&&(0===o||1===o||2===o||3===o||4===o)){r=ie.getULong(e,t+4+8*i+4);break}}if(-1===r)throw new Error("No valid cmap sub-tables found.");var s=new ie.Parser(e,t+r);if(n.format=s.parseUShort(),12===n.format)!function(e,t){var n;t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong(),e.groupCount=n=t.parseULong(),e.glyphIndexMap={};for(var r=0;r<n;r+=1)for(var i=t.parseULong(),a=t.parseULong(),o=t.parseULong(),s=i;s<=a;s+=1)e.glyphIndexMap[s]=o,o++}(n,s);else{if(4!==n.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");!function(e,t,n,r,i){var a;e.length=t.parseUShort(),e.language=t.parseUShort(),e.segCount=a=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};for(var o=new ie.Parser(n,r+i+14),s=new ie.Parser(n,r+i+16+2*a),l=new ie.Parser(n,r+i+16+4*a),u=new ie.Parser(n,r+i+16+6*a),c=r+i+16+8*a,d=0;d<a-1;d+=1)for(var f=void 0,h=o.parseUShort(),p=s.parseUShort(),v=l.parseShort(),m=u.parseUShort(),g=p;g<=h;g+=1)0!==m?(c=u.offset+u.relativeOffset-2,c+=m,c+=2*(g-p),0!==(f=ie.getUShort(n,c))&&(f=f+v&65535)):f=g+v&65535,e.glyphIndexMap[g]=f}(n,s,e,t,r)}return n},make:function(e){var t,n=!0;for(t=e.length-1;t>0;t-=1){if(e.get(t).unicode>65535){console.log("Adding CMAP format 12 (needed!)"),n=!1;break}}var r=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:n?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:n?12:20}];n||(r=r.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),r=r.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var i=new Z.Table("cmap",r);for(i.segments=[],t=0;t<e.length;t+=1){for(var a=e.get(t),o=0;o<a.unicodes.length;o+=1)ae(i,a.unicodes[o],t);i.segments=i.segments.sort((function(e,t){return e.start-t.start}))}!function(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}(i);var s=i.segments.length,l=0,u=[],c=[],d=[],f=[],h=[],p=[];for(t=0;t<s;t+=1){var v=i.segments[t];v.end<=65535&&v.start<=65535?(u=u.concat({name:"end_"+t,type:"USHORT",value:v.end}),c=c.concat({name:"start_"+t,type:"USHORT",value:v.start}),d=d.concat({name:"idDelta_"+t,type:"SHORT",value:v.delta}),f=f.concat({name:"idRangeOffset_"+t,type:"USHORT",value:v.offset}),void 0!==v.glyphId&&(h=h.concat({name:"glyph_"+t,type:"USHORT",value:v.glyphId}))):l+=1,n||void 0===v.glyphIndex||(p=(p=(p=p.concat({name:"cmap12Start_"+t,type:"ULONG",value:v.start})).concat({name:"cmap12End_"+t,type:"ULONG",value:v.end})).concat({name:"cmap12Glyph_"+t,type:"ULONG",value:v.glyphIndex}))}if(i.segCountX2=2*(s-l),i.searchRange=2*Math.pow(2,Math.floor(Math.log(s-l)/Math.log(2))),i.entrySelector=Math.log(i.searchRange/2)/Math.log(2),i.rangeShift=i.segCountX2-i.searchRange,i.fields=i.fields.concat(u),i.fields.push({name:"reservedPad",type:"USHORT",value:0}),i.fields=i.fields.concat(c),i.fields=i.fields.concat(d),i.fields=i.fields.concat(f),i.fields=i.fields.concat(h),i.cmap4Length=14+2*u.length+2+2*c.length+2*d.length+2*f.length+2*h.length,!n){var m=16+4*p.length;i.cmap12Offset=20+i.cmap4Length,i.fields=i.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:m},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:p.length/3}]),i.fields=i.fields.concat(p)}return i}},se=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],le=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ue=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ce=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function de(e){this.font=e}function fe(e){this.cmap=e}function he(e,t){this.encoding=e,this.charset=t}function pe(e){switch(e.version){case 1:this.names=ce.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<ce.length?this.names[t]=ce[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-ce.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var n=0;n<e.numberOfGlyphs;n++)this.names[n]=ce[n+e.glyphNameIndex[n]];break;default:this.names=[]}}function ve(e,t){t.lowMemory?function(e){e._IndexToUnicodeMap={};for(var t=e.tables.cmap.glyphIndexMap,n=Object.keys(t),r=0;r<n.length;r+=1){var i=n[r],a=t[i];void 0===e._IndexToUnicodeMap[a]?e._IndexToUnicodeMap[a]={unicodes:[parseInt(i)]}:e._IndexToUnicodeMap[a].unicodes.push(parseInt(i))}}(e):function(e){for(var t,n=e.tables.cmap.glyphIndexMap,r=Object.keys(n),i=0;i<r.length;i+=1){var a=r[i],o=n[a];(t=e.glyphs.get(o)).addUnicode(parseInt(a))}for(var s=0;s<e.glyphs.length;s+=1)t=e.glyphs.get(s),e.cffEncoding?e.isCIDFont?t.name="gid"+s:t.name=e.cffEncoding.charset[s]:e.glyphNames.names&&(t.name=e.glyphNames.glyphIndexToName(s))}(e)}de.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),n=this.font.glyphs;if(n)for(var r=0;r<n.length;r+=1)for(var i=n.get(r),a=0;a<i.unicodes.length;a+=1)if(i.unicodes[a]===t)return r;return null},fe.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},he.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),n=this.encoding[t];return this.charset.indexOf(n)},pe.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},pe.prototype.glyphIndexToName=function(e){return this.names[e]};var me={line:function(e,t,n,r,i){e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.stroke()}};function ge(e){this.bindConstructorValues(e)}function ye(e,t,n){Object.defineProperty(e,t,{get:function(){return e.path,e[n]},set:function(t){e[n]=t},enumerable:!0,configurable:!0})}function be(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];r.path.unitsPerEm=e.unitsPerEm,this.glyphs[n]=r}this.length=t&&t.length||0}ge.prototype.bindConstructorValues=function(e){this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],"xMin"in e&&(this.xMin=e.xMin),"yMin"in e&&(this.yMin=e.yMin),"xMax"in e&&(this.xMax=e.xMax),"yMax"in e&&(this.yMax=e.yMax),"advanceWidth"in e&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",function(e,t){var n=t||new E;return{configurable:!0,get:function(){return"function"===typeof n&&(n=n()),n},set:function(e){n=e}}}(0,e.path))},ge.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},ge.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ge.prototype.getPath=function(e,t,n,r,i){var a,o;e=void 0!==e?e:0,t=void 0!==t?t:0,n=void 0!==n?n:72,r||(r={});var s=r.xScale,l=r.yScale;if(r.hinting&&i&&i.hinting&&(o=this.path&&i.hinting.exec(this,n)),o)a=i.hinting.getCommands(o),e=Math.round(e),t=Math.round(t),s=l=1;else{a=this.path.commands;var u=1/(this.path.unitsPerEm||1e3)*n;void 0===s&&(s=u),void 0===l&&(l=u)}for(var c=new E,d=0;d<a.length;d+=1){var f=a[d];"M"===f.type?c.moveTo(e+f.x*s,t+-f.y*l):"L"===f.type?c.lineTo(e+f.x*s,t+-f.y*l):"Q"===f.type?c.quadraticCurveTo(e+f.x1*s,t+-f.y1*l,e+f.x*s,t+-f.y*l):"C"===f.type?c.curveTo(e+f.x1*s,t+-f.y1*l,e+f.x2*s,t+-f.y2*l,e+f.x*s,t+-f.y*l):"Z"===f.type&&c.closePath()}return c},ge.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],n=0;n<this.points.length;n+=1){var r=this.points[n];t.push(r),r.lastPointOfContour&&(e.push(t),t=[])}return T.argument(0===t.length,"There are still points left in the current contour."),e},ge.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],n=[],r=0;r<e.length;r+=1){var i=e[r];"Z"!==i.type&&(t.push(i.x),n.push(i.y)),"Q"!==i.type&&"C"!==i.type||(t.push(i.x1),n.push(i.y1)),"C"===i.type&&(t.push(i.x2),n.push(i.y2))}var a={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(a.xMin)||(a.xMin=0),isFinite(a.xMax)||(a.xMax=this.advanceWidth),isFinite(a.yMin)||(a.yMin=0),isFinite(a.yMax)||(a.yMax=0),a.rightSideBearing=this.advanceWidth-a.leftSideBearing-(a.xMax-a.xMin),a},ge.prototype.draw=function(e,t,n,r,i){this.getPath(t,n,r,i).draw(e)},ge.prototype.drawPoints=function(e,t,n,r){function i(t,n,r,i){e.beginPath();for(var a=0;a<t.length;a+=1)e.moveTo(n+t[a].x*i,r+t[a].y*i),e.arc(n+t[a].x*i,r+t[a].y*i,2,0,2*Math.PI,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:24;for(var a=1/this.path.unitsPerEm*r,o=[],s=[],l=this.path,u=0;u<l.commands.length;u+=1){var c=l.commands[u];void 0!==c.x&&o.push({x:c.x,y:-c.y}),void 0!==c.x1&&s.push({x:c.x1,y:-c.y1}),void 0!==c.x2&&s.push({x:c.x2,y:-c.y2})}e.fillStyle="blue",i(o,t,n,a),e.fillStyle="red",i(s,t,n,a)},ge.prototype.drawMetrics=function(e,t,n,r){var i;t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:24,i=1/this.path.unitsPerEm*r,e.lineWidth=1,e.strokeStyle="black",me.line(e,t,-1e4,t,1e4),me.line(e,-1e4,n,1e4,n);var a=this.xMin||0,o=this.yMin||0,s=this.xMax||0,l=this.yMax||0,u=this.advanceWidth||0;e.strokeStyle="blue",me.line(e,t+a*i,-1e4,t+a*i,1e4),me.line(e,t+s*i,-1e4,t+s*i,1e4),me.line(e,-1e4,n+-o*i,1e4,n+-o*i),me.line(e,-1e4,n+-l*i,1e4,n+-l*i),e.strokeStyle="green",me.line(e,t+u*i,-1e4,t+u*i,1e4)},be.prototype.get=function(e){if(void 0===this.glyphs[e]){this.font._push(e),"function"===typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());var t=this.glyphs[e],n=this.font._IndexToUnicodeMap[e];if(n)for(var r=0;r<n.unicodes.length;r++)t.addUnicode(n.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?t.name="gid"+e:t.name=this.font.cffEncoding.charset[e]:this.font.glyphNames.names&&(t.name=this.font.glyphNames.glyphIndexToName(e)),this.glyphs[e].advanceWidth=this.font._hmtxTableData[e].advanceWidth,this.glyphs[e].leftSideBearing=this.font._hmtxTableData[e].leftSideBearing}else"function"===typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());return this.glyphs[e]},be.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};var xe={GlyphSet:be,glyphLoader:function(e,t){return new ge({index:t,font:e})},ttfGlyphLoader:function(e,t,n,r,i,a){return function(){var o=new ge({index:t,font:e});return o.path=function(){n(o,r,i);var t=a(e.glyphs,o);return t.unitsPerEm=e.unitsPerEm,t},ye(o,"xMin","_xMin"),ye(o,"xMax","_xMax"),ye(o,"yMin","_yMin"),ye(o,"yMax","_yMax"),o}},cffGlyphLoader:function(e,t,n,r){return function(){var i=new ge({index:t,font:e});return i.path=function(){var t=n(e,i,r);return t.unitsPerEm=e.unitsPerEm,t},i}}};function we(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(!we(e[n],t[n]))return!1;return!0}return!1}function Se(e){return e.length<1240?107:e.length<33900?1131:32768}function _e(e,t,n){var r,i,a=[],o=[],s=ie.getCard16(e,t);if(0!==s){var l=ie.getByte(e,t+2);r=t+(s+1)*l+2;for(var u=t+3,c=0;c<s+1;c+=1)a.push(ie.getOffset(e,u,l)),u+=l;i=r+a[s]}else i=t+2;for(var d=0;d<a.length-1;d+=1){var f=ie.getBytes(e,r+a[d],r+a[d+1]);n&&(f=n(f)),o.push(f)}return{objects:o,startOffset:t,endOffset:i}}function ke(e,t){if(28===t)return e.parseByte()<<8|e.parseByte();if(29===t)return e.parseByte()<<24|e.parseByte()<<16|e.parseByte()<<8|e.parseByte();if(30===t)return function(e){for(var t="",n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var r=e.parseByte(),i=r>>4,a=15&r;if(15===i)break;if(t+=n[i],15===a)break;t+=n[a]}return parseFloat(t)}(e);if(t>=32&&t<=246)return t-139;if(t>=247&&t<=250)return 256*(t-247)+e.parseByte()+108;if(t>=251&&t<=254)return 256*-(t-251)-e.parseByte()-108;throw new Error("Invalid b0 "+t)}function Ee(e,t,n){t=void 0!==t?t:0;var r=new ie.Parser(e,t),i=[],a=[];for(n=void 0!==n?n:e.length;r.relativeOffset<n;){var o=r.parseByte();o<=21?(12===o&&(o=1200+r.parseByte()),i.push([o,a]),a=[]):a.push(ke(r,o))}return function(e){for(var t={},n=0;n<e.length;n+=1){var r=e[n][0],i=e[n][1],a=void 0;if(a=1===i.length?i[0]:i,t.hasOwnProperty(r)&&!isNaN(t[r]))throw new Error("Object "+t+" already has key "+r);t[r]=a}return t}(i)}function Ce(e,t){return t=t<=390?se[t]:e[t-391]}function Me(e,t,n){for(var r,i={},a=0;a<t.length;a+=1){var o=t[a];if(Array.isArray(o.type)){var s=[];s.length=o.type.length;for(var l=0;l<o.type.length;l++)void 0===(r=void 0!==e[o.op]?e[o.op][l]:void 0)&&(r=void 0!==o.value&&void 0!==o.value[l]?o.value[l]:null),"SID"===o.type[l]&&(r=Ce(n,r)),s[l]=r;i[o.name]=s}else void 0===(r=e[o.op])&&(r=void 0!==o.value?o.value:null),"SID"===o.type&&(r=Ce(n,r)),i[o.name]=r}return i}var Te=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Re=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Ae(e,t){return Me(Ee(e,0,e.byteLength),Te,t)}function Pe(e,t,n,r){return Me(Ee(e,t,n),Re,r)}function Ie(e,t,n,r){for(var i=[],a=0;a<n.length;a+=1){var o=Ae(new DataView(new Uint8Array(n[a]).buffer),r);o._subrs=[],o._subrsBias=0,o._defaultWidthX=0,o._nominalWidthX=0;var s=o.private[0],l=o.private[1];if(0!==s&&0!==l){var u=Pe(e,l+t,s,r);if(o._defaultWidthX=u.defaultWidthX,o._nominalWidthX=u.nominalWidthX,0!==u.subrs){var c=_e(e,l+u.subrs+t);o._subrs=c.objects,o._subrsBias=Se(o._subrs)}o._privateDict=u}i.push(o)}return i}function Oe(e,t,n){var r,i,a,o,s,l,u,c,d=new E,f=[],h=0,p=!1,v=!1,m=0,g=0;if(e.isCIDFont){var y=e.tables.cff.topDict._fdSelect[t.index],b=e.tables.cff.topDict._fdArray[y];s=b._subrs,l=b._subrsBias,u=b._defaultWidthX,c=b._nominalWidthX}else s=e.tables.cff.topDict._subrs,l=e.tables.cff.topDict._subrsBias,u=e.tables.cff.topDict._defaultWidthX,c=e.tables.cff.topDict._nominalWidthX;var x=u;function w(e,t){v&&d.closePath(),d.moveTo(e,t),v=!0}function S(){f.length%2!==0&&!p&&(x=f.shift()+c),h+=f.length>>1,f.length=0,p=!0}return function n(u){for(var y,b,_,k,E,C,M,T,R,A,P,I,O=0;O<u.length;){var L=u[O];switch(O+=1,L){case 1:case 3:case 18:case 23:S();break;case 4:f.length>1&&!p&&(x=f.shift()+c,p=!0),g+=f.pop(),w(m,g);break;case 5:for(;f.length>0;)m+=f.shift(),g+=f.shift(),d.lineTo(m,g);break;case 6:for(;f.length>0&&(m+=f.shift(),d.lineTo(m,g),0!==f.length);)g+=f.shift(),d.lineTo(m,g);break;case 7:for(;f.length>0&&(g+=f.shift(),d.lineTo(m,g),0!==f.length);)m+=f.shift(),d.lineTo(m,g);break;case 8:for(;f.length>0;)r=m+f.shift(),i=g+f.shift(),a=r+f.shift(),o=i+f.shift(),m=a+f.shift(),g=o+f.shift(),d.curveTo(r,i,a,o,m,g);break;case 10:E=f.pop()+l,(C=s[E])&&n(C);break;case 11:return;case 12:switch(L=u[O],O+=1,L){case 35:r=m+f.shift(),i=g+f.shift(),a=r+f.shift(),o=i+f.shift(),M=a+f.shift(),T=o+f.shift(),R=M+f.shift(),A=T+f.shift(),P=R+f.shift(),I=A+f.shift(),m=P+f.shift(),g=I+f.shift(),f.shift(),d.curveTo(r,i,a,o,M,T),d.curveTo(R,A,P,I,m,g);break;case 34:r=m+f.shift(),i=g,a=r+f.shift(),o=i+f.shift(),M=a+f.shift(),T=o,R=M+f.shift(),A=o,P=R+f.shift(),I=g,m=P+f.shift(),d.curveTo(r,i,a,o,M,T),d.curveTo(R,A,P,I,m,g);break;case 36:r=m+f.shift(),i=g+f.shift(),a=r+f.shift(),o=i+f.shift(),M=a+f.shift(),T=o,R=M+f.shift(),A=o,P=R+f.shift(),I=A+f.shift(),m=P+f.shift(),d.curveTo(r,i,a,o,M,T),d.curveTo(R,A,P,I,m,g);break;case 37:r=m+f.shift(),i=g+f.shift(),a=r+f.shift(),o=i+f.shift(),M=a+f.shift(),T=o+f.shift(),R=M+f.shift(),A=T+f.shift(),P=R+f.shift(),I=A+f.shift(),Math.abs(P-m)>Math.abs(I-g)?m=P+f.shift():g=I+f.shift(),d.curveTo(r,i,a,o,M,T),d.curveTo(R,A,P,I,m,g);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+L),f.length=0}break;case 14:f.length>0&&!p&&(x=f.shift()+c,p=!0),v&&(d.closePath(),v=!1);break;case 19:case 20:S(),O+=h+7>>3;break;case 21:f.length>2&&!p&&(x=f.shift()+c,p=!0),g+=f.pop(),w(m+=f.pop(),g);break;case 22:f.length>1&&!p&&(x=f.shift()+c,p=!0),w(m+=f.pop(),g);break;case 24:for(;f.length>2;)r=m+f.shift(),i=g+f.shift(),a=r+f.shift(),o=i+f.shift(),m=a+f.shift(),g=o+f.shift(),d.curveTo(r,i,a,o,m,g);m+=f.shift(),g+=f.shift(),d.lineTo(m,g);break;case 25:for(;f.length>6;)m+=f.shift(),g+=f.shift(),d.lineTo(m,g);r=m+f.shift(),i=g+f.shift(),a=r+f.shift(),o=i+f.shift(),m=a+f.shift(),g=o+f.shift(),d.curveTo(r,i,a,o,m,g);break;case 26:for(f.length%2&&(m+=f.shift());f.length>0;)r=m,i=g+f.shift(),a=r+f.shift(),o=i+f.shift(),m=a,g=o+f.shift(),d.curveTo(r,i,a,o,m,g);break;case 27:for(f.length%2&&(g+=f.shift());f.length>0;)r=m+f.shift(),i=g,a=r+f.shift(),o=i+f.shift(),m=a+f.shift(),g=o,d.curveTo(r,i,a,o,m,g);break;case 28:y=u[O],b=u[O+1],f.push((y<<24|b<<16)>>16),O+=2;break;case 29:E=f.pop()+e.gsubrsBias,(C=e.gsubrs[E])&&n(C);break;case 30:for(;f.length>0&&(r=m,i=g+f.shift(),a=r+f.shift(),o=i+f.shift(),m=a+f.shift(),g=o+(1===f.length?f.shift():0),d.curveTo(r,i,a,o,m,g),0!==f.length);)r=m+f.shift(),i=g,a=r+f.shift(),o=i+f.shift(),g=o+f.shift(),m=a+(1===f.length?f.shift():0),d.curveTo(r,i,a,o,m,g);break;case 31:for(;f.length>0&&(r=m+f.shift(),i=g,a=r+f.shift(),o=i+f.shift(),g=o+f.shift(),m=a+(1===f.length?f.shift():0),d.curveTo(r,i,a,o,m,g),0!==f.length);)r=m,i=g+f.shift(),a=r+f.shift(),o=i+f.shift(),m=a+f.shift(),g=o+(1===f.length?f.shift():0),d.curveTo(r,i,a,o,m,g);break;default:L<32?console.log("Glyph "+t.index+": unknown operator "+L):L<247?f.push(L-139):L<251?(y=u[O],O+=1,f.push(256*(L-247)+y+108)):L<255?(y=u[O],O+=1,f.push(256*-(L-251)-y-108)):(y=u[O],b=u[O+1],_=u[O+2],k=u[O+3],O+=4,f.push((y<<24|b<<16|_<<8|k)/65536))}}}(n),t.advanceWidth=x,d}function Le(e,t){var n,r=se.indexOf(e);return r>=0&&(n=r),(r=t.indexOf(e))>=0?n=r+se.length:(n=se.length+t.length,t.push(e)),n}function Ne(e,t,n){for(var r={},i=0;i<e.length;i+=1){var a=e[i],o=t[a.name];void 0===o||we(o,a.value)||("SID"===a.type&&(o=Le(o,n)),r[a.op]={name:a.name,type:a.type,value:o})}return r}function De(e,t){var n=new Z.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=Ne(Te,e,t),n}function Ue(e){var t=new Z.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function Fe(e){var t=[],n=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var r=0,i=0,a=0;a<n.commands.length;a+=1){var o=void 0,s=void 0,l=n.commands[a];if("Q"===l.type){var u=1/3,c=2/3;l={type:"C",x:l.x,y:l.y,x1:Math.round(u*r+c*l.x1),y1:Math.round(u*i+c*l.y1),x2:Math.round(u*l.x+c*l.x1),y2:Math.round(u*l.y+c*l.y1)}}if("M"===l.type)o=Math.round(l.x-r),s=Math.round(l.y-i),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(l.x),i=Math.round(l.y);else if("L"===l.type)o=Math.round(l.x-r),s=Math.round(l.y-i),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rlineto",type:"OP",value:5}),r=Math.round(l.x),i=Math.round(l.y);else if("C"===l.type){var d=Math.round(l.x1-r),f=Math.round(l.y1-i),h=Math.round(l.x2-l.x1),p=Math.round(l.y2-l.y1);o=Math.round(l.x-l.x2),s=Math.round(l.y-l.y2),t.push({name:"dx1",type:"NUMBER",value:d}),t.push({name:"dy1",type:"NUMBER",value:f}),t.push({name:"dx2",type:"NUMBER",value:h}),t.push({name:"dy2",type:"NUMBER",value:p}),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(l.x),i=Math.round(l.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}var ze={parse:function(e,t,n,r){n.tables.cff={};var i=function(e,t){var n={};return n.formatMajor=ie.getCard8(e,t),n.formatMinor=ie.getCard8(e,t+1),n.size=ie.getCard8(e,t+2),n.offsetSize=ie.getCard8(e,t+3),n.startOffset=t,n.endOffset=t+4,n}(e,t),a=_e(e,i.endOffset,ie.bytesToString),o=_e(e,a.endOffset),s=_e(e,o.endOffset,ie.bytesToString),l=_e(e,s.endOffset);n.gsubrs=l.objects,n.gsubrsBias=Se(n.gsubrs);var u=Ie(e,t,o.objects,s.objects);if(1!==u.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+u.length);var c=u[0];if(n.tables.cff.topDict=c,c._privateDict&&(n.defaultWidthX=c._privateDict.defaultWidthX,n.nominalWidthX=c._privateDict.nominalWidthX),void 0!==c.ros[0]&&void 0!==c.ros[1]&&(n.isCIDFont=!0),n.isCIDFont){var d=c.fdArray,f=c.fdSelect;if(0===d||0===f)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var h=_e(e,d+=t),p=Ie(e,t,h.objects,s.objects);c._fdArray=p,f+=t,c._fdSelect=function(e,t,n,r){var i,a=[],o=new ie.Parser(e,t),s=o.parseCard8();if(0===s)for(var l=0;l<n;l++){if((i=o.parseCard8())>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+r+")");a.push(i)}else{if(3!==s)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+s);var u,c=o.parseCard16(),d=o.parseCard16();if(0!==d)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+d);for(var f=0;f<c;f++){if(i=o.parseCard8(),u=o.parseCard16(),i>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+r+")");if(u>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+u);for(;d<u;d++)a.push(i);d=u}if(u!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+u)}return a}(e,f,n.numGlyphs,p.length)}var v,m=t+c.private[1],g=Pe(e,m,c.private[0],s.objects);if(n.defaultWidthX=g.defaultWidthX,n.nominalWidthX=g.nominalWidthX,0!==g.subrs){var y=m+g.subrs,b=_e(e,y);n.subrs=b.objects,n.subrsBias=Se(n.subrs)}else n.subrs=[],n.subrsBias=0;r.lowMemory?(v=function(e,t){var n,r,i=[],a=ie.getCard16(e,t);if(0!==a){var o=ie.getByte(e,t+2);n=t+(a+1)*o+2;for(var s=t+3,l=0;l<a+1;l+=1)i.push(ie.getOffset(e,s,o)),s+=o;r=n+i[a]}else r=t+2;return{offsets:i,startOffset:t,endOffset:r}}(e,t+c.charStrings),n.nGlyphs=v.offsets.length):(v=_e(e,t+c.charStrings),n.nGlyphs=v.objects.length);var x=function(e,t,n,r){var i,a,o=new ie.Parser(e,t);n-=1;var s=[".notdef"],l=o.parseCard8();if(0===l)for(var u=0;u<n;u+=1)i=o.parseSID(),s.push(Ce(r,i));else if(1===l)for(;s.length<=n;){i=o.parseSID(),a=o.parseCard8();for(var c=0;c<=a;c+=1)s.push(Ce(r,i)),i+=1}else{if(2!==l)throw new Error("Unknown charset format "+l);for(;s.length<=n;){i=o.parseSID(),a=o.parseCard16();for(var d=0;d<=a;d+=1)s.push(Ce(r,i)),i+=1}}return s}(e,t+c.charset,n.nGlyphs,s.objects);if(0===c.encoding?n.cffEncoding=new he(le,x):1===c.encoding?n.cffEncoding=new he(ue,x):n.cffEncoding=function(e,t,n){var r,i={},a=new ie.Parser(e,t),o=a.parseCard8();if(0===o)for(var s=a.parseCard8(),l=0;l<s;l+=1)i[r=a.parseCard8()]=l;else{if(1!==o)throw new Error("Unknown encoding format "+o);var u=a.parseCard8();r=1;for(var c=0;c<u;c+=1)for(var d=a.parseCard8(),f=a.parseCard8(),h=d;h<=d+f;h+=1)i[h]=r,r+=1}return new he(i,n)}(e,t+c.encoding,x),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new xe.GlyphSet(n),r.lowMemory)n._push=function(r){var i=function(e,t,n,r,i){var a=ie.getCard16(n,r),o=0;0!==a&&(o=r+(a+1)*ie.getByte(n,r+2)+2);var s=ie.getBytes(n,o+t[e],o+t[e+1]);return i&&(s=i(s)),s}(r,v.offsets,e,t+c.charStrings);n.glyphs.push(r,xe.cffGlyphLoader(n,r,Oe,i))};else for(var w=0;w<n.nGlyphs;w+=1){var S=v.objects[w];n.glyphs.push(w,xe.cffGlyphLoader(n,w,Oe,S))}},make:function(e,t){for(var n,r=new Z.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),i=1/t.unitsPerEm,a={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o=[],s=1;s<e.length;s+=1)n=e.get(s),o.push(n.name);var l=[];r.header=new Z.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),r.nameIndex=function(e){var t=new Z.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var n=0;n<e.length;n+=1)t.names.push({name:"name_"+n,type:"NAME",value:e[n]});return t}([t.postScriptName]);var u=De(a,l);r.topDictIndex=Ue(u),r.globalSubrIndex=new Z.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),r.charsets=function(e,t){for(var n=new Z.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<e.length;r+=1){var i=Le(e[r],t);n.fields.push({name:"glyph_"+r,type:"SID",value:i})}return n}(o,l),r.charStringsIndex=function(e){for(var t=new Z.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<e.length;n+=1){var r=e.get(n),i=Fe(r);t.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return t}(e),r.privateDict=function(e,t){var n=new Z.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=Ne(Re,e,t),n}({},l),r.stringIndex=function(e){var t=new Z.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var n=0;n<e.length;n+=1)t.strings.push({name:"string_"+n,type:"STRING",value:e[n]});return t}(l);var c=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();return a.charset=c,a.encoding=0,a.charStrings=a.charset+r.charsets.sizeOf(),a.private[1]=a.charStrings+r.charStringsIndex.sizeOf(),u=De(a,l),r.topDictIndex=Ue(u),r}};var Be={parse:function(e,t){var n={},r=new ie.Parser(e,t);return n.version=r.parseVersion(),n.fontRevision=Math.round(1e3*r.parseFixed())/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),T.argument(1594834165===n.magicNumber,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n},make:function(e){var t=Math.round((new Date).getTime()/1e3)+2082844800,n=t;return e.createdTimestamp&&(n=e.createdTimestamp+2082844800),new Z.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}};var je={parse:function(e,t){var n={},r=new ie.Parser(e,t);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n},make:function(e){return new Z.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}};var He={parse:function(e,t,n,r,i,a,o){o.lowMemory?function(e,t,n,r,i){var a,o;e._hmtxTableData={};for(var s=new ie.Parser(t,n),l=0;l<i;l+=1)l<r&&(a=s.parseUShort(),o=s.parseShort()),e._hmtxTableData[l]={advanceWidth:a,leftSideBearing:o}}(e,t,n,r,i):function(e,t,n,r,i){for(var a,o,s=new ie.Parser(e,t),l=0;l<r;l+=1){l<n&&(a=s.parseUShort(),o=s.parseShort());var u=i.get(l);u.advanceWidth=a,u.leftSideBearing=o}}(t,n,r,i,a)},make:function(e){for(var t=new Z.Table("hmtx",[]),n=0;n<e.length;n+=1){var r=e.get(n),i=r.advanceWidth||0,a=r.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),t.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:a})}return t}};var Ge={make:function(e){for(var t=new Z.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),n="",r=12+4*e.length,i=0;i<e.length;++i){var a=n.indexOf(e[i]);a<0&&(a=n.length,n+=e[i]),t.fields.push({name:"offset "+i,type:"USHORT",value:r+a}),t.fields.push({name:"length "+i,type:"USHORT",value:e[i].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),t},parse:function(e,t){var n=new ie.Parser(e,t),r=n.parseULong();T.argument(1===r,"Unsupported ltag table version."),n.skip("uLong",1);for(var i=n.parseULong(),a=[],o=0;o<i;o++){for(var s="",l=t+n.parseUShort(),u=n.parseUShort(),c=l;c<l+u;++c)s+=String.fromCharCode(e.getInt8(c));a.push(s)}return a}};var Ve={parse:function(e,t){var n={},r=new ie.Parser(e,t);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),1===n.version&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n},make:function(e){return new Z.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}},We=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],qe={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Xe={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Ye={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Ke(e,t,n){switch(e){case 0:if(65535===t)return"und";if(n)return n[t];break;case 1:return qe[t];case 3:return Ye[t]}}var Ze="utf-16",Qe={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},$e={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Je(e,t,n){switch(e){case 0:return Ze;case 1:return $e[n]||Qe[t];case 3:if(1===t||10===t)return Ze}}function et(e){var t={};for(var n in e)t[e[n]]=parseInt(n);return t}function tt(e,t,n,r,i,a){return new Z.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:a}])}function nt(e,t){var n=function(e,t){var n=e.length,r=t.length-n+1;e:for(var i=0;i<r;i++)for(;i<r;i++){for(var a=0;a<n;a++)if(t[i+a]!==e[a])continue e;return i}return-1}(e,t);if(n<0){n=t.length;for(var r=0,i=e.length;r<i;++r)t.push(e[r])}return n}var rt={parse:function(e,t,n){for(var r={},i=new ie.Parser(e,t),a=i.parseUShort(),o=i.parseUShort(),s=i.offset+i.parseUShort(),l=0;l<o;l++){var u=i.parseUShort(),c=i.parseUShort(),d=i.parseUShort(),f=i.parseUShort(),h=We[f]||f,p=i.parseUShort(),v=i.parseUShort(),m=Ke(u,d,n),g=Je(u,c,d);if(void 0!==g&&void 0!==m){var y=void 0;if(y=g===Ze?A.UTF16(e,s+v,p):A.MACSTRING(e,s+v,p,g)){var b=r[h];void 0===b&&(b=r[h]={}),b[m]=y}}}return 1===a&&i.parseUShort(),r},make:function(e,t){var n,r=[],i={},a=et(We);for(var o in e){var s=a[o];if(void 0===s&&(s=o),n=parseInt(s),isNaN(n))throw new Error('Name table entry "'+o+'" does not exist, see nameTableNames for complete list.');i[n]=e[o],r.push(n)}for(var l=et(qe),u=et(Ye),c=[],d=[],f=0;f<r.length;f++){var h=i[n=r[f]];for(var p in h){var v=h[p],m=1,g=l[p],y=Xe[g],b=Je(m,y,g),x=P.MACSTRING(v,b);void 0===x&&(m=0,(g=t.indexOf(p))<0&&(g=t.length,t.push(p)),y=4,x=P.UTF16(v));var w=nt(x,d);c.push(tt(m,y,g,n,x.length,w));var S=u[p];if(void 0!==S){var _=P.UTF16(v),k=nt(_,d);c.push(tt(3,1,S,n,_.length,k))}}}c.sort((function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID}));for(var E=new Z.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:c.length},{name:"stringOffset",type:"USHORT",value:6+12*c.length}]),C=0;C<c.length;C++)E.fields.push({name:"record_"+C,type:"RECORD",value:c[C]});return E.fields.push({name:"strings",type:"LITERAL",value:d}),E}},it=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];var at={parse:function(e,t){var n={},r=new ie.Parser(e,t);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;i<10;i++)n.panose[i]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n},make:function(e){return new Z.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)},unicodeRanges:it,getUnicodeRange:function(e){for(var t=0;t<it.length;t+=1){var n=it[t];if(e>=n.begin&&e<n.end)return t}return-1}};var ot={parse:function(e,t){var n={},r=new ie.Parser(e,t);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=ce.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var i=0;i<n.numberOfGlyphs;i++)n.glyphNameIndex[i]=r.parseUShort();n.names=[];for(var a=0;a<n.numberOfGlyphs;a++)if(n.glyphNameIndex[a]>=ce.length){var o=r.parseChar();n.names.push(r.parseString(o))}break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var s=0;s<n.numberOfGlyphs;s++)n.offset[s]=r.parseChar()}return n},make:function(){return new Z.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},st=new Array(9);st[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(ne.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(ne.coverage),substitute:this.parseOffset16List()}:void T.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},st[2]=function(){var e=this.parseUShort();return T.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ne.coverage),sequences:this.parseListOfLists()}},st[3]=function(){var e=this.parseUShort();return T.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ne.coverage),alternateSets:this.parseListOfLists()}},st[4]=function(){var e=this.parseUShort();return T.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ne.coverage),ligatureSets:this.parseListOfLists((function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}}))}};var lt={sequenceIndex:ne.uShort,lookupListIndex:ne.uShort};st[5]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{substFormat:t,coverage:this.parsePointer(ne.coverage),ruleSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,lt)}}))};if(2===t)return{substFormat:t,coverage:this.parsePointer(ne.coverage),classDef:this.parsePointer(ne.classDef),classSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,lt)}}))};if(3===t){var n=this.parseUShort(),r=this.parseUShort();return{substFormat:t,coverages:this.parseList(n,ne.pointer(ne.coverage)),lookupRecords:this.parseRecordList(r,lt)}}T.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},st[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(ne.coverage),chainRuleSets:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(lt)}}))}:2===t?{substFormat:2,coverage:this.parsePointer(ne.coverage),backtrackClassDef:this.parsePointer(ne.classDef),inputClassDef:this.parsePointer(ne.classDef),lookaheadClassDef:this.parsePointer(ne.classDef),chainClassSet:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(lt)}}))}:3===t?{substFormat:3,backtrackCoverage:this.parseList(ne.pointer(ne.coverage)),inputCoverage:this.parseList(ne.pointer(ne.coverage)),lookaheadCoverage:this.parseList(ne.pointer(ne.coverage)),lookupRecords:this.parseRecordList(lt)}:void T.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},st[7]=function(){var e=this.parseUShort();T.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1");var t=this.parseUShort(),n=new ne(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:t,extension:st[t].call(n)}},st[8]=function(){var e=this.parseUShort();return T.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ne.coverage),backtrackCoverage:this.parseList(ne.pointer(ne.coverage)),lookaheadCoverage:this.parseList(ne.pointer(ne.coverage)),substitutes:this.parseUShortList()}};var ut=new Array(9);ut[1]=function(e){return 1===e.substFormat?new Z.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Z.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new Z.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Z.Coverage(e.coverage)}].concat(Z.ushortList("substitute",e.substitute)))},ut[2]=function(e){return T.assert(1===e.substFormat,"Lookup type 2 substFormat must be 1."),new Z.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Z.Coverage(e.coverage)}].concat(Z.tableList("seqSet",e.sequences,(function(e){return new Z.Table("sequenceSetTable",Z.ushortList("sequence",e))}))))},ut[3]=function(e){return T.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new Z.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Z.Coverage(e.coverage)}].concat(Z.tableList("altSet",e.alternateSets,(function(e){return new Z.Table("alternateSetTable",Z.ushortList("alternate",e))}))))},ut[4]=function(e){return T.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new Z.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Z.Coverage(e.coverage)}].concat(Z.tableList("ligSet",e.ligatureSets,(function(e){return new Z.Table("ligatureSetTable",Z.tableList("ligature",e,(function(e){return new Z.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat(Z.ushortList("component",e.components,e.components.length+1)))})))}))))},ut[6]=function(e){if(1===e.substFormat)return new Z.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new Z.Coverage(e.coverage)}].concat(Z.tableList("chainRuleSet",e.chainRuleSets,(function(e){return new Z.Table("chainRuleSetTable",Z.tableList("chainRule",e,(function(e){var t=Z.ushortList("backtrackGlyph",e.backtrack,e.backtrack.length).concat(Z.ushortList("inputGlyph",e.input,e.input.length+1)).concat(Z.ushortList("lookaheadGlyph",e.lookahead,e.lookahead.length)).concat(Z.ushortList("substitution",[],e.lookupRecords.length));return e.lookupRecords.forEach((function(e,n){t=t.concat({name:"sequenceIndex"+n,type:"USHORT",value:e.sequenceIndex}).concat({name:"lookupListIndex"+n,type:"USHORT",value:e.lookupListIndex})})),new Z.Table("chainRuleTable",t)})))}))));if(2===e.substFormat)T.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(3===e.substFormat){var t=[{name:"substFormat",type:"USHORT",value:e.substFormat}];return t.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach((function(e,n){t.push({name:"backtrackCoverage"+n,type:"TABLE",value:new Z.Coverage(e)})})),t.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach((function(e,n){t.push({name:"inputCoverage"+n,type:"TABLE",value:new Z.Coverage(e)})})),t.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach((function(e,n){t.push({name:"lookaheadCoverage"+n,type:"TABLE",value:new Z.Coverage(e)})})),t.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach((function(e,n){t=t.concat({name:"sequenceIndex"+n,type:"USHORT",value:e.sequenceIndex}).concat({name:"lookupListIndex"+n,type:"USHORT",value:e.lookupListIndex})})),new Z.Table("chainContextTable",t)}T.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};var ct={parse:function(e,t){var n=new ne(e,t=t||0),r=n.parseVersion(1);return T.argument(1===r||1.1===r,"Unsupported GSUB table version."),1===r?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(st)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(st),variations:n.parseFeatureVariationsList()}},make:function(e){return new Z.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Z.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new Z.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new Z.LookupList(e.lookups,ut)}])}};var dt={parse:function(e,t){var n=new ie.Parser(e,t),r=n.parseULong();T.argument(1===r,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var i=n.parseULong(),a={},o=0;o<i;o++){var s=n.parseTag(),l=n.parseULong(),u=n.parseULong(),c=A.UTF8(e,t+l,u);a[s]=c}return a},make:function(e){var t=Object.keys(e).length,n="",r=16+12*t,i=new Z.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:t}]);for(var a in e){var o=n.length;n+=e[a],i.fields.push({name:"tag "+a,type:"TAG",value:a}),i.fields.push({name:"offset "+a,type:"ULONG",value:r+o}),i.fields.push({name:"length "+a,type:"ULONG",value:e[a].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),i}};function ft(e){return Math.log(e)/Math.log(2)|0}function ht(e){for(;e.length%4!==0;)e.push(0);for(var t=0,n=0;n<e.length;n+=4)t+=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];return t%=Math.pow(2,32)}function pt(e,t,n,r){return new Z.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==n?n:0},{name:"length",type:"ULONG",value:void 0!==r?r:0}])}function vt(e){var t=new Z.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var n=Math.pow(2,ft(t.numTables));t.searchRange=16*n,t.entrySelector=ft(n),t.rangeShift=16*t.numTables-t.searchRange;for(var r=[],i=[],a=t.sizeOf()+pt().sizeOf()*t.numTables;a%4!==0;)a+=1,i.push({name:"padding",type:"BYTE",value:0});for(var o=0;o<e.length;o+=1){var s=e[o];T.argument(4===s.tableName.length,"Table name"+s.tableName+" is invalid.");var l=s.sizeOf(),u=pt(s.tableName,ht(s.encode()),a,l);for(r.push({name:u.tag+" Table Record",type:"RECORD",value:u}),i.push({name:s.tableName+" table",type:"RECORD",value:s}),a+=l,T.argument(!isNaN(a),"Something went wrong calculating the offset.");a%4!==0;)a+=1,i.push({name:"padding",type:"BYTE",value:0})}return r.sort((function(e,t){return e.value.tag>t.value.tag?1:-1})),t.fields=t.fields.concat(r),t.fields=t.fields.concat(i),t}function mt(e,t,n){for(var r=0;r<t.length;r+=1){var i=e.charToGlyphIndex(t[r]);if(i>0)return e.glyphs.get(i).getMetrics()}return n}function gt(e){for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length}var yt={make:vt,fontToTable:function(e){for(var t,n=[],r=[],i=[],a=[],o=[],s=[],l=[],u=0,c=0,d=0,f=0,h=0,p=0;p<e.glyphs.length;p+=1){var v=e.glyphs.get(p),m=0|v.unicode;if(isNaN(v.advanceWidth))throw new Error("Glyph "+v.name+" ("+p+"): advanceWidth is not a number.");(t>m||void 0===t)&&m>0&&(t=m),u<m&&(u=m);var g=at.getUnicodeRange(m);if(g<32)c|=1<<g;else if(g<64)d|=1<<g-32;else if(g<96)f|=1<<g-64;else{if(!(g<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");h|=1<<g-96}if(".notdef"!==v.name){var y=v.getMetrics();n.push(y.xMin),r.push(y.yMin),i.push(y.xMax),a.push(y.yMax),s.push(y.leftSideBearing),l.push(y.rightSideBearing),o.push(v.advanceWidth)}}var b={xMin:Math.min.apply(null,n),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,i),yMax:Math.max.apply(null,a),advanceWidthMax:Math.max.apply(null,o),advanceWidthAvg:gt(o),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,l)};b.ascender=e.ascender,b.descender=e.descender;var x=Be.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:b.xMin,yMin:b.yMin,xMax:b.xMax,yMax:b.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),w=je.make({ascender:b.ascender,descender:b.descender,advanceWidthMax:b.advanceWidthMax,minLeftSideBearing:b.minLeftSideBearing,minRightSideBearing:b.minRightSideBearing,xMaxExtent:b.maxLeftSideBearing+(b.xMax-b.xMin),numberOfHMetrics:e.glyphs.length}),S=Ve.make(e.glyphs.length),_=at.make(Object.assign({xAvgCharWidth:Math.round(b.advanceWidthAvg),usFirstCharIndex:t,usLastCharIndex:u,ulUnicodeRange1:c,ulUnicodeRange2:d,ulUnicodeRange3:f,ulUnicodeRange4:h,sTypoAscender:b.ascender,sTypoDescender:b.descender,sTypoLineGap:0,usWinAscent:b.yMax,usWinDescent:Math.abs(b.yMin),ulCodePageRange1:1,sxHeight:mt(e,"xyvw",{yMax:Math.round(b.ascender/2)}).yMax,sCapHeight:mt(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",b).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0},e.tables.os2)),k=He.make(e.glyphs),E=oe.make(e.glyphs),C=e.getEnglishName("fontFamily"),M=e.getEnglishName("fontSubfamily"),T=C+" "+M,R=e.getEnglishName("postScriptName");R||(R=C.replace(/\s/g,"")+"-"+M);var A={};for(var P in e.names)A[P]=e.names[P];A.uniqueID||(A.uniqueID={en:e.getEnglishName("manufacturer")+":"+T}),A.postScriptName||(A.postScriptName={en:R}),A.preferredFamily||(A.preferredFamily=e.names.fontFamily),A.preferredSubfamily||(A.preferredSubfamily=e.names.fontSubfamily);var I=[],O=rt.make(A,I),L=I.length>0?Ge.make(I):void 0,N=ot.make(),D=ze.make(e.glyphs,{version:e.getEnglishName("version"),fullName:T,familyName:C,weightName:M,postScriptName:R,unitsPerEm:e.unitsPerEm,fontBBox:[0,b.yMin,b.ascender,b.advanceWidthMax]}),U=e.metas&&Object.keys(e.metas).length>0?dt.make(e.metas):void 0,F=[x,w,S,_,O,E,N,D,k];L&&F.push(L),e.tables.gsub&&F.push(ct.make(e.tables.gsub)),U&&F.push(U);for(var z=vt(F),B=ht(z.encode()),j=z.fields,H=!1,G=0;G<j.length;G+=1)if("head table"===j[G].name){j[G].value.checkSumAdjustment=2981146554-B,H=!0;break}if(!H)throw new Error("Could not find head table with checkSum to adjust.");return z},computeCheckSum:ht};function bt(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>>1,a=e[i].tag;if(a===t)return i;a<t?n=i+1:r=i-1}return-n-1}function xt(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>>1,a=e[i];if(a===t)return i;a<t?n=i+1:r=i-1}return-n-1}function wt(e,t){for(var n,r=0,i=e.length-1;r<=i;){var a=r+i>>>1,o=(n=e[a]).start;if(o===t)return n;o<t?r=a+1:i=a-1}if(r>0)return t>(n=e[r-1]).end?0:n}function St(e,t){this.font=e,this.tableName=t}function _t(e){St.call(this,e,"gpos")}function kt(e){St.call(this,e,"gsub")}function Et(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Ct(e,t,n){for(var r=e.subtables,i=0;i<r.length;i++){var a=r[i];if(a.substFormat===t)return a}if(n)return r.push(n),n}function Mt(e,t){if(!e)throw t}function Tt(e,t,n,r,i){var a;return(t&r)>0?(a=e.parseByte(),0===(t&i)&&(a=-a),a=n+a):a=(t&i)>0?n:n+e.parseShort(),a}function Rt(e,t,n){var r,i,a=new ie.Parser(t,n);if(e.numberOfContours=a.parseShort(),e._xMin=a.parseShort(),e._yMin=a.parseShort(),e._xMax=a.parseShort(),e._yMax=a.parseShort(),e.numberOfContours>0){for(var o=e.endPointIndices=[],s=0;s<e.numberOfContours;s+=1)o.push(a.parseUShort());e.instructionLength=a.parseUShort(),e.instructions=[];for(var l=0;l<e.instructionLength;l+=1)e.instructions.push(a.parseByte());var u=o[o.length-1]+1;r=[];for(var c=0;c<u;c+=1)if(i=a.parseByte(),r.push(i),(8&i)>0)for(var d=a.parseByte(),f=0;f<d;f+=1)r.push(i),c+=1;if(T.argument(r.length===u,"Bad flags."),o.length>0){var h,p=[];if(u>0){for(var v=0;v<u;v+=1)i=r[v],(h={}).onCurve=!!(1&i),h.lastPointOfContour=o.indexOf(v)>=0,p.push(h);for(var m=0,g=0;g<u;g+=1)i=r[g],(h=p[g]).x=Tt(a,i,m,2,16),m=h.x;for(var y=0,b=0;b<u;b+=1)i=r[b],(h=p[b]).y=Tt(a,i,y,4,32),y=h.y}e.points=p}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var x=!0;x;){r=a.parseUShort();var w={glyphIndex:a.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&r)>0?(2&r)>0?(w.dx=a.parseShort(),w.dy=a.parseShort()):w.matchedPoints=[a.parseUShort(),a.parseUShort()]:(2&r)>0?(w.dx=a.parseChar(),w.dy=a.parseChar()):w.matchedPoints=[a.parseByte(),a.parseByte()],(8&r)>0?w.xScale=w.yScale=a.parseF2Dot14():(64&r)>0?(w.xScale=a.parseF2Dot14(),w.yScale=a.parseF2Dot14()):(128&r)>0&&(w.xScale=a.parseF2Dot14(),w.scale01=a.parseF2Dot14(),w.scale10=a.parseF2Dot14(),w.yScale=a.parseF2Dot14()),e.components.push(w),x=!!(32&r)}if(256&r){e.instructionLength=a.parseUShort(),e.instructions=[];for(var S=0;S<e.instructionLength;S+=1)e.instructions.push(a.parseByte())}}}function At(e,t){for(var n=[],r=0;r<e.length;r+=1){var i=e[r],a={x:t.xScale*i.x+t.scale01*i.y+t.dx,y:t.scale10*i.x+t.yScale*i.y+t.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};n.push(a)}return n}function Pt(e){var t=new E;if(!e)return t;for(var n=function(e){for(var t=[],n=[],r=0;r<e.length;r+=1){var i=e[r];n.push(i),i.lastPointOfContour&&(t.push(n),n=[])}return T.argument(0===n.length,"There are still points left in the current contour."),t}(e),r=0;r<n.length;++r){var i=n[r],a=null,o=i[i.length-1],s=i[0];if(o.onCurve)t.moveTo(o.x,o.y);else if(s.onCurve)t.moveTo(s.x,s.y);else{var l={x:.5*(o.x+s.x),y:.5*(o.y+s.y)};t.moveTo(l.x,l.y)}for(var u=0;u<i.length;++u)if(a=o,o=s,s=i[(u+1)%i.length],o.onCurve)t.lineTo(o.x,o.y);else{var c=s;a.onCurve||(o.x,a.x,o.y,a.y),s.onCurve||(c={x:.5*(o.x+s.x),y:.5*(o.y+s.y)}),t.quadraticCurveTo(o.x,o.y,c.x,c.y)}t.closePath()}return t}function It(e,t){if(t.isComposite)for(var n=0;n<t.components.length;n+=1){var r=t.components[n],i=e.get(r.glyphIndex);if(i.getPath(),i.points){var a=void 0;if(void 0===r.matchedPoints)a=At(i.points,r);else{if(r.matchedPoints[0]>t.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+t.name);var o=t.points[r.matchedPoints[0]],s=i.points[r.matchedPoints[1]],l={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};s=At([s],l)[0],l.dx=o.x-s.x,l.dy=o.y-s.y,a=At(i.points,l)}t.points=t.points.concat(a)}}return Pt(t.points)}St.prototype={searchTag:bt,binSearch:xt,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map((function(e){return e.tag})):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,n=0;n<e.scripts.length;n++){var r=e.scripts[n].tag;if("DFLT"===r)return r;"latn"===r&&(t=!0)}return t?"latn":void 0}},getScriptTable:function(e,t){var n=this.getTable(t);if(n){e=e||"DFLT";var r=n.scripts,i=bt(n.scripts,e);if(i>=0)return r[i].script;if(t){var a={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-i,0,a),a.script}}},getLangSysTable:function(e,t,n){var r=this.getScriptTable(e,n);if(r){if(!t||"dflt"===t||"DFLT"===t)return r.defaultLangSys;var i=bt(r.langSysRecords,t);if(i>=0)return r.langSysRecords[i].langSys;if(n){var a={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-i,0,a),a.langSys}}},getFeatureTable:function(e,t,n,r){var i=this.getLangSysTable(e,t,r);if(i){for(var a,o=i.featureIndexes,s=this.font.tables[this.tableName].features,l=0;l<o.length;l++)if((a=s[o[l]]).tag===n)return a.feature;if(r){var u=s.length;return T.assert(0===u||n>=s[u-1].tag,"Features must be added in alphabetical order."),a={tag:n,feature:{params:0,lookupListIndexes:[]}},s.push(a),o.push(u),a.feature}}},getLookupTables:function(e,t,n,r,i){var a=this.getFeatureTable(e,t,n,i),o=[];if(a){for(var s,l=a.lookupListIndexes,u=this.font.tables[this.tableName].lookups,c=0;c<l.length;c++)(s=u[l[c]]).lookupType===r&&o.push(s);if(0===o.length&&i){s={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var d=u.length;return u.push(s),l.push(d),[s]}}return o},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var n=wt(e.ranges,t);return n?n.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var n=xt(e.glyphs,t);return n>=0?n:-1;case 2:var r=wt(e.ranges,t);return r?r.index+t-r.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;for(var t=[],n=e.ranges,r=0;r<n.length;r++)for(var i=n[r],a=i.start,o=i.end,s=a;s<=o;s++)t.push(s);return t}},_t.prototype=St.prototype,_t.prototype.init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)},_t.prototype.getKerningValue=function(e,t,n){for(var r=0;r<e.length;r++)for(var i=e[r].subtables,a=0;a<i.length;a++){var o=i[a],s=this.getCoverageIndex(o.coverage,t);if(!(s<0))switch(o.posFormat){case 1:for(var l=o.pairSets[s],u=0;u<l.length;u++){var c=l[u];if(c.secondGlyph===n)return c.value1&&c.value1.xAdvance||0}break;case 2:var d=this.getGlyphClass(o.classDef1,t),f=this.getGlyphClass(o.classDef2,n),h=o.classRecords[d][f];return h.value1&&h.value1.xAdvance||0}}return 0},_t.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)},kt.prototype=St.prototype,kt.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},kt.prototype.getSingle=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,1),a=0;a<i.length;a++)for(var o=i[a].subtables,s=0;s<o.length;s++){var l=o[s],u=this.expandCoverage(l.coverage),c=void 0;if(1===l.substFormat){var d=l.deltaGlyphId;for(c=0;c<u.length;c++){var f=u[c];r.push({sub:f,by:f+d})}}else{var h=l.substitute;for(c=0;c<u.length;c++)r.push({sub:u[c],by:h[c]})}}return r},kt.prototype.getMultiple=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,2),a=0;a<i.length;a++)for(var o=i[a].subtables,s=0;s<o.length;s++){var l=o[s],u=this.expandCoverage(l.coverage),c=void 0;for(c=0;c<u.length;c++){var d=u[c],f=l.sequences[c];r.push({sub:d,by:f})}}return r},kt.prototype.getAlternates=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,3),a=0;a<i.length;a++)for(var o=i[a].subtables,s=0;s<o.length;s++)for(var l=o[s],u=this.expandCoverage(l.coverage),c=l.alternateSets,d=0;d<u.length;d++)r.push({sub:u[d],by:c[d]});return r},kt.prototype.getLigatures=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,4),a=0;a<i.length;a++)for(var o=i[a].subtables,s=0;s<o.length;s++)for(var l=o[s],u=this.expandCoverage(l.coverage),c=l.ligatureSets,d=0;d<u.length;d++)for(var f=u[d],h=c[d],p=0;p<h.length;p++){var v=h[p];r.push({sub:[f].concat(v.components),by:v.ligGlyph})}return r},kt.prototype.addSingle=function(e,t,n,r){var i=Ct(this.getLookupTables(n,r,e,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});T.assert(1===i.coverage.format,"Single: unable to modify coverage table format "+i.coverage.format);var a=t.sub,o=this.binSearch(i.coverage.glyphs,a);o<0&&(o=-1-o,i.coverage.glyphs.splice(o,0,a),i.substitute.splice(o,0,0)),i.substitute[o]=t.by},kt.prototype.addMultiple=function(e,t,n,r){T.assert(t.by instanceof Array&&t.by.length>1,'Multiple: "by" must be an array of two or more ids');var i=Ct(this.getLookupTables(n,r,e,2,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});T.assert(1===i.coverage.format,"Multiple: unable to modify coverage table format "+i.coverage.format);var a=t.sub,o=this.binSearch(i.coverage.glyphs,a);o<0&&(o=-1-o,i.coverage.glyphs.splice(o,0,a),i.sequences.splice(o,0,0)),i.sequences[o]=t.by},kt.prototype.addAlternate=function(e,t,n,r){var i=Ct(this.getLookupTables(n,r,e,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});T.assert(1===i.coverage.format,"Alternate: unable to modify coverage table format "+i.coverage.format);var a=t.sub,o=this.binSearch(i.coverage.glyphs,a);o<0&&(o=-1-o,i.coverage.glyphs.splice(o,0,a),i.alternateSets.splice(o,0,0)),i.alternateSets[o]=t.by},kt.prototype.addLigature=function(e,t,n,r){var i=this.getLookupTables(n,r,e,4,!0)[0],a=i.subtables[0];a||(a={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.subtables[0]=a),T.assert(1===a.coverage.format,"Ligature: unable to modify coverage table format "+a.coverage.format);var o=t.sub[0],s=t.sub.slice(1),l={ligGlyph:t.by,components:s},u=this.binSearch(a.coverage.glyphs,o);if(u>=0){for(var c=a.ligatureSets[u],d=0;d<c.length;d++)if(Et(c[d].components,s))return;c.push(l)}else u=-1-u,a.coverage.glyphs.splice(u,0,o),a.ligatureSets.splice(u,0,[l])},kt.prototype.getFeature=function(e,t,n){if(/ss\d\d/.test(e))return this.getSingle(e,t,n);switch(e){case"aalt":case"salt":return this.getSingle(e,t,n).concat(this.getAlternates(e,t,n));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,n);case"ccmp":return this.getMultiple(e,t,n).concat(this.getLigatures(e,t,n));case"stch":return this.getMultiple(e,t,n)}},kt.prototype.add=function(e,t,n,r){if(/ss\d\d/.test(e))return this.addSingle(e,t,n,r);switch(e){case"aalt":case"salt":return"number"===typeof t.by?this.addSingle(e,t,n,r):this.addAlternate(e,t,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,n,r);case"ccmp":return t.by instanceof Array?this.addMultiple(e,t,n,r):this.addLigature(e,t,n,r)}};var Ot,Lt,Nt,Dt,Ut={getPath:Pt,parse:function(e,t,n,r,i){return i.lowMemory?function(e,t,n,r){var i=new xe.GlyphSet(r);return r._push=function(a){var o=n[a];o!==n[a+1]?i.push(a,xe.ttfGlyphLoader(r,a,Rt,e,t+o,It)):i.push(a,xe.glyphLoader(r,a))},i}(e,t,n,r):function(e,t,n,r){for(var i=new xe.GlyphSet(r),a=0;a<n.length-1;a+=1){var o=n[a];o!==n[a+1]?i.push(a,xe.ttfGlyphLoader(r,a,Rt,e,t+o,It)):i.push(a,xe.glyphLoader(r,a))}return i}(e,t,n,r)}};function Ft(e){this.font=e,this.getCommands=function(e){return Ut.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function zt(e){return e}function Bt(e){return Math.sign(e)*Math.round(Math.abs(e))}function jt(e){return Math.sign(e)*Math.round(Math.abs(2*e))/2}function Ht(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function Gt(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function Vt(e){return Math.sign(e)*Math.floor(Math.abs(e))}var Wt=function(e){var t=this.srPeriod,n=this.srPhase,r=1;return e<0&&(e=-e,r=-1),e+=this.srThreshold-n,e=Math.trunc(e/t)*t,(e+=n)<0?n*r:e*r},qt={x:1,y:0,axis:"x",distance:function(e,t,n,r){return(n?e.xo:e.x)-(r?t.xo:t.x)},interpolate:function(e,t,n,r){var i,a,o,s,l,u,c;if(!r||r===this)return i=e.xo-t.xo,a=e.xo-n.xo,l=t.x-t.xo,u=n.x-n.xo,0===(c=(o=Math.abs(i))+(s=Math.abs(a)))?void(e.x=e.xo+(l+u)/2):void(e.x=e.xo+(l*s+u*o)/c);i=r.distance(e,t,!0,!0),a=r.distance(e,n,!0,!0),l=r.distance(t,t,!1,!0),u=r.distance(n,n,!1,!0),0!==(c=(o=Math.abs(i))+(s=Math.abs(a)))?qt.setRelative(e,e,(l*s+u*o)/c,r,!0):qt.setRelative(e,e,(l+u)/2,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,n,r,i){if(r&&r!==this){var a=i?t.xo:t.x,o=i?t.yo:t.y,s=a+n*r.x,l=o+n*r.y;e.x=s+(e.y-l)/r.normalSlope}else e.x=(i?t.xo:t.x)+n},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},Xt={x:0,y:1,axis:"y",distance:function(e,t,n,r){return(n?e.yo:e.y)-(r?t.yo:t.y)},interpolate:function(e,t,n,r){var i,a,o,s,l,u,c;if(!r||r===this)return i=e.yo-t.yo,a=e.yo-n.yo,l=t.y-t.yo,u=n.y-n.yo,0===(c=(o=Math.abs(i))+(s=Math.abs(a)))?void(e.y=e.yo+(l+u)/2):void(e.y=e.yo+(l*s+u*o)/c);i=r.distance(e,t,!0,!0),a=r.distance(e,n,!0,!0),l=r.distance(t,t,!1,!0),u=r.distance(n,n,!1,!0),0!==(c=(o=Math.abs(i))+(s=Math.abs(a)))?Xt.setRelative(e,e,(l*s+u*o)/c,r,!0):Xt.setRelative(e,e,(l+u)/2,r,!0)},normalSlope:0,setRelative:function(e,t,n,r,i){if(r&&r!==this){var a=i?t.xo:t.x,o=i?t.yo:t.y,s=a+n*r.x,l=o+n*r.y;e.y=l+r.normalSlope*(e.x-s)}else e.y=(i?t.yo:t.y)+n},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};function Yt(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}function Kt(e,t){var n=Math.sqrt(e*e+t*t);return t/=n,1===(e/=n)&&0===t?qt:0===e&&1===t?Xt:new Yt(e,t)}function Zt(e,t,n,r){this.x=this.xo=Math.round(64*e)/64,this.y=this.yo=Math.round(64*t)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(qt),Object.freeze(Xt),Yt.prototype.distance=function(e,t,n,r){return this.x*qt.distance(e,t,n,r)+this.y*Xt.distance(e,t,n,r)},Yt.prototype.interpolate=function(e,t,n,r){var i,a,o,s,l,u,c;o=r.distance(e,t,!0,!0),s=r.distance(e,n,!0,!0),i=r.distance(t,t,!1,!0),a=r.distance(n,n,!1,!0),0!==(c=(l=Math.abs(o))+(u=Math.abs(s)))?this.setRelative(e,e,(i*u+a*l)/c,r,!0):this.setRelative(e,e,(i+a)/2,r,!0)},Yt.prototype.setRelative=function(e,t,n,r,i){r=r||this;var a=i?t.xo:t.x,o=i?t.yo:t.y,s=a+n*r.x,l=o+n*r.y,u=r.normalSlope,c=this.slope,d=e.x,f=e.y;e.x=(c*d-u*s+l-f)/(c-u),e.y=c*(e.x-d)+f},Yt.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0},Zt.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t},Zt.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var Qt=Object.freeze(new Zt(0,0)),$t={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Jt(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=qt,this.round=Bt}}function en(e){for(var t=e.tZone=new Array(e.gZone.length),n=0;n<t.length;n++)t[n]=new Zt(0,0)}function tn(e,t){var n,r=e.prog,i=e.ip,a=1;do{if(88===(n=r[++i]))a++;else if(89===n)a--;else if(64===n)i+=r[i+1]+1;else if(65===n)i+=2*r[i+1]+1;else if(n>=176&&n<=183)i+=n-176+1;else if(n>=184&&n<=191)i+=2*(n-184+1);else if(t&&1===a&&27===n)break}while(a>0);e.ip=i}function nn(e,t){exports.DEBUG&&console.log(t.step,"SVTCA["+e.axis+"]"),t.fv=t.pv=t.dpv=e}function rn(e,t){exports.DEBUG&&console.log(t.step,"SPVTCA["+e.axis+"]"),t.pv=t.dpv=e}function an(e,t){exports.DEBUG&&console.log(t.step,"SFVTCA["+e.axis+"]"),t.fv=e}function on(e,t){var n,r,i=t.stack,a=i.pop(),o=i.pop(),s=t.z2[a],l=t.z1[o];exports.DEBUG&&console.log("SPVTL["+e+"]",a,o),e?(n=s.y-l.y,r=l.x-s.x):(n=l.x-s.x,r=l.y-s.y),t.pv=t.dpv=Kt(n,r)}function sn(e,t){var n,r,i=t.stack,a=i.pop(),o=i.pop(),s=t.z2[a],l=t.z1[o];exports.DEBUG&&console.log("SFVTL["+e+"]",a,o),e?(n=s.y-l.y,r=l.x-s.x):(n=l.x-s.x,r=l.y-s.y),t.fv=Kt(n,r)}function ln(e){exports.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function un(e,t){var n=t.stack.pop(),r=t.z0[n],i=t.fv,a=t.pv;exports.DEBUG&&console.log(t.step,"MDAP["+e+"]",n);var o=a.distance(r,Qt);e&&(o=t.round(o)),i.setRelative(r,Qt,o,a),i.touch(r),t.rp0=t.rp1=n}function cn(e,t){var n,r,i,a=t.z2,o=a.length-2;exports.DEBUG&&console.log(t.step,"IUP["+e.axis+"]");for(var s=0;s<o;s++)n=a[s],e.touched(n)||(r=n.prevTouched(e))!==n&&(r===(i=n.nextTouched(e))&&e.setRelative(n,n,e.distance(r,r,!1,!0),e,!0),e.interpolate(n,r,i,e))}function dn(e,t){for(var n=t.stack,r=e?t.rp1:t.rp2,i=(e?t.z0:t.z1)[r],a=t.fv,o=t.pv,s=t.loop,l=t.z2;s--;){var u=n.pop(),c=l[u],d=o.distance(i,i,!1,!0);a.setRelative(c,c,d,o),a.touch(c),exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-s)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",u)}t.loop=1}function fn(e,t){var n=t.stack,r=e?t.rp1:t.rp2,i=(e?t.z0:t.z1)[r],a=t.fv,o=t.pv,s=n.pop(),l=t.z2[t.contours[s]],u=l;exports.DEBUG&&console.log(t.step,"SHC["+e+"]",s);var c=o.distance(i,i,!1,!0);do{u!==i&&a.setRelative(u,u,c,o),u=u.nextPointOnContour}while(u!==l)}function hn(e,t){var n,r,i=t.stack,a=e?t.rp1:t.rp2,o=(e?t.z0:t.z1)[a],s=t.fv,l=t.pv,u=i.pop();switch(exports.DEBUG&&console.log(t.step,"SHZ["+e+"]",u),u){case 0:n=t.tZone;break;case 1:n=t.gZone;break;default:throw new Error("Invalid zone")}for(var c=l.distance(o,o,!1,!0),d=n.length-2,f=0;f<d;f++)r=n[f],s.setRelative(r,r,c,l)}function pn(e,t){var n=t.stack,r=n.pop()/64,i=n.pop(),a=t.z1[i],o=t.z0[t.rp0],s=t.fv,l=t.pv;s.setRelative(a,o,r,l),s.touch(a),exports.DEBUG&&console.log(t.step,"MSIRP["+e+"]",r,i),t.rp1=t.rp0,t.rp2=i,e&&(t.rp0=i)}function vn(e,t){var n=t.stack,r=n.pop(),i=n.pop(),a=t.z0[i],o=t.fv,s=t.pv,l=t.cvt[r];exports.DEBUG&&console.log(t.step,"MIAP["+e+"]",r,"(",l,")",i);var u=s.distance(a,Qt);e&&(Math.abs(u-l)<t.cvCutIn&&(u=l),u=t.round(u)),o.setRelative(a,Qt,u,s),0===t.zp0&&(a.xo=a.x,a.yo=a.y),o.touch(a),t.rp0=t.rp1=i}function mn(e,t){var n=t.stack,r=n.pop(),i=t.z2[r];exports.DEBUG&&console.log(t.step,"GC["+e+"]",r),n.push(64*t.dpv.distance(i,Qt,e,!1))}function gn(e,t){var n=t.stack,r=n.pop(),i=n.pop(),a=t.z1[r],o=t.z0[i],s=t.dpv.distance(o,a,e,e);exports.DEBUG&&console.log(t.step,"MD["+e+"]",r,i,"->",s),t.stack.push(Math.round(64*s))}function yn(e,t){var n=t.stack,r=n.pop(),i=t.fv,a=t.pv,o=t.ppem,s=t.deltaBase+16*(e-1),l=t.deltaShift,u=t.z0;exports.DEBUG&&console.log(t.step,"DELTAP["+e+"]",r,n);for(var c=0;c<r;c++){var d=n.pop(),f=n.pop();if(s+((240&f)>>4)===o){var h=(15&f)-8;h>=0&&h++,exports.DEBUG&&console.log(t.step,"DELTAPFIX",d,"by",h*l);var p=u[d];i.setRelative(p,p,h*l,a)}}}function bn(e,t){var n=t.stack,r=n.pop();exports.DEBUG&&console.log(t.step,"ROUND[]"),n.push(64*t.round(r/64))}function xn(e,t){var n=t.stack,r=n.pop(),i=t.ppem,a=t.deltaBase+16*(e-1),o=t.deltaShift;exports.DEBUG&&console.log(t.step,"DELTAC["+e+"]",r,n);for(var s=0;s<r;s++){var l=n.pop(),u=n.pop();if(a+((240&u)>>4)===i){var c=(15&u)-8;c>=0&&c++;var d=c*o;exports.DEBUG&&console.log(t.step,"DELTACFIX",l,"by",d),t.cvt[l]+=d}}}function wn(e,t){var n,r,i=t.stack,a=i.pop(),o=i.pop(),s=t.z2[a],l=t.z1[o];exports.DEBUG&&console.log(t.step,"SDPVTL["+e+"]",a,o),e?(n=s.y-l.y,r=l.x-s.x):(n=l.x-s.x,r=l.y-s.y),t.dpv=Kt(n,r)}function Sn(e,t){var n=t.stack,r=t.prog,i=t.ip;exports.DEBUG&&console.log(t.step,"PUSHB["+e+"]");for(var a=0;a<e;a++)n.push(r[++i]);t.ip=i}function _n(e,t){var n=t.ip,r=t.prog,i=t.stack;exports.DEBUG&&console.log(t.ip,"PUSHW["+e+"]");for(var a=0;a<e;a++){var o=r[++n]<<8|r[++n];32768&o&&(o=-(1+(65535^o))),i.push(o)}t.ip=n}function kn(e,t,n,r,i,a){var o,s,l,u,c=a.stack,d=e&&c.pop(),f=c.pop(),h=a.rp0,p=a.z0[h],v=a.z1[f],m=a.minDis,g=a.fv,y=a.dpv;l=(s=o=y.distance(v,p,!0,!0))>=0?1:-1,s=Math.abs(s),e&&(u=a.cvt[d],r&&Math.abs(s-u)<a.cvCutIn&&(s=u)),n&&s<m&&(s=m),r&&(s=a.round(s)),g.setRelative(v,p,l*s,y),g.touch(v),exports.DEBUG&&console.log(a.step,(e?"MIRP[":"MDRP[")+(t?"M":"m")+(n?">":"_")+(r?"R":"_")+(0===i?"Gr":1===i?"Bl":2===i?"Wh":"")+"]",e?d+"("+a.cvt[d]+","+u+")":"",f,"(d =",o,"->",l*s,")"),a.rp1=a.rp0,a.rp2=f,t&&(a.rp0=f)}function En(e){this.char=e,this.state={},this.activeState=null}function Cn(e,t,n){this.contextName=n,this.startIndex=e,this.endOffset=t}function Mn(e,t,n){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=t,this.checkEnd=n}function Tn(e,t){this.context=e,this.index=t,this.length=e.length,this.current=e[t],this.backtrack=e.slice(0,t),this.lookahead=e.slice(t+1)}function Rn(e){this.eventId=e,this.subscribers=[]}function An(e){var t=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach((function(e){Object.defineProperty(t.events,e,{value:new Rn(e)})})),e&&n.forEach((function(n){var r=e[n];"function"===typeof r&&t.events[n].subscribe(r)}));["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"].forEach((function(e){t.events[e].subscribe(t.updateContextsRanges)}))}function Pn(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],An.call(this,e)}function In(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function On(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function Ln(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function Nn(e){return/[A-z]/.test(e)}function Dn(e){this.font=e,this.features={}}function Un(e){this.id=e.id,this.tag=e.tag,this.substitution=e.substitution}function Fn(e,t){if(!e)return-1;switch(t.format){case 1:return t.glyphs.indexOf(e);case 2:for(var n=t.ranges,r=0;r<n.length;r++){var i=n[r];if(e>=i.start&&e<=i.end){var a=e-i.start;return i.index+a}}break;default:return-1}return-1}function zn(e,t){return-1===Fn(e,t.coverage)?null:e+t.deltaGlyphId}function Bn(e,t){var n=Fn(e,t.coverage);return-1===n?null:t.substitute[n]}function jn(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],a=t.current,o=Fn(a=Array.isArray(a)?a[0]:a,i);-1!==o&&n.push(o)}return n.length!==e.length?-1:n}function Hn(e,t){var n=t.inputCoverage.length+t.lookaheadCoverage.length+t.backtrackCoverage.length;if(e.context.length<n)return[];var r=jn(t.inputCoverage,e);if(-1===r)return[];var i=t.inputCoverage.length-1;if(e.lookahead.length<t.lookaheadCoverage.length)return[];for(var a=e.lookahead.slice(i);a.length&&Ln(a[0].char);)a.shift();var o=new Tn(a,0),s=jn(t.lookaheadCoverage,o),l=[].concat(e.backtrack);for(l.reverse();l.length&&Ln(l[0].char);)l.shift();if(l.length<t.backtrackCoverage.length)return[];var u=new Tn(l,0),c=jn(t.backtrackCoverage,u),d=[];if(r.length===t.inputCoverage.length&&s.length===t.lookaheadCoverage.length&&c.length===t.backtrackCoverage.length)for(var f=0;f<t.lookupRecords.length;f++)for(var h=t.lookupRecords[f].lookupListIndex,p=this.getLookupByIndex(h),v=0;v<p.subtables.length;v++){var m=p.subtables[v],g=this.getLookupMethod(p,m);if("12"===this.getSubstitutionType(p,m))for(var y=0;y<r.length;y++){var b=g(e.get(y));b&&d.push(b)}}return d}function Gn(e,t){var n,r=Fn(e.current,t.coverage);if(-1===r)return null;for(var i=t.ligatureSets[r],a=0;a<i.length;a++){n=i[a];for(var o=0;o<n.components.length;o++){if(e.lookahead[o]!==n.components[o])break;if(o===n.components.length-1)return n}}return null}function Vn(e,t){var n=Fn(e,t.coverage);return-1===n?null:t.sequences[n]}Ft.prototype.exec=function(e,t){if("number"!==typeof t)throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,r=this._prepState;if(!r||r.ppem!==t){var i=this._fpgmState;if(!i){Jt.prototype=$t,(i=this._fpgmState=new Jt("fpgm",n.tables.fpgm)).funcs=[],i.font=n,exports.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{Lt(i)}catch(Ine){return console.log("Hinting error in FPGM:"+Ine),void(this._errorState=3)}}Jt.prototype=i,(r=this._prepState=new Jt("prep",n.tables.prep)).ppem=t;var a=n.tables.cvt;if(a)for(var o=r.cvt=new Array(a.length),s=t/n.unitsPerEm,l=0;l<a.length;l++)o[l]=a[l]*s;else r.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{Lt(r)}catch(Ine){this._errorState<2&&console.log("Hinting error in PREP:"+Ine),this._errorState=2}}if(!(this._errorState>1))try{return Nt(e,r)}catch(Ine){return this._errorState<1&&(console.log("Hinting error:"+Ine),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},Nt=function(e,t){var n,r,i,a=t.ppem/t.font.unitsPerEm,o=a,s=e.components;if(Jt.prototype=t,s){var l=t.font;r=[],n=[];for(var u=0;u<s.length;u++){var c=s[u],d=l.glyphs.get(c.glyphIndex);i=new Jt("glyf",d.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+u+"---"),i.step=-1),Dt(d,i,a,o);for(var f=Math.round(c.dx*a),h=Math.round(c.dy*o),p=i.gZone,v=i.contours,m=0;m<p.length;m++){var g=p[m];g.xTouched=g.yTouched=!1,g.xo=g.x=g.x+f,g.yo=g.y=g.y+h}var y=r.length;r.push.apply(r,p);for(var b=0;b<v.length;b++)n.push(v[b]+y)}e.instructions&&!i.inhibitGridFit&&((i=new Jt("glyf",e.instructions)).gZone=i.z0=i.z1=i.z2=r,i.contours=n,r.push(new Zt(0,0),new Zt(Math.round(e.advanceWidth*a),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),i.step=-1),Lt(i),r.length-=2)}else i=new Jt("glyf",e.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),i.step=-1),Dt(e,i,a,o),r=i.gZone;return r},Dt=function(e,t,n,r){for(var i,a,o,s=e.points||[],l=s.length,u=t.gZone=t.z0=t.z1=t.z2=[],c=t.contours=[],d=0;d<l;d++)i=s[d],u[d]=new Zt(i.x*n,i.y*r,i.lastPointOfContour,i.onCurve);for(var f=0;f<l;f++)i=u[f],a||(a=i,c.push(f)),i.lastPointOfContour?(i.nextPointOnContour=a,a.prevPointOnContour=i,a=void 0):(o=u[f+1],i.nextPointOnContour=o,o.prevPointOnContour=i);if(!t.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",t.stack);for(var h=0;h<l;h++)console.log(h,u[h].x,u[h].y)}if(u.push(new Zt(0,0),new Zt(Math.round(e.advanceWidth*n),0)),Lt(t),u.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",t.stack);for(var p=0;p<l;p++)console.log(p,u[p].x,u[p].y)}}},Lt=function(e){var t=e.prog;if(t){var n,r=t.length;for(e.ip=0;e.ip<r;e.ip++){if(exports.DEBUG&&e.step++,!(n=Ot[t[e.ip]]))throw new Error("unknown instruction: 0x"+Number(t[e.ip]).toString(16));n(e)}}},Ot=[nn.bind(void 0,Xt),nn.bind(void 0,qt),rn.bind(void 0,Xt),rn.bind(void 0,qt),an.bind(void 0,Xt),an.bind(void 0,qt),on.bind(void 0,0),on.bind(void 0,1),sn.bind(void 0,0),sn.bind(void 0,1),function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",n,r),e.pv=e.dpv=Kt(r,n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",n,r),e.fv=Kt(r,n)},function(e){var t=e.stack,n=e.pv;exports.DEBUG&&console.log(e.step,"GPV[]"),t.push(16384*n.x),t.push(16384*n.y)},function(e){var t=e.stack,n=e.fv;exports.DEBUG&&console.log(e.step,"GFV[]"),t.push(16384*n.x),t.push(16384*n.y)},function(e){e.fv=e.pv,exports.DEBUG&&console.log(e.step,"SFVTPV[]")},function(e){var t=e.stack,n=t.pop(),r=t.pop(),i=t.pop(),a=t.pop(),o=t.pop(),s=e.z0,l=e.z1,u=s[n],c=s[r],d=l[i],f=l[a],h=e.z2[o];exports.DEBUG&&console.log("ISECT[], ",n,r,i,a,o);var p=u.x,v=u.y,m=c.x,g=c.y,y=d.x,b=d.y,x=f.x,w=f.y,S=(p-m)*(b-w)-(v-g)*(y-x),_=p*g-v*m,k=y*w-b*x;h.x=(_*(y-x)-k*(p-m))/S,h.y=(_*(b-w)-k*(v-g))/S},function(e){e.rp0=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)},function(e){e.rp1=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)},function(e){e.rp2=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP0[]",t),e.zp0=t,t){case 0:e.tZone||en(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP1[]",t),e.zp1=t,t){case 0:e.tZone||en(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP2[]",t),e.zp2=t,t){case 0:e.tZone||en(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZPS[]",t),e.zp0=e.zp1=e.zp2=t,t){case 0:e.tZone||en(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){e.loop=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)},function(e){exports.DEBUG&&console.log(e.step,"RTG[]"),e.round=Bt},function(e){exports.DEBUG&&console.log(e.step,"RTHG[]"),e.round=Ht},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SMD[]",t),e.minDis=t/64},function(e){exports.DEBUG&&console.log(e.step,"ELSE[]"),tn(e,!1)},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"JMPR[]",t),e.ip+=t-1},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCVTCI[]",t),e.cvCutIn=t/64},void 0,void 0,function(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DUP[]"),t.push(t[t.length-1])},ln,function(e){exports.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"SWAP[]"),t.push(n),t.push(r)},function(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DEPTH[]"),t.push(t.length)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"CINDEX[]",n),t.push(t[t.length-n])},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"MINDEX[]",n),t.push(t.splice(t.length-n,1)[0])},void 0,void 0,void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"LOOPCALL[]",n,r);var i=e.ip,a=e.prog;e.prog=e.funcs[n];for(var o=0;o<r;o++)Lt(e),exports.DEBUG&&console.log(++e.step,o+1<r?"next loopcall":"done loopcall",o);e.ip=i,e.prog=a},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"CALL[]",t);var n=e.ip,r=e.prog;e.prog=e.funcs[t],Lt(e),e.ip=n,e.prog=r,exports.DEBUG&&console.log(++e.step,"returning from",t)},function(e){if("fpgm"!==e.env)throw new Error("FDEF not allowed here");var t=e.stack,n=e.prog,r=e.ip,i=t.pop(),a=r;for(exports.DEBUG&&console.log(e.step,"FDEF[]",i);45!==n[++r];);e.ip=r,e.funcs[i]=n.slice(a+1,r)},void 0,un.bind(void 0,0),un.bind(void 0,1),cn.bind(void 0,Xt),cn.bind(void 0,qt),dn.bind(void 0,0),dn.bind(void 0,1),fn.bind(void 0,0),fn.bind(void 0,1),hn.bind(void 0,0),hn.bind(void 0,1),function(e){for(var t=e.stack,n=e.loop,r=e.fv,i=t.pop()/64,a=e.z2;n--;){var o=t.pop(),s=a[o];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-n)+": ":"")+"SHPIX[]",o,i),r.setRelative(s,s,i),r.touch(s)}e.loop=1},function(e){for(var t=e.stack,n=e.rp1,r=e.rp2,i=e.loop,a=e.z0[n],o=e.z1[r],s=e.fv,l=e.dpv,u=e.z2;i--;){var c=t.pop(),d=u[c];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-i)+": ":"")+"IP[]",c,n,"<->",r),s.interpolate(d,a,o,l),s.touch(d)}e.loop=1},pn.bind(void 0,0),pn.bind(void 0,1),function(e){for(var t=e.stack,n=e.rp0,r=e.z0[n],i=e.loop,a=e.fv,o=e.pv,s=e.z1;i--;){var l=t.pop(),u=s[l];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-i)+": ":"")+"ALIGNRP[]",l),a.setRelative(u,r,0,o),a.touch(u)}e.loop=1},function(e){exports.DEBUG&&console.log(e.step,"RTDG[]"),e.round=jt},vn.bind(void 0,0),vn.bind(void 0,1),function(e){var t=e.prog,n=e.ip,r=e.stack,i=t[++n];exports.DEBUG&&console.log(e.step,"NPUSHB[]",i);for(var a=0;a<i;a++)r.push(t[++n]);e.ip=n},function(e){var t=e.ip,n=e.prog,r=e.stack,i=n[++t];exports.DEBUG&&console.log(e.step,"NPUSHW[]",i);for(var a=0;a<i;a++){var o=n[++t]<<8|n[++t];32768&o&&(o=-(1+(65535^o))),r.push(o)}e.ip=t},function(e){var t=e.stack,n=e.store;n||(n=e.store=[]);var r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"WS",r,i),n[i]=r},function(e){var t=e.stack,n=e.store,r=t.pop();exports.DEBUG&&console.log(e.step,"RS",r);var i=n&&n[r]||0;t.push(i)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"WCVTP",n,r),e.cvt[r]=n/64},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"RCVT",n),t.push(64*e.cvt[n])},mn.bind(void 0,0),mn.bind(void 0,1),void 0,gn.bind(void 0,0),gn.bind(void 0,1),function(e){exports.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)},void 0,function(e){exports.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0},void 0,void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"LT[]",n,r),t.push(r<n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"LTEQ[]",n,r),t.push(r<=n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"GT[]",n,r),t.push(r>n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"GTEQ[]",n,r),t.push(r>=n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"EQ[]",n,r),t.push(n===r?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"NEQ[]",n,r),t.push(n!==r?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"ODD[]",n),t.push(Math.trunc(n)%2?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"EVEN[]",n),t.push(Math.trunc(n)%2?0:1)},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"IF[]",t),t||(tn(e,!0),exports.DEBUG&&console.log(e.step,"EIF[]"))},function(e){exports.DEBUG&&console.log(e.step,"EIF[]")},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"AND[]",n,r),t.push(n&&r?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"OR[]",n,r),t.push(n||r?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"NOT[]",n),t.push(n?0:1)},yn.bind(void 0,1),function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SDB[]",t),e.deltaBase=t},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SDS[]",t),e.deltaShift=Math.pow(.5,t)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"ADD[]",n,r),t.push(r+n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"SUB[]",n,r),t.push(r-n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"DIV[]",n,r),t.push(64*r/n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"MUL[]",n,r),t.push(r*n/64)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"ABS[]",n),t.push(Math.abs(n))},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"NEG[]",n),t.push(-n)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"FLOOR[]",n),t.push(64*Math.floor(n/64))},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"CEILING[]",n),t.push(64*Math.ceil(n/64))},bn.bind(void 0,0),bn.bind(void 0,1),bn.bind(void 0,2),bn.bind(void 0,3),void 0,void 0,void 0,void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"WCVTF[]",n,r),e.cvt[r]=n*e.ppem/e.font.unitsPerEm},yn.bind(void 0,2),yn.bind(void 0,3),xn.bind(void 0,1),xn.bind(void 0,2),xn.bind(void 0,3),function(e){var t,n=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SROUND[]",n),e.round=Wt,192&n){case 0:t=.5;break;case 64:t=1;break;case 128:t=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=t,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid SROUND value")}n&=15,e.srThreshold=0===n?0:(n/8-.5)*t},function(e){var t,n=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"S45ROUND[]",n),e.round=Wt,192&n){case 0:t=Math.sqrt(2)/2;break;case 64:t=Math.sqrt(2);break;case 128:t=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=t,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid S45ROUND value")}n&=15,e.srThreshold=0===n?0:(n/8-.5)*t},void 0,void 0,function(e){exports.DEBUG&&console.log(e.step,"ROFF[]"),e.round=zt},void 0,function(e){exports.DEBUG&&console.log(e.step,"RUTG[]"),e.round=Gt},function(e){exports.DEBUG&&console.log(e.step,"RDTG[]"),e.round=Vt},ln,ln,void 0,void 0,void 0,void 0,void 0,function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANCTRL[]",t)},wn.bind(void 0,0),wn.bind(void 0,1),function(e){var t=e.stack,n=t.pop(),r=0;exports.DEBUG&&console.log(e.step,"GETINFO[]",n),1&n&&(r=35),32&n&&(r|=4096),t.push(r)},void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"ROLL[]"),t.push(r),t.push(n),t.push(i)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"MAX[]",n,r),t.push(Math.max(r,n))},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"MIN[]",n,r),t.push(Math.min(r,n))},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANTYPE[]",t)},function(e){var t=e.stack.pop(),n=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"INSTCTRL[]",t,n),t){case 1:return void(e.inhibitGridFit=!!n);case 2:return void(e.ignoreCvt=!!n);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Sn.bind(void 0,1),Sn.bind(void 0,2),Sn.bind(void 0,3),Sn.bind(void 0,4),Sn.bind(void 0,5),Sn.bind(void 0,6),Sn.bind(void 0,7),Sn.bind(void 0,8),_n.bind(void 0,1),_n.bind(void 0,2),_n.bind(void 0,3),_n.bind(void 0,4),_n.bind(void 0,5),_n.bind(void 0,6),_n.bind(void 0,7),_n.bind(void 0,8),kn.bind(void 0,0,0,0,0,0),kn.bind(void 0,0,0,0,0,1),kn.bind(void 0,0,0,0,0,2),kn.bind(void 0,0,0,0,0,3),kn.bind(void 0,0,0,0,1,0),kn.bind(void 0,0,0,0,1,1),kn.bind(void 0,0,0,0,1,2),kn.bind(void 0,0,0,0,1,3),kn.bind(void 0,0,0,1,0,0),kn.bind(void 0,0,0,1,0,1),kn.bind(void 0,0,0,1,0,2),kn.bind(void 0,0,0,1,0,3),kn.bind(void 0,0,0,1,1,0),kn.bind(void 0,0,0,1,1,1),kn.bind(void 0,0,0,1,1,2),kn.bind(void 0,0,0,1,1,3),kn.bind(void 0,0,1,0,0,0),kn.bind(void 0,0,1,0,0,1),kn.bind(void 0,0,1,0,0,2),kn.bind(void 0,0,1,0,0,3),kn.bind(void 0,0,1,0,1,0),kn.bind(void 0,0,1,0,1,1),kn.bind(void 0,0,1,0,1,2),kn.bind(void 0,0,1,0,1,3),kn.bind(void 0,0,1,1,0,0),kn.bind(void 0,0,1,1,0,1),kn.bind(void 0,0,1,1,0,2),kn.bind(void 0,0,1,1,0,3),kn.bind(void 0,0,1,1,1,0),kn.bind(void 0,0,1,1,1,1),kn.bind(void 0,0,1,1,1,2),kn.bind(void 0,0,1,1,1,3),kn.bind(void 0,1,0,0,0,0),kn.bind(void 0,1,0,0,0,1),kn.bind(void 0,1,0,0,0,2),kn.bind(void 0,1,0,0,0,3),kn.bind(void 0,1,0,0,1,0),kn.bind(void 0,1,0,0,1,1),kn.bind(void 0,1,0,0,1,2),kn.bind(void 0,1,0,0,1,3),kn.bind(void 0,1,0,1,0,0),kn.bind(void 0,1,0,1,0,1),kn.bind(void 0,1,0,1,0,2),kn.bind(void 0,1,0,1,0,3),kn.bind(void 0,1,0,1,1,0),kn.bind(void 0,1,0,1,1,1),kn.bind(void 0,1,0,1,1,2),kn.bind(void 0,1,0,1,1,3),kn.bind(void 0,1,1,0,0,0),kn.bind(void 0,1,1,0,0,1),kn.bind(void 0,1,1,0,0,2),kn.bind(void 0,1,1,0,0,3),kn.bind(void 0,1,1,0,1,0),kn.bind(void 0,1,1,0,1,1),kn.bind(void 0,1,1,0,1,2),kn.bind(void 0,1,1,0,1,3),kn.bind(void 0,1,1,1,0,0),kn.bind(void 0,1,1,1,0,1),kn.bind(void 0,1,1,1,0,2),kn.bind(void 0,1,1,1,0,3),kn.bind(void 0,1,1,1,1,0),kn.bind(void 0,1,1,1,1,1),kn.bind(void 0,1,1,1,1,2),kn.bind(void 0,1,1,1,1,3)],En.prototype.setState=function(e,t){return this.state[e]=t,this.activeState={key:e,value:this.state[e]},this.activeState},En.prototype.getState=function(e){return this.state[e]||null},Pn.prototype.inboundIndex=function(e){return e>=0&&e<this.tokens.length},Pn.prototype.composeRUD=function(e){var t=this,n=e.map((function(e){return t[e[0]].apply(t,e.slice(1).concat(true))})),r=function(e){return"object"===typeof e&&e.hasOwnProperty("FAIL")};if(n.every(r))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:n.filter(r)};this.dispatch("composeRUD",[n.filter((function(e){return!r(e)}))])},Pn.prototype.replaceRange=function(e,t,n,r){t=null!==t?t:this.tokens.length;var i=n.every((function(e){return e instanceof En}));if(!isNaN(e)&&this.inboundIndex(e)&&i){var a=this.tokens.splice.apply(this.tokens,[e,t].concat(n));return r||this.dispatch("replaceToken",[e,t,n]),[a,n]}return{FAIL:"replaceRange: invalid tokens or startIndex."}},Pn.prototype.replaceToken=function(e,t,n){if(!isNaN(e)&&this.inboundIndex(e)&&t instanceof En){var r=this.tokens.splice(e,1,t);return n||this.dispatch("replaceToken",[e,t]),[r[0],t]}return{FAIL:"replaceToken: invalid token or index."}},Pn.prototype.removeRange=function(e,t,n){t=isNaN(t)?this.tokens.length:t;var r=this.tokens.splice(e,t);return n||this.dispatch("removeRange",[r,e,t]),r},Pn.prototype.removeToken=function(e,t){if(!isNaN(e)&&this.inboundIndex(e)){var n=this.tokens.splice(e,1);return t||this.dispatch("removeToken",[n,e]),n}return{FAIL:"removeToken: invalid token index."}},Pn.prototype.insertToken=function(e,t,n){var r=e.every((function(e){return e instanceof En}));return r?(this.tokens.splice.apply(this.tokens,[t,0].concat(e)),n||this.dispatch("insertToken",[e,t]),e):{FAIL:"insertToken: invalid token(s)."}},Pn.prototype.registerModifier=function(e,t,n){this.events.newToken.subscribe((function(r,i){var a=[r,i],o=[r,i];if(null===t||!0===t.apply(this,a)){var s=n.apply(this,o);r.setState(e,s)}})),this.registeredModifiers.push(e)},Rn.prototype.subscribe=function(e){return"function"===typeof e?this.subscribers.push(e)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}},Rn.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)},Tn.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)},Tn.prototype.get=function(e){switch(!0){case 0===e:return this.current;case e<0&&Math.abs(e)<=this.backtrack.length:return this.backtrack.slice(e)[0];case e>0&&e<=this.lookahead.length:return this.lookahead[e-1];default:return null}},Pn.prototype.rangeToText=function(e){if(e instanceof Cn)return this.getRangeTokens(e).map((function(e){return e.char})).join("")},Pn.prototype.getText=function(){return this.tokens.map((function(e){return e.char})).join("")},Pn.prototype.getContext=function(e){var t=this.registeredContexts[e];return t||null},Pn.prototype.on=function(e,t){var n=this.events[e];return n?n.subscribe(t):null},Pn.prototype.dispatch=function(e,t){var n=this,r=this.events[e];r instanceof Rn&&r.subscribers.forEach((function(e){e.apply(n,t||[])}))},Pn.prototype.registerContextChecker=function(e,t,n){if(this.getContext(e))return{FAIL:"context name '"+e+"' is already registered."};if("function"!==typeof t)return{FAIL:"missing context start check."};if("function"!==typeof n)return{FAIL:"missing context end check."};var r=new Mn(e,t,n);return this.registeredContexts[e]=r,this.contextCheckers.push(r),r},Pn.prototype.getRangeTokens=function(e){var t=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,t))},Pn.prototype.getContextRanges=function(e){var t=this.getContext(e);return t?t.ranges:{FAIL:"context checker '"+e+"' is not registered."}},Pn.prototype.resetContextsRanges=function(){var e=this.registeredContexts;for(var t in e){if(e.hasOwnProperty(t))e[t].ranges=[]}},Pn.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var e=this.tokens.map((function(e){return e.char})),t=0;t<e.length;t++){var n=new Tn(e,t);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])},Pn.prototype.setEndOffset=function(e,t){var n=new Cn(this.getContext(t).openRange.startIndex,e,t),r=this.getContext(t).ranges;return n.rangeId=t+"."+r.length,r.push(n),this.getContext(t).openRange=null,n},Pn.prototype.runContextCheck=function(e){var t=this,n=e.index;this.contextCheckers.forEach((function(r){var i=r.contextName,a=t.getContext(i).openRange;if(!a&&r.checkStart(e)&&(a=new Cn(n,null,i),t.getContext(i).openRange=a,t.dispatch("contextStart",[i,n])),a&&r.checkEnd(e)){var o=n-a.startIndex+1,s=t.setEndOffset(o,i);t.dispatch("contextEnd",[i,s])}}))},Pn.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();var t=Array.from(e);this.dispatch("start");for(var n=0;n<t.length;n++){var r=t[n],i=new Tn(t,n);this.dispatch("next",[i]),this.runContextCheck(i);var a=new En(r);this.tokens.push(a),this.dispatch("newToken",[a,i])}return this.dispatch("end",[this.tokens]),this.tokens},Dn.prototype.getDefaultScriptFeaturesIndexes=function(){for(var e=this.font.tables.gsub.scripts,t=0;t<e.length;t++){var n=e[t];if("DFLT"===n.tag)return n.script.defaultLangSys.featureIndexes}return[]},Dn.prototype.getScriptFeaturesIndexes=function(e){if(!this.font.tables.gsub)return[];if(!e)return this.getDefaultScriptFeaturesIndexes();for(var t=this.font.tables.gsub.scripts,n=0;n<t.length;n++){var r=t[n];if(r.tag===e&&r.script.defaultLangSys)return r.script.defaultLangSys.featureIndexes;var i=r.langSysRecords;if(i)for(var a=0;a<i.length;a++){var o=i[a];if(o.tag===e)return o.langSys.featureIndexes}}return this.getDefaultScriptFeaturesIndexes()},Dn.prototype.mapTagsToFeatures=function(e,t){for(var n={},r=0;r<e.length;r++){var i=e[r].tag,a=e[r].feature;n[i]=a}this.features[t].tags=n},Dn.prototype.getScriptFeatures=function(e){var t=this.features[e];if(this.features.hasOwnProperty(e))return t;var n=this.getScriptFeaturesIndexes(e);if(!n)return null;var r=this.font.tables.gsub;return t=n.map((function(e){return r.features[e]})),this.features[e]=t,this.mapTagsToFeatures(t,e),t},Dn.prototype.getSubstitutionType=function(e,t){return e.lookupType.toString()+t.substFormat.toString()},Dn.prototype.getLookupMethod=function(e,t){var n=this;switch(this.getSubstitutionType(e,t)){case"11":return function(e){return zn.apply(n,[e,t])};case"12":return function(e){return Bn.apply(n,[e,t])};case"63":return function(e){return Hn.apply(n,[e,t])};case"41":return function(e){return Gn.apply(n,[e,t])};case"21":return function(e){return Vn.apply(n,[e,t])};default:throw new Error("lookupType: "+e.lookupType+" - substFormat: "+t.substFormat+" is not yet supported")}},Dn.prototype.lookupFeature=function(e){var t=e.contextParams,n=t.index,r=this.getFeature({tag:e.tag,script:e.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+e.tag+"' for script '"+e.script+"'.");for(var i=this.getFeatureLookups(r),a=[].concat(t.context),o=0;o<i.length;o++)for(var s=i[o],l=this.getLookupSubtables(s),u=0;u<l.length;u++){var c=l[u],d=this.getSubstitutionType(s,c),f=this.getLookupMethod(s,c),h=void 0;switch(d){case"11":(h=f(t.current))&&a.splice(n,1,new Un({id:11,tag:e.tag,substitution:h}));break;case"12":(h=f(t.current))&&a.splice(n,1,new Un({id:12,tag:e.tag,substitution:h}));break;case"63":h=f(t),Array.isArray(h)&&h.length&&a.splice(n,1,new Un({id:63,tag:e.tag,substitution:h}));break;case"41":(h=f(t))&&a.splice(n,1,new Un({id:41,tag:e.tag,substitution:h}));break;case"21":(h=f(t.current))&&a.splice(n,1,new Un({id:21,tag:e.tag,substitution:h}))}t=new Tn(a,n),Array.isArray(h)&&!h.length||(h=null)}return a.length?a:null},Dn.prototype.supports=function(e){if(!e.script)return!1;this.getScriptFeatures(e.script);var t=this.features.hasOwnProperty(e.script);if(!e.tag)return t;var n=this.features[e.script].some((function(t){return t.tag===e.tag}));return t&&n},Dn.prototype.getLookupSubtables=function(e){return e.subtables||null},Dn.prototype.getLookupByIndex=function(e){return this.font.tables.gsub.lookups[e]||null},Dn.prototype.getFeatureLookups=function(e){return e.lookupListIndexes.map(this.getLookupByIndex.bind(this))},Dn.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var t=this.features[e.script];return t?t.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};var Wn={startCheck:function(e){var t=e.current,n=e.get(-1);return null===n&&In(t)||!In(n)&&In(t)},endCheck:function(e){var t=e.get(1);return null===t||!In(t)}};var qn={startCheck:function(e){var t=e.current,n=e.get(-1);return(In(t)||Ln(t))&&!In(n)},endCheck:function(e){var t=e.get(1);switch(!0){case null===t:return!0;case!In(t)&&!Ln(t):var n=function(e){return/\s/.test(e)}(t);if(!n)return!0;if(n){var r;if(r=e.lookahead.some((function(e){return In(e)||Ln(e)})),!r)return!0}break;default:return!1}}};var Xn={11:function(e,t,n){t[n].setState(e.tag,e.substitution)},12:function(e,t,n){t[n].setState(e.tag,e.substitution)},63:function(e,t,n){e.substitution.forEach((function(r,i){t[n+i].setState(e.tag,r)}))},41:function(e,t,n){var r=t[n];r.setState(e.tag,e.substitution.ligGlyph);for(var i=e.substitution.components.length,a=0;a<i;a++)(r=t[n+a+1]).setState("deleted",!0)}};function Yn(e,t,n){e instanceof Un&&Xn[e.id]&&Xn[e.id](e,t,n)}function Kn(e){var t=this,n="arab",r=this.featuresTags[n],i=this.tokenizer.getRangeTokens(e);if(1!==i.length){var a=new Tn(i.map((function(e){return e.getState("glyphIndex")})),0),o=new Tn(i.map((function(e){return e.char})),0);i.forEach((function(e,s){if(!Ln(e.char)){a.setCurrentIndex(s),o.setCurrentIndex(s);var l,u=0;switch(function(e){for(var t=[].concat(e.backtrack),n=t.length-1;n>=0;n--){var r=t[n],i=On(r),a=Ln(r);if(!i&&!a)return!0;if(i)return!1}return!1}(o)&&(u|=1),function(e){if(On(e.current))return!1;for(var t=0;t<e.lookahead.length;t++)if(!Ln(e.lookahead[t]))return!0;return!1}(o)&&(u|=2),u){case 1:l="fina";break;case 2:l="init";break;case 3:l="medi"}if(-1!==r.indexOf(l)){var c=t.query.lookupFeature({tag:l,script:n,contextParams:a});if(c instanceof Error)return console.info(c.message);c.forEach((function(e,t){e instanceof Un&&(Yn(e,i,t),a.context[t]=e.substitution)}))}}}))}}function Zn(e,t){var n=e.map((function(e){return e.activeState.value}));return new Tn(n,t||0)}function Qn(e){var t=this,n=this.tokenizer.getRangeTokens(e),r=Zn(n);r.context.forEach((function(e,i){r.setCurrentIndex(i);var a=t.query.lookupFeature({tag:"rlig",script:"arab",contextParams:r});a.length&&(a.forEach((function(e){return Yn(e,n,i)})),r=Zn(n))}))}var $n={startCheck:function(e){var t=e.current,n=e.get(-1);return null===n&&Nn(t)||!Nn(n)&&Nn(t)},endCheck:function(e){var t=e.get(1);return null===t||!Nn(t)}};function Jn(e,t){var n=e.map((function(e){return e.activeState.value}));return new Tn(n,t||0)}function er(e){var t=this,n=this.tokenizer.getRangeTokens(e),r=Jn(n);r.context.forEach((function(e,i){r.setCurrentIndex(i);var a=t.query.lookupFeature({tag:"liga",script:"latn",contextParams:r});a.length&&(a.forEach((function(e){return Yn(e,n,i)})),r=Jn(n))}))}function tr(e){this.baseDir=e||"ltr",this.tokenizer=new Pn,this.featuresTags={}}function nr(e){var t=this.contextChecks[e+"Check"];return this.tokenizer.registerContextChecker(e,t.startCheck,t.endCheck)}function rr(){return nr.call(this,"latinWord"),nr.call(this,"arabicWord"),nr.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function ir(){var e=this;this.tokenizer.getContextRanges("arabicSentence").forEach((function(t){var n=e.tokenizer.getRangeTokens(t);e.tokenizer.replaceRange(t.startIndex,t.endOffset,n.reverse())}))}function ar(){if(-1===this.tokenizer.registeredModifiers.indexOf("glyphIndex"))throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function or(){var e=this;this.featuresTags.hasOwnProperty("arab")&&(ar.call(this),this.tokenizer.getContextRanges("arabicWord").forEach((function(t){Kn.call(e,t)})))}function sr(){var e=this,t="arab";this.featuresTags.hasOwnProperty(t)&&(-1!==this.featuresTags[t].indexOf("rlig")&&(ar.call(this),this.tokenizer.getContextRanges("arabicWord").forEach((function(t){Qn.call(e,t)}))))}function lr(){var e=this,t="latn";this.featuresTags.hasOwnProperty(t)&&(-1!==this.featuresTags[t].indexOf("liga")&&(ar.call(this),this.tokenizer.getContextRanges("latinWord").forEach((function(t){er.call(e,t)}))))}function ur(e){(e=e||{}).tables=e.tables||{},e.empty||(Mt(e.familyName,"When creating a new Font object, familyName is required."),Mt(e.styleName,"When creating a new Font object, styleName is required."),Mt(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Mt(e.ascender,"When creating a new Font object, ascender is required."),Mt(e.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables=Object.assign(e.tables,{os2:Object.assign({usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR},e.tables.os2)})),this.supported=!0,this.glyphs=new xe.GlyphSet(this,e.glyphs||[]),this.encoding=new de(this),this.position=new _t(this),this.substitution=new kt(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new Ft(this):void 0}})}function cr(e,t){var n=JSON.stringify(e),r=256;for(var i in t){var a=parseInt(i);if(a&&!(a<256)){if(JSON.stringify(t[i])===n)return a;r<=a&&(r=a+1)}}return t[r]=e,r}function dr(e,t,n){var r=cr(t.name,n);return[{name:"tag_"+e,type:"TAG",value:t.tag},{name:"minValue_"+e,type:"FIXED",value:t.minValue<<16},{name:"defaultValue_"+e,type:"FIXED",value:t.defaultValue<<16},{name:"maxValue_"+e,type:"FIXED",value:t.maxValue<<16},{name:"flags_"+e,type:"USHORT",value:0},{name:"nameID_"+e,type:"USHORT",value:r}]}function fr(e,t,n){var r={},i=new ie.Parser(e,t);return r.tag=i.parseTag(),r.minValue=i.parseFixed(),r.defaultValue=i.parseFixed(),r.maxValue=i.parseFixed(),i.skip("uShort",1),r.name=n[i.parseUShort()]||{},r}function hr(e,t,n,r){for(var i=[{name:"nameID_"+e,type:"USHORT",value:cr(t.name,r)},{name:"flags_"+e,type:"USHORT",value:0}],a=0;a<n.length;++a){var o=n[a].tag;i.push({name:"axis_"+e+" "+o,type:"FIXED",value:t.coordinates[o]<<16})}return i}function pr(e,t,n,r){var i={},a=new ie.Parser(e,t);i.name=r[a.parseUShort()]||{},a.skip("uShort",1),i.coordinates={};for(var o=0;o<n.length;++o)i.coordinates[n[o].tag]=a.parseFixed();return i}tr.prototype.setText=function(e){this.text=e},tr.prototype.contextChecks={latinWordCheck:$n,arabicWordCheck:Wn,arabicSentenceCheck:qn},tr.prototype.registerFeatures=function(e,t){var n=this,r=t.filter((function(t){return n.query.supports({script:e,tag:t})}));this.featuresTags.hasOwnProperty(e)?this.featuresTags[e]=this.featuresTags[e].concat(r):this.featuresTags[e]=r},tr.prototype.applyFeatures=function(e,t){if(!e)throw new Error("No valid font was provided to apply features");this.query||(this.query=new Dn(e));for(var n=0;n<t.length;n++){var r=t[n];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}},tr.prototype.registerModifier=function(e,t,n){this.tokenizer.registerModifier(e,t,n)},tr.prototype.checkContextReady=function(e){return!!this.tokenizer.getContext(e)},tr.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(or.call(this),sr.call(this)),this.checkContextReady("latinWord")&&lr.call(this),this.checkContextReady("arabicSentence")&&ir.call(this)},tr.prototype.processText=function(e){this.text&&this.text===e||(this.setText(e),rr.call(this),this.applyFeaturesToContexts())},tr.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()},tr.prototype.getTextGlyphs=function(e){this.processText(e);for(var t=[],n=0;n<this.tokenizer.tokens.length;n++){var r=this.tokenizer.tokens[n];if(!r.state.deleted){var i=r.activeState.value;t.push(Array.isArray(i)?i[0]:i)}}return t},ur.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},ur.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},ur.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),n=this.glyphs.get(t);return n||(n=this.glyphs.get(0)),n},ur.prototype.updateFeatures=function(e){return this.defaultRenderOptions.features.map((function(t){return"latn"===t.script?{script:"latn",tags:t.tags.filter((function(t){return e[t]}))}:t}))},ur.prototype.stringToGlyphs=function(e,t){var n=this,r=new tr;r.registerModifier("glyphIndex",null,(function(e){return n.charToGlyphIndex(e.char)}));var i=t?this.updateFeatures(t.features):this.defaultRenderOptions.features;r.applyFeatures(this,i);for(var a=r.getTextGlyphs(e),o=a.length,s=new Array(o),l=this.glyphs.get(0),u=0;u<o;u+=1)s[u]=this.glyphs.get(a[u])||l;return s},ur.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},ur.prototype.nameToGlyph=function(e){var t=this.nameToGlyphIndex(e),n=this.glyphs.get(t);return n||(n=this.glyphs.get(0)),n},ur.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},ur.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,e,t):this.kerningPairs[e+","+t]||0},ur.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]},ur.prototype.forEachGlyph=function(e,t,n,r,i,a){t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:72,i=Object.assign({},this.defaultRenderOptions,i);var o,s=1/this.unitsPerEm*r,l=this.stringToGlyphs(e,i);if(i.kerning){var u=i.script||this.position.getDefaultScriptName();o=this.position.getKerningTables(u,i.language)}for(var c=0;c<l.length;c+=1){var d=l[c];if(a.call(this,d,t,n,r,i),d.advanceWidth&&(t+=d.advanceWidth*s),i.kerning&&c<l.length-1)t+=(o?this.position.getKerningValue(o,d.index,l[c+1].index):this.getKerningValue(d,l[c+1]))*s;i.letterSpacing?t+=i.letterSpacing*r:i.tracking&&(t+=i.tracking/1e3*r)}return t},ur.prototype.getPath=function(e,t,n,r,i){var a=new E;return this.forEachGlyph(e,t,n,r,i,(function(e,t,n,r){var o=e.getPath(t,n,r,i,this);a.extend(o)})),a},ur.prototype.getPaths=function(e,t,n,r,i){var a=[];return this.forEachGlyph(e,t,n,r,i,(function(e,t,n,r){var o=e.getPath(t,n,r,i,this);a.push(o)})),a},ur.prototype.getAdvanceWidth=function(e,t,n){return this.forEachGlyph(e,0,0,t,n,(function(){}))},ur.prototype.draw=function(e,t,n,r,i,a){this.getPath(t,n,r,i,a).draw(e)},ur.prototype.drawPoints=function(e,t,n,r,i,a){this.forEachGlyph(t,n,r,i,a,(function(t,n,r,i){t.drawPoints(e,n,r,i)}))},ur.prototype.drawMetrics=function(e,t,n,r,i,a){this.forEachGlyph(t,n,r,i,a,(function(t,n,r,i){t.drawMetrics(e,n,r,i)}))},ur.prototype.getEnglishName=function(e){var t=this.names[e];if(t)return t.en},ur.prototype.validate=function(){var e=this;function t(t){var n=e.getEnglishName(t);n&&n.trim().length}t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),this.unitsPerEm},ur.prototype.toTables=function(){return yt.fontToTable(this)},ur.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},ur.prototype.toArrayBuffer=function(){for(var e=this.toTables().encode(),t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e[r];return t},ur.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},ur.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},ur.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var vr={make:function(e,t){var n=new Z.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*e.axes.length}]);n.offsetToData=n.sizeOf();for(var r=0;r<e.axes.length;r++)n.fields=n.fields.concat(dr(r,e.axes[r],t));for(var i=0;i<e.instances.length;i++)n.fields=n.fields.concat(hr(i,e.instances[i],e.axes,t));return n},parse:function(e,t,n){var r=new ie.Parser(e,t),i=r.parseULong();T.argument(65536===i,"Unsupported fvar table version.");var a=r.parseOffset16();r.skip("uShort",1);for(var o=r.parseUShort(),s=r.parseUShort(),l=r.parseUShort(),u=r.parseUShort(),c=[],d=0;d<o;d++)c.push(fr(e,t+a+d*s,n));for(var f=[],h=t+a+o*s,p=0;p<l;p++)f.push(pr(e,h+p*u,c,n));return{axes:c,instances:f}}},mr=function(){return{coverage:this.parsePointer(ne.coverage),attachPoints:this.parseList(ne.pointer(ne.uShortList))}},gr=function(){var e=this.parseUShort();return T.argument(1===e||2===e||3===e,"Unsupported CaretValue table version."),1===e?{coordinate:this.parseShort()}:2===e?{pointindex:this.parseShort()}:3===e?{coordinate:this.parseShort()}:void 0},yr=function(){return this.parseList(ne.pointer(gr))},br=function(){return{coverage:this.parsePointer(ne.coverage),ligGlyphs:this.parseList(ne.pointer(yr))}},xr=function(){return this.parseUShort(),this.parseList(ne.pointer(ne.coverage))};var wr={parse:function(e,t){var n=new ne(e,t=t||0),r=n.parseVersion(1);T.argument(1===r||1.2===r||1.3===r,"Unsupported GDEF table version.");var i={version:r,classDef:n.parsePointer(ne.classDef),attachList:n.parsePointer(mr),ligCaretList:n.parsePointer(br),markAttachClassDef:n.parsePointer(ne.classDef)};return r>=1.2&&(i.markGlyphSets=n.parsePointer(xr)),i}},Sr=new Array(10);Sr[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(ne.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(ne.coverage),values:this.parseValueRecordList()}:void T.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Sr[2]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();T.assert(1===t||2===t,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var n=this.parsePointer(ne.coverage),r=this.parseUShort(),i=this.parseUShort();if(1===t)return{posFormat:t,coverage:n,valueFormat1:r,valueFormat2:i,pairSets:this.parseList(ne.pointer(ne.list((function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(r),value2:this.parseValueRecord(i)}}))))};if(2===t){var a=this.parsePointer(ne.classDef),o=this.parsePointer(ne.classDef),s=this.parseUShort(),l=this.parseUShort();return{posFormat:t,coverage:n,valueFormat1:r,valueFormat2:i,classDef1:a,classDef2:o,class1Count:s,class2Count:l,classRecords:this.parseList(s,ne.list(l,(function(){return{value1:this.parseValueRecord(r),value2:this.parseValueRecord(i)}})))}}},Sr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Sr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Sr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Sr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Sr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Sr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Sr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var _r=new Array(10);var kr={parse:function(e,t){var n=new ne(e,t=t||0),r=n.parseVersion(1);return T.argument(1===r||1.1===r,"Unsupported GPOS table version "+r),1===r?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Sr)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Sr),variations:n.parseFeatureVariationsList()}},make:function(e){return new Z.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Z.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new Z.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new Z.LookupList(e.lookups,_r)}])}};var Er={parse:function(e,t){var n=new ie.Parser(e,t),r=n.parseUShort();if(0===r)return function(e){var t={};e.skip("uShort");var n=e.parseUShort();T.argument(0===n,"Unsupported kern sub-table version."),e.skip("uShort",2);var r=e.parseUShort();e.skip("uShort",3);for(var i=0;i<r;i+=1){var a=e.parseUShort(),o=e.parseUShort(),s=e.parseShort();t[a+","+o]=s}return t}(n);if(1===r)return function(e){var t={};e.skip("uShort"),e.parseULong()>1&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");var n=255&e.parseUShort();if(e.skip("uShort"),0===n){var r=e.parseUShort();e.skip("uShort",3);for(var i=0;i<r;i+=1){var a=e.parseUShort(),o=e.parseUShort(),s=e.parseShort();t[a+","+o]=s}}return t}(n);throw new Error("Unsupported kern table version ("+r+").")}};var Cr={parse:function(e,t,n,r){for(var i=new ie.Parser(e,t),a=r?i.parseUShort:i.parseULong,o=[],s=0;s<n+1;s+=1){var l=a.call(i);r&&(l*=2),o.push(l)}return o}};function Mr(e,t){for(var n=[],r=12,i=0;i<t;i+=1){var a=ie.getTag(e,r),o=ie.getULong(e,r+4),s=ie.getULong(e,r+8),l=ie.getULong(e,r+12);n.push({tag:a,checksum:o,offset:s,length:l,compression:!1}),r+=16}return n}function Tr(e,t){if("WOFF"===t.compression){var n=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),r=new Uint8Array(t.length);if(S(n,r),r.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");return{data:new DataView(r.buffer,0),offset:0}}return{data:e,offset:t.offset}}return{parseBuffer:function(e,t){var n,r;t=void 0===t||null===t?{}:t;var i,a,o,s,l,u,c,d,f,h,p,v,m,g=new ur({empty:!0}),y=new DataView(e,0),b=[],x=ie.getTag(y,0);if(x===String.fromCharCode(0,1,0,0)||"true"===x||"typ1"===x)g.outlinesFormat="truetype",b=Mr(y,i=ie.getUShort(y,4));else if("OTTO"===x)g.outlinesFormat="cff",b=Mr(y,i=ie.getUShort(y,4));else{if("wOFF"!==x)throw new Error("Unsupported OpenType signature "+x);var w=ie.getTag(y,4);if(w===String.fromCharCode(0,1,0,0))g.outlinesFormat="truetype";else{if("OTTO"!==w)throw new Error("Unsupported OpenType flavor "+x);g.outlinesFormat="cff"}b=function(e,t){for(var n=[],r=44,i=0;i<t;i+=1){var a=ie.getTag(e,r),o=ie.getULong(e,r+4),s=ie.getULong(e,r+8),l=ie.getULong(e,r+12),u=void 0;u=s<l&&"WOFF",n.push({tag:a,offset:o,compression:u,compressedLength:s,length:l}),r+=20}return n}(y,i=ie.getUShort(y,12))}for(var S=0;S<i;S+=1){var _=b[S],k=void 0;switch(_.tag){case"cmap":k=Tr(y,_),g.tables.cmap=oe.parse(k.data,k.offset),g.encoding=new fe(g.tables.cmap);break;case"cvt ":k=Tr(y,_),m=new ie.Parser(k.data,k.offset),g.tables.cvt=m.parseShortList(_.length/2);break;case"fvar":o=_;break;case"fpgm":k=Tr(y,_),m=new ie.Parser(k.data,k.offset),g.tables.fpgm=m.parseByteList(_.length);break;case"head":k=Tr(y,_),g.tables.head=Be.parse(k.data,k.offset),g.unitsPerEm=g.tables.head.unitsPerEm,n=g.tables.head.indexToLocFormat;break;case"hhea":k=Tr(y,_),g.tables.hhea=je.parse(k.data,k.offset),g.ascender=g.tables.hhea.ascender,g.descender=g.tables.hhea.descender,g.numberOfHMetrics=g.tables.hhea.numberOfHMetrics;break;case"hmtx":d=_;break;case"ltag":k=Tr(y,_),r=Ge.parse(k.data,k.offset);break;case"maxp":k=Tr(y,_),g.tables.maxp=Ve.parse(k.data,k.offset),g.numGlyphs=g.tables.maxp.numGlyphs;break;case"name":p=_;break;case"OS/2":k=Tr(y,_),g.tables.os2=at.parse(k.data,k.offset);break;case"post":k=Tr(y,_),g.tables.post=ot.parse(k.data,k.offset),g.glyphNames=new pe(g.tables.post);break;case"prep":k=Tr(y,_),m=new ie.Parser(k.data,k.offset),g.tables.prep=m.parseByteList(_.length);break;case"glyf":s=_;break;case"loca":h=_;break;case"CFF ":a=_;break;case"kern":f=_;break;case"GDEF":l=_;break;case"GPOS":u=_;break;case"GSUB":c=_;break;case"meta":v=_}}var E=Tr(y,p);if(g.tables.name=rt.parse(E.data,E.offset,r),g.names=g.tables.name,s&&h){var C=0===n,M=Tr(y,h),T=Cr.parse(M.data,M.offset,g.numGlyphs,C),R=Tr(y,s);g.glyphs=Ut.parse(R.data,R.offset,T,g,t)}else{if(!a)throw new Error("Font doesn't contain TrueType or CFF outlines.");var A=Tr(y,a);ze.parse(A.data,A.offset,g,t)}var P=Tr(y,d);if(He.parse(g,P.data,P.offset,g.numberOfHMetrics,g.numGlyphs,g.glyphs,t),ve(g,t),f){var I=Tr(y,f);g.kerningPairs=Er.parse(I.data,I.offset)}else g.kerningPairs={};if(l){var O=Tr(y,l);g.tables.gdef=wr.parse(O.data,O.offset)}if(u){var L=Tr(y,u);g.tables.gpos=kr.parse(L.data,L.offset),g.position.init()}if(c){var N=Tr(y,c);g.tables.gsub=ct.parse(N.data,N.offset)}if(o){var D=Tr(y,o);g.tables.fvar=vr.parse(D.data,D.offset,g.names)}if(v){var U=Tr(y,v);g.tables.meta=dt.parse(U.data,U.offset),g.metas=g.tables.meta}return g}}}();IB.parseBuffer;var OB=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this,e)).defaultDPI=90,r.defaultUnit="px",r}return Ks(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new dR(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(n))}catch(Ine){r?r(Ine):console.error(Ine),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t=this;function n(e,t,n,i,a,o,s,l){if(0!=t&&0!=n){i=i*Math.PI/180,t=Math.abs(t),n=Math.abs(n);var u=(s.x-l.x)/2,c=(s.y-l.y)/2,d=Math.cos(i)*u+Math.sin(i)*c,f=-Math.sin(i)*u+Math.cos(i)*c,h=t*t,p=n*n,v=d*d,m=f*f,g=v/h+m/p;if(g>1){var y=Math.sqrt(g);h=(t*=y)*t,p=(n*=y)*n}var b=h*m+p*v,x=(h*p-b)/b,w=Math.sqrt(Math.max(0,x));a===o&&(w=-w);var S=w*t*f/n,_=-w*n*d/t,k=Math.cos(i)*S-Math.sin(i)*_+(s.x+l.x)/2,E=Math.sin(i)*S+Math.cos(i)*_+(s.y+l.y)/2,C=r(1,0,(d-S)/t,(f-_)/n),M=r((d-S)/t,(f-_)/n,(-d-S)/t,(-f-_)/n)%(2*Math.PI);e.currentPath.absellipse(k,E,t,n,C,C+M,0===o,i)}else e.lineTo(l.x,l.y)}function r(e,t,n,r){var i=e*n+t*r,a=Math.sqrt(e*e+t*t)*Math.sqrt(n*n+r*r),o=Math.acos(Math.max(-1,Math.min(1,i/a)));return e*r-t*n<0&&(o=-o),o}function i(e,t){t=Object.assign({},t);var n={};if(e.hasAttribute("class"))for(var r=e.getAttribute("class").split(/\s/).filter(Boolean).map((function(e){return e.trim()})),i=0;i<r.length;i++)n=Object.assign(n,h["."+r[i]]);function a(r,i,a){void 0===a&&(a=function(e){return e.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),e}),e.hasAttribute(r)&&(t[i]=a(e.getAttribute(r))),n[r]&&(t[i]=a(n[r])),e.style&&""!==e.style[r]&&(t[i]=a(e.style[r]))}function o(e){return Math.max(0,Math.min(1,u(e)))}function s(e){return Math.max(0,u(e))}return e.hasAttribute("id")&&(n=Object.assign(n,h["#"+e.getAttribute("id")])),a("fill","fill"),a("fill-opacity","fillOpacity",o),a("fill-rule","fillRule"),a("opacity","opacity",o),a("stroke","stroke"),a("stroke-opacity","strokeOpacity",o),a("stroke-width","strokeWidth",s),a("stroke-linejoin","strokeLineJoin"),a("stroke-linecap","strokeLineCap"),a("stroke-miterlimit","strokeMiterLimit",s),a("visibility","visibility"),t}function a(e,t){return e-(t-e)}function o(e,t,n){if("string"!==typeof e)throw new TypeError("Invalid input: "+typeof e);var r,i={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},a=0,o=!0,s="",l="",u=[];function c(e,t,n){var r=new SyntaxError('Unexpected character "'+e+'" at index '+t+".");throw r.partial=n,r}function d(){""!==s&&(""===l?u.push(Number(s)):u.push(Number(s)*Math.pow(10,Number(l)))),s="",l=""}for(var f=e.length,h=0;h<f;h++)if(r=e[h],Array.isArray(t)&&t.includes(u.length%n)&&i.FLAGS.test(r))a=1,s=r,d();else{if(0===a){if(i.WHITESPACE.test(r))continue;if(i.DIGIT.test(r)||i.SIGN.test(r)){a=1,s=r;continue}if(i.POINT.test(r)){a=2,s=r;continue}i.COMMA.test(r)&&(o&&c(r,h,u),o=!0)}if(1===a){if(i.DIGIT.test(r)){s+=r;continue}if(i.POINT.test(r)){s+=r,a=2;continue}if(i.EXP.test(r)){a=3;continue}i.SIGN.test(r)&&1===s.length&&i.SIGN.test(s[0])&&c(r,h,u)}if(2===a){if(i.DIGIT.test(r)){s+=r;continue}if(i.EXP.test(r)){a=3;continue}i.POINT.test(r)&&"."===s[s.length-1]&&c(r,h,u)}if(3===a){if(i.DIGIT.test(r)){l+=r;continue}if(i.SIGN.test(r)){if(""===l){l+=r;continue}1===l.length&&i.SIGN.test(l)&&c(r,h,u)}}i.WHITESPACE.test(r)?(d(),a=0,o=!1):i.COMMA.test(r)?(d(),a=0,o=!0):i.SIGN.test(r)?(d(),a=1,s=r):i.POINT.test(r)?(d(),a=2,s=r):c(r,h,u)}return d(),u}var s=["mm","cm","in","pt","pc","px"],l={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:12,pc:1,px:-1},px:{px:1}};function u(e){var n="px";if("string"===typeof e||e instanceof String)for(var r=0,i=s.length;r<i;r++){var a=s[r];if(e.endsWith(a)){n=a,e=e.substring(0,e.length-a.length);break}}var o=void 0;return"px"===n&&"px"!==t.defaultUnit?o=l.in[t.defaultUnit]/t.defaultDPI:(o=l[n][t.defaultUnit])<0&&(o=l[n].in*t.defaultDPI),o*parseFloat(e)}function c(e){var t=e.elements;return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function d(e){var t=e.elements;return Math.sqrt(t[3]*t[3]+t[4]*t[4])}var f=[],h={},p=[],v=new Qb,m=new Qb,g=new Qb,y=new Qb,b=new Zb,x=new Mx,w=new Qb,S=(new DOMParser).parseFromString(e,"image/svg+xml");return function e(t,r){if(1===t.nodeType){var s=function(e){if(!(e.hasAttribute("transform")||"use"===e.nodeName&&(e.hasAttribute("x")||e.hasAttribute("y"))))return null;var t=function(e){var t=new Qb,n=v;if("use"===e.nodeName&&(e.hasAttribute("x")||e.hasAttribute("y"))){var r=u(e.getAttribute("x")),i=u(e.getAttribute("y"));t.translate(r,i)}if(e.hasAttribute("transform"))for(var a=e.getAttribute("transform").split(")"),s=a.length-1;s>=0;s--){var l=a[s].trim();if(""!==l){var c=l.indexOf("("),d=l.length;if(c>0&&c<d){var f=l.substr(0,c),h=o(l.substr(c+1,d-c-1));switch(n.identity(),f){case"translate":if(h.length>=1){var p=h[0],b=p;h.length>=2&&(b=h[1]),n.translate(p,b)}break;case"rotate":if(h.length>=1){var x=0,w=0,S=0;x=-h[0]*Math.PI/180,h.length>=3&&(w=h[1],S=h[2]),m.identity().translate(-w,-S),g.identity().rotate(x),y.multiplyMatrices(g,m),m.identity().translate(w,S),n.multiplyMatrices(m,y)}break;case"scale":if(h.length>=1){var _=h[0],k=_;h.length>=2&&(k=h[1]),n.scale(_,k)}break;case"skewX":1===h.length&&n.set(1,Math.tan(h[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":1===h.length&&n.set(1,0,0,Math.tan(h[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":6===h.length&&n.set(h[0],h[2],h[4],h[1],h[3],h[5],0,0,1)}}t.premultiply(n)}}return t}(e);p.length>0&&t.premultiply(p[p.length-1]);return w.copy(t),p.push(t),t}(t),l=!0,S=null;switch(t.nodeName){case"svg":break;case"style":!function(e){if(!e.sheet||!e.sheet.cssRules||!e.sheet.cssRules.length)return;for(var t=0;t<e.sheet.cssRules.length;t++){var n=e.sheet.cssRules[t];if(1===n.type)for(var r=n.selectorText.split(/,/gm).filter(Boolean).map((function(e){return e.trim()})),i=0;i<r.length;i++)h[r[i]]=Object.assign(h[r[i]]||{},n.style)}}(t);break;case"g":r=i(t,r);break;case"path":r=i(t,r),t.hasAttribute("d")&&(S=function(e){for(var t=new bP,r=new Zb,i=new Zb,s=new Zb,l=!0,u=!1,c=e.getAttribute("d").match(/[a-df-z][^a-df-z]*/gi),d=0,f=c.length;d<f;d++){var h=c[d],p=h.charAt(0),v=h.substr(1).trim();!0===l&&(u=!0,l=!1);var m=void 0;switch(p){case"M":for(var g=0,y=(m=o(v)).length;g<y;g+=2)r.x=m[g+0],r.y=m[g+1],i.x=r.x,i.y=r.y,0===g?t.moveTo(r.x,r.y):t.lineTo(r.x,r.y),0===g&&s.copy(r);break;case"H":for(var b=0,x=(m=o(v)).length;b<x;b++)r.x=m[b],i.x=r.x,i.y=r.y,t.lineTo(r.x,r.y),0===b&&!0===u&&s.copy(r);break;case"V":for(var w=0,S=(m=o(v)).length;w<S;w++)r.y=m[w],i.x=r.x,i.y=r.y,t.lineTo(r.x,r.y),0===w&&!0===u&&s.copy(r);break;case"L":for(var _=0,k=(m=o(v)).length;_<k;_+=2)r.x=m[_+0],r.y=m[_+1],i.x=r.x,i.y=r.y,t.lineTo(r.x,r.y),0===_&&!0===u&&s.copy(r);break;case"C":for(var E=0,C=(m=o(v)).length;E<C;E+=6)t.bezierCurveTo(m[E+0],m[E+1],m[E+2],m[E+3],m[E+4],m[E+5]),i.x=m[E+2],i.y=m[E+3],r.x=m[E+4],r.y=m[E+5],0===E&&!0===u&&s.copy(r);break;case"S":for(var M=0,T=(m=o(v)).length;M<T;M+=4)t.bezierCurveTo(a(r.x,i.x),a(r.y,i.y),m[M+0],m[M+1],m[M+2],m[M+3]),i.x=m[M+0],i.y=m[M+1],r.x=m[M+2],r.y=m[M+3],0===M&&!0===u&&s.copy(r);break;case"Q":for(var R=0,A=(m=o(v)).length;R<A;R+=4)t.quadraticCurveTo(m[R+0],m[R+1],m[R+2],m[R+3]),i.x=m[R+0],i.y=m[R+1],r.x=m[R+2],r.y=m[R+3],0===R&&!0===u&&s.copy(r);break;case"T":for(var P=0,I=(m=o(v)).length;P<I;P+=2){var O=a(r.x,i.x),L=a(r.y,i.y);t.quadraticCurveTo(O,L,m[P+0],m[P+1]),i.x=O,i.y=L,r.x=m[P+0],r.y=m[P+1],0===P&&!0===u&&s.copy(r)}break;case"A":for(var N=0,D=(m=o(v,[3,4],7)).length;N<D;N+=7)if(m[N+5]!=r.x||m[N+6]!=r.y){var U=r.clone();r.x=m[N+5],r.y=m[N+6],i.x=r.x,i.y=r.y,n(t,m[N],m[N+1],m[N+2],m[N+3],m[N+4],U,r),0===N&&!0===u&&s.copy(r)}break;case"m":for(var F=0,z=(m=o(v)).length;F<z;F+=2)r.x+=m[F+0],r.y+=m[F+1],i.x=r.x,i.y=r.y,0===F?t.moveTo(r.x,r.y):t.lineTo(r.x,r.y),0===F&&s.copy(r);break;case"h":for(var B=0,j=(m=o(v)).length;B<j;B++)r.x+=m[B],i.x=r.x,i.y=r.y,t.lineTo(r.x,r.y),0===B&&!0===u&&s.copy(r);break;case"v":for(var H=0,G=(m=o(v)).length;H<G;H++)r.y+=m[H],i.x=r.x,i.y=r.y,t.lineTo(r.x,r.y),0===H&&!0===u&&s.copy(r);break;case"l":for(var V=0,W=(m=o(v)).length;V<W;V+=2)r.x+=m[V+0],r.y+=m[V+1],i.x=r.x,i.y=r.y,t.lineTo(r.x,r.y),0===V&&!0===u&&s.copy(r);break;case"c":for(var q=0,X=(m=o(v)).length;q<X;q+=6)t.bezierCurveTo(r.x+m[q+0],r.y+m[q+1],r.x+m[q+2],r.y+m[q+3],r.x+m[q+4],r.y+m[q+5]),i.x=r.x+m[q+2],i.y=r.y+m[q+3],r.x+=m[q+4],r.y+=m[q+5],0===q&&!0===u&&s.copy(r);break;case"s":for(var Y=0,K=(m=o(v)).length;Y<K;Y+=4)t.bezierCurveTo(a(r.x,i.x),a(r.y,i.y),r.x+m[Y+0],r.y+m[Y+1],r.x+m[Y+2],r.y+m[Y+3]),i.x=r.x+m[Y+0],i.y=r.y+m[Y+1],r.x+=m[Y+2],r.y+=m[Y+3],0===Y&&!0===u&&s.copy(r);break;case"q":for(var Z=0,Q=(m=o(v)).length;Z<Q;Z+=4)t.quadraticCurveTo(r.x+m[Z+0],r.y+m[Z+1],r.x+m[Z+2],r.y+m[Z+3]),i.x=r.x+m[Z+0],i.y=r.y+m[Z+1],r.x+=m[Z+2],r.y+=m[Z+3],0===Z&&!0===u&&s.copy(r);break;case"t":for(var $=0,J=(m=o(v)).length;$<J;$+=2){var ee=a(r.x,i.x),te=a(r.y,i.y);t.quadraticCurveTo(ee,te,r.x+m[$+0],r.y+m[$+1]),i.x=ee,i.y=te,r.x=r.x+m[$+0],r.y=r.y+m[$+1],0===$&&!0===u&&s.copy(r)}break;case"a":for(var ne=0,re=(m=o(v,[3,4],7)).length;ne<re;ne+=7)if(0!=m[ne+5]||0!=m[ne+6]){var ie=r.clone();r.x+=m[ne+5],r.y+=m[ne+6],i.x=r.x,i.y=r.y,n(t,m[ne],m[ne+1],m[ne+2],m[ne+3],m[ne+4],ie,r),0===ne&&!0===u&&s.copy(r)}break;case"Z":case"z":t.currentPath.autoClose=!0,t.currentPath.curves.length>0&&(r.copy(s),t.currentPath.currentPoint.copy(r),l=!0);break;default:console.warn(h)}u=!1}return t}(t));break;case"rect":r=i(t,r),S=function(e){var t=u(e.getAttribute("x")||0),n=u(e.getAttribute("y")||0),r=u(e.getAttribute("rx")||e.getAttribute("ry")||0),i=u(e.getAttribute("ry")||e.getAttribute("rx")||0),a=u(e.getAttribute("width")),o=u(e.getAttribute("height")),s=.448084975506,l=new bP;l.moveTo(t+r,n),l.lineTo(t+a-r,n),(0!==r||0!==i)&&l.bezierCurveTo(t+a-r*s,n,t+a,n+i*s,t+a,n+i);l.lineTo(t+a,n+o-i),(0!==r||0!==i)&&l.bezierCurveTo(t+a,n+o-i*s,t+a-r*s,n+o,t+a-r,n+o);l.lineTo(t+r,n+o),(0!==r||0!==i)&&l.bezierCurveTo(t+r*s,n+o,t,n+o-i*s,t,n+o-i);l.lineTo(t,n+i),(0!==r||0!==i)&&l.bezierCurveTo(t,n+i*s,t+r*s,n,t+r,n);return l}(t);break;case"polygon":r=i(t,r),S=function(e){function t(e,t,n){var a=u(t),o=u(n);0===i?r.moveTo(a,o):r.lineTo(a,o),i++}var n=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,r=new bP,i=0;return e.getAttribute("points").replace(n,t),r.currentPath.autoClose=!0,r}(t);break;case"polyline":r=i(t,r),S=function(e){function t(e,t,n){var a=u(t),o=u(n);0===i?r.moveTo(a,o):r.lineTo(a,o),i++}var n=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,r=new bP,i=0;return e.getAttribute("points").replace(n,t),r.currentPath.autoClose=!1,r}(t);break;case"circle":r=i(t,r),S=function(e){var t=u(e.getAttribute("cx")||0),n=u(e.getAttribute("cy")||0),r=u(e.getAttribute("r")||0),i=new EM;i.absarc(t,n,r,0,2*Math.PI);var a=new bP;return a.subPaths.push(i),a}(t);break;case"ellipse":r=i(t,r),S=function(e){var t=u(e.getAttribute("cx")||0),n=u(e.getAttribute("cy")||0),r=u(e.getAttribute("rx")||0),i=u(e.getAttribute("ry")||0),a=new EM;a.absellipse(t,n,r,i,0,2*Math.PI);var o=new bP;return o.subPaths.push(a),o}(t);break;case"line":r=i(t,r),S=function(e){var t=u(e.getAttribute("x1")||0),n=u(e.getAttribute("y1")||0),r=u(e.getAttribute("x2")||0),i=u(e.getAttribute("y2")||0),a=new bP;return a.moveTo(t,n),a.lineTo(r,i),a.currentPath.autoClose=!1,a}(t);break;case"defs":case"mask":l=!1;break;case"use":r=i(t,r);var _=t.href.baseVal.substring(1),k=t.viewportElement.getElementById(_);k?e(k,r):console.warn("SVGLoader: 'use node' references non-existent node id: "+_)}if(S&&(void 0!==r.fill&&"none"!==r.fill&&S.color.setStyle(r.fill),function(e,t){function n(e){x.set(e.x,e.y,1).applyMatrix3(t),e.set(x.x,x.y)}for(var r=function(e){return 0!==e.elements[1]||0!==e.elements[3]}(t),i=e.subPaths,a=0,o=i.length;a<o;a++)for(var s=i[a].curves,l=0;l<s.length;l++){var u=s[l];u.isLineCurve?(n(u.v1),n(u.v2)):u.isCubicBezierCurve?(n(u.v0),n(u.v1),n(u.v2),n(u.v3)):u.isQuadraticBezierCurve?(n(u.v0),n(u.v1),n(u.v2)):u.isEllipseCurve&&(r&&console.warn("SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented."),b.set(u.aX,u.aY),n(b),u.aX=b.x,u.aY=b.y,u.xRadius*=c(t),u.yRadius*=d(t))}}(S,w),f.push(S),S.userData={node:t,style:r}),l)for(var E=t.childNodes,C=0;C<E.length;C++)e(E[C],r);s&&(p.pop(),p.length>0?w.copy(p[p.length-1]):w.identity())}}(S.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:f,xml:S.documentElement}}}],[{key:"createShapes",value:function(e){var t=999999999,n={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},r={loc:n.ORIGIN,t:0};function i(e,t,i,o){var s=e.x,l=t.x,u=i.x,c=o.x,d=e.y,f=t.y,h=i.y,p=o.y,v=(c-u)*(d-h)-(p-h)*(s-u),m=(p-h)*(l-s)-(c-u)*(f-d),g=v/m,y=((l-s)*(d-h)-(f-d)*(s-u))/m;if(0===m&&0!==v||g<=0||g>=1||y<0||y>1)return null;if(0===v&&0===m){for(var b=0;b<2;b++){if(a(0===b?i:o,e,t),r.loc==n.ORIGIN){var x=0===b?i:o;return{x:x.x,y:x.y,t:r.t}}if(r.loc==n.BETWEEN)return{x:+(s+r.t*(l-s)).toPrecision(10),y:+(d+r.t*(f-d)).toPrecision(10),t:r.t}}return null}for(var w=0;w<2;w++)if(a(0===w?i:o,e,t),r.loc==n.ORIGIN){var S=0===w?i:o;return{x:S.x,y:S.y,t:r.t}}return{x:+(s+g*(l-s)).toPrecision(10),y:+(d+g*(f-d)).toPrecision(10),t:g}}function a(e,t,i){var a,o=i.x-t.x,s=i.y-t.y,l=e.x-t.x,u=e.y-t.y,c=o*u-l*s;if(e.x===t.x&&e.y===t.y)return r.loc=n.ORIGIN,void(r.t=0);if(e.x===i.x&&e.y===i.y)return r.loc=n.DESTINATION,void(r.t=1);c<-Number.EPSILON?r.loc=n.LEFT:c>Number.EPSILON?r.loc=n.RIGHT:o*l<0||s*u<0?r.loc=n.BEHIND:Math.sqrt(o*o+s*s)<Math.sqrt(l*l+u*u)?r.loc=n.BEYOND:(a=0!==o?l/o:u/s,r.loc=n.BETWEEN,r.t=a)}function o(e,t,n){var r=new Zb;t.getCenter(r);var a=[];return n.forEach((function(t){if(t.boundingBox.containsPoint(r)){var n=function(e,t){for(var n=[],r=[],a=1;a<e.length;a++)for(var o=e[a-1],s=e[a],l=function(){var e=t[u-1],a=t[u],l=i(o,s,e,a);null!==l&&void 0===n.find((function(e){return e.t<=l.t+Number.EPSILON&&e.t>=l.t-Number.EPSILON}))&&(n.push(l),r.push(new Zb(l.x,l.y)))},u=1;u<t.length;u++)l();return r}(e,t.points);n.forEach((function(e){a.push({identifier:t.identifier,isCW:t.isCW,point:e})}))}})),a.sort((function(e,t){return e.point.x-t.point.x})),a}var s=0,l=t,u=-999999999,c=e.subPaths.map((function(e){for(var n=e.getPoints(),r=-999999999,i=t,a=-999999999,o=t,c=0;c<n.length;c++){var d=n[c];d.y>r&&(r=d.y),d.y<i&&(i=d.y),d.x>a&&(a=d.x),d.x<o&&(o=d.x)}return u<=a&&(u=a+1),l>=o&&(l=o-1),{curves:e.curves,points:n,isCW:cT.isClockWise(n),identifier:s++,boundingBox:new FA(new Zb(o,i),new Zb(a,r))}})),d=(c=c.filter((function(e){return e.points.length>1}))).map((function(t){return function(e,t,n,r,i){null!==i&&void 0!==i&&""!==i||(i="nonzero");var a=new Zb;e.boundingBox.getCenter(a);var s=o([new Zb(n,a.y),new Zb(r,a.y)],e.boundingBox,t);s.sort((function(e,t){return e.point.x-t.point.x}));var l=[],u=[];s.forEach((function(t){t.identifier===e.identifier?l.push(t):u.push(t)}));for(var c=l[0].point.x,d=[],f=0;f<u.length&&u[f].point.x<c;)d.length>0&&d[d.length-1]===u[f].identifier?d.pop():d.push(u[f].identifier),f++;if(d.push(e.identifier),"evenodd"===i){var h=d.length%2===0,p=d[d.length-2];return{identifier:e.identifier,isHole:h,for:p}}if("nonzero"===i){for(var v=!0,m=null,g=null,y=0;y<d.length;y++){var b=d[y];v?(g=t[b].isCW,v=!1,m=b):g!==t[b].isCW&&(g=t[b].isCW,v=!0)}return{identifier:e.identifier,isHole:v,for:m}}console.warn('fill-rule: "'+i+'" is currently not implemented.')}(t,c,l,u,e.userData.style.fillRule)})),f=[];return c.forEach((function(e){if(!d[e.identifier].isHole){var t=new FM;t.curves=e.curves,d.filter((function(t){return t.isHole&&t.for===e.identifier})).forEach((function(e){var n=c[e.identifier],r=new EM;r.curves=n.curves,t.holes.push(r)})),f.push(t)}})),f}},{key:"getStrokeStyle",value:function(e,t,n,r,i){return{strokeColor:t=void 0!==t?t:"#000",strokeWidth:e=void 0!==e?e:1,strokeLineJoin:n=void 0!==n?n:"miter",strokeLineCap:r=void 0!==r?r:"butt",strokeMiterLimit:i=void 0!==i?i:4}}},{key:"pointsToStroke",value:function(e,t,r,i){var a=[],o=[],s=[];if(0===n.pointsToStrokeWithBuffers(e,t,r,i,a,o,s))return null;var l=new wS;return l.setAttribute("position",new fS(a,3)),l.setAttribute("normal",new fS(o,3)),l.setAttribute("uv",new fS(s,2)),l}},{key:"pointsToStrokeWithBuffers",value:function(e,t,n,r,i,a,o,s){var l=new Zb,u=new Zb,c=new Zb,d=new Zb,f=new Zb,h=new Zb,p=new Zb,v=new Zb,m=new Zb,g=new Zb,y=new Zb,b=new Zb,x=new Zb,w=new Zb,S=new Zb,_=new Zb,k=new Zb;n=void 0!==n?n:12,r=void 0!==r?r:.001,s=void 0!==s?s:0;var E=(e=function(e){for(var t=!1,n=1,i=e.length-1;n<i;n++)if(e[n].distanceTo(e[n+1])<r){t=!0;break}if(!t)return e;var a=[];a.push(e[0]);for(var o=1,s=e.length-1;o<s;o++)e[o].distanceTo(e[o+1])>=r&&a.push(e[o]);return a.push(e[e.length-1]),a}(e)).length;if(E<2)return 0;var C,M,T,R,A,P,I=e[0].equals(e[E-1]),O=e[0],L=t.strokeWidth/2,N=1/(E-1),D=0,U=!1,F=0,z=3*s,B=2*s;Q(e[0],e[1],l).multiplyScalar(L),v.copy(e[0]).sub(l),m.copy(e[0]).add(l),g.copy(v),y.copy(m);for(var j=1;j<E;j++){C=e[j],M=j===E-1?I?e[1]:void 0:e[j+1];var H=l;if(Q(O,C,H),c.copy(H).multiplyScalar(L),b.copy(C).sub(c),x.copy(C).add(c),T=D+N,R=!1,void 0!==M){Q(C,M,u),c.copy(u).multiplyScalar(L),w.copy(C).sub(c),S.copy(C).add(c),A=!0,c.subVectors(M,O),H.dot(c)<0&&(A=!1),1===j&&(U=A),c.subVectors(M,C),c.normalize();var G=Math.abs(H.dot(c));if(0!==G){var V=L/G;c.multiplyScalar(-V),d.subVectors(C,O),f.copy(d).setLength(V).add(c),_.copy(f).negate();var W=f.length(),q=d.length();d.divideScalar(q),h.subVectors(M,C);var X=h.length();switch(h.divideScalar(X),d.dot(_)<q&&h.dot(_)<X&&(R=!0),k.copy(f).add(C),_.add(C),P=!1,R?A?(S.copy(_),x.copy(_)):(w.copy(_),b.copy(_)):ee(),t.strokeLineJoin){case"bevel":te(A,R,T);break;case"round":ne(A,R),A?J(C,b,w,T,0):J(C,S,x,T,1);break;default:var Y=L*t.strokeMiterLimit/W;if(Y<1){if("miter-clip"!==t.strokeLineJoin){te(A,R,T);break}ne(A,R),A?(h.subVectors(k,b).multiplyScalar(Y).add(b),p.subVectors(k,w).multiplyScalar(Y).add(w),$(b,T,0),$(h,T,0),$(C,T,.5),$(C,T,.5),$(h,T,0),$(p,T,0),$(C,T,.5),$(p,T,0),$(w,T,0)):(h.subVectors(k,x).multiplyScalar(Y).add(x),p.subVectors(k,S).multiplyScalar(Y).add(S),$(x,T,1),$(h,T,1),$(C,T,.5),$(C,T,.5),$(h,T,1),$(p,T,1),$(C,T,.5),$(p,T,1),$(S,T,1))}else R?(A?($(m,D,1),$(v,D,0),$(k,T,0),$(m,D,1),$(k,T,0),$(_,T,1)):($(m,D,1),$(v,D,0),$(k,T,1),$(v,D,0),$(_,T,0),$(k,T,1)),A?w.copy(k):S.copy(k)):A?($(b,T,0),$(k,T,0),$(C,T,.5),$(C,T,.5),$(k,T,0),$(w,T,0)):($(x,T,1),$(k,T,1),$(C,T,.5),$(C,T,.5),$(k,T,1),$(S,T,1)),P=!0}}else ee()}else ee();I||j!==E-1||re(e[0],g,y,A,!0,D),D=T,O=C,v.copy(w),m.copy(S)}if(I){if(R&&i){var K=k,Z=_;U!==A&&(K=_,Z=k),A?(P||U)&&(Z.toArray(i,0),Z.toArray(i,9),P&&K.toArray(i,3)):!P&&U||(Z.toArray(i,3),Z.toArray(i,9),P&&K.toArray(i,0))}}else re(C,b,x,A,!1,T);return F;function Q(e,t,n){return n.subVectors(t,e),n.set(-n.y,n.x).normalize()}function $(e,t,n){i&&(i[z]=e.x,i[z+1]=e.y,i[z+2]=0,a&&(a[z]=0,a[z+1]=0,a[z+2]=1),z+=3,o&&(o[B]=t,o[B+1]=n,B+=2)),F+=3}function J(e,t,r,i,a){l.copy(t).sub(e).normalize(),u.copy(r).sub(e).normalize();var o=Math.PI,s=l.dot(u);Math.abs(s)<1&&(o=Math.abs(Math.acos(s))),o/=n,c.copy(t);for(var f=0,h=n-1;f<h;f++)d.copy(c).rotateAround(e,o),$(c,i,a),$(d,i,a),$(e,i,.5),c.copy(d);$(d,i,a),$(r,i,a),$(e,i,.5)}function ee(){$(m,D,1),$(v,D,0),$(b,T,0),$(m,D,1),$(b,T,1),$(x,T,0)}function te(e,t,n){t?e?($(m,D,1),$(v,D,0),$(b,T,0),$(m,D,1),$(b,T,0),$(_,T,1),$(b,n,0),$(w,n,0),$(_,n,.5)):($(m,D,1),$(v,D,0),$(x,T,1),$(v,D,0),$(_,T,0),$(x,T,1),$(x,n,1),$(S,n,0),$(_,n,.5)):e?($(b,n,0),$(w,n,0),$(C,n,.5)):($(x,n,1),$(S,n,0),$(C,n,.5))}function ne(e,t){t&&(e?($(m,D,1),$(v,D,0),$(b,T,0),$(m,D,1),$(b,T,0),$(_,T,1),$(b,D,0),$(C,T,.5),$(_,T,1),$(C,T,.5),$(w,D,0),$(_,T,1)):($(m,D,1),$(v,D,0),$(x,T,1),$(v,D,0),$(_,T,0),$(x,T,1),$(x,D,1),$(_,T,0),$(C,T,.5),$(C,T,.5),$(_,T,0),$(S,D,1)))}function re(e,n,r,a,o,s){switch(t.strokeLineCap){case"round":o?J(e,r,n,s,.5):J(e,n,r,s,.5);break;case"square":if(o)l.subVectors(n,e),u.set(l.y,-l.x),c.addVectors(l,u).add(e),d.subVectors(u,l).add(e),a?(c.toArray(i,3),d.toArray(i,0),d.toArray(i,9)):(c.toArray(i,3),c.toArray(i,9),d.toArray(i,0));else{l.subVectors(r,e),u.set(l.y,-l.x),c.addVectors(l,u).add(e),d.subVectors(u,l).add(e);var f=i.length;a?(c.toArray(i,f-3),d.toArray(i,f-6),d.toArray(i,f-12)):(c.toArray(i,f-6),d.toArray(i,f-3),d.toArray(i,f-12))}}}}}]),n}(sR);Float32Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array;var LB=["src","skipFill","skipStrokes","fillMaterial","strokeMaterial","fillMeshProps","strokeMeshProps"],NB=(0,t.forwardRef)((function(e,n){var r=e.src,i=e.skipFill,a=e.skipStrokes,o=e.fillMaterial,s=e.strokeMaterial,l=e.fillMeshProps,c=e.strokeMeshProps,d=Zv(e,LB),f=PI(OB,r.startsWith("<svg")?"data:image/svg+xml;utf8,".concat(r):r),h=(0,t.useMemo)((function(){return a?[]:f.paths.map((function(e){var t;return void 0===(null==(t=e.userData)?void 0:t.style.stroke)||"none"===e.userData.style.stroke?null:e.subPaths.map((function(t){return OB.pointsToStroke(t.getPoints(),e.userData.style)}))}))}),[f,a]);return(0,t.useEffect)((function(){return function(){return h.forEach((function(e){return e&&e.map((function(e){return e.dispose()}))}))}}),[h]),t.createElement("object3D",u({ref:n},d),t.createElement("object3D",{scale:[1,-1,1]},f.paths.map((function(e,n){var r,d;return t.createElement(t.Fragment,{key:n},!i&&void 0!==(null==(r=e.userData)?void 0:r.style.fill)&&"none"!==e.userData.style.fill&&OB.createShapes(e).map((function(n,r){return t.createElement("mesh",u({key:r},l),t.createElement("shapeGeometry",{args:[n]}),t.createElement("meshBasicMaterial",u({color:e.userData.style.fill,opacity:e.userData.style.fillOpacity,transparent:!0,side:_m,depthWrite:!1},o)))})),!a&&void 0!==(null==(d=e.userData)?void 0:d.style.stroke)&&"none"!==e.userData.style.stroke&&e.subPaths.map((function(r,i){return t.createElement("mesh",u({key:i,geometry:h[n][i]},c),t.createElement("meshBasicMaterial",u({color:e.userData.style.stroke,opacity:e.userData.style.strokeOpacity,transparent:!0,side:_m,depthWrite:!1},s)))})))}))))}));function DB(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pointer",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";t.useEffect((function(){if(e)return document.body.style.cursor=n,function(){document.body.style.cursor=r}}),[e])}var UB=["children","eps","style","className","prepend","center","fullscreen","portal","distanceFactor","sprite","transform","occlude","onOcclude","castShadow","receiveShadow","material","geometry","zIndexRange","calculatePosition","as","wrapperClass","pointerEvents"],FB=new Mx,zB=new Mx,BB=new Mx;function jB(e,t,n){var r=FB.setFromMatrixPosition(e.matrixWorld);r.project(t);var i=n.width/2,a=n.height/2;return[r.x*i+i,-r.y*a+a]}var HB=function(e){return Math.abs(e)<1e-10?0:e};function GB(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="matrix3d(",i=0;16!==i;i++)r+=HB(t[i]*e.elements[i])+(15!==i?",":")");return n+r}var VB,WB=(VB=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],function(e){return GB(e,VB)}),qB=function(e,t){return GB(e,[1/(n=t),1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1],"translate(-50%,-50%)");var n};var XB=t.forwardRef((function(e,n){var r=e.children,a=e.eps,o=void 0===a?.001:a,s=e.style,l=e.className,c=e.prepend,d=e.center,f=e.fullscreen,h=e.portal,p=e.distanceFactor,v=e.sprite,m=void 0!==v&&v,g=e.transform,y=void 0!==g&&g,b=e.occlude,x=e.onOcclude,w=e.castShadow,S=e.receiveShadow,_=e.material,k=e.geometry,E=e.zIndexRange,C=void 0===E?[16777271,0]:E,T=e.calculatePosition,R=void 0===T?jB:T,A=e.as,P=void 0===A?"div":A,I=e.wrapperClass,O=e.pointerEvents,L=void 0===O?"auto":O,N=Zv(e,UB),D=TI(),U=D.gl,F=D.camera,z=D.scene,B=D.size,j=D.raycaster,H=D.events,G=D.viewport,V=M(t.useState((function(){return document.createElement(P)})),1)[0],W=t.useRef(),q=t.useRef(null),X=t.useRef(0),Y=t.useRef([0,0]),K=t.useRef(null),Z=t.useRef(null),Q=(null==h?void 0:h.current)||H.connected||U.domElement.parentNode,$=t.useRef(null),J=t.useRef(!1),ee=t.useMemo((function(){return b&&"blending"!==b||Array.isArray(b)&&b.length&&function(e){return e&&"object"===typeof e&&"current"in e}(b[0])}),[b]);t.useLayoutEffect((function(){var e=U.domElement;b&&"blending"===b?(e.style.zIndex="".concat(Math.floor(C[0]/2)),e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)}),[b]),t.useLayoutEffect((function(){if(q.current){var e=W.current=i.createRoot(V);if(z.updateMatrixWorld(),y)V.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{var t=R(q.current,F,B);V.style.cssText="position:absolute;top:0;left:0;transform:translate3d(".concat(t[0],"px,").concat(t[1],"px,0);transform-origin:0 0;")}return Q&&(c?Q.prepend(V):Q.appendChild(V)),function(){Q&&Q.removeChild(V),e.unmount()}}}),[Q,y]),t.useLayoutEffect((function(){I&&(V.className=I)}),[I]);var te=t.useMemo((function(){return y?{position:"absolute",top:0,left:0,width:B.width,height:B.height,transformStyle:"preserve-3d",pointerEvents:"none"}:$v($v({position:"absolute",transform:d?"translate3d(-50%,-50%,0)":"none"},f&&{top:-B.height/2,left:-B.width/2,width:B.width,height:B.height}),s)}),[s,d,f,B,y]),ne=t.useMemo((function(){return{position:"absolute",pointerEvents:L}}),[L]);t.useLayoutEffect((function(){var e,i;(J.current=!1,y)?null==(e=W.current)||e.render(t.createElement("div",{ref:K,style:te},t.createElement("div",{ref:Z,style:ne},t.createElement("div",{ref:n,className:l,style:s,children:r})))):null==(i=W.current)||i.render(t.createElement("div",{ref:n,style:te,className:l,children:r}))}));var re=t.useRef(!0);RI((function(e){if(q.current){F.updateMatrixWorld(),q.current.updateWorldMatrix(!0,!1);var t=y?Y.current:R(q.current,F,B);if(y||Math.abs(X.current-F.zoom)>o||Math.abs(Y.current[0]-t[0])>o||Math.abs(Y.current[1]-t[1])>o){var n=function(e,t){var n=FB.setFromMatrixPosition(e.matrixWorld),r=zB.setFromMatrixPosition(t.matrixWorld),i=n.sub(r),a=t.getWorldDirection(BB);return i.angleTo(a)>Math.PI/2}(q.current,F),r=!1;ee&&("blending"!==b?r=[z]:Array.isArray(b)&&(r=b.map((function(e){return e.current}))));var i=re.current;if(r){var a=function(e,t,n,r){var i=FB.setFromMatrixPosition(e.matrixWorld),a=i.clone();a.project(t),n.setFromCamera(a,t);var o=n.intersectObjects(r,!0);if(o.length){var s=o[0].distance;return i.distanceTo(n.ray.origin)<s}return!0}(q.current,F,j,r);re.current=a&&!n}else re.current=!n;i!==re.current&&(x?x(!re.current):V.style.display=re.current?"block":"none");var s=Math.floor(C[0]/2),l=b?ee?[C[0],s]:[s-1,0]:C;if(V.style.zIndex="".concat(function(e,t,n){if(t instanceof YS||t instanceof b_){var r=FB.setFromMatrixPosition(e.matrixWorld),i=zB.setFromMatrixPosition(t.matrixWorld),a=r.distanceTo(i),o=(n[1]-n[0])/(t.far-t.near),s=n[1]-o*t.far;return Math.round(o*a+s)}}(q.current,F,l)),y){var u=B.width/2,c=B.height/2,d=F.projectionMatrix.elements[5]*c,f=F.isOrthographicCamera,h=F.top,v=F.left,g=F.bottom,w=F.right,S=WB(F.matrixWorldInverse),_=f?"scale(".concat(d,")translate(").concat(HB(-(w+v)/2),"px,").concat(HB((h+g)/2),"px)"):"translateZ(".concat(d,"px)"),E=q.current.matrixWorld;m&&((E=F.matrixWorldInverse.clone().transpose().copyPosition(E).scale(q.current.scale)).elements[3]=E.elements[7]=E.elements[11]=0,E.elements[15]=1),V.style.width=B.width+"px",V.style.height=B.height+"px",V.style.perspective=f?"":"".concat(d,"px"),K.current&&Z.current&&(K.current.style.transform="".concat(_).concat(S,"translate(").concat(u,"px,").concat(c,"px)"),Z.current.style.transform=qB(E,1/((p||10)/400)))}else{var M=void 0===p?1:function(e,t){if(t instanceof b_)return t.zoom;if(t instanceof YS){var n=FB.setFromMatrixPosition(e.matrixWorld),r=zB.setFromMatrixPosition(t.matrixWorld),i=t.fov*Math.PI/180,a=n.distanceTo(r);return 1/(2*Math.tan(i/2)*a)}return 1}(q.current,F)*p;V.style.transform="translate3d(".concat(t[0],"px,").concat(t[1],"px,0) scale(").concat(M,")")}Y.current=t,X.current=F.zoom}}if(!ee&&$.current&&!J.current)if(y){if(K.current){var T=K.current.children[0];if(null!=T&&T.clientWidth&&null!=T&&T.clientHeight){if(F.isOrthographicCamera||k)N.scale&&(Array.isArray(N.scale)?N.scale instanceof Mx?$.current.scale.copy(N.scale.clone().divideScalar(1)):$.current.scale.set(1/N.scale[0],1/N.scale[1],1/N.scale[2]):$.current.scale.setScalar(1/N.scale));else{var A=(p||10)/400,P=T.clientWidth*A,I=T.clientHeight*A;$.current.scale.set(P,I,1)}J.current=!0}}}else{var O=V.children[0];if(null!=O&&O.clientWidth&&null!=O&&O.clientHeight){var L=1/G.factor,D=O.clientWidth*L,U=O.clientHeight*L;$.current.scale.set(D,U,1),J.current=!0}$.current.lookAt(e.camera.position)}}));var ie=t.useMemo((function(){return{vertexShader:y?void 0:'\n          /*\n            This shader is from the THREE\'s SpriteMaterial.\n            We need to turn the backing plane into a Sprite\n            (make it always face the camera) if "transfrom" \n            is false. \n          */\n          #include <common>\n\n          void main() {\n            vec2 center = vec2(0., 1.);\n            float rotation = 0.0;\n            \n            // This is somewhat arbitrary, but it seems to work well\n            // Need to figure out how to derive this dynamically if it even matters\n            float size = 0.03;\n\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n            vec2 scale;\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n            if ( isPerspective ) scale *= - mvPosition.z;\n\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\n            vec2 rotatedPosition;\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n            mvPosition.xy += rotatedPosition;\n\n            gl_Position = projectionMatrix * mvPosition;\n          }\n      ',fragmentShader:"\n        void main() {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      "}}),[y]);return t.createElement("group",u({},N,{ref:q}),b&&!ee&&t.createElement("mesh",{castShadow:w,receiveShadow:S,ref:$},k||t.createElement("planeGeometry",null),_||t.createElement("shaderMaterial",{side:_m,vertexShader:ie.vertexShader,fragmentShader:ie.fragmentShader})))})),YB=n(5897),KB=dj(),ZB=function(e){return sj(e,KB)},QB=dj();ZB.write=function(e){return sj(e,QB)};var $B=dj();ZB.onStart=function(e){return sj(e,$B)};var JB=dj();ZB.onFrame=function(e){return sj(e,JB)};var ej=dj();ZB.onFinish=function(e){return sj(e,ej)};var tj=[];ZB.setTimeout=function(e,t){var n=ZB.now()+t,r={time:n,handler:e,cancel:function e(){var t=tj.findIndex((function(t){return t.cancel==e}));~t&&tj.splice(t,1),aj-=~t?1:0}};return tj.splice(nj(n),0,r),aj+=1,lj(),r};var nj=function(e){return~(~tj.findIndex((function(t){return t.time>e}))||~tj.length)};ZB.cancel=function(e){$B.delete(e),JB.delete(e),ej.delete(e),KB.delete(e),QB.delete(e)},ZB.sync=function(e){oj=!0,ZB.batchedUpdates(e),oj=!1},ZB.throttle=function(e){var t;function n(){try{e.apply(void 0,k(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,ZB.onStart(n)}return r.handler=e,r.cancel=function(){$B.delete(n),t=null},r};var rj="undefined"!=typeof window?window.requestAnimationFrame:function(){};ZB.use=function(e){return rj=e},ZB.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,ZB.batchedUpdates=function(e){return e()},ZB.catch=console.error,ZB.frameLoop="always",ZB.advance=function(){"demand"!==ZB.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):cj()};var ij=-1,aj=0,oj=!1;function sj(e,t){oj?(t.delete(e),e(0)):(t.add(e),lj())}function lj(){ij<0&&(ij=0,"demand"!==ZB.frameLoop&&rj(uj))}function uj(){~ij&&(rj(uj),ZB.batchedUpdates(cj))}function cj(){var e=ij;ij=ZB.now();var t=nj(ij);t&&(fj(tj.splice(0,t),(function(e){return e.handler()})),aj-=t),aj?($B.flush(),KB.flush(e?Math.min(64,ij-e):16.667),JB.flush(),QB.flush(),ej.flush()):ij=-1}function dj(){var e=new Set,t=e;return{add:function(n){aj+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return aj-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,aj-=t.size,fj(t,(function(t){return t(n)&&e.add(t)})),aj+=e.size,t=e)}}}function fj(e,t){e.forEach((function(e){try{t(e)}catch(Ine){ZB.catch(Ine)}}))}function hj(){}var pj={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function vj(e,t){if(pj.arr(e)){if(!pj.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var mj=function(e,t){return e.forEach(t)};function gj(e,t,n){if(pj.arr(e))for(var r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}var yj=function(e){return pj.und(e)?[]:pj.arr(e)?e:[e]};function bj(e,t){if(e.size){var n=Array.from(e);e.clear(),mj(n,t)}}var xj,wj,Sj=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return bj(e,(function(e){return e.apply(void 0,n)}))},_j=function(){return"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)},kj=null,Ej=!1,Cj=hj,Mj=function(e){e.to&&(wj=e.to),e.now&&(ZB.now=e.now),void 0!==e.colors&&(kj=e.colors),null!=e.skipAnimation&&(Ej=e.skipAnimation),e.createStringInterpolator&&(xj=e.createStringInterpolator),e.requestAnimationFrame&&ZB.use(e.requestAnimationFrame),e.batchedUpdates&&(ZB.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Cj=e.willAdvance),e.frameLoop&&(ZB.frameLoop=e.frameLoop)},Tj=Object.freeze({__proto__:null,get createStringInterpolator(){return xj},get to(){return wj},get colors(){return kj},get skipAnimation(){return Ej},get willAdvance(){return Cj},assign:Mj}),Rj=new Set,Aj=[],Pj=[],Ij=0,Oj={get idle(){return!Rj.size&&!Aj.length},start:function(e){Ij>e.priority?(Rj.add(e),ZB.onStart(Lj)):(Nj(e),ZB(Uj))},advance:Uj,sort:function(e){if(Ij)ZB.onFrame((function(){return Oj.sort(e)}));else{var t=Aj.indexOf(e);~t&&(Aj.splice(t,1),Dj(e))}},clear:function(){Aj=[],Rj.clear()}};function Lj(){Rj.forEach(Nj),Rj.clear(),ZB(Uj)}function Nj(e){Aj.includes(e)||Dj(e)}function Dj(e){Aj.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(Aj,(function(t){return t.priority>e.priority})),0,e)}function Uj(e){for(var t=Pj,n=0;n<Aj.length;n++){var r=Aj[n];Ij=r.priority,r.idle||(Cj(r),r.advance(e),r.idle||t.push(r))}return Ij=0,(Pj=Aj).length=0,(Aj=t).length>0}var Fj="[-+]?\\d*\\.?\\d+",zj=Fj+"%";function Bj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var jj=new RegExp("rgb"+Bj(Fj,Fj,Fj)),Hj=new RegExp("rgba"+Bj(Fj,Fj,Fj,Fj)),Gj=new RegExp("hsl"+Bj(Fj,zj,zj)),Vj=new RegExp("hsla"+Bj(Fj,zj,zj,Fj)),Wj=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,qj=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Xj=/^#([0-9a-fA-F]{6})$/,Yj=/^#([0-9a-fA-F]{8})$/;function Kj(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Zj(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,a=Kj(i,r,e+1/3),o=Kj(i,r,e),s=Kj(i,r,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}function Qj(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function $j(e){return(parseFloat(e)%360+360)%360/360}function Jj(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function eH(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function tH(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Xj.exec(e))?parseInt(t[1]+"ff",16)>>>0:kj&&void 0!==kj[e]?kj[e]:(t=jj.exec(e))?(Qj(t[1])<<24|Qj(t[2])<<16|Qj(t[3])<<8|255)>>>0:(t=Hj.exec(e))?(Qj(t[1])<<24|Qj(t[2])<<16|Qj(t[3])<<8|Jj(t[4]))>>>0:(t=Wj.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Yj.exec(e))?parseInt(t[1],16)>>>0:(t=qj.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Gj.exec(e))?(255|Zj($j(t[1]),eH(t[2]),eH(t[3])))>>>0:(t=Vj.exec(e))?(Zj($j(t[1]),eH(t[2]),eH(t[3]))|Jj(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var nH=function e(t,n,r){if(pj.fun(t))return t;if(pj.arr(t))return e({range:t,output:n,extrapolate:r});if(pj.str(t.output[0]))return xj(t);var i=t,a=i.output,o=i.range||[0,1],s=i.extrapolateLeft||i.extrapolate||"extend",l=i.extrapolateRight||i.extrapolate||"extend",u=i.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,a,o,s,l){var u=l?l(e):e;if(u<t){if("identity"===o)return u;"clamp"===o&&(u=t)}if(u>n){if("identity"===s)return u;"clamp"===s&&(u=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?u=-u:n===1/0?u-=t:u=(u-t)/(n-t);u=a(u),r===-1/0?u=-u:i===1/0?u+=r:u=u*(i-r)+r;return u}(e,o[t],o[t+1],a[t],a[t+1],u,s,l,i.map)}};var rH=1.70158,iH=1.525*rH,aH=rH+1,oH=2*Math.PI/3,sH=2*Math.PI/4.5,lH=function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},uH={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-Math.pow(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-Math.pow(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-Math.pow(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},easeInSine:function(e){return 1-Math.cos(e*Math.PI/2)},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeInOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},easeInCirc:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},easeInBack:function(e){return aH*e*e*e-rH*e*e},easeOutBack:function(e){return 1+aH*Math.pow(e-1,3)+rH*Math.pow(e-1,2)},easeInOutBack:function(e){return e<.5?Math.pow(2*e,2)*(7.189819*e-iH)/2:(Math.pow(2*e-2,2)*((iH+1)*(2*e-2)+iH)+2)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*oH)},easeOutElastic:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*oH)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*sH)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*sH)/2+1},easeInBounce:function(e){return 1-lH(1-e)},easeOutBounce:lH,easeInOutBounce:function(e){return e<.5?(1-lH(1-2*e))/2:(1+lH(2*e-1))/2},steps:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return function(n){var r,i,a,o=(n="end"===t?Math.min(n,.999):Math.max(n,.001))*e,s="end"===t?Math.floor(o):Math.ceil(o);return r=0,i=1,a=s/e,Math.min(Math.max(a,r),i)}}};function cH(){return cH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cH.apply(this,arguments)}var dH=Symbol.for("FluidValue.get"),fH=Symbol.for("FluidValue.observers"),hH=function(e){return Boolean(e&&e[dH])},pH=function(e){return e&&e[dH]?e[dH]():e},vH=function(e){return e[fH]||null};function mH(e,t){var n=e[fH];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var gH=Ks((function e(t){if(Xs(this,e),this[dH]=void 0,this[fH]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");yH(this,t)})),yH=function(e,t){return SH(e,dH,t)};function bH(e,t){if(e[dH]){var n=e[fH];n||SH(e,fH,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function xH(e,t){var n=e[fH];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[fH]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var wH,SH=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},_H=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,kH=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,EH=new RegExp("(".concat(_H.source,")(%|[a-z]+)"),"i"),CH=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,MH=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,TH=function e(t){var n=M(RH(t),2),r=n[0],i=n[1];if(!r||_j())return t;var a=window.getComputedStyle(document.documentElement).getPropertyValue(r);if(a)return a.trim();if(i&&i.startsWith("--")){var o=window.getComputedStyle(document.documentElement).getPropertyValue(i);return o||t}return i&&MH.test(i)?e(i):i||t},RH=function(e){var t=MH.exec(e);if(!t)return[,];var n=M(t,3);return[n[1],n[2]]},AH=function(e,t,n,r,i){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")},PH=function(e){wH||(wH=kj?new RegExp("(".concat(Object.keys(kj).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return pH(e).replace(MH,TH).replace(kH,tH).replace(wH,tH)})),n=t.map((function(e){return e.match(_H).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})),i=r.map((function(t){return nH(cH({},e,{output:t}))}));return function(e){var n,r=!EH.test(t[0])&&(null==(n=t.find((function(e){return EH.test(e)})))?void 0:n.replace(_H,"")),a=0;return t[0].replace(_H,(function(){return"".concat(i[a++](e)).concat(r||"")})).replace(CH,AH)}},IH="react-spring: ",OH=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(IH,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},LH=OH(console.warn);var NH=OH(console.warn);function DH(e){return pj.str(e)&&("#"==e[0]||/\d/.test(e)||!_j()&&MH.test(e)||e in(kj||{}))}new WeakMap;new Set,new WeakMap,new WeakMap,new WeakMap;var UH=_j()?t.useEffect:t.useLayoutEffect,FH=function(){var e=(0,t.useRef)(!1);return UH((function(){return e.current=!0,function(){e.current=!1}}),[]),e};function zH(){var e=(0,t.useState)()[1],n=FH();return function(){n.current&&e(Math.random())}}var BH=function(e){return(0,t.useEffect)(e,jH)},jH=[];function HH(e){var n=(0,t.useRef)();return(0,t.useEffect)((function(){n.current=e})),n.current}var GH=Symbol.for("Animated:node"),VH=function(e){return e&&e[GH]},WH=function(e,t){return function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}(e,GH,t)},qH=function(e){return e&&e[GH]&&e[GH].getPayload()},XH=function(){function e(){Xs(this,e),this.payload=void 0,WH(this,this)}return Ks(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),YH=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).done=!0,r.elapsedTime=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.v0=void 0,r.durationProgress=0,r._value=e,pj.num(r._value)&&(r.lastPosition=r._value),r}return Ks(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return pj.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,pj.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(XH),KH=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this,0))._string=null,r._toString=void 0,r._toString=nH({output:[e,e]}),r}return Ks(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(pj.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!lm(nm(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=nH({output:[this.getValue(),e]})),this._value=0,lm(nm(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(YH),ZH={dependencies:null},QH=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return Ks(n,[{key:"getValue",value:function(e){var t={};return gj(this.source,(function(n,r){!function(e){return!!e&&e[GH]===e}(n)?hH(n)?t[r]=pH(n):e||(t[r]=n):t[r]=n.getValue(e)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&mj(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return gj(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;ZH.dependencies&&hH(e)&&ZH.dependencies.add(e);var n=qH(e);n&&mj(n,(function(e){return t.add(e)}))}}]),n}(XH),$H=function(e){tm(n,e);var t=im(n);function n(e){return Xs(this,n),t.call(this,e)}return Ks(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):(lm(nm(n.prototype),"setValue",this).call(this,e.map(JH)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(QH);function JH(e){return(DH(e)?KH:YH).create(e)}function eG(e){var t=VH(e);return t?t.constructor:pj.arr(e)?$H:DH(e)?KH:YH}function tG(){return tG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tG.apply(this,arguments)}var nG=function(e,n){var r=!pj.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,t.forwardRef)((function(i,a){var o=(0,t.useRef)(null),s=r&&(0,t.useCallback)((function(e){o.current=function(e,t){e&&(pj.fun(e)?e(t):e.current=t);return t}(a,e)}),[a]),l=function(e,t){var n=new Set;ZH.dependencies=n,e.style&&(e=tG({},e,{style:t.createAnimatedStyle(e.style)}));return e=new QH(e),ZH.dependencies=null,[e,n]}(i,n),u=M(l,2),c=u[0],d=u[1],f=zH(),h=function(){var e=o.current;r&&!e||!1===(!!e&&n.applyAnimatedValues(e,c.getValue(!0)))&&f()},p=new rG(h,d),v=(0,t.useRef)();UH((function(){return v.current=p,mj(d,(function(e){return bH(e,p)})),function(){v.current&&(mj(v.current.deps,(function(e){return xH(e,v.current)})),ZB.cancel(v.current.update))}})),(0,t.useEffect)(h,[]),BH((function(){return function(){var e=v.current;mj(e.deps,(function(t){return xH(t,e)}))}}));var m=n.getComponentProps(c.getValue());return t.createElement(e,tG({},m,{ref:s}))}))},rG=function(){function e(t,n){Xs(this,e),this.update=t,this.deps=n}return Ks(e,[{key:"eventObserved",value:function(e){"change"==e.type&&ZB.write(this.update)}}]),e}();var iG,aG=Symbol.for("AnimatedComponent"),oG=function(e){return pj.str(e)?e:e&&pj.str(e.displayName)?e.displayName:pj.fun(e)&&e.name||null};function sG(){return sG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sG.apply(this,arguments)}function lG(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return pj.fun(e)?e.apply(void 0,n):e}var uG=function(e,t){return!0===e||!!(t&&e&&(pj.fun(e)?e(t):yj(e).includes(t)))},cG=function(e,t){return pj.obj(e)?t&&e[t]:e},dG=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},fG=function(e){return e},hG=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fG,n=pG;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var r,i={},a=Jv(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=t(e[o],o);pj.und(s)||(i[o]=s)}}catch(l){a.e(l)}finally{a.f()}return i},pG=["config","onProps","onStart","onChange","onPause","onResume","onRest"],vG={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function mG(e){var t=function(e){var t={},n=0;if(gj(e,(function(e,r){vG[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return gj(e,(function(e,r){return r in t||(n[r]=e)})),n}return sG({},e)}function gG(e){return e=pH(e),pj.arr(e)?e.map(gG):DH(e)?Tj.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function yG(e){for(var t in e)return!0;return!1}function bG(e){return pj.fun(e)||pj.arr(e)&&pj.obj(e[0])}function xG(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function wG(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}var SG=sG({},{tension:170,friction:26},{mass:1,damping:1,easing:uH.linear,clamp:!1}),_G=Ks((function e(){Xs(this,e),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,SG)}));function kG(e,t){if(pj.und(t.decay)){var n=!pj.und(t.tension)||!pj.und(t.friction);!n&&pj.und(t.frequency)&&pj.und(t.damping)&&pj.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var EG=[],CG=Ks((function e(){Xs(this,e),this.changed=!1,this.values=EG,this.toValues=null,this.fromValues=EG,this.to=void 0,this.from=void 0,this.config=new _G,this.immediate=!1}));function MG(e,t){var n=t.key,r=t.props,i=t.defaultProps,a=t.state,o=t.actions;return new Promise((function(t,s){var l,u,c,d=uG(null!=(l=r.cancel)?l:null==i?void 0:i.cancel,n);if(d)v();else{pj.und(r.pause)||(a.paused=uG(r.pause,n));var f=null==i?void 0:i.pause;!0!==f&&(f=a.paused||uG(f,n)),u=lG(r.delay||0,n),f?(a.resumeQueue.add(p),o.pause()):(o.resume(),p())}function h(){a.resumeQueue.add(p),a.timeouts.delete(c),c.cancel(),u=c.time-ZB.now()}function p(){u>0&&!Tj.skipAnimation?(a.delayed=!0,c=ZB.setTimeout(v,u),a.pauseQueue.add(h),a.timeouts.add(c)):v()}function v(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(h),a.timeouts.delete(c),e<=(a.cancelId||0)&&(d=!0);try{o.start(sG({},r,{callId:e,cancel:d}),t)}catch(n){s(n)}}}))}var TG=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?PG(e.get()):t.every((function(e){return e.noop}))?RG(e.get()):AG(e.get(),t.every((function(e){return e.finished})))},RG=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},AG=function(e,t){return{value:e,finished:t,cancelled:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}},PG=function(e){return{value:e,cancelled:!0,finished:!1}};function IG(e,t,n,r){var i=t.callId,a=t.parentId,o=t.onRest,s=n.asyncTo,l=n.promise;return a||e!==s||t.reset?n.promise=sm(um().mark((function u(){var c,d,f,h,p,v,m,g,y;return um().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(n.asyncId=i,n.asyncTo=e,c=hG(t,(function(e,t){return"onRest"===t?void 0:e})),h=new Promise((function(e,t){return d=e,f=t})),p=function(e){var t=i<=(n.cancelId||0)&&PG(r)||i!==n.asyncId&&AG(r,!1);if(t)throw e.result=t,f(e),e},v=function(e,t){var a=new LG,o=new NG;return sm(um().mark((function s(){var l,u;return um().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!Tj.skipAnimation){s.next=5;break}throw OG(n),o.result=AG(r,!1),f(o),o;case 5:return p(a),(l=pj.obj(e)?sG({},e):sG({},t,{to:e})).parentId=i,gj(c,(function(e,t){pj.und(l[t])&&(l[t]=e)})),s.next=11,r.start(l);case 11:if(u=s.sent,p(a),!n.paused){s.next=16;break}return s.next=16,new Promise((function(e){n.resumeQueue.add(e)}));case 16:return s.abrupt("return",u);case 17:case"end":return s.stop()}}),s)})))()},!Tj.skipAnimation){u.next=9;break}return OG(n),u.abrupt("return",AG(r,!1));case 9:return u.prev=9,g=pj.arr(e)?function(e){return(y=y||sm(um().mark((function e(t){var n,r,i;return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Jv(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,v(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}(e):Promise.resolve(e(v,r.stop.bind(r))),u.next=13,Promise.all([g.then(d),h]);case 13:m=AG(r.get(),!0,!1),u.next=27;break;case 16:if(u.prev=16,u.t0=u.catch(9),!(u.t0 instanceof LG)){u.next=22;break}m=u.t0.result,u.next=27;break;case 22:if(!(u.t0 instanceof NG)){u.next=26;break}m=u.t0.result,u.next=27;break;case 26:throw u.t0;case 27:return u.prev=27,i==n.asyncId&&(n.asyncId=a,n.asyncTo=a?s:void 0,n.promise=a?l:void 0),u.finish(27);case 30:return pj.fun(o)&&ZB.batchedUpdates((function(){o(m,r,r.item)})),u.abrupt("return",m);case 32:case"end":return u.stop()}}),u,null,[[9,16,27,30]])})))():l}function OG(e,t){bj(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var LG=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,e}return Ks(n)}(am(Error)),NG=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.call(this,"SkipAnimationSignal")).result=void 0,e}return Ks(n)}(am(Error)),DG=function(e){return e instanceof FG},UG=1,FG=function(e){tm(n,e);var t=im(n);function n(){var e;Xs(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).id=UG++,e.key=void 0,e._priority=0,e}return Ks(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=VH(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Tj.to(this,t)}},{key:"interpolate",value:function(){LH("".concat(IH,'The "interpolate" function is deprecated in v9 (use "to" instead)'));for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Tj.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){mH(this,{type:"change",parent:this,value:e,idle:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})}},{key:"_onPriorityChange",value:function(e){this.idle||Oj.sort(this),mH(this,{type:"priority",parent:this,priority:e})}}]),n}(gH),zG=Symbol.for("SpringPhase"),BG=function(e){return(1&e[zG])>0},jG=function(e){return(2&e[zG])>0},HG=function(e){return(4&e[zG])>0},GG=function(e,t){return t?e[zG]|=3:e[zG]&=-3},VG=function(e,t){return t?e[zG]|=4:e[zG]&=-5},WG=function(e){tm(n,e);var t=im(n);function n(e,r){var i;if(Xs(this,n),(i=t.call(this)).key=void 0,i.animation=new CG,i.queue=void 0,i.defaultProps={},i._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},i._pendingCalls=new Set,i._lastCallId=0,i._lastToId=0,i._memoizedDuration=0,!pj.und(e)||!pj.und(r)){var a=pj.obj(e)?sG({},e):sG({},r,{from:e});pj.und(a.default)&&(a.default=!0),i.start(a)}return i}return Ks(n,[{key:"idle",get:function(){return!(jG(this)||this._state.asyncTo)||HG(this)}},{key:"goal",get:function(){return pH(this.animation.to)}},{key:"velocity",get:function(){var e=VH(this);return e instanceof YH?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return BG(this)}},{key:"isAnimating",get:function(){return jG(this)}},{key:"isPaused",get:function(){return HG(this)}},{key:"isDelayed",get:function(){return this._state.delayed}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,i=this.animation,a=i.config,o=i.toValues,s=qH(i.to);!s&&hH(i.to)&&(o=yj(pH(i.to))),i.values.forEach((function(l,u){if(!l.done){var c=l.constructor==KH?1:s?s[u].lastPosition:o[u],d=i.immediate,f=c;if(!d){if(f=l.lastPosition,a.tension<=0)return void(l.done=!0);var h,p=l.elapsedTime+=e,v=i.fromValues[u],m=null!=l.v0?l.v0:l.v0=pj.arr(a.velocity)?a.velocity[u]:a.velocity,g=a.precision||(v==c?.005:Math.min(1,.001*Math.abs(c-v)));if(pj.und(a.duration))if(a.decay){var y=!0===a.decay?.998:a.decay,b=Math.exp(-(1-y)*p);f=v+m/(1-y)*(1-b),d=Math.abs(l.lastPosition-f)<=g,h=m*b}else{h=null==l.lastVelocity?m:l.lastVelocity;for(var x=a.restVelocity||g/10,w=a.clamp?0:a.bounce,S=!pj.und(w),_=v==c?l.v0>0:v<c,k=Math.ceil(e/1),E=0;E<k&&(Math.abs(h)>x||!(d=Math.abs(c-f)<=g));++E){S&&(f==c||f>c==_)&&(h=-h*w,f=c),f+=1*(h+=1*((1e-6*-a.tension*(f-c)+.001*-a.friction*h)/a.mass))}}else{var C=1;a.duration>0&&(t._memoizedDuration!==a.duration&&(t._memoizedDuration=a.duration,l.durationProgress>0&&(l.elapsedTime=a.duration*l.durationProgress,p=l.elapsedTime+=e)),C=(C=(a.progress||0)+p/t._memoizedDuration)>1?1:C<0?0:C,l.durationProgress=C),h=((f=v+a.easing(C)*(c-v))-l.lastPosition)/e,d=1==C}l.lastVelocity=h,Number.isNaN(f)&&(console.warn("Got NaN while animating:",t),d=!0)}s&&!s[u].done&&(d=!1),d?l.done=!0:n=!1,l.setValue(f,a.round)&&(r=!0)}}));var l=VH(this),u=l.getValue();if(n){var c=pH(i.to);u===c&&!r||a.decay?r&&a.decay&&this._onChange(u):(l.setValue(c),this._onChange(c)),this._stop()}else r&&this._onChange(u)}},{key:"set",value:function(e){var t=this;return ZB.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(jG(this)){var t=this.animation,n=t.to,r=t.config;ZB.batchedUpdates((function(){e._onStart(),r.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,r=this;return pj.und(e)?(n=this.queue||[],this.queue=[]):n=[pj.obj(e)?e:sG({},t,{to:e})],Promise.all(n.map((function(e){return r._update(e)}))).then((function(e){return TG(r,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),OG(this._state,e&&this._lastCallId),ZB.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=this.key||"",n=e.to,r=e.from;(null==(n=pj.obj(n)?n[t]:n)||bG(n))&&(n=void 0),null==(r=pj.obj(r)?r[t]:r)&&(r=void 0);var i={to:n,from:r};if(!BG(this)){if(e.reverse){var a=[r,n];n=a[0],r=a[1]}r=pH(r),pj.und(r)?VH(this)||this._set(n):this._set(r)}return i}},{key:"_update",value:function(e,t){var n=this,r=sG({},e),i=this.key,a=this.defaultProps;r.default&&Object.assign(a,hG(r,(function(e,t){return/^on/.test(t)?cG(e,i):e}))),$G(this,r,"onProps"),JG(this,"onProps",r,this);var o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var s=this._state;return MG(++this._lastCallId,{key:i,props:r,defaultProps:a,state:s,actions:{pause:function(){HG(n)||(VG(n,!0),Sj(s.pauseQueue),JG(n,"onPause",AG(n,qG(n,n.animation.to)),n))},resume:function(){HG(n)&&(VG(n,!1),jG(n)&&n._resume(),Sj(s.resumeQueue),JG(n,"onResume",AG(n,qG(n,n.animation.to)),n))},start:this._merge.bind(this,o)}}).then((function(e){if(r.loop&&e.finished&&(!t||!e.noop)){var i=XG(r);if(i)return n._update(i,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var r=this;if(t.cancel)return this.stop(!0),n(PG(this));var i=!pj.und(e.to),a=!pj.und(e.from);if(i||a){if(!(t.callId>this._lastToId))return n(PG(this));this._lastToId=t.callId}var o=this.key,s=this.defaultProps,l=this.animation,u=l.to,c=l.from,d=e.to,f=void 0===d?u:d,h=e.from,p=void 0===h?c:h;if(!a||i||t.default&&!pj.und(f)||(f=p),t.reverse){var v=[p,f];f=v[0],p=v[1]}var m=!vj(p,c);m&&(l.from=p),p=pH(p);var g=!vj(f,u);g&&this._focus(f);var y=bG(t.to),b=l.config,x=b.decay,w=b.velocity;(i||a)&&(b.velocity=0),t.config&&!y&&function(e,t,n){for(var r in n&&(kG(n=sG({},n),t),t=sG({},n,t)),kG(e,t),Object.assign(e,t),SG)null==e[r]&&(e[r]=SG[r]);var i=e.mass,a=e.frequency,o=e.damping;pj.und(a)||(a<.01&&(a=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/a,2)*i,e.friction=4*Math.PI*o*i/a)}(b,lG(t.config,o),t.config!==s.config?lG(s.config,o):void 0);var S=VH(this);if(!S||pj.und(f))return n(AG(this,!0));var _=pj.und(t.reset)?a&&!t.default:!pj.und(p)&&uG(t.reset,o),k=_?p:this.get(),E=gG(f),C=pj.num(E)||pj.arr(E)||DH(E),M=!y&&(!C||uG(s.immediate||t.immediate,o));if(g){var T=eG(f);if(T!==S.constructor){if(!M)throw Error("Cannot animate between ".concat(S.constructor.name," and ").concat(T.name,', as the "to" prop suggests'));S=this._set(E)}}var R=S.constructor,A=hH(f),P=!1;if(!A){var I=_||!BG(this)&&m;(g||I)&&(A=!(P=vj(gG(k),E))),(vj(l.immediate,M)||M)&&vj(b.decay,x)&&vj(b.velocity,w)||(A=!0)}if(P&&jG(this)&&(l.changed&&!_?A=!0:A||this._stop(u)),!y&&((A||hH(u))&&(l.values=S.getPayload(),l.toValues=hH(f)?null:R==KH?[1]:yj(E)),l.immediate!=M&&(l.immediate=M,M||_||this._set(u)),A)){var O=l.onRest;mj(QG,(function(e){return $G(r,t,e)}));var L=AG(this,qG(this,u));Sj(this._pendingCalls,L),this._pendingCalls.add(n),l.changed&&ZB.batchedUpdates((function(){l.changed=!_,null==O||O(L,r),_?lG(s.onRest,L):null==l.onStart||l.onStart(L,r)}))}_&&this._set(k),y?n(IG(t.to,t,this._state,this)):A?this._start():jG(this)&&!g?this._pendingCalls.add(n):n(RG(k))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&(vH(this)&&this._detach(),t.to=e,vH(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;hH(t)&&(bH(t,this),DG(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;hH(e)&&xH(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=pH(e);if(!pj.und(r)){var i=VH(this);if(!i||!vj(r,i.getValue())){var a=eG(r);i&&i.constructor==a?i.setValue(r):WH(this,a.create(r)),i&&ZB.batchedUpdates((function(){t._onChange(r,n)}))}}return VH(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,JG(this,"onStart",AG(this,qG(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),lG(this.animation.onChange,e,this)),lG(this.defaultProps.onChange,e,this),lm(nm(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;VH(this).reset(pH(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),jG(this)||(GG(this,!0),HG(this)||this._resume())}},{key:"_resume",value:function(){Tj.skipAnimation?this.finish():Oj.start(this)}},{key:"_stop",value:function(e,t){if(jG(this)){GG(this,!1);var n=this.animation;mj(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),mH(this,{type:"idle",parent:this});var r=t?PG(this.get()):AG(this.get(),qG(this,null!=e?e:n.to));Sj(this._pendingCalls,r),n.changed&&(n.changed=!1,JG(this,"onRest",r,this))}}}]),n}(FG);function qG(e,t){var n=gG(t);return vj(gG(e.get()),n)}function XG(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=lG(t);if(r){var i=!0!==r&&mG(r),a=(i||e).reverse,o=!i||i.reset;return YG(sG({},e,{loop:t,default:!1,pause:void 0,to:!a||bG(n)?n:void 0,from:o?e.from:void 0,reset:o},i))}}function YG(e){var t=e=mG(e),n=t.to,r=t.from,i=new Set;return pj.obj(n)&&ZG(n,i),pj.obj(r)&&ZG(r,i),e.keys=i.size?Array.from(i):null,e}function KG(e){var t=YG(e);return pj.und(t.default)&&(t.default=hG(t)),t}function ZG(e,t){gj(e,(function(e,n){return null!=e&&t.add(n)}))}var QG=["onStart","onRest","onChange","onPause","onResume"];function $G(e,t,n){e.animation[n]=t[n]!==dG(t,n)?cG(t[n],e.key):void 0}function JG(e,t){for(var n,r,i,a,o,s,l=arguments.length,u=new Array(l>2?l-2:0),c=2;c<l;c++)u[c-2]=arguments[c];null==(i=(a=e.animation)[t])||(n=i).call.apply(n,[a].concat(u)),null==(o=(s=e.defaultProps)[t])||(r=o).call.apply(r,[s].concat(u))}var eV=["onStart","onChange","onRest"],tV=1,nV=function(){function e(t,n){Xs(this,e),this.id=tV++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(sG({default:!0},t))}return Ks(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle&&!e.isDelayed&&!e.isPaused}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];pj.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(YG(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=yj(e).map(YG):this.queue=[],this._flush?this._flush(this,t):(uV(this,t),rV(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;mj(yj(t),(function(t){return n[t].stop(!!e)}))}else OG(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(pj.und(e))this.start({pause:!0});else{var t=this.springs;mj(yj(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(pj.und(e))this.start({pause:!1});else{var t=this.springs;mj(yj(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){gj(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,i=t.onRest,a=this._active.size>0,o=this._changed.size>0;(a&&!this._started||o&&!this._started)&&(this._started=!0,bj(n,(function(t){var n=M(t,2),r=n[0],i=n[1];i.value=e.get(),r(i,e,e._item)})));var s=!a&&this._started,l=o||s&&i.size?this.get():null;o&&r.size&&bj(r,(function(t){var n=M(t,2),r=n[0],i=n[1];i.value=l,r(i,e,e._item)})),s&&(this._started=!1,bj(i,(function(t){var n=M(t,2),r=n[0],i=n[1];i.value=l,r(i,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}ZB.onFrame(this._onFrame)}}]),e}();function rV(e,t){return Promise.all(t.map((function(t){return iV(e,t)}))).then((function(t){return TG(e,t)}))}function iV(e,t,n){return(iG=iG||sm(um().mark((function e(t,n,r){var i,a,o,s,l,u,c,d,f,h,p,v,m;return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.keys,a=n.to,o=n.from,s=n.loop,l=n.onRest,u=n.onResolve,c=pj.obj(n.default)&&n.default,s&&(n.loop=!1),!1===a&&(n.to=null),!1===o&&(n.from=null),(d=pj.arr(a)||pj.fun(a)?a:void 0)?(n.to=void 0,n.onRest=void 0,c&&(c.onRest=void 0)):mj(eV,(function(e){var r=n[e];if(pj.fun(r)){var i=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,a=i.get(r);a?(t||(a.finished=!1),n&&(a.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},c&&(c[e]=n[e])}})),f=t._state,n.pause===!f.paused?(f.paused=n.pause,Sj(n.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(n.pause=!0),h=(i||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),p=!0===n.cancel||!0===dG(n,"cancel"),(d||p&&f.asyncId)&&h.push(MG(++t._lastAsyncId,{props:n,state:f,actions:{pause:hj,resume:hj,start:function(e,n){p?(OG(f,t._lastAsyncId),n(PG(t))):(e.onRest=l,n(IG(d,e,f,t)))}}})),!f.paused){e.next=15;break}return e.next=15,new Promise((function(e){f.resumeQueue.add(e)}));case 15:return e.t0=TG,e.t1=t,e.next=19,Promise.all(h);case 19:if(e.t2=e.sent,v=(0,e.t0)(e.t1,e.t2),!s||!v.finished||r&&v.noop){e.next=26;break}if(!(m=XG(n,s,a))){e.next=26;break}return uV(t,[m]),e.abrupt("return",iV(t,m,!0));case 26:return u&&ZB.batchedUpdates((function(){return u(v,t,t.item)})),e.abrupt("return",v);case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aV(e,t){var n=sG({},e.springs);return t&&mj(yj(t),(function(e){pj.und(e.keys)&&(e=YG(e)),pj.obj(e.to)||(e=sG({},e,{to:void 0})),lV(n,e,(function(e){return sV(e)}))})),oV(e,n),n}function oV(e,t){gj(t,(function(t,n){e.springs[n]||(e.springs[n]=t,bH(t,e))}))}function sV(e,t){var n=new WG;return n.key=e,t&&bH(n,t),n}function lV(e,t,n){t.keys&&mj(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function uV(e,t){mj(t,(function(t){lV(e.springs,t,(function(t){return sV(t,e)}))}))}function cV(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var dV=["children"],fV=function(e){var n=e.children,r=cV(e,dV),i=(0,t.useContext)(hV),a=r.pause||!!i.pause,o=r.immediate||!!i.immediate;r=function(e,n){var r=M((0,t.useState)((function(){return{inputs:n,result:e()}})),1)[0],i=(0,t.useRef)(),a=i.current,o=a;if(o){var s=Boolean(n&&o.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(n,o.inputs));s||(o={inputs:n,result:e()})}else o=r;return(0,t.useEffect)((function(){i.current=o,a==r&&(r.inputs=r.result=void 0)}),[o]),o.result}((function(){return{pause:a,immediate:o}}),[a,o]);var s=hV.Provider;return t.createElement(s,{value:r},n)},hV=function(e,n){return Object.assign(e,t.createContext(n)),e.Provider._context=e,e.Consumer._context=e,e}(fV,{});fV.Provider=hV.Provider,fV.Consumer=hV.Consumer;var pV=function(){var e=[],t=function(t){NH("".concat(IH,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));var r=[];return mj(e,(function(e,i){if(pj.und(t))r.push(e.start());else{var a=n(t,e,i);a&&r.push(e.start(a))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){var n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){var t=arguments;return mj(e,(function(e){return e.pause.apply(e,k(t))})),this},t.resume=function(){var t=arguments;return mj(e,(function(e){return e.resume.apply(e,k(t))})),this},t.set=function(t){mj(e,(function(e){return e.set(t)}))},t.start=function(t){var n=this,r=[];return mj(e,(function(e,i){if(pj.und(t))r.push(e.start());else{var a=n._getProps(t,e,i);a&&r.push(e.start(a))}})),r},t.stop=function(){var t=arguments;return mj(e,(function(e){return e.stop.apply(e,k(t))})),this},t.update=function(t){var n=this;return mj(e,(function(e,r){return e.update(n._getProps(t,e,r))})),this};var n=function(e,t,n){return pj.fun(e)?e(n,t):e};return t._getProps=n,t};function vV(e,n,r){var i=arguments,a=pj.fun(n)&&n;a&&!r&&(r=[]);var o=(0,t.useMemo)((function(){return a||3==i.length?pV():void 0}),[]),s=(0,t.useRef)(0),l=zH(),u=(0,t.useMemo)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=aV(e,t);return s.current>0&&!u.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}))?rV(e,t):new Promise((function(r){oV(e,n),u.queue.push((function(){r(rV(e,t))})),l()}))}}}),[]),c=(0,t.useRef)(k(u.ctrls)),d=[],f=HH(e)||0;function h(e,t){for(var r=e;r<t;r++){var i=c.current[r]||(c.current[r]=new nV(null,u.flush)),o=a?a(r,i):n[r];o&&(d[r]=KG(o))}}(0,t.useMemo)((function(){mj(c.current.slice(e,f),(function(e){xG(e,o),e.stop(!0)})),c.current.length=e,h(f,e)}),[e]),(0,t.useMemo)((function(){h(0,Math.min(f,e))}),r);var p=c.current.map((function(e,t){return aV(e,d[t])})),v=(0,t.useContext)(fV),m=HH(v),g=v!==m&&yG(v);UH((function(){s.current++,u.ctrls=c.current;var e=u.queue;e.length&&(u.queue=[],mj(e,(function(e){return e()}))),mj(c.current,(function(e,t){null==o||o.add(e),g&&e.start({default:v});var n=d[t];n&&(wG(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),BH((function(){return function(){mj(u.ctrls,(function(e){return e.stop(!0)}))}}));var y=p.map((function(e){return sG({},e)}));return o?[y,o]:y}function mV(e,t){var n=pj.fun(e),r=M(vV(1,n?e:[e],n?t||[]:t),2),i=M(r[0],1)[0],a=r[1];return n||2==arguments.length?[i,a]:i}var gV;!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(gV||(gV={}));var yV=function(e){tm(n,e);var t=im(n);function n(e,r){var i;Xs(this,n),(i=t.call(this)).key=void 0,i.idle=!0,i.calc=void 0,i._active=new Set,i.source=e,i.calc=nH.apply(void 0,k(r));var a=i._get(),o=eG(a);return WH(Br(i),o.create(a)),i}return Ks(n,[{key:"advance",value:function(e){var t=this._get();vj(t,this.get())||(VH(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&xV(this._active)&&wV(this)}},{key:"_get",value:function(){var e=pj.arr(this.source)?this.source.map(pH):yj(pH(this.source));return this.calc.apply(this,k(e))}},{key:"_start",value:function(){var e=this;this.idle&&!xV(this._active)&&(this.idle=!1,mj(qH(this),(function(e){e.done=!1})),Tj.skipAnimation?(ZB.batchedUpdates((function(){return e.advance()})),wV(this)):Oj.start(this))}},{key:"_attach",value:function(){var e=this,t=1;mj(yj(this.source),(function(n){hH(n)&&bH(n,e),DG(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;mj(yj(this.source),(function(t){hH(t)&&xH(t,e)})),this._active.clear(),wV(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=yj(this.source).reduce((function(e,t){return Math.max(e,(DG(t)?t.priority:0)+1)}),0))}}]),n}(FG);function bV(e){return!1!==e.idle}function xV(e){return!e.size||Array.from(e).every(bV)}function wV(e){e.idle||(e.idle=!0,mj(qH(e),(function(e){e.done=!0})),mH(e,{type:"idle",parent:e}))}Tj.assign({createStringInterpolator:PH,to:function(e,t){return new yV(e,t)}});Oj.advance;var SV=["primitive"].concat(Object.keys(e).filter((function(e){return/^[A-Z]/.test(e)})).map((function(e){return e[0].toLowerCase()+e.slice(1)})));Tj.assign({createStringInterpolator:PH,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},frameLoop:"demand"}),yI((function(){ZB.advance()}),wI);var _V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,a=void 0===i?function(e){return new QH(e)}:i,o=t.getComponentProps,s={applyAnimatedValues:r,createAnimatedStyle:a,getComponentProps:void 0===o?function(e){return e}:o},l=function e(t){var n=oG(t)||"Anonymous";return(t=pj.str(t)?e[t]||(e[t]=nG(t,s)):t[aG]||(t[aG]=nG(t,s))).displayName="Animated(".concat(n,")"),t};return gj(e,(function(t,n){pj.arr(e)&&(n=oG(t)),l[n]=l(t)})),{animated:l}}(SV,{applyAnimatedValues:FI}),kV=_V.animated,EV=1,CV=2,MV=4,TV=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768}),RV=0,AV=1,PV=-1;function IV(e){return e.isPerspectiveCamera}function OV(e){return e.isOrthographicCamera}var LV=2*Math.PI,NV=Math.PI/2,DV=1e-5,UV=Math.PI/180;function FV(e,t,n){return Math.max(t,Math.min(n,e))}function zV(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DV;return Math.abs(e)<t}function BV(e,t){return zV(e-t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:DV)}function jV(e,t){return Math.round(e/t)*t}function HV(e){return isFinite(e)?e:e<0?-Number.MAX_VALUE:Number.MAX_VALUE}function GV(e){return Math.abs(e)<Number.MAX_VALUE?e:e*(1/0)}function VV(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0,a=arguments.length>5?arguments[5]:void 0,o=2/(r=Math.max(1e-4,r)),s=o*a,l=1/(1+s+.48*s*s+.235*s*s*s),u=e-t,c=t,d=i*r;t=e-(u=FV(u,-d,d));var f=(n.value+o*u)*a;n.value=(n.value-o*f)*l;var h=t+(u+f)*l;return c-e>0===h>c&&(h=c,n.value=(h-c)/a),h}function WV(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,s=2/(r=Math.max(1e-4,r)),l=s*a,u=1/(1+l+.48*l*l+.235*l*l*l),c=t.x,d=t.y,f=t.z,h=e.x-c,p=e.y-d,v=e.z-f,m=c,g=d,y=f,b=i*r,x=h*h+p*p+v*v;if(x>b*b){var w=Math.sqrt(x);h=h/w*b,p=p/w*b,v=v/w*b}c=e.x-h,d=e.y-p,f=e.z-v;var S=(n.x+s*h)*a,_=(n.y+s*p)*a,k=(n.z+s*v)*a;n.x=(n.x-s*S)*u,n.y=(n.y-s*_)*u,n.z=(n.z-s*k)*u,o.x=c+(h+S)*u,o.y=d+(p+_)*u,o.z=f+(v+k)*u;var E=m-e.x,C=g-e.y,M=y-e.z;return E*(o.x-m)+C*(o.y-g)+M*(o.z-y)>0&&(o.x=m,o.y=g,o.z=y,n.x=(o.x-m)/a,n.y=(o.y-g)/a,n.z=(o.z-y)/a),o}function qV(e,t){t.set(0,0),e.forEach((function(e){t.x+=e.clientX,t.y+=e.clientY})),t.x/=e.length,t.y/=e.length}function XV(e,t){return!!OV(e)&&(console.warn("".concat(t," is not supported in OrthographicCamera")),!0)}var YV,KV,ZV,QV,$V,JV,eW,tW,nW,rW,iW,aW,oW,sW,lW,uW,cW,dW,fW,hW,pW,vW,mW,gW=function(){function e(){Xs(this,e),this._listeners={}}return Ks(e,[{key:"addEventListener",value:function(e,t){var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},{key:"removeAllEventListeners",value:function(e){e?Array.isArray(this._listeners[e])&&(this._listeners[e].length=0):this._listeners={}}},{key:"dispatchEvent",value:function(e){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}]),e}(),yW=1/8,bW="undefined"!==typeof window,xW=bW&&/Mac/.test(navigator.platform),wW=!(bW&&"PointerEvent"in window),SW=function(e){tm(n,e);var t=im(n);function n(e,r){var i;Xs(this,n),(i=t.call(this)).minPolarAngle=0,i.maxPolarAngle=Math.PI,i.minAzimuthAngle=-1/0,i.maxAzimuthAngle=1/0,i.minDistance=Number.EPSILON,i.maxDistance=1/0,i.infinityDolly=!1,i.minZoom=.01,i.maxZoom=1/0,i.smoothTime=.25,i.draggingSmoothTime=.125,i.maxSpeed=1/0,i.azimuthRotateSpeed=1,i.polarRotateSpeed=1,i.dollySpeed=1,i.dollyDragInverted=!1,i.truckSpeed=2,i.dollyToCursor=!1,i.dragToOffset=!1,i.verticalDragToForward=!1,i.boundaryFriction=0,i.restThreshold=.01,i.colliderMeshes=[],i.cancel=function(){},i._enabled=!0,i._state=TV.NONE,i._viewport=null,i._changedDolly=0,i._changedZoom=0,i._hasRested=!0,i._boundaryEnclosesCamera=!1,i._needsUpdate=!0,i._updatedLastTime=!1,i._elementRect=new DOMRect,i._isDragging=!1,i._activePointers=[],i._lockedPointer=null,i._interactiveArea=new DOMRect(0,0,1,1),i._isUserControllingRotate=!1,i._isUserControllingDolly=!1,i._isUserControllingTruck=!1,i._isUserControllingOffset=!1,i._isUserControllingZoom=!1,i._lastDollyDirection=RV,i._thetaVelocity={value:0},i._phiVelocity={value:0},i._radiusVelocity={value:0},i._targetVelocity=new YV.Vector3,i._focalOffsetVelocity=new YV.Vector3,i._zoomVelocity={value:0},i._truckInternal=function(e,t,n){var r,a;if(IV(i._camera)){var o=JV.copy(i._camera.position).sub(i._target),s=i._camera.getEffectiveFOV()*UV,l=o.length()*Math.tan(.5*s);r=i.truckSpeed*e*l/i._elementRect.height,a=i.truckSpeed*t*l/i._elementRect.height}else{if(!OV(i._camera))return;var u=i._camera;r=e*(u.right-u.left)/u.zoom/i._elementRect.width,a=t*(u.top-u.bottom)/u.zoom/i._elementRect.height}i.verticalDragToForward?(n?i.setFocalOffset(i._focalOffsetEnd.x+r,i._focalOffsetEnd.y,i._focalOffsetEnd.z,!0):i.truck(r,0,!0),i.forward(-a,!0)):n?i.setFocalOffset(i._focalOffsetEnd.x+r,i._focalOffsetEnd.y+a,i._focalOffsetEnd.z,!0):i.truck(r,a,!0)},i._rotateInternal=function(e,t){var n=LV*i.azimuthRotateSpeed*e/i._elementRect.height,r=LV*i.polarRotateSpeed*t/i._elementRect.height;i.rotate(n,r,!0)},i._dollyInternal=function(e,t,n){var r=Math.pow(.95,-e*i.dollySpeed),a=i._sphericalEnd.radius,o=i._sphericalEnd.radius*r,s=FV(o,i.minDistance,i.maxDistance),l=s-o;i.infinityDolly&&i.dollyToCursor?i._dollyToNoClamp(o,!0):i.infinityDolly&&!i.dollyToCursor?(i.dollyInFixed(l,!0),i._dollyToNoClamp(s,!0)):i._dollyToNoClamp(s,!0),i.dollyToCursor&&(i._changedDolly+=(i.infinityDolly?o:s)-a,i._dollyControlCoord.set(t,n)),i._lastDollyDirection=Math.sign(-e)},i._zoomInternal=function(e,t,n){var r=Math.pow(.95,e*i.dollySpeed),a=i._zoom,o=i._zoom*r;i.zoomTo(o,!0),i.dollyToCursor&&(i._changedZoom+=o-a,i._dollyControlCoord.set(t,n))},"undefined"===typeof YV&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),i._camera=e,i._yAxisUpSpace=(new YV.Quaternion).setFromUnitVectors(i._camera.up,ZV),i._yAxisUpSpaceInverse=i._yAxisUpSpace.clone().invert(),i._state=TV.NONE,i._target=new YV.Vector3,i._targetEnd=i._target.clone(),i._focalOffset=new YV.Vector3,i._focalOffsetEnd=i._focalOffset.clone(),i._spherical=(new YV.Spherical).setFromVector3(JV.copy(i._camera.position).applyQuaternion(i._yAxisUpSpace)),i._sphericalEnd=i._spherical.clone(),i._lastDistance=i._spherical.radius,i._zoom=i._camera.zoom,i._zoomEnd=i._zoom,i._lastZoom=i._zoom,i._nearPlaneCorners=[new YV.Vector3,new YV.Vector3,new YV.Vector3,new YV.Vector3],i._updateNearPlaneCorners(),i._boundary=new YV.Box3(new YV.Vector3(-1/0,-1/0,-1/0),new YV.Vector3(1/0,1/0,1/0)),i._cameraUp0=i._camera.up.clone(),i._target0=i._target.clone(),i._position0=i._camera.position.clone(),i._zoom0=i._zoom,i._focalOffset0=i._focalOffset.clone(),i._dollyControlCoord=new YV.Vector2,i.mouseButtons={left:TV.ROTATE,middle:TV.DOLLY,right:TV.TRUCK,wheel:IV(i._camera)?TV.DOLLY:OV(i._camera)?TV.ZOOM:TV.NONE},i.touches={one:TV.TOUCH_ROTATE,two:IV(i._camera)?TV.TOUCH_DOLLY_TRUCK:OV(i._camera)?TV.TOUCH_ZOOM_TRUCK:TV.NONE,three:TV.TOUCH_TRUCK};var a=new YV.Vector2,o=new YV.Vector2,s=new YV.Vector2,l=function(e){if(i._enabled&&i._domElement){if(0!==i._interactiveArea.left||0!==i._interactiveArea.top||1!==i._interactiveArea.width||1!==i._interactiveArea.height){var t=i._domElement.getBoundingClientRect(),n=e.clientX/t.width,r=e.clientY/t.height;if(n<i._interactiveArea.left||n>i._interactiveArea.right||r<i._interactiveArea.top||r>i._interactiveArea.bottom)return}var a="mouse"!==e.pointerType?null:(e.buttons&EV)===EV?EV:(e.buttons&MV)===MV?MV:(e.buttons&CV)===CV?CV:null;if(null!==a){var o=i._findPointerByMouseButton(a);o&&i._disposePointer(o)}if((e.buttons&EV)!==EV||!i._lockedPointer){var s={pointerId:e.pointerId,clientX:e.clientX,clientY:e.clientY,deltaX:0,deltaY:0,mouseButton:a};i._activePointers.push(s),i._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),i._domElement.ownerDocument.removeEventListener("pointerup",f),i._domElement.ownerDocument.addEventListener("pointermove",c,{passive:!1}),i._domElement.ownerDocument.addEventListener("pointerup",f),i._isDragging=!0,g(e)}}},u=function(e){if(i._enabled&&i._domElement&&!i._lockedPointer){if(0!==i._interactiveArea.left||0!==i._interactiveArea.top||1!==i._interactiveArea.width||1!==i._interactiveArea.height){var t=i._domElement.getBoundingClientRect(),n=e.clientX/t.width,r=e.clientY/t.height;if(n<i._interactiveArea.left||n>i._interactiveArea.right||r<i._interactiveArea.top||r>i._interactiveArea.bottom)return}var a=(e.buttons&EV)===EV?EV:(e.buttons&MV)===MV?MV:(e.buttons&CV)===CV?CV:null;if(null!==a){var o=i._findPointerByMouseButton(a);o&&i._disposePointer(o)}var s={pointerId:1,clientX:e.clientX,clientY:e.clientY,deltaX:0,deltaY:0,mouseButton:(e.buttons&EV)===EV?EV:(e.buttons&MV)===EV?MV:(e.buttons&CV)===EV?CV:null};i._activePointers.push(s),i._domElement.ownerDocument.removeEventListener("mousemove",d),i._domElement.ownerDocument.removeEventListener("mouseup",h),i._domElement.ownerDocument.addEventListener("mousemove",d),i._domElement.ownerDocument.addEventListener("mouseup",h),i._isDragging=!0,g(e)}},c=function(e){e.cancelable&&e.preventDefault();var t=e.pointerId,n=i._lockedPointer||i._findPointerById(t);if(n){if(n.clientX=e.clientX,n.clientY=e.clientY,n.deltaX=e.movementX,n.deltaY=e.movementY,i._state=0,"touch"===e.pointerType)switch(i._activePointers.length){case 1:i._state=i.touches.one;break;case 2:i._state=i.touches.two;break;case 3:i._state=i.touches.three}else(!i._isDragging&&i._lockedPointer||i._isDragging&&(e.buttons&EV)===EV)&&(i._state=i._state|i.mouseButtons.left),i._isDragging&&(e.buttons&MV)===MV&&(i._state=i._state|i.mouseButtons.middle),i._isDragging&&(e.buttons&CV)===CV&&(i._state=i._state|i.mouseButtons.right);y()}},d=function(e){var t=i._lockedPointer||i._findPointerById(1);t&&(t.clientX=e.clientX,t.clientY=e.clientY,t.deltaX=e.movementX,t.deltaY=e.movementY,i._state=0,(i._lockedPointer||(e.buttons&EV)===EV)&&(i._state=i._state|i.mouseButtons.left),(e.buttons&MV)===MV&&(i._state=i._state|i.mouseButtons.middle),(e.buttons&CV)===CV&&(i._state=i._state|i.mouseButtons.right),y())},f=function(e){var t=i._findPointerById(e.pointerId);if(!t||t!==i._lockedPointer){if(t&&i._disposePointer(t),"touch"===e.pointerType)switch(i._activePointers.length){case 0:i._state=TV.NONE;break;case 1:i._state=i.touches.one;break;case 2:i._state=i.touches.two;break;case 3:i._state=i.touches.three}else i._state=TV.NONE;b()}},h=function(){var e=i._findPointerById(1);e&&e===i._lockedPointer||(e&&i._disposePointer(e),i._state=TV.NONE,b())},p=-1,v=function(e){if(i._domElement&&i._enabled&&i.mouseButtons.wheel!==TV.NONE){if(0!==i._interactiveArea.left||0!==i._interactiveArea.top||1!==i._interactiveArea.width||1!==i._interactiveArea.height){var t=i._domElement.getBoundingClientRect(),n=e.clientX/t.width,r=e.clientY/t.height;if(n<i._interactiveArea.left||n>i._interactiveArea.right||r<i._interactiveArea.top||r>i._interactiveArea.bottom)return}if(e.preventDefault(),i.dollyToCursor||i.mouseButtons.wheel===TV.ROTATE||i.mouseButtons.wheel===TV.TRUCK){var a=performance.now();p-a<1e3&&i._getClientRect(i._elementRect),p=a}var o=xW?-1:-3,s=1===e.deltaMode?e.deltaY/o:e.deltaY/(10*o),l=i.dollyToCursor?(e.clientX-i._elementRect.x)/i._elementRect.width*2-1:0,u=i.dollyToCursor?(e.clientY-i._elementRect.y)/i._elementRect.height*-2+1:0;switch(i.mouseButtons.wheel){case TV.ROTATE:i._rotateInternal(e.deltaX,e.deltaY),i._isUserControllingRotate=!0;break;case TV.TRUCK:i._truckInternal(e.deltaX,e.deltaY,!1),i._isUserControllingTruck=!0;break;case TV.OFFSET:i._truckInternal(e.deltaX,e.deltaY,!0),i._isUserControllingOffset=!0;break;case TV.DOLLY:i._dollyInternal(-s,l,u),i._isUserControllingDolly=!0;break;case TV.ZOOM:i._zoomInternal(-s,l,u),i._isUserControllingZoom=!0}i.dispatchEvent({type:"control"})}},m=function(e){if(i._domElement&&i._enabled){if(i.mouseButtons.right===n.ACTION.NONE){var t=e instanceof PointerEvent?e.pointerId:(MouseEvent,0),r=i._findPointerById(t);return r&&i._disposePointer(r),i._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),i._domElement.ownerDocument.removeEventListener("pointerup",f),i._domElement.ownerDocument.removeEventListener("mousemove",d),void i._domElement.ownerDocument.removeEventListener("mouseup",h)}e.preventDefault()}},g=function(e){if(i._enabled){if(qV(i._activePointers,$V),i._getClientRect(i._elementRect),a.copy($V),o.copy($V),i._activePointers.length>=2){var t=$V.x-i._activePointers[1].clientX,n=$V.y-i._activePointers[1].clientY,r=Math.sqrt(t*t+n*n);s.set(0,r);var l=.5*(i._activePointers[0].clientX+i._activePointers[1].clientX),u=.5*(i._activePointers[0].clientY+i._activePointers[1].clientY);o.set(l,u)}if(i._state=0,e)if("pointerType"in e&&"touch"===e.pointerType)switch(i._activePointers.length){case 1:i._state=i.touches.one;break;case 2:i._state=i.touches.two;break;case 3:i._state=i.touches.three}else i._lockedPointer||(e.buttons&EV)!==EV||(i._state=i._state|i.mouseButtons.left),(e.buttons&MV)===MV&&(i._state=i._state|i.mouseButtons.middle),(e.buttons&CV)===CV&&(i._state=i._state|i.mouseButtons.right);else i._lockedPointer&&(i._state=i._state|i.mouseButtons.left);(i._state&TV.ROTATE)!==TV.ROTATE&&(i._state&TV.TOUCH_ROTATE)!==TV.TOUCH_ROTATE&&(i._state&TV.TOUCH_DOLLY_ROTATE)!==TV.TOUCH_DOLLY_ROTATE&&(i._state&TV.TOUCH_ZOOM_ROTATE)!==TV.TOUCH_ZOOM_ROTATE||(i._sphericalEnd.theta=i._spherical.theta,i._sphericalEnd.phi=i._spherical.phi,i._thetaVelocity.value=0,i._phiVelocity.value=0),(i._state&TV.TRUCK)!==TV.TRUCK&&(i._state&TV.TOUCH_TRUCK)!==TV.TOUCH_TRUCK&&(i._state&TV.TOUCH_DOLLY_TRUCK)!==TV.TOUCH_DOLLY_TRUCK&&(i._state&TV.TOUCH_ZOOM_TRUCK)!==TV.TOUCH_ZOOM_TRUCK||(i._targetEnd.copy(i._target),i._targetVelocity.set(0,0,0)),(i._state&TV.DOLLY)!==TV.DOLLY&&(i._state&TV.TOUCH_DOLLY)!==TV.TOUCH_DOLLY&&(i._state&TV.TOUCH_DOLLY_TRUCK)!==TV.TOUCH_DOLLY_TRUCK&&(i._state&TV.TOUCH_DOLLY_OFFSET)!==TV.TOUCH_DOLLY_OFFSET&&(i._state&TV.TOUCH_DOLLY_ROTATE)!==TV.TOUCH_DOLLY_ROTATE||(i._sphericalEnd.radius=i._spherical.radius,i._radiusVelocity.value=0),(i._state&TV.ZOOM)!==TV.ZOOM&&(i._state&TV.TOUCH_ZOOM)!==TV.TOUCH_ZOOM&&(i._state&TV.TOUCH_ZOOM_TRUCK)!==TV.TOUCH_ZOOM_TRUCK&&(i._state&TV.TOUCH_ZOOM_OFFSET)!==TV.TOUCH_ZOOM_OFFSET&&(i._state&TV.TOUCH_ZOOM_ROTATE)!==TV.TOUCH_ZOOM_ROTATE||(i._zoomEnd=i._zoom,i._zoomVelocity.value=0),(i._state&TV.OFFSET)!==TV.OFFSET&&(i._state&TV.TOUCH_OFFSET)!==TV.TOUCH_OFFSET&&(i._state&TV.TOUCH_DOLLY_OFFSET)!==TV.TOUCH_DOLLY_OFFSET&&(i._state&TV.TOUCH_ZOOM_OFFSET)!==TV.TOUCH_ZOOM_OFFSET||(i._focalOffsetEnd.copy(i._focalOffset),i._focalOffsetVelocity.set(0,0,0)),i.dispatchEvent({type:"controlstart"})}},y=function(){if(i._enabled){qV(i._activePointers,$V);var e=i._domElement&&document.pointerLockElement===i._domElement?i._lockedPointer||i._activePointers[0]:null,t=e?-e.deltaX:o.x-$V.x,n=e?-e.deltaY:o.y-$V.y;if(o.copy($V),(i._state&TV.ROTATE)!==TV.ROTATE&&(i._state&TV.TOUCH_ROTATE)!==TV.TOUCH_ROTATE&&(i._state&TV.TOUCH_DOLLY_ROTATE)!==TV.TOUCH_DOLLY_ROTATE&&(i._state&TV.TOUCH_ZOOM_ROTATE)!==TV.TOUCH_ZOOM_ROTATE||(i._rotateInternal(t,n),i._isUserControllingRotate=!0),(i._state&TV.DOLLY)===TV.DOLLY||(i._state&TV.ZOOM)===TV.ZOOM){var r=i.dollyToCursor?(a.x-i._elementRect.x)/i._elementRect.width*2-1:0,l=i.dollyToCursor?(a.y-i._elementRect.y)/i._elementRect.height*-2+1:0,u=i.dollyDragInverted?-1:1;(i._state&TV.DOLLY)===TV.DOLLY?(i._dollyInternal(u*n*yW,r,l),i._isUserControllingDolly=!0):(i._zoomInternal(u*n*yW,r,l),i._isUserControllingZoom=!0)}if((i._state&TV.TOUCH_DOLLY)===TV.TOUCH_DOLLY||(i._state&TV.TOUCH_ZOOM)===TV.TOUCH_ZOOM||(i._state&TV.TOUCH_DOLLY_TRUCK)===TV.TOUCH_DOLLY_TRUCK||(i._state&TV.TOUCH_ZOOM_TRUCK)===TV.TOUCH_ZOOM_TRUCK||(i._state&TV.TOUCH_DOLLY_OFFSET)===TV.TOUCH_DOLLY_OFFSET||(i._state&TV.TOUCH_ZOOM_OFFSET)===TV.TOUCH_ZOOM_OFFSET||(i._state&TV.TOUCH_DOLLY_ROTATE)===TV.TOUCH_DOLLY_ROTATE||(i._state&TV.TOUCH_ZOOM_ROTATE)===TV.TOUCH_ZOOM_ROTATE){var c=$V.x-i._activePointers[1].clientX,d=$V.y-i._activePointers[1].clientY,f=Math.sqrt(c*c+d*d),h=s.y-f;s.set(0,f);var p=i.dollyToCursor?(o.x-i._elementRect.x)/i._elementRect.width*2-1:0,v=i.dollyToCursor?(o.y-i._elementRect.y)/i._elementRect.height*-2+1:0;(i._state&TV.TOUCH_DOLLY)===TV.TOUCH_DOLLY||(i._state&TV.TOUCH_DOLLY_ROTATE)===TV.TOUCH_DOLLY_ROTATE||(i._state&TV.TOUCH_DOLLY_TRUCK)===TV.TOUCH_DOLLY_TRUCK||(i._state&TV.TOUCH_DOLLY_OFFSET)===TV.TOUCH_DOLLY_OFFSET?(i._dollyInternal(h*yW,p,v),i._isUserControllingDolly=!0):(i._zoomInternal(h*yW,p,v),i._isUserControllingZoom=!0)}(i._state&TV.TRUCK)!==TV.TRUCK&&(i._state&TV.TOUCH_TRUCK)!==TV.TOUCH_TRUCK&&(i._state&TV.TOUCH_DOLLY_TRUCK)!==TV.TOUCH_DOLLY_TRUCK&&(i._state&TV.TOUCH_ZOOM_TRUCK)!==TV.TOUCH_ZOOM_TRUCK||(i._truckInternal(t,n,!1),i._isUserControllingTruck=!0),(i._state&TV.OFFSET)!==TV.OFFSET&&(i._state&TV.TOUCH_OFFSET)!==TV.TOUCH_OFFSET&&(i._state&TV.TOUCH_DOLLY_OFFSET)!==TV.TOUCH_DOLLY_OFFSET&&(i._state&TV.TOUCH_ZOOM_OFFSET)!==TV.TOUCH_ZOOM_OFFSET||(i._truckInternal(t,n,!0),i._isUserControllingOffset=!0),i.dispatchEvent({type:"control"})}},b=function(){qV(i._activePointers,$V),o.copy($V),(0===i._activePointers.length||1===i._activePointers.length&&i._activePointers[0]===i._lockedPointer)&&(i._isDragging=!1),0===i._activePointers.length&&i._domElement&&(i._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),i._domElement.ownerDocument.removeEventListener("mousemove",d),i._domElement.ownerDocument.removeEventListener("pointerup",f),i._domElement.ownerDocument.removeEventListener("mouseup",h),i.dispatchEvent({type:"controlend"}))};i.lockPointer=function(){i._enabled&&i._domElement&&(i.cancel(),i._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},i._activePointers.push(i._lockedPointer),i._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),i._domElement.ownerDocument.removeEventListener("pointerup",f),i._domElement.requestPointerLock(),i._domElement.ownerDocument.addEventListener("pointerlockchange",x),i._domElement.ownerDocument.addEventListener("pointerlockerror",w),i._domElement.ownerDocument.addEventListener("pointermove",c,{passive:!1}),i._domElement.ownerDocument.addEventListener("pointerup",f),g())},i.unlockPointer=function(){null!==i._lockedPointer&&(i._disposePointer(i._lockedPointer),i._lockedPointer=null),document.exitPointerLock(),i.cancel(),i._domElement&&(i._domElement.ownerDocument.removeEventListener("pointerlockchange",x),i._domElement.ownerDocument.removeEventListener("pointerlockerror",w))};var x=function(){i._domElement&&i._domElement.ownerDocument.pointerLockElement===i._domElement||i.unlockPointer()},w=function(){i.unlockPointer()};return i._addAllEventListeners=function(e){i._domElement=e,i._domElement.style.touchAction="none",i._domElement.style.userSelect="none",i._domElement.style.webkitUserSelect="none",i._domElement.addEventListener("pointerdown",l),wW&&i._domElement.addEventListener("mousedown",u),i._domElement.addEventListener("pointercancel",f),i._domElement.addEventListener("wheel",v,{passive:!1}),i._domElement.addEventListener("contextmenu",m)},i._removeAllEventListeners=function(){i._domElement&&(i._domElement.style.touchAction="",i._domElement.style.userSelect="",i._domElement.style.webkitUserSelect="",i._domElement.removeEventListener("pointerdown",l),i._domElement.removeEventListener("mousedown",u),i._domElement.removeEventListener("pointercancel",f),i._domElement.removeEventListener("wheel",v,{passive:!1}),i._domElement.removeEventListener("contextmenu",m),i._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),i._domElement.ownerDocument.removeEventListener("mousemove",d),i._domElement.ownerDocument.removeEventListener("pointerup",f),i._domElement.ownerDocument.removeEventListener("mouseup",h),i._domElement.ownerDocument.removeEventListener("pointerlockchange",x),i._domElement.ownerDocument.removeEventListener("pointerlockerror",w))},i.cancel=function(){i._state!==TV.NONE&&(i._state=TV.NONE,i._activePointers.length=0,b())},r&&i.connect(r),i.update(0),i}return Ks(n,[{key:"camera",get:function(){return this._camera},set:function(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}},{key:"active",get:function(){return!this._hasRested}},{key:"currentAction",get:function(){return this._state}},{key:"distance",get:function(){return this._spherical.radius},set:function(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}},{key:"azimuthAngle",get:function(){return this._spherical.theta},set:function(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}},{key:"polarAngle",get:function(){return this._spherical.phi},set:function(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}},{key:"boundaryEnclosesCamera",get:function(){return this._boundaryEnclosesCamera},set:function(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}},{key:"interactiveArea",set:function(e){this._interactiveArea.width=FV(e.width,0,1),this._interactiveArea.height=FV(e.height,0,1),this._interactiveArea.x=FV(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=FV(e.x,0,1-this._interactiveArea.height)}},{key:"addEventListener",value:function(e,t){lm(nm(n.prototype),"addEventListener",this).call(this,e,t)}},{key:"removeEventListener",value:function(e,t){lm(nm(n.prototype),"removeEventListener",this).call(this,e,t)}},{key:"rotate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+t,n)}},{key:"rotateAzimuthTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.rotateTo(e,this._sphericalEnd.phi,t)}},{key:"rotatePolarTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.rotateTo(this._sphericalEnd.theta,e,t)}},{key:"rotateTo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._isUserControllingRotate=!1;var r=FV(e,this.minAzimuthAngle,this.maxAzimuthAngle),i=FV(t,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=r,this._sphericalEnd.phi=i,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,n||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);var a=!n||BV(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&BV(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(a)}},{key:"dolly",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.dollyTo(this._sphericalEnd.radius-e,t)}},{key:"dollyTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._isUserControllingDolly=!1,this._lastDollyDirection=RV,this._changedDolly=0,this._dollyToNoClamp(FV(e,this.minDistance,this.maxDistance),t)}},{key:"_dollyToNoClamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){var r=this._collisionTest(),i=BV(r,this._spherical.radius);if(!(n>e)&&i)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,r)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,t||(this._spherical.radius=this._sphericalEnd.radius);var a=!t||BV(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(a)}},{key:"dollyInFixed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._targetEnd.add(this._getCameraDirection(nW).multiplyScalar(e)),t||this._target.copy(this._targetEnd);var n=!t||BV(this._target.x,this._targetEnd.x,this.restThreshold)&&BV(this._target.y,this._targetEnd.y,this.restThreshold)&&BV(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(n)}},{key:"zoom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.zoomTo(this._zoomEnd+e,t)}},{key:"zoomTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._isUserControllingZoom=!1,this._zoomEnd=FV(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,t||(this._zoom=this._zoomEnd);var n=!t||BV(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(n)}},{key:"pan",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return console.warn("`pan` has been renamed to `truck`"),this.truck(e,t,n)}},{key:"truck",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._camera.updateMatrix(),rW.setFromMatrixColumn(this._camera.matrix,0),iW.setFromMatrixColumn(this._camera.matrix,1),rW.multiplyScalar(e),iW.multiplyScalar(-t);var r=JV.copy(rW).add(iW),i=eW.copy(this._targetEnd).add(r);return this.moveTo(i.x,i.y,i.z,n)}},{key:"forward",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];JV.setFromMatrixColumn(this._camera.matrix,0),JV.crossVectors(this._camera.up,JV),JV.multiplyScalar(e);var n=eW.copy(this._targetEnd).add(JV);return this.moveTo(n.x,n.y,n.z,t)}},{key:"elevate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return JV.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+JV.x,this._targetEnd.y+JV.y,this._targetEnd.z+JV.z,t)}},{key:"moveTo",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._isUserControllingTruck=!1;var i=JV.set(e,t,n).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,i,this.boundaryFriction),this._needsUpdate=!0,r||this._target.copy(this._targetEnd);var a=!r||BV(this._target.x,this._targetEnd.x,this.restThreshold)&&BV(this._target.y,this._targetEnd.y,this.restThreshold)&&BV(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(a)}},{key:"lookInDirectionOf",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=JV.set(e,t,n).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius);return this.setPosition(i.x,i.y,i.z,r)}},{key:"fitToBox",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.cover,i=void 0!==r&&r,a=n.paddingLeft,o=void 0===a?0:a,s=n.paddingRight,l=void 0===s?0:s,u=n.paddingBottom,c=void 0===u?0:u,d=n.paddingTop,f=void 0===d?0:d,h=[],p=e.isBox3?cW.copy(e):cW.setFromObject(e);p.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());var v=jV(this._sphericalEnd.theta,NV),m=jV(this._sphericalEnd.phi,NV);h.push(this.rotateTo(v,m,t));var g=JV.setFromSpherical(this._sphericalEnd).normalize(),y=hW.setFromUnitVectors(g,QV),b=BV(Math.abs(g.y),1);b&&y.multiply(pW.setFromAxisAngle(ZV,v)),y.multiply(this._yAxisUpSpaceInverse);var x=dW.makeEmpty();eW.copy(p.min).applyQuaternion(y),x.expandByPoint(eW),eW.copy(p.min).setX(p.max.x).applyQuaternion(y),x.expandByPoint(eW),eW.copy(p.min).setY(p.max.y).applyQuaternion(y),x.expandByPoint(eW),eW.copy(p.max).setZ(p.min.z).applyQuaternion(y),x.expandByPoint(eW),eW.copy(p.min).setZ(p.max.z).applyQuaternion(y),x.expandByPoint(eW),eW.copy(p.max).setY(p.min.y).applyQuaternion(y),x.expandByPoint(eW),eW.copy(p.max).setX(p.min.x).applyQuaternion(y),x.expandByPoint(eW),eW.copy(p.max).applyQuaternion(y),x.expandByPoint(eW),x.min.x-=o,x.min.y-=c,x.max.x+=l,x.max.y+=f,y.setFromUnitVectors(QV,g),b&&y.premultiply(pW.invert()),y.premultiply(this._yAxisUpSpace);var w=x.getSize(JV),S=x.getCenter(eW).applyQuaternion(y);if(IV(this._camera)){var _=this.getDistanceToFitBox(w.x,w.y,w.z,i);h.push(this.moveTo(S.x,S.y,S.z,t)),h.push(this.dollyTo(_,t)),h.push(this.setFocalOffset(0,0,0,t))}else if(OV(this._camera)){var k=this._camera,E=k.right-k.left,C=k.top-k.bottom,M=i?Math.max(E/w.x,C/w.y):Math.min(E/w.x,C/w.y);h.push(this.moveTo(S.x,S.y,S.z,t)),h.push(this.zoomTo(M,t)),h.push(this.setFocalOffset(0,0,0,t))}return Promise.all(h)}},{key:"fitToSphere",value:function(e,t){var r=[],i=e instanceof YV.Sphere?fW.copy(e):n.createBoundingSphere(e,fW);if(r.push(this.moveTo(i.center.x,i.center.y,i.center.z,t)),IV(this._camera)){var a=this.getDistanceToFitSphere(i.radius);r.push(this.dollyTo(a,t))}else if(OV(this._camera)){var o=this._camera.right-this._camera.left,s=this._camera.top-this._camera.bottom,l=2*i.radius,u=Math.min(o/l,s/l);r.push(this.zoomTo(u,t))}return r.push(this.setFocalOffset(0,0,0,t)),Promise.all(r)}},{key:"setLookAt",value:function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=RV,this._changedDolly=0;var s=eW.set(r,i,a),l=JV.set(e,t,n);this._targetEnd.copy(s),this._sphericalEnd.setFromVector3(l.sub(s).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,o||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));var u=!o||BV(this._target.x,this._targetEnd.x,this.restThreshold)&&BV(this._target.y,this._targetEnd.y,this.restThreshold)&&BV(this._target.z,this._targetEnd.z,this.restThreshold)&&BV(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&BV(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&BV(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(u)}},{key:"lerpLookAt",value:function(e,t,n,r,i,a,o,s,l,u,c,d,f){var h=arguments.length>13&&void 0!==arguments[13]&&arguments[13];this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=RV,this._changedDolly=0;var p=JV.set(r,i,a),v=eW.set(e,t,n);lW.setFromVector3(v.sub(p).applyQuaternion(this._yAxisUpSpace));var m=tW.set(u,c,d),g=eW.set(o,s,l);uW.setFromVector3(g.sub(m).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(p.lerp(m,f));var y=uW.theta-lW.theta,b=uW.phi-lW.phi,x=uW.radius-lW.radius;this._sphericalEnd.set(lW.radius+x*f,lW.phi+b*f,lW.theta+y*f),this.normalizeRotations(),this._needsUpdate=!0,h||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));var w=!h||BV(this._target.x,this._targetEnd.x,this.restThreshold)&&BV(this._target.y,this._targetEnd.y,this.restThreshold)&&BV(this._target.z,this._targetEnd.z,this.restThreshold)&&BV(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&BV(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&BV(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(w)}},{key:"setPosition",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.setLookAt(e,t,n,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,r)}},{key:"setTarget",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.getPosition(JV),a=this.setLookAt(i.x,i.y,i.z,e,t,n,r);return this._sphericalEnd.phi=FV(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),a}},{key:"setFocalOffset",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,t,n),this._needsUpdate=!0,r||this._focalOffset.copy(this._focalOffsetEnd);var i=!r||BV(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&BV(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&BV(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(i)}},{key:"setOrbitPoint",value:function(e,t,n){this._camera.updateMatrixWorld(),rW.setFromMatrixColumn(this._camera.matrixWorldInverse,0),iW.setFromMatrixColumn(this._camera.matrixWorldInverse,1),aW.setFromMatrixColumn(this._camera.matrixWorldInverse,2);var r=JV.set(e,t,n),i=r.distanceTo(this._camera.position),a=r.sub(this._camera.position);rW.multiplyScalar(a.x),iW.multiplyScalar(a.y),aW.multiplyScalar(a.z),JV.copy(rW).add(iW).add(aW),JV.z=JV.z+i,this.dollyTo(i,!1),this.setFocalOffset(-JV.x,JV.y,-JV.z,!1),this.moveTo(e,t,n,!1)}},{key:"setBoundary",value:function(e){if(!e)return this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),void(this._needsUpdate=!0);this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}},{key:"setViewport",value:function(e,t,n,r){null!==e?(this._viewport=this._viewport||new YV.Vector4,"number"===typeof e?this._viewport.set(e,t,n,r):this._viewport.copy(e)):this._viewport=null}},{key:"getDistanceToFitBox",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(XV(this._camera,"getDistanceToFitBox"))return this._spherical.radius;var i=e/t,a=this._camera.getEffectiveFOV()*UV,o=this._camera.aspect;return.5*((r?i>o:i<o)?t:e/o)/Math.tan(.5*a)+.5*n}},{key:"getDistanceToFitSphere",value:function(e){if(XV(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;var t=this._camera.getEffectiveFOV()*UV,n=2*Math.atan(Math.tan(.5*t)*this._camera.aspect),r=1<this._camera.aspect?t:n;return e/Math.sin(.5*r)}},{key:"getTarget",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(e&&e.isVector3?e:new YV.Vector3).copy(t?this._targetEnd:this._target)}},{key:"getPosition",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(e&&e.isVector3?e:new YV.Vector3).setFromSpherical(t?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(t?this._targetEnd:this._target)}},{key:"getSpherical",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(e&&e instanceof YV.Spherical?e:new YV.Spherical).copy(t?this._sphericalEnd:this._spherical)}},{key:"getFocalOffset",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(e&&e.isVector3?e:new YV.Vector3).copy(t?this._focalOffsetEnd:this._focalOffset)}},{key:"normalizeRotations",value:function(){this._sphericalEnd.theta=this._sphericalEnd.theta%LV,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=LV),this._spherical.theta+=LV*Math.round((this._sphericalEnd.theta-this._spherical.theta)/LV)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!BV(this._camera.up.x,this._cameraUp0.x)||!BV(this._camera.up.y,this._cameraUp0.y)||!BV(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);var t=this.getPosition(JV);this.updateCameraUp(),this.setPosition(t.x,t.y,t.z)}var n=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(n)}},{key:"saveState",value:function(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}},{key:"updateCameraUp",value:function(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,ZV),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}},{key:"applyCameraUp",value:function(){var e=JV.subVectors(this._target,this._camera.position).normalize(),t=eW.crossVectors(e,this._camera.up);this._camera.up.crossVectors(t,e).normalize(),this._camera.updateMatrixWorld();var n=this.getPosition(JV);this.updateCameraUp(),this.setPosition(n.x,n.y,n.z)}},{key:"update",value:function(e){var t=this._sphericalEnd.theta-this._spherical.theta,n=this._sphericalEnd.phi-this._spherical.phi,r=this._sphericalEnd.radius-this._spherical.radius,i=oW.subVectors(this._targetEnd,this._target),a=sW.subVectors(this._focalOffsetEnd,this._focalOffset),o=this._zoomEnd-this._zoom;if(zV(t))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{var s=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=VV(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,s,1/0,e),this._needsUpdate=!0}if(zV(n))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{var l=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=VV(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,l,1/0,e),this._needsUpdate=!0}if(zV(r))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{var u=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=VV(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,u,this.maxSpeed,e),this._needsUpdate=!0}if(zV(i.x)&&zV(i.y)&&zV(i.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{var c=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;WV(this._target,this._targetEnd,this._targetVelocity,c,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(zV(a.x)&&zV(a.y)&&zV(a.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{var d=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;WV(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,d,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(zV(o))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{var f=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=VV(this._zoom,this._zoomEnd,this._zoomVelocity,f,1/0,e)}if(this.dollyToCursor)if(IV(this._camera)&&0!==this._changedDolly){var h=this._spherical.radius-this._lastDistance,p=this._camera,v=this._getCameraDirection(nW),m=JV.copy(v).cross(p.up).normalize();0===m.lengthSq()&&(m.x=1);var g=eW.crossVectors(m,v),y=this._sphericalEnd.radius*Math.tan(p.getEffectiveFOV()*UV*.5),b=(this._sphericalEnd.radius-h-this._sphericalEnd.radius)/this._sphericalEnd.radius,x=tW.copy(this._targetEnd).add(m.multiplyScalar(this._dollyControlCoord.x*y*p.aspect)).add(g.multiplyScalar(this._dollyControlCoord.y*y)),w=JV.copy(this._targetEnd).lerp(x,b),S=this._lastDollyDirection===AV&&this._spherical.radius<=this.minDistance,_=this._lastDollyDirection===PV&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(S||_)){this._sphericalEnd.radius-=h,this._spherical.radius-=h;var k=eW.copy(v).multiplyScalar(-h);w.add(k)}this._boundary.clampPoint(w,w);var E=eW.subVectors(w,this._targetEnd);this._targetEnd.copy(w),this._target.add(E),this._changedDolly-=h,zV(this._changedDolly)&&(this._changedDolly=0)}else if(OV(this._camera)&&0!==this._changedZoom){var C=this._zoom-this._lastZoom,M=this._camera,T=JV.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(M.near+M.far)/(M.near-M.far)).unproject(M),R=eW.set(0,0,-1).applyQuaternion(M.quaternion),A=tW.copy(T).add(R.multiplyScalar(-T.dot(M.up))),P=-(this._zoom-C-this._zoom)/this._zoom,I=this._getCameraDirection(nW),O=this._targetEnd.dot(I),L=JV.copy(this._targetEnd).lerp(A,P),N=L.dot(I),D=I.multiplyScalar(N-O);L.sub(D),this._boundary.clampPoint(L,L);var U=eW.subVectors(L,this._targetEnd);this._targetEnd.copy(L),this._target.add(U),this._changedZoom-=C,zV(this._changedZoom)&&(this._changedZoom=0)}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0);var F=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,F),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!zV(this._focalOffset.x)||!zV(this._focalOffset.y)||!zV(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),rW.setFromMatrixColumn(this._camera.matrix,0),iW.setFromMatrixColumn(this._camera.matrix,1),aW.setFromMatrixColumn(this._camera.matrix,2),rW.multiplyScalar(this._focalOffset.x),iW.multiplyScalar(-this._focalOffset.y),aW.multiplyScalar(this._focalOffset.z),JV.copy(rW).add(iW).add(aW),this._camera.position.add(JV)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),JV.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);var z=this._needsUpdate;return z&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):z?(this.dispatchEvent({type:"update"}),zV(t,this.restThreshold)&&zV(n,this.restThreshold)&&zV(r,this.restThreshold)&&zV(i.x,this.restThreshold)&&zV(i.y,this.restThreshold)&&zV(i.z,this.restThreshold)&&zV(a.x,this.restThreshold)&&zV(a.y,this.restThreshold)&&zV(a.z,this.restThreshold)&&zV(o,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!z&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=z,this._needsUpdate=!1,z}},{key:"toJSON",value:function(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:HV(this.maxDistance),minZoom:this.minZoom,maxZoom:HV(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:HV(this.maxPolarAngle),minAzimuthAngle:HV(this.minAzimuthAngle),maxAzimuthAngle:HV(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:JV.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}},{key:"fromJSON",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=JSON.parse(e);this.enabled=n.enabled,this.minDistance=n.minDistance,this.maxDistance=GV(n.maxDistance),this.minZoom=n.minZoom,this.maxZoom=GV(n.maxZoom),this.minPolarAngle=n.minPolarAngle,this.maxPolarAngle=GV(n.maxPolarAngle),this.minAzimuthAngle=GV(n.minAzimuthAngle),this.maxAzimuthAngle=GV(n.maxAzimuthAngle),this.smoothTime=n.smoothTime,this.draggingSmoothTime=n.draggingSmoothTime,this.dollySpeed=n.dollySpeed,this.truckSpeed=n.truckSpeed,this.dollyToCursor=n.dollyToCursor,this.verticalDragToForward=n.verticalDragToForward,this._target0.fromArray(n.target0),this._position0.fromArray(n.position0),this._zoom0=n.zoom0,this._focalOffset0.fromArray(n.focalOffset0),this.moveTo(n.target[0],n.target[1],n.target[2],t),lW.setFromVector3(JV.fromArray(n.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(lW.theta,lW.phi,t),this.dollyTo(lW.radius,t),this.zoomTo(n.zoom,t),this.setFocalOffset(n.focalOffset[0],n.focalOffset[1],n.focalOffset[2],t),this._needsUpdate=!0}},{key:"connect",value:function(e){this._domElement?console.warn("camera-controls is already connected."):(e.setAttribute("data-camera-controls-version","2.7.2"),this._addAllEventListeners(e),this._getClientRect(this._elementRect))}},{key:"disconnect",value:function(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}},{key:"dispose",value:function(){this.removeAllEventListeners(),this.disconnect()}},{key:"_getTargetDirection",value:function(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}},{key:"_getCameraDirection",value:function(e){return this._getTargetDirection(e).negate()}},{key:"_findPointerById",value:function(e){return this._activePointers.find((function(t){return t.pointerId===e}))}},{key:"_findPointerByMouseButton",value:function(e){return this._activePointers.find((function(t){return t.mouseButton===e}))}},{key:"_disposePointer",value:function(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}},{key:"_encloseToBoundary",value:function(e,t,n){var r=t.lengthSq();if(0===r)return e;var i=eW.copy(t).add(e),a=this._boundary.clampPoint(i,tW).sub(i),o=a.lengthSq();if(0===o)return e.add(t);if(o===r)return e;if(0===n)return e.add(t).add(a);var s=1+n*o/t.dot(a);return e.add(eW.copy(t).multiplyScalar(s)).add(a.multiplyScalar(1-n))}},{key:"_updateNearPlaneCorners",value:function(){if(IV(this._camera)){var e=this._camera,t=e.near,n=e.getEffectiveFOV()*UV,r=Math.tan(.5*n)*t,i=r*e.aspect;this._nearPlaneCorners[0].set(-i,-r,0),this._nearPlaneCorners[1].set(i,-r,0),this._nearPlaneCorners[2].set(i,r,0),this._nearPlaneCorners[3].set(-i,r,0)}else if(OV(this._camera)){var a=this._camera,o=1/a.zoom,s=a.left*o,l=a.right*o,u=a.top*o,c=a.bottom*o;this._nearPlaneCorners[0].set(s,u,0),this._nearPlaneCorners[1].set(l,u,0),this._nearPlaneCorners[2].set(l,c,0),this._nearPlaneCorners[3].set(s,c,0)}}},{key:"_collisionTest",value:function(){var e=1/0;if(!(this.colliderMeshes.length>=1))return e;if(XV(this._camera,"_collisionTest"))return e;var t=this._getTargetDirection(nW);vW.lookAt(KV,t,this._camera.up);for(var n=0;n<4;n++){var r=eW.copy(this._nearPlaneCorners[n]);r.applyMatrix4(vW);var i=tW.addVectors(this._target,r);mW.set(i,t),mW.far=this._spherical.radius+1;var a=mW.intersectObjects(this.colliderMeshes);0!==a.length&&a[0].distance<e&&(e=a[0].distance)}return e}},{key:"_getClientRect",value:function(e){if(this._domElement){var t=this._domElement.getBoundingClientRect();return e.x=t.left,e.y=t.top,this._viewport?(e.x+=this._viewport.x,e.y+=t.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=t.width,e.height=t.height),e}}},{key:"_createOnRestPromise",value:function(e){var t=this;return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise((function(e){t.addEventListener("rest",(function n(){t.removeEventListener("rest",n),e()}))})))}},{key:"_addAllEventListeners",value:function(e){}},{key:"_removeAllEventListeners",value:function(){}},{key:"dampingFactor",get:function(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0},set:function(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}},{key:"draggingDampingFactor",get:function(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0},set:function(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}}],[{key:"install",value:function(e){YV=e.THREE,KV=Object.freeze(new YV.Vector3(0,0,0)),ZV=Object.freeze(new YV.Vector3(0,1,0)),QV=Object.freeze(new YV.Vector3(0,0,1)),$V=new YV.Vector2,JV=new YV.Vector3,eW=new YV.Vector3,tW=new YV.Vector3,nW=new YV.Vector3,rW=new YV.Vector3,iW=new YV.Vector3,aW=new YV.Vector3,oW=new YV.Vector3,sW=new YV.Vector3,lW=new YV.Spherical,uW=new YV.Spherical,cW=new YV.Box3,dW=new YV.Box3,fW=new YV.Sphere,hW=new YV.Quaternion,pW=new YV.Quaternion,vW=new YV.Matrix4,mW=new YV.Raycaster}},{key:"ACTION",get:function(){return TV}},{key:"createBoundingSphere",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new YV.Sphere,n=t.center;cW.makeEmpty(),e.traverseVisible((function(e){e.isMesh&&cW.expandByObject(e)})),cW.getCenter(n);var r=0;return e.traverseVisible((function(e){if(e.isMesh){var t=e,i=t.geometry.clone();i.applyMatrix4(t.matrixWorld);for(var a=i.attributes.position,o=0,s=a.count;o<s;o++)JV.fromBufferAttribute(a,o),r=Math.max(r,n.distanceToSquared(JV))}})),t.radius=Math.sqrt(r),t}}]),n}(gW),_W=n(1065),kW=function(){var e=new Map,n=[],r=function(t){t.forEach((function(t){if(!t.disabled)if(t.ref){if(!t.ref.current)return;var n=t.ref.current;e.has(n)||e.set(n,new _W(n)),e.get(n).bind(t.keys,t.callback,t.action)}else e.get(void 0)||e.set(void 0,_W),e.get(void 0).bind(t.keys,t.callback,t.action)}))},i=function(e){n=[].concat(k(n),k(e)),r(e)},a=function(t){n=n.filter((function(e){return!t.includes(e)})),t.forEach((function(t){var n,r;if(t.ref){if(!t.ref.current)return;null==(n=e.get(t.ref.current))||n.unbind(t.keys,t.action)}else null==(r=e.get(void 0))||r.unbind(t.keys,t.action)}));var i,a=Jv(e);try{var o=function(){var t=M(i.value,1)[0];if(void 0===t){if(n.some((function(e){return void 0===e.ref})))return 0}else if(n.some((function(e){var n;return(null==(n=e.ref)?void 0:n.current)===t})))return 0;e.delete(t)};for(a.s();!(i=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}r(n)};return function(){var e=M((0,t.useState)([]),2),r=e[0],o=e[1];return(0,t.useEffect)((function(){o(n)}),[]),[r,i,a]}}(),EW=function(e){var n=M(kW(),3),r=n[0],i=n[1],a=n[2];return(0,t.useLayoutEffect)((function(){return e&&i(e),function(){e&&a(e)}}),[i,a,e]),(0,t.useMemo)((function(){return r.reduce((function(e,t){return e.find((function(e){return e.keys===t.keys&&e.ref&&t.ref}))||e.push(t),e}),[])}),[r])};try{navigator&&navigator.platform.toUpperCase().indexOf("MAC")>=0}catch(Ine){console.warn(Ine)}var CW;!function(e){e.HOLD_START="holdStart",e.HOLD_END="holdEnd",e.HOLDING="holding"}(CW||(CW={}));var MW=function(){function e(){Xs(this,e),this._listeners={}}return Ks(e,[{key:"addEventListener",value:function(e,t){var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"removeEventListener",value:function(e,t){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},{key:"dispatchEvent",value:function(e){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}]),e}(),TW=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this))._enabled=!0,r._holding=!1,r._intervalId=-1,r._deltaTime=0,r._elapsedTime=0,r._lastTime=0,r._holdStart=function(e){if(r._enabled&&!r._holding){r._deltaTime=0,r._elapsedTime=0,r._lastTime=performance.now(),r.dispatchEvent({type:CW.HOLD_START,deltaTime:r._deltaTime,elapsedTime:r._elapsedTime,originalEvent:e}),r._holding=!0;var t=function t(){r._intervalId=r.holdIntervalDelay?window.setTimeout(t,r.holdIntervalDelay):window.requestAnimationFrame(t);var n=performance.now();r._deltaTime=n-r._lastTime,r._elapsedTime+=r._deltaTime,r._lastTime=performance.now(),r.dispatchEvent({type:CW.HOLDING,deltaTime:r._deltaTime,elapsedTime:r._elapsedTime,originalEvent:e})};r._intervalId=r.holdIntervalDelay?window.setTimeout(t,r.holdIntervalDelay):window.requestAnimationFrame(t)}},r._holdEnd=function(e){if(r._enabled&&r._holding){var t=performance.now();r._deltaTime=t-r._lastTime,r._elapsedTime+=r._deltaTime,r._lastTime=performance.now(),r.dispatchEvent({type:CW.HOLD_END,deltaTime:r._deltaTime,elapsedTime:r._elapsedTime,originalEvent:e}),window.clearTimeout(r._intervalId),window.cancelAnimationFrame(r._intervalId),r._holding=!1}},r.holdIntervalDelay=e,r}return Ks(n,[{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,this._enabled||this._holdEnd())}}]),n}(MW),RW=function(e){tm(n,e);var t=im(n);function n(e,r){var i;Xs(this,n),(i=t.call(this,r))._holdStart=i._holdStart.bind(Br(i)),i._holdEnd=i._holdEnd.bind(Br(i));return document.addEventListener("keydown",(function(t){(function(e){var t=e.target;return"INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable})(t)||t.keyCode===e&&i._holdStart(t)})),document.addEventListener("keyup",(function(t){t.keyCode===e&&i._holdEnd(t)})),window.addEventListener("blur",i._holdEnd),i}return Ks(n)}(TW);n(1694);var AW,PW,IW=["graph","drags","iterations"],OW=["type"],LW=["graph","maxIterations","ratio","margin","gridSize"],NW=["graph","iterations","gravity","scalingRatio"],DW=["type"],UW=["data","fill","icon","label","size"],FW=["data","id","label","size"],zW=["id","image","color","size","opacity","animated"],BW=["onNodeClick","onNodeDoubleClick","onNodeContextMenu","onEdgeContextMenu","onEdgeClick","onEdgePointerOver","onEdgePointerOut","onNodePointerOver","onNodePointerOut","onClusterClick","onNodeDragged","onClusterPointerOver","onClusterPointerOut","contextMenu","theme","animated","disabled","draggable","edgeLabelPosition","edgeArrowPosition","edgeInterpolation","labelFontUrl","renderNode"],jW=["cameraMode","edges","children","nodes","theme","onCanvasClick","animated","disabled","lassoType","onLasso","onLassoEnd","glOptions"];function HW(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=n.length,i=Jv(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=n.indexOf(a);if(o>-1){var s=[].concat(k(n.slice(o)),[a]).map((function(e){return e.data.id}));throw new Error("Invalid Graph: Circular node path detected: ".concat(s.join(" -> "),"."))}r>a.depth&&(a.depth=r,HW(a.out,[].concat(k(n),[a])))}}catch(l){i.e(l)}finally{i.f()}}function GW(e,t){var n=!1,r=e.reduce((function(e,t){return $v($v({},e),{},s({},t.id,{data:t,out:[],depth:-1,ins:[]}))}),{});try{var i,a=Jv(t);try{for(a.s();!(i=a.n()).done;){var o=i.value,l=o.source,u=o.target;if(!r.hasOwnProperty(l))throw new Error("Missing source Node ".concat(l));if(!r.hasOwnProperty(u))throw new Error("Missing target Node ".concat(u));var c=r[l],d=r[u];d.ins.push(c),c.out.push(d)}}catch(p){a.e(p)}finally{a.f()}HW(Object.values(r))}catch(Ine){n=!0}var f=Object.keys(r).map((function(e){return r[e].depth})),h=Math.max.apply(Math,k(f));return{invalid:n,depths:r,maxDepth:h||1}}!function(){try{if("undefined"!=typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode("._canvas_670zp_1 {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n._container_155l7_1 {\n  transform-origin: bottom right;\n  overflow: hidden;\n  position: absolute;\n  border: solid 1px var(--radial-menu-border);\n}\n\n  ._container_155l7_1._disabled_155l7_7 {\n    opacity: 0.6;\n  }\n\n  ._container_155l7_1._disabled_155l7_7 ._contentContainer_155l7_10 {\n      cursor: not-allowed;\n    }\n\n  ._container_155l7_1:not(._disabled_155l7_7) ._contentContainer_155l7_10 {\n      cursor: pointer;\n    }\n\n  ._container_155l7_1:not(._disabled_155l7_7) ._contentContainer_155l7_10:hover {\n        color: var(--radial-menu-active-color);\n        background: var(--radial-menu-active-background);\n      }\n\n  ._container_155l7_1 ._contentContainer_155l7_10 {\n    width: 200%;\n    height: 200%;\n    transform-origin: 50% 50%;\n    border-radius: 50%;\n    outline: none;\n    transition: background 150ms ease-in-out;\n    color: var(--radial-menu-color);\n  }\n\n  ._container_155l7_1 ._contentContainer_155l7_10 ._contentInner_155l7_35 {\n      position: absolute;\n      width: 100%;\n      text-align: center;\n    }\n\n  ._container_155l7_1 ._contentContainer_155l7_10 ._contentInner_155l7_35 ._content_155l7_10 {\n        display: inline-block;\n      }\n\n  ._container_155l7_1 svg {\n    margin: 0 auto;\n    fill: var(--radial-menu-active-color);\n    height: 25px;\n    width: 25px;\n    display: block;\n  }\n._container_x9hyx_1 {\n  border-radius: 50%;\n  z-index: 9;\n  position: relative;\n  height: 175px;\n  width: 175px;\n  border: solid 5px var(--radial-menu-border);\n  overflow: hidden;\n  background: var(--radial-menu-background);\n}\n\n  ._container_x9hyx_1:before {\n    content: ' ';\n    background: var(--radial-menu-border);\n    border-radius: 50%;\n    height: 25px;\n    width: 25px;\n    position: absolute;\n    z-index: 9;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }")),document.head.appendChild(e)}}catch(Ine){console.error("vite-plugin-css-injected-by-js",Ine)}}();var VW=["radialin","radialout"];function WW(e){var t=e.nodes,n=e.edges,r=e.mode,i=void 0===r?"lr":r,a=e.nodeLevelRatio,o=void 0===a?2:a,s=GW(t,n),l=s.depths,u=s.maxDepth;if(s.invalid)return null;var c=VW.includes(i)?1:5,d=t.length/u*o*c;if(i){var f=function(e,t){return function(n){return e?(l[n.id].depth-u/2)*d*(t?-1:1):void 0}},h=f(["lr","rl"].includes(i),"rl"===i),p=f(["td","bu"].includes(i),"td"===i),v=f(["zin","zout"].includes(i),"zout"===i);t.forEach((function(e){e.fx=h(e),e.fy=p(e),e.fz=v(e)}))}return VW.includes(i)?function(e,t,n,r){var i,a,o,s,l=bO(.1);function u(e){for(var l=0,u=i.length;l<u;++l){var c=i[l],d=c.x-t||1e-6,f=(c.y||0)-n||1e-6,h=(c.z||0)-r||1e-6,p=Math.sqrt(d*d+f*f+h*h),v=(s[l]-p)*o[l]*e/p;c.vx+=d*v,a>1&&(c.vy+=f*v),a>2&&(c.vz+=h*v)}}function c(){if(i){var t,n=i.length;for(o=new Array(n),s=new Array(n),t=0;t<n;++t)s[t]=+e(i[t],t,i),o[t]=isNaN(s[t])?0:+l(i[t],t,i)}}return"function"!==typeof e&&(e=bO(+e)),null==t&&(t=0),null==n&&(n=0),null==r&&(r=0),u.initialize=function(e){i=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a=n.find((function(e){return[1,2,3].includes(e)}))||2,c()},u.strength=function(e){return arguments.length?(l="function"===typeof e?e:bO(+e),c(),u):l},u.radius=function(t){return arguments.length?(e="function"===typeof t?t:bO(+t),c(),u):e},u.x=function(e){return arguments.length?(t=+e,u):t},u.y=function(e){return arguments.length?(n=+e,u):n},u.z=function(e){return arguments.length?(r=+e,u):r},u}((function(e){var t=l[e.id];return("radialin"===i?u-t.depth:t.depth)*d})).strength(1):null}function qW(e){var t=[],n=[];return e.forEachNode((function(e,n){t.push($v($v({},n),{},{id:e,radius:n.size||1}))})),e.forEachEdge((function(e,t){n.push($v($v({},t),{},{id:e}))})),{nodes:t,edges:n}}function XW(){function e(e){return function(){return e}}var t,n,r=function(e){return e.index},i=[],a=[],o=[100,100],s=e(1),l=e(-1),u=e(100),c=e(.1),d={},f=.1,h=.001,p=[],v=[0,0],m=function(e){return e.cluster},g="treemap",y=!0,b=.1;function x(e){if(!y)return x;"force"===g&&(n.tick(),_());for(var t,r=0,a=i.length,o=e*b;r<a;++r)(t=i[r]).vx+=(d[m(t)].x-t.x)*o,t.vy+=(d[m(t)].y-t.y)*o}function w(){i&&("treemap"===g?function(){var e=function(){var e=zL,t=!1,n=1,r=1,i=[0],a=HL,o=HL,s=HL,l=HL,u=HL;function c(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(d),i=[0],t&&e.eachBefore(DL),e}function d(t){var n=i[t.depth],r=t.x0+n,c=t.y0+n,d=t.x1-n,f=t.y1-n;d<r&&(r=d=(r+d)/2),f<c&&(c=f=(c+f)/2),t.x0=r,t.y0=c,t.x1=d,t.y1=f,t.children&&(n=i[t.depth+1]=a(t)/2,r+=u(t)-n,c+=o(t)-n,(d-=s(t)-n)<r&&(r=d=(r+d)/2),(f-=l(t)-n)<c&&(c=f=(c+f)/2),e(t,r,c,d,f))}return c.round=function(e){return arguments.length?(t=!!e,c):t},c.size=function(e){return arguments.length?(n=+e[0],r=+e[1],c):[n,r]},c.tile=function(t){return arguments.length?(e=jL(t),c):e},c.padding=function(e){return arguments.length?c.paddingInner(e).paddingOuter(e):c.paddingInner()},c.paddingInner=function(e){return arguments.length?(a="function"===typeof e?e:GL(+e),c):a},c.paddingOuter=function(e){return arguments.length?c.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):c.paddingTop()},c.paddingTop=function(e){return arguments.length?(o="function"===typeof e?e:GL(+e),c):o},c.paddingRight=function(e){return arguments.length?(s="function"===typeof e?e:GL(+e),c):s},c.paddingBottom=function(e){return arguments.length?(l="function"===typeof e?e:GL(+e),c):l},c.paddingLeft=function(e){return arguments.length?(u="function"===typeof e?e:GL(+e),c):u},c}().size(x.size());t=XL(function(){var e,t,n,r,i=[],a=Jv((n=S(x.nodes())).keys());try{for(a.s();!(r=a.n()).done;)e=r.value,t=n.get(e),i.push({id:e,size:t.count})}catch(o){a.e(o)}finally{a.f()}return{id:"clustersTree",children:i}}()).sum((function(e){return e.radius})).sort((function(e,t){return t.height-e.height||t.value-e.value})),p=e(t).leaves(),_()}():function(){var e;if(!i||!i.length)return;if(i&&i.length>0&&void 0===m(i[0]))throw Error('Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy("clusterAttr") before calling .links()');(function(){var e=0;if(0===i.length)return;a.forEach((function(t){var n,r;if(i){if(n=t.source,r=t.target,"object"!==typeof t.source&&(n=i.find((function(e){return e.id===t.source}))),"object"!==typeof t.target&&(r=i.find((function(e){return e.id===t.target}))),void 0===n||void 0===r)throw Error("Error setting links, couldnt find nodes for a link (see it on the console)");t.source=n,t.target=r,t.index=e++}}))})(),e=function(){var e,t,n,r,o,s=[],l=[],u=new Map;r=S(i),o=function(e){var t=new Map,n=[];return e.forEach((function(e){var n,r=function(e){var t=m(e.source),n=m(e.target);return t<=n?t+"~"+n:n+"~"+t}(e);n=t.has(r)?t.get(r):0,n+=1,t.set(r,n)})),t.forEach((function(e,t){var r,i;r=t.split("~")[0],i=t.split("~")[1],void 0!==r&&void 0!==i&&n.push({source:r,target:i,count:e})})),n}(a);var c,d=Jv(r.keys());try{for(d.s();!(c=d.n()).done;)e=c.value,n=r.get(e),s.push({id:e,size:n.count,r:Math.sqrt(n.sumforceNodeSize/Math.PI)}),u.set(e,t)}catch(f){d.e(f)}finally{d.f()}return o.forEach((function(e){var t=u.get(e.source),n=u.get(e.target);void 0!==t&&void 0!==n&&l.push({source:t,target:n,count:e.count})})),{nodes:s,links:l}}(),n=eL(e.nodes).force("x",tL(o[0]/2).strength(.1)).force("y",nL(o[1]/2).strength(.1)).force("collide",PL((function(e){return e.r})).iterations(4)).force("charge",IL().strength(l)).force("links",NL(e.nodes.length?e.links:[]).distance(u).strength(c)),p=n.nodes(),_()}())}function S(e){var t=new Map,n={};return e.forEach((function(e){t.has(m(e))||t.set(m(e),{count:0,sumforceNodeSize:0})})),e.forEach((function(e){(n=t.get(m(e))).count=n.count+1,n.sumforceNodeSize=n.sumforceNodeSize+Math.PI*(s(e)*s(e))*1.3,t.set(m(e),n)})),t}function _(){return d.none={x:0,y:0},p.forEach((function(e){"treemap"===g?d[e.data.id]={x:e.x0+(e.x1-e.x0)/2-v[0],y:e.y0+(e.y1-e.y0)/2-v[1]}:d[e.id]={x:e.x-v[0],y:e.y-v[1]}})),d}return x.initialize=function(e){i=e,w()},x.template=function(e){return arguments.length?(g=e,w(),x):g},x.groupBy=function(e){return arguments.length?"string"===typeof e?(m=function(t){return t[e]},x):(m=e,x):m},x.enableGrouping=function(e){return arguments.length?(y=e,x):y},x.strength=function(e){return arguments.length?(b=e,x):b},x.getLinkStrength=function(e){return y?m(e.source)===m(e.target)?"function"===typeof f?f(e):f:"function"===typeof h?h(e):h:"function"===typeof f?f(e):f},x.id=function(e){return arguments.length?(r=e,x):r},x.size=function(e){return arguments.length?(o=e,x):o},x.linkStrengthInterCluster=function(e){return arguments.length?(h=e,x):h},x.linkStrengthIntraCluster=function(e){return arguments.length?(f=e,x):f},x.nodes=function(e){return arguments.length?(i=e,x):i},x.links=function(e){return arguments.length?(a=null===e?[]:e,w(),x):a},x.template=function(e){return arguments.length?(g=e,w(),x):g},x.forceNodeSize=function(t){return arguments.length?(s="function"===typeof t?t:e(+t),w(),x):s},x.nodeSize=x.forceNodeSize,x.forceCharge=function(t){return arguments.length?(l="function"===typeof t?t:e(+t),w(),x):l},x.forceLinkDistance=function(t){return arguments.length?(u="function"===typeof t?t:e(+t),w(),x):u},x.forceLinkStrength=function(t){return arguments.length?(c="function"===typeof t?t:e(+t),w(),x):c},x.offset=function(t){return arguments.length?(v="function"===typeof t?t:e(+t),x):v},x.getFocis=_,x}var YW=100;function KW(e){var t,n=e.graph,r=e.nodeLevelRatio,i=void 0===r?2:r,a=e.mode,o=void 0===a?null:a,s=e.dimensions,l=void 0===s?2:s,u=e.nodeStrength,c=void 0===u?-250:u,d=e.linkDistance,f=void 0===d?50:d,h=e.clusterStrength,p=void 0===h?.5:h,v=e.linkStrengthInterCluster,m=void 0===v?.01:v,g=e.linkStrengthIntraCluster,y=void 0===g?.5:g,b=e.forceLinkDistance,x=void 0===b?100:b,w=e.forceLinkStrength,S=void 0===w?.1:w,_=e.clusterType,k=void 0===_?"force":_,E=e.forceCharge,C=void 0===E?-700:E,M=e.getNodePosition,T=e.drags,R=e.clusterAttribute,A=qW(n),P=A.nodes,I=A.edges,O=2===l&&I.length>25?2*c:c,L=eL().force("link",NL()).force("charge",IL().strength(O)).force("x",tL(600).strength(.05)).force("y",nL(600).strength(.05)).force("z",function(e){var t,n,r,i=bO(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vz+=(r[a]-i.z)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=bO(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:bO(+e),o(),a):i},a.z=function(t){return arguments.length?(e="function"===typeof t?t:bO(+t),o(),a):e},a}()).force("collide",PL((function(e){return e.radius}))).force("dagRadial",WW({nodes:P,edges:I,mode:o,nodeLevelRatio:i})).stop();R&&(t=XW().strength(p).template(k).groupBy((function(e){return e.data[R]})).links(I).size([100,100]).linkStrengthInterCluster(m).linkStrengthIntraCluster(y).forceLinkDistance(x).forceLinkStrength(S).forceCharge(C).forceNodeSize((function(e){return e.radius})));var N=L.numDimensions(l).nodes(P);if(t&&(N=N.force("group",t)),f){var D,U=N.force("link");if(U)if(U.id((function(e){return e.id})).links(I).distance(f),t)U=U.strength(null!==(D=null==t?void 0:t.getLinkStrength)&&void 0!==D?D:.1)}var F=new Map(P.map((function(e){return[e.id,e]})));return{step:function(){return L.tick(YW),!0},getNodePosition:function(e){var t,r;if(M){var i=M(e,{graph:n,drags:T,nodes:P,edges:I});if(i)return i}return(null==(t=null==T?void 0:T[e])?void 0:t.position)?null==(r=null==T?void 0:T[e])?void 0:r.position:F.get(e)}}}var ZW={td:{x:"x",y:"y",factor:-1},lr:{x:"y",y:"x",factor:1}};function QW(e){var t=e.graph,n=e.drags,r=e.mode,i=void 0===r?"td":r,a=e.getNodePosition,o=qW(t),l=o.nodes,u=o.edges,c=GW(l,u).depths,d=Object.keys(c).map((function(e){return c[e]})),f=iN().id((function(e){return e.data.id})).parentId((function(e){var t,n,r;return null==(r=null==(n=null==(t=e.ins)?void 0:t[0])?void 0:n.data)?void 0:r.id}))(d),h=hN().separation((function(){return 1})).nodeSize([50,50])(XL(f)).descendants(),p=ZW[i],v=new Map(l.map((function(e){var t,n=h.find((function(t){return t.data.id===e.id})),r=n.x,i=n.y;return[e.id,$v($v({},e),{},(t={},s(t,p.x,r*p.factor),s(t,p.y,i*p.factor),s(t,"z",0),t))]})));return{step:function(){return!0},getNodePosition:function(e){var r,i;if(a){var o=a(e,{graph:t,drags:n,nodes:l,edges:u});if(o)return o}return(null==(r=null==n?void 0:n[e])?void 0:r.position)?null==(i=null==n?void 0:n[e])?void 0:i.position:v.get(e)}}}var $W=["forceDirected2d","treeTd2d","treeLr2d","radialOut2d","treeTd3d","treeLr3d","radialOut3d","forceDirected3d"];function JW(e){var t=e.type,n=Zv(e,OW);if($W.includes(t)){var r=n.nodeStrength,i=n.linkDistance,a=n.nodeLevelRatio;if("forceDirected2d"===t)return KW($v($v({},n),{},{dimensions:2,nodeLevelRatio:a||2,nodeStrength:r||-250,linkDistance:i}));if("treeTd2d"===t)return KW($v($v({},n),{},{mode:"td",dimensions:2,nodeLevelRatio:a||5,nodeStrength:r||-250,linkDistance:i||50}));if("treeLr2d"===t)return KW($v($v({},n),{},{mode:"lr",dimensions:2,nodeLevelRatio:a||5,nodeStrength:r||-250,linkDistance:i||50}));if("radialOut2d"===t)return KW($v($v({},n),{},{mode:"radialout",dimensions:2,nodeLevelRatio:a||5,nodeStrength:r||-500,linkDistance:i||100}));if("treeTd3d"===t)return KW($v($v({},n),{},{mode:"td",dimensions:3,nodeLevelRatio:a||2,nodeStrength:r||-500,linkDistance:i||50}));if("treeLr3d"===t)return KW($v($v({},n),{},{mode:"lr",dimensions:3,nodeLevelRatio:a||2,nodeStrength:r||-500,linkDistance:i||50}));if("radialOut3d"===t)return KW($v($v({},n),{},{mode:"radialout",dimensions:3,nodeLevelRatio:a||2,nodeStrength:r||-500,linkDistance:i||100}));if("forceDirected3d"===t)return KW($v($v({},n),{},{dimensions:3,nodeLevelRatio:a||2,nodeStrength:r||-250,linkDistance:i}))}else{if("circular2d"===t){var o=n.radius;return function(e){var t=e.graph,n=e.radius,r=e.drags,i=e.getNodePosition,a=pN(t,{scale:n}),o=qW(t),s=o.nodes,l=o.edges;return{step:function(){return!0},getNodePosition:function(e){var n,o;if(i){var u=i(e,{graph:t,drags:r,nodes:s,edges:l});if(u)return u}return(null==(n=null==r?void 0:r[e])?void 0:n.position)?null==(o=null==r?void 0:r[e])?void 0:o.position:null==a?void 0:a[e]}}}($v($v({},n),{},{radius:o||300}))}if("hierarchicalTd"===t)return QW($v($v({},n),{},{mode:"td"}));if("hierarchicalLr"===t)return QW($v($v({},n),{},{mode:"lr"}));if("nooverlap"===t){var s=n.graph,l=n.maxIterations,u=n.ratio;return function(e){var t=e.graph,n=e.margin,r=e.drags,i=e.getNodePosition,a=e.ratio,o=e.gridSize,s=e.maxIterations,l=qW(t),u=l.nodes,c=l.edges,d=vN(t,{maxIterations:s,inputReducer:function(e,t){return $v($v({},t),{},{x:t.x||0,y:t.y||0})},settings:{ratio:a,margin:n,gridSize:o}});return{step:function(){return!0},getNodePosition:function(e){var n,a;if(i){var o=i(e,{graph:t,drags:r,nodes:u,edges:c});if(o)return o}return(null==(n=null==r?void 0:r[e])?void 0:n.position)?null==(a=null==r?void 0:r[e])?void 0:a.position:null==d?void 0:d[e]}}}($v({type:"nooverlap",graph:s,margin:n.margin||10,maxIterations:l||50,ratio:u||10,gridSize:n.gridSize||20},Zv(n,LW)))}if("forceatlas2"===t){var c=n.graph,d=n.iterations,f=n.gravity,h=n.scalingRatio;return function(e){var t=e.graph,n=e.drags,r=e.iterations,i=Zv(e,IW);gN.assign(t);var a=mN(t,{iterations:r,settings:i});return{step:function(){return!0},getNodePosition:function(e){var t;return(null==(t=null==n?void 0:n[e])?void 0:t.position)||(null==a?void 0:a[e])}}}($v($v({type:"forceatlas2",graph:c},Zv(n,NW)),{},{scalingRatio:h||100,gravity:f||10,iterations:d||50}))}if("custom"===t)return function(e){var t=e.graph,n=e.drags,r=e.getNodePosition,i=qW(t),a=i.nodes,o=i.edges;return{step:function(){return!0},getNodePosition:function(e){return r(e,{graph:t,drags:n,nodes:a,edges:o})}}}($v({type:"custom"},n))}throw new Error("Layout ".concat(t," not found."))}var eq={pagerank:function(e){var t=e.graph,n=yN(t);return{ranks:n,getSizeForNode:function(e){return 80*n[e]}}},centrality:function(e){var t=e.graph,n=(0,bN.Nk)(t);return{ranks:n,getSizeForNode:function(e){return 20*n[e]}}},attribute:function(e){var t=e.graph,n=e.attribute,r=e.defaultSize,i=new Map;return n?t.forEachNode((function(e,t){var r,a=null==(r=t.data)?void 0:r[n];isNaN(a)&&console.warn("Attribute ".concat(a," is not a number for node ").concat(t.id)),i.set(e,a||0)})):console.warn("Attribute sizing configured but no attribute provided"),{getSizeForNode:function(e){return n&&i?i.get(e):r}}},none:function(e){var t=e.defaultSize;return{getSizeForNode:function(e){return t}}}};var tq=20;function nq(e,t){switch(t){case"above":return e;case"below":return-e;default:return 0}}function rq(e){var t=e.graph,n=e.layout,r=e.sizingType,i=e.labelType,a=e.sizingAttribute,o=e.defaultNodeSize,s=e.minNodeSize,l=e.maxNodeSize,u=[],c=[],d=new Map,f=function(e){var t,n=e.type,r=Zv(e,DW),i=null==(t=eq[n])?void 0:t.call(eq,r);if(!i&&"default"!==n)throw new Error("Unknown sizing strategy: ".concat(n));var a,o,s=r.graph,l=r.minSize,u=r.maxSize,c=new Map;if(s.forEachNode((function(e,t){var s;s="default"===n?t.size||r.defaultSize:i.getSizeForNode(e),(void 0===a||s<a)&&(a=s),(void 0===o||s>o)&&(o=s),c.set(e,s)})),"none"!==n){var d,f=eU().domain([a,o]).rangeRound([l,u]),h=Jv(c);try{for(h.s();!(d=h.n()).done;){var p=M(d.value,2),v=p[0],m=p[1];c.set(v,f(m))}}catch(g){h.e(g)}finally{h.f()}}return c}({graph:t,type:r,attribute:a,minSize:s,maxSize:l,defaultSize:o}),h=function(e,t){return function(n,r){return"all"===t||"nodes"===t&&"node"===n||"edges"===t&&"edge"===n||"auto"===t&&"node"===n&&(e<=tq||r>7)}}(t.nodes.length,i);return t.forEachNode((function(e,r){var i=n.getNodePosition(e),a=r.data,o=r.fill,s=r.icon,l=r.label,c=(r.size,Zv(r,UW)),p=f.get(r.id),v=h("node",p),m=(t.inboundNeighbors(r.id)||[]).map((function(e){return t.getNodeAttributes(e)})),g=$v($v({},r),{},{size:p,labelVisible:v,label:l,icon:s,fill:o,parents:m,data:$v($v({},c),null!==a&&void 0!==a?a:{}),position:$v($v({},i),{},{x:i.x||0,y:i.y||0,z:i.z||1})});d.set(r.id,g),u.push(g)})),t.forEachEdge((function(e,t){var n=d.get(t.source),r=d.get(t.target);if(n&&r){var i=t.data,a=t.id,o=t.label,s=t.size,l=Zv(t,FW),u=h("edge",s);c.push($v($v({},t),{},{id:a,label:o,labelVisible:u,size:s,data:$v($v({},l),{},{id:a},i||{})}))}})),{nodes:u,edges:c}}var iq={mass:10,tension:1e3,friction:300,precision:.1};function aq(e,t,n){var r=t.getLength(),i=(("end"===e?r:r/2)-("end"===e?n/2:0))/r;return[t.getPointAt(i),t.getTangentAt(i)]}function oq(e){return[e+6,2+e/1.5]}function sq(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new Mx(e.x,e.y||0,e.z||0),i=new Mx(t.x,t.y||0,t.z||0),a=(new Mx).addVectors(r,i).divideScalar(2);return a.setLength(a.length()+n)}function lq(e,t,n,r,i){var a=cq(e,n,t),o=cq(n,e,r);return i?Kv(wM,k(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=e.clone(),i=t.clone(),a=(new Mx).subVectors(i,r),o=a.length(),s=a.clone().normalize(),l=(new Mx).subVectors(i,r).divideScalar(2),u=Math.abs(s.x)%1,c=new Mx(-s.y,s.x-u*s.z,u*s.y).normalize();return[e,(new Mx).add(r).add(l).add(c.multiplyScalar(o/4).multiplyScalar(n)),t]}(a,o))):new bM(a,o)}function uq(e){return new Mx(e.position.x,e.position.y,e.position.z||0)}function cq(e,t,n){var r=e.distanceTo(t);return e.clone().add(t.clone().sub(e).multiplyScalar(n/r))}function dq(e,t){return $v($v({},e),{},{position:$v($v({},e.position),{},{x:e.position.x+t.x,y:e.position.y+t.y,z:e.position.z+t.z})})}function fq(e){var t,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,l=Jv(e);try{for(l.s();!(t=l.n()).done;){var u=t.value;n=Math.min(n,u.position.x),r=Math.max(r,u.position.x),i=Math.min(i,u.position.y),a=Math.max(a,u.position.y),o=Math.min(o,u.position.z),s=Math.max(s,u.position.z)}}catch(c){l.e(c)}finally{l.f()}return{height:a-i,width:r-n,minX:n,maxX:r,minY:i,maxY:a,minZ:o,maxZ:s,x:(r+n)/2,y:(a+i)/2,z:(s+o)/2}}function hq(e){var t=e.nodes,n=e.clusterAttribute,r=new Map;if(n){var i,a=function(e,t){return t?e.reduce((function(e,n){var r=n.data[t];return e.set(r,[].concat(k(e.get(r)||[]),[n])),e}),new Map):new Map}(t,n),o=Jv(a);try{for(o.s();!(i=o.n()).done;){var s=M(i.value,2),l=s[0],u=s[1],c=fq(u);r.set(l,{label:l,nodes:u,position:c})}}catch(d){o.e(d)}finally{o.f()}}return r}var pq=function(e){var n=e.sensitivity,r=void 0===n?7:n,i=e.interval,a=void 0===i?50:i,o=e.timeout,s=void 0===o?0:o,l=e.disabled,u=e.onPointerOver,c=e.onPointerOut,d=(0,t.useRef)(!1),f=(0,t.useRef)(null),h=(0,t.useRef)(0),p=(0,t.useRef)({x:null,y:null,px:null,py:null}),v=(0,t.useCallback)((function(e){p.current.x=e.clientX,p.current.y=e.clientY}),[]),m=(0,t.useCallback)((function(e){f.current=clearTimeout(f.current);var t=p.current,n=t.px,i=t.x,o=t.py,s=t.y;Math.abs(n-i)+Math.abs(o-s)<r?(h.current=1,u(e)):(p.current.px=i,p.current.py=s,f.current=setTimeout((function(){return m(e)}),a))}),[a,u,r]),g=(0,t.useCallback)((function(){clearTimeout(f.current),document.removeEventListener("mousemove",v,!1)}),[v]),y=(0,t.useCallback)((function(e){l||(d.current=!0,g(),1!==h.current&&(p.current.px=e.pointer.x,p.current.py=e.pointer.y,document.addEventListener("mousemove",v,!1),f.current=setTimeout((function(){return m(e)}),s)))}),[g,m,l,v,s]),b=(0,t.useCallback)((function(e){f.current=clearTimeout(f.current),h.current=0,c(e)}),[c]);return{pointerOver:y,pointerOut:(0,t.useCallback)((function(e){d.current=!1,g(),1===h.current&&(f.current=setTimeout((function(){return b(e)}),s))}),[g,b,s])}};var vq=function(){console.warn("[DEPRECATED] `context` will be removed in a future version. Instead use `import { createStore, useStore } from 'zustand'`. See: https://github.com/pmndrs/zustand/discussions/1180.");var e=(0,t.createContext)(void 0);return{Provider:function(n){var r=n.createStore,i=n.children,a=(0,t.useRef)();return a.current||(a.current=r()),(0,t.createElement)(e.Provider,{value:a.current},i)},useStore:function(n,r){var i=(0,t.useContext)(e);if(!i)throw new Error("Seems like you have not used zustand provider as an ancestor.");return iU(i,n,r)},useStoreApi:function(){var n=(0,t.useContext)(e);if(!n)throw new Error("Seems like you have not used zustand provider as an ancestor.");return(0,t.useMemo)((function(){return $v({},n)}),[n])}}}(),mq=vq.Provider,gq=vq.useStore;function yq(e){var t=e.nodeId,n=e.nodes,r=e.edges,i=e.currentHiddenNodes,a=e.currentHiddenEdges,o=[],l=[],u=i.map((function(e){return e.id})),c=a.map((function(e){return e.id})),d=r.filter((function(e){return e.source===t})),f=d.map((function(e){return e.target}));l.push.apply(l,k(d));var h,p=Jv(f);try{var v=function(){var e=h.value,i=r.filter((function(n){return n.target===e&&n.source!==t})),a=!1;if(0===i.length)a=!0;else if(i.length>0&&!u.includes(e)){i.map((function(e){return e.id})).every((function(e){return c.includes(e)}))&&(a=!0)}if(a){var s=n.find((function(t){return t.id===e}));s&&o.push(s);var d=yq({nodeId:e,nodes:n,edges:r,currentHiddenEdges:l,currentHiddenNodes:o});l.push.apply(l,k(d.hiddenEdges)),o.push.apply(o,k(d.hiddenNodes))}};for(p.s();!(h=p.n()).done;)v()}catch(y){p.e(y)}finally{p.f()}var m=Object.values(l.reduce((function(e,t){return $v($v({},e),{},s({},t.id,t))}),{})),g=Object.values(o.reduce((function(e,t){return $v($v({},e),{},s({},t.id,t))}),{}));return{hiddenEdges:m,hiddenNodes:g}}var bq=function(e){var t,n=e.collapsedIds,r=e.nodes,i=e.edges,a=[],o=[],s=Jv(n);try{for(s.s();!(t=s.n()).done;){var l=yq({nodeId:t.value,nodes:r,edges:i,currentHiddenEdges:o,currentHiddenNodes:a}),u=l.hiddenEdges,c=l.hiddenNodes;a.push.apply(a,k(c)),o.push.apply(o,k(u))}}catch(h){s.e(h)}finally{s.f()}var d=a.map((function(e){return e.id})),f=o.map((function(e){return e.id}));return{visibleNodes:r.filter((function(e){return!d.includes(e.id)})),visibleEdges:i.filter((function(e){return!f.includes(e.id)}))}},xq=function(e){var n=e.layoutType,r=e.sizingType,i=e.labelType,a=e.sizingAttribute,o=e.clusterAttribute,s=e.selections,l=e.nodes,u=e.edges,c=e.actives,d=e.collapsedNodeIds,f=e.defaultNodeSize,h=e.maxNodeSize,p=e.minNodeSize,v=e.layoutOverrides,m=gq((function(e){return e.graph})),g=gq((function(e){return e.setClusters})),y=gq((function(e){return e.collapsedNodeIds})),b=gq((function(e){return e.setEdges})),x=gq((function(e){return e.setNodes})),w=gq((function(e){return e.setSelections})),S=gq((function(e){return e.setActives})),_=gq((function(e){return e.drags})),k=gq((function(e){return e.setDrags})),E=gq((function(e){return e.setCollapsedNodeIds})),C=M((0,t.useState)(!1),2),T=C[0],R=C[1],A=(0,t.useRef)(!1),P=(0,t.useRef)(null),I=(0,t.useMemo)((function(){var e=bq({collapsedIds:y,nodes:l,edges:u});return{visibleEdges:e.visibleEdges,visibleNodes:e.visibleNodes}}),[y,l,u]),O=I.visibleEdges,L=I.visibleNodes,N=(0,t.useRef)(_);(0,t.useEffect)((function(){N.current=_}),[_]);var D=(0,t.useCallback)((function(e){P.current=e||JW($v($v({},v),{},{type:n,graph:m,drags:N.current,clusterAttribute:o})),function(e,t){var n;!function r(){n?t(n):(n=e.step(),r())}()}(P.current,(function(){var e=rq({graph:m,layout:P.current,sizingType:r,labelType:i,sizingAttribute:a,maxNodeSize:h,minNodeSize:p,defaultNodeSize:f}),t=hq({nodes:e.nodes,clusterAttribute:o});b(e.edges),x(e.nodes),g(t)}))}),[v,g,n,m,o,r,i,a,h,p,f,b,x]);return(0,t.useEffect)((function(){w(s)}),[s,w]),(0,t.useEffect)((function(){S(c)}),[c,S]),(0,t.useLayoutEffect)((function(){A.current=!1,function(e,t,n){e.clear();var r,i=Jv(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{e.addNode(a.id,a)}catch(d){var o=d.message;console.error("[Graph] ".concat(o))}}}catch(f){i.e(f)}finally{i.f()}var s,l=Jv(n);try{for(l.s();!(s=l.n()).done;){var u=s.value;try{e.addEdge(u.source,u.target,u)}catch(h){var c=h.message;console.error("[Graph] ".concat(c))}}}catch(f){l.e(f)}finally{l.f()}}(m,L,O),D(),requestAnimationFrame((function(){A.current=!0,R(!0)}))}),[L,O,m]),(0,t.useEffect)((function(){E(d)}),[d,E]),(0,t.useEffect)((function(){A.current&&(N.current={},k({}),D())}),[m,n,D,k]),(0,t.useEffect)((function(){A.current&&D(P.current)}),[m,r,a,i,D]),{mounted:T}},wq=function(e){var n=e.text,r=e.fontSize,i=e.fontUrl,a=e.color,o=e.opacity,s=e.stroke,l=e.active,u=e.ellipsis,c=u&&!l?YB(n,u):n,d=(0,t.useMemo)((function(){return new Xw(a)}),[a]),f=(0,t.useMemo)((function(){return s?new Xw(s):void 0}),[s]);return(0,yr.jsx)(CF,{position:[0,0,1],children:(0,yr.jsx)(Yz,{font:i,fontSize:r,color:d,fillOpacity:o,textAlign:"center",outlineWidth:s?1:0,outlineColor:f,depthOffset:0,maxWidth:100,overflowWrap:"break-word",children:c})})};wq.defaultProps={opacity:1,fontSize:7,color:"#2A6475",ellipsis:75};var Sq=function(e){var n=e.color,r=e.id,i=e.size,a=e.opacity,o=e.animated,s=mV({from:{scale:[1e-5,1e-5,1e-5],nodeOpacity:0},to:{scale:[i,i,i],nodeOpacity:a},config:$v($v({},iq),{},{duration:o?void 0:0})}),l=s.scale,u=s.nodeOpacity,c=(0,t.useMemo)((function(){return new Xw(n)}),[n]);return(0,yr.jsxs)(kV.mesh,{userData:{id:r,type:"node"},scale:l,children:[(0,yr.jsx)("sphereGeometry",{attach:"geometry",args:[1,25,25]}),(0,yr.jsx)(kV.meshPhongMaterial,{attach:"material",side:_m,transparent:!0,fog:!0,opacity:u,color:c})]})};Sq.defaultProps={opacity:1,active:!1};var _q=function(e){var n=e.color,r=e.size,i=e.opacity,a=e.animated,o=(0,t.useMemo)((function(){return new Xw(n)}),[n]),s=mV({from:{ringOpacity:0,ringSize:[1e-5,1e-5,1e-5]},to:{ringOpacity:i,ringSize:[r/2,r/2,1]},config:$v($v({},iq),{},{duration:a?void 0:0})}),l=s.ringSize,u=s.ringOpacity;return(0,yr.jsx)(CF,{position:[0,0,1],children:(0,yr.jsxs)(kV.mesh,{scale:l,children:[(0,yr.jsx)("ringGeometry",{attach:"geometry",args:[4,4.5,25]}),(0,yr.jsx)(kV.meshBasicMaterial,{attach:"material",color:o,transparent:!0,depthTest:!1,opacity:u,side:_m,fog:!0})]})})};_q.defaultProps={color:"#D8E6EA",size:1,opacity:.5};var kq=(0,t.createContext)({controls:null,resetControls:function(){},zoomIn:function(){},zoomOut:function(){},panLeft:function(){},panRight:function(){},panUp:function(){},panDown:function(){}}),Eq=function(){var e=(0,t.useContext)(kq);if(void 0===e)throw new Error("`useCameraControls` hook must be used within a `ControlsProvider` component");return e};SW.install({THREE:{MOUSE:dm,Vector2:Zb,Vector3:Mx,Vector4:bx,Quaternion:Cx,Matrix4:rw,Spherical:NA,Box3:Ax,Sphere:Yx,Raycaster:IA,MathUtils:{DEG2RAD:null==(AW=Kb)?void 0:AW.DEG2RAD,clamp:null==(PW=Kb)?void 0:PW.clamp}}}),BP({ThreeCameraControls:SW});var Cq=38,Mq=39,Tq=40,Rq=new RW(37,100),Aq=new RW(Mq,100),Pq=new RW(Cq,100),Iq=new RW(Tq,100),Oq=(0,t.forwardRef)((function(e,n){var r=e.mode,i=e.children,a=e.animated,o=e.disabled,s=(0,t.useRef)(null),l=TI((function(e){return e.camera})),u=TI((function(e){return e.gl})),c="orbit"===r,d=gq((function(e){return e.setPanning}));RI((function(e,t){var n,r;(null==(n=s.current)?void 0:n.enabled)&&(null==(r=s.current)||r.update(t)),c&&(s.current.azimuthAngle+=20*t*Kb.DEG2RAD)}),-1),(0,t.useEffect)((function(){return function(){var e;return null==(e=s.current)?void 0:e.dispose()}}),[]);var f=(0,t.useCallback)((function(){var e;null==(e=s.current)||e.zoom(l.zoom/2,a)}),[a,l.zoom]),h=(0,t.useCallback)((function(){var e;null==(e=s.current)||e.zoom(-l.zoom/2,a)}),[a,l.zoom]),p=(0,t.useCallback)((function(e){var t;c||null==(t=s.current)||t.truck(-.03*e.deltaTime,0,a)}),[a,c]),v=(0,t.useCallback)((function(e){var t;c||null==(t=s.current)||t.truck(.03*e.deltaTime,0,a)}),[a,c]),m=(0,t.useCallback)((function(e){var t;c||null==(t=s.current)||t.truck(0,.03*e.deltaTime,a)}),[a,c]),g=(0,t.useCallback)((function(e){var t;c||null==(t=s.current)||t.truck(0,-.03*e.deltaTime,a)}),[a,c]),y=(0,t.useCallback)((function(e){"Space"===e.code&&(s.current.mouseButtons.left="rotate"===r?SW.ACTION.TRUCK:SW.ACTION.ROTATE)}),[r]),b=(0,t.useCallback)((function(e){"Space"===e.code&&(s.current.mouseButtons.left="rotate"===r?SW.ACTION.ROTATE:SW.ACTION.TRUCK)}),[r]);(0,t.useEffect)((function(){return Rq.addEventListener("holding",v),Aq.addEventListener("holding",p),Pq.addEventListener("holding",m),Iq.addEventListener("holding",g),window.addEventListener("keydown",y),window.addEventListener("keyup",b),function(){Rq.removeEventListener("holding",v),Aq.removeEventListener("holding",p),Pq.removeEventListener("holding",m),Iq.removeEventListener("holding",g),window.removeEventListener("keydown",y),window.removeEventListener("keyup",b)}}),[y,b,g,v,p,m]),(0,t.useEffect)((function(){var e=function(){return d(!0)},t=function(){return d(!1)},n=s.current;return n&&(n.addEventListener("control",e),n.addEventListener("controlend",t)),function(){n&&(n.removeEventListener("control",e),n.removeEventListener("controlend",t))}}),[s,d]),(0,t.useEffect)((function(){s.current.mouseButtons.left="rotate"===r?SW.ACTION.ROTATE:SW.ACTION.TRUCK}),[r]),EW([{name:"Zoom In",category:"Graph",keys:"command+shift+i",callback:function(e){e.preventDefault(),f()}},{name:"Zoom Out",category:"Graph",keys:"command+shift+o",callback:function(e){e.preventDefault(),h()}}]);var x=(0,t.useMemo)((function(){return{controls:s.current,zoomIn:function(){return f()},zoomOut:function(){return h()},panLeft:function(){return v({deltaTime:arguments.length>0&&void 0!==arguments[0]?arguments[0]:100})},panRight:function(){return p({deltaTime:arguments.length>0&&void 0!==arguments[0]?arguments[0]:100})},panDown:function(){return g({deltaTime:arguments.length>0&&void 0!==arguments[0]?arguments[0]:100})},panUp:function(){return m({deltaTime:arguments.length>0&&void 0!==arguments[0]?arguments[0]:100})},resetControls:function(e){var t;return null==(t=s.current)?void 0:t.reset(e)}}}),[f,h,v,p,g,m,s.current]);return(0,t.useImperativeHandle)(n,(function(){return x})),(0,yr.jsxs)(kq.Provider,{value:x,children:[(0,yr.jsx)("threeCameraControls",{ref:s,args:[l,u.domElement],enabled:!o,smoothTime:.1,minDistance:1e3,maxDistance:5e4}),i]})}));Oq.defaultProps={mode:"rotate"};var Lq=function(e){var n=e.image,r=e.id,i=e.size,a=e.opacity,o=e.animated,s=(0,t.useMemo)((function(){return(new gR).load(n)}),[n]),l=mV({from:{scale:[1e-5,1e-5,1e-5],spriteOpacity:0},to:{scale:[i,i,i],spriteOpacity:a},config:$v($v({},iq),{},{duration:o?void 0:0})}),u=l.scale,c=l.spriteOpacity;return(0,yr.jsx)(kV.sprite,{userData:{id:r,type:"node"},scale:u,children:(0,yr.jsx)(kV.spriteMaterial,{attach:"material",opacity:c,fog:!0,depthTest:!1,transparent:!0,side:_m,children:(0,yr.jsx)("primitive",{attach:"map",object:s,minFilter:kg})})})};Lq.defaultProps={opacity:1};var Nq=function(e){var n=e.id,r=e.image,i=e.color,a=e.size,o=e.opacity,s=e.animated,l=Zv(e,zW),u=a/25,c=mV({from:{scale:[1e-5,1e-5,1e-5]},to:{scale:[u,u,u]},config:$v($v({},iq),{},{duration:s?void 0:0})}).scale,d=(0,t.useMemo)((function(){return new Xw(i)}),[i]);return(0,yr.jsx)(kV.group,{userData:{id:n,type:"node"},scale:c,children:(0,yr.jsx)(CF,{position:[0,0,1],children:(0,yr.jsx)(NB,$v($v({},l),{},{src:r,fillMaterial:$v({fog:!0,depthTest:!1,transparent:!0,color:d,opacity:o,side:_m},l.fillMaterial||{}),fillMeshProps:$v({position:[-25,-25,1]},l.fillMeshProps||{})}))})})};Nq.defaultProps={opacity:1};var Dq=function(e){var n,r,i,a=e.animated,o=e.disabled,s=e.id,l=e.draggable,u=e.labelFontUrl,c=e.contextMenu,d=e.onClick,f=e.onDoubleClick,h=e.onPointerOver,p=e.onDragged,v=e.onPointerOut,m=e.onContextMenu,g=e.renderNode,y=Eq(),b=gq((function(e){return e.theme})),x=gq((function(e){return e.nodes.find((function(e){return e.id===s}))})),w=gq((function(e){return e.edges})),S=gq((function(e){return e.draggingId})),_=gq((function(e){return e.collapsedNodeIds})),E=gq((function(e){return e.setDraggingId})),C=gq((function(e){return e.setNodePosition})),T=gq((function(e){return e.setCollapsedNodeIds})),R=gq((function(e){return e.collapsedNodeIds.includes(s)})),A=gq((function(e){var t;return null==(t=e.actives)?void 0:t.includes(s)})),P=gq((function(e){var t;return null==(t=e.selections)?void 0:t.includes(s)})),I=gq((function(e){var t;return(null==(t=e.selections)?void 0:t.length)>0})),O=S===s,L=x.position,N=x.label,D=x.subLabel,U=x.size,F=void 0===U?7:U,z=x.labelVisible,B=void 0===z||z,j=(0,t.useRef)(null),H=M((0,t.useState)(!1),2),G=H[0],V=H[1],W=M((0,t.useState)(!1),2),q=W[0],X=W[1],Y=I?P||G||A?b.node.selectedOpacity:b.node.inactiveOpacity:b.node.opacity,K=(0,t.useMemo)((function(){return w.filter((function(e){return e.source===s})).length>0||R}),[w,s,R]),Z=(0,t.useCallback)((function(){K&&T(R?_.filter((function(e){return e!==s})):[].concat(k(_),[s]))}),[K,_,s,R,T]),Q=M(mV((function(){return{from:{nodePosition:[0,0,0],labelPosition:[0,-(F+7),2],subLabelPosition:[0,-(F+14),2]},to:{nodePosition:L?[L.x,L.y,L.z]:[0,0,0],labelPosition:[0,-(F+7),2],subLabelPosition:[0,-(F+14),2]},config:$v($v({},iq),{},{duration:a&&!S?void 0:0})}}),[O,L,a,F]),1)[0],$=Q.nodePosition,J=Q.labelPosition,ee=Q.subLabelPosition,te=function(e){var n=e.draggable,r=e.set,i=e.position,a=e.onDragStart,o=e.onDragEnd,s=TI((function(e){return e.camera})),l=TI((function(e){return e.raycaster})),u=TI((function(e){return e.size})),c=TI((function(e){return e.gl})),d=(0,t.useMemo)((function(){return{mouse2D:new Zb,mouse3D:new Mx,offset:new Mx,normal:new Mx,plane:new n_}}),[]),f=d.mouse2D,h=d.mouse3D,p=d.offset,v=d.normal,m=d.plane,g=(0,t.useMemo)((function(){return c.domElement.getBoundingClientRect()}),[c.domElement]);return wF({onDragStart:function(e){var t=e.event,n=t.eventObject,r=t.point;n.getWorldPosition(p).sub(r),h.copy(r),a()},onDrag:function(e){var t,n,a=e.event,o=(a.clientX-(null!==(t=null==g?void 0:g.left)&&void 0!==t?t:0))/u.width*2-1,c=-(a.clientY-(null!==(n=null==g?void 0:g.top)&&void 0!==n?n:0))/u.height*2+1;f.set(o,c),l.setFromCamera(f,s),s.getWorldDirection(v).negate(),m.setFromNormalAndCoplanarPoint(v,h),l.ray.intersectPlane(m,h);var d=new Mx(i.x,i.y,i.z).copy(h).add(p);return r(d)},onDragEnd:o},{drag:{enabled:n,threshold:10}})}({draggable:l,position:L,set:function(e){return C(s,e)},onDragStart:function(){E(s),V(!0),y.controls.enabled=!1},onDragEnd:function(){E(null),V(!1),y.controls.enabled=!0,null==p||p(x)}});DB(G&&!S&&void 0!==d,"pointer"),DB(G&&l&&!O&&void 0===d,"grab"),DB(O,"grabbing");var ne=P||G||O||A,re=ne?b.node.activeFill:x.fill||b.node.fill,ie=pq({disabled:o||O,onPointerOver:function(){V(!0),null==h||h(x)},onPointerOut:function(){V(!1),null==v||v(x)}}),ae=ie.pointerOver,oe=ie.pointerOut;return(0,yr.jsxs)(kV.group,$v($v({userData:{id:s,type:"node"},ref:j,position:$,onPointerOver:ae,onPointerOut:oe,onClick:function(){o||O||null==d||d(x,{canCollapse:K,isCollapsed:R})},onDoubleClick:function(){o||O||null==f||f(x)},onContextMenu:function(){o||(X(!0),null==m||m(x,{canCollapse:K,isCollapsed:R,onCollapse:Z}))}},te()),{},{children:[g?g({id:s,color:re,size:F,active:ne,opacity:Y,animated:a,node:x}):(0,yr.jsx)(yr.Fragment,{children:x.icon?(0,yr.jsx)(Lq,{id:s,image:x.icon||"",size:F+8,opacity:Y,animated:a,color:re,node:x,active:ne}):(0,yr.jsx)(Sq,{id:s,size:F,opacity:Y,animated:a,color:re,node:x,active:ne})}),(0,yr.jsx)(_q,{opacity:P?.5:0,size:F,animated:a,color:P||G?b.ring.activeFill:b.ring.fill}),q&&c&&(0,yr.jsx)(XB,{prepend:!0,center:!0,children:c({data:x,canCollapse:K,isCollapsed:R,onCollapse:Z,onClose:function(){return X(!1)}})}),(B||P||G)&&N&&(0,yr.jsxs)(yr.Fragment,{children:[(0,yr.jsx)(kV.group,{position:J,children:(0,yr.jsx)(wq,{text:N,fontUrl:u,opacity:Y,stroke:b.node.label.stroke,active:P||G||O||A,color:P||G||O||A?b.node.label.activeColor:b.node.label.color})}),D&&(0,yr.jsx)(kV.group,{position:ee,children:(0,yr.jsx)(wq,{text:D,fontUrl:u,fontSize:5,opacity:Y,stroke:null==(n=b.node.subLabel)?void 0:n.stroke,active:P||G||O||A,color:P||G||O||A?null==(r=b.node.subLabel)?void 0:r.activeColor:null==(i=b.node.subLabel)?void 0:i.color})})]})]}))};Dq.defaultProps={draggable:!1};var Uq=function(e){var n=e.animated,r=e.color,i=e.length,a=e.opacity,o=e.position,s=e.rotation,l=e.size,u=e.onActive,c=e.onContextMenu,d=(0,t.useMemo)((function(){return new Xw(r)}),[r]),f=(0,t.useRef)(null),h=gq((function(e){return e.draggingId})),p=M(mV((function(){return{from:{pos:[0,0,0],arrowOpacity:0},to:{pos:[o.x,o.y,o.z],arrowOpacity:a},config:$v($v({},iq),{},{duration:n&&!h?void 0:0})}}),[n,h,a,o]),1)[0],v=p.pos,m=p.arrowOpacity,g=(0,t.useCallback)((function(){var e,t=new Mx(0,1,0);null==(e=f.current)||e.quaternion.setFromUnitVectors(t,s)}),[s,f]);return(0,t.useEffect)((function(){return g()}),[g]),(0,yr.jsxs)(kV.mesh,{position:v,ref:f,scale:[1,1,1],onPointerOver:function(){return u(!0)},onPointerOut:function(){return u(!1)},onPointerDown:function(e){2===e.nativeEvent.buttons&&(e.stopPropagation(),c())},children:[(0,yr.jsx)("cylinderGeometry",{args:[0,l,i,20,1,!0],attach:"geometry"}),(0,yr.jsx)(kV.meshBasicMaterial,{attach:"material",color:d,depthTest:!1,opacity:m,transparent:!0,side:_m,fog:!0})]})};Uq.defaultProps={size:1,opacity:.5,color:"#D8E6EA"};var Fq=function(e){var n=e.animated,r=e.color,i=e.curve,a=e.curved,o=void 0!==a&&a,s=e.id,l=e.opacity,u=e.size,c=e.onContextMenu,d=e.onClick,f=e.onPointerOver,h=e.onPointerOut,p=(0,t.useRef)(null),v=gq((function(e){return e.draggingId})),m=(0,t.useMemo)((function(){return new Xw(r)}),[r]),g=mV({from:{lineOpacity:0},to:{lineOpacity:l},config:$v($v({},iq),{},{duration:n?void 0:0})}).lineOpacity;return mV((function(){var e=i.getPoint(0),t=i.getPoint(1);return{from:{fromVertices:[0,0,0],toVertices:[0,0,0]},to:{fromVertices:[null==e?void 0:e.x,null==e?void 0:e.y,(null==e?void 0:e.z)||0],toVertices:[null==t?void 0:t.x,null==t?void 0:t.y,(null==t?void 0:t.z)||0]},onChange:function(e){var t=e.value,n=t.fromVertices,r=t.toVertices,i=lq(Kv(Mx,k(n)),0,Kv(Mx,k(r)),0,o);p.current.copy(new _T(i,20,u/2,5,!1))},config:$v($v({},iq),{},{duration:n&&!v?void 0:0})}}),[n,v,i,u]),(0,yr.jsxs)("mesh",{userData:{id:s,type:"edge"},onPointerOver:f,onPointerOut:h,onClick:d,onPointerDown:function(e){2===e.nativeEvent.buttons&&(e.stopPropagation(),c())},children:[(0,yr.jsx)("tubeGeometry",{attach:"geometry",ref:p}),(0,yr.jsx)(kV.meshBasicMaterial,{attach:"material",opacity:g,fog:!0,transparent:!0,depthTest:!1,color:m})]})};Fq.defaultProps={color:"#000",size:1,opacity:1};var zq=function(e){var n=e.animated,r=e.arrowPlacement,i=e.contextMenu,a=e.disabled,o=e.labelPlacement,s=e.id,l=e.interpolation,u=e.labelFontUrl,c=e.onContextMenu,d=e.onClick,f=e.onPointerOver,h=e.onPointerOut,p=gq((function(e){return e.theme})),v=gq((function(e){return e.edges.find((function(e){return e.id===s}))})),m=v.target,g=v.source,y=v.label,b=v.labelVisible,x=void 0!==b&&b,w=v.size,S=void 0===w?1:w,_="curved"===l,k=gq((function(e){return e.nodes.find((function(e){return e.id===g}))})),E=gq((function(e){return e.nodes.find((function(e){return e.id===m}))})),C=gq((function(e){return e.draggingId})),T=M((0,t.useState)(!1),2),R=T[0],A=T[1],P=M((0,t.useState)(!1),2),I=P[0],O=P[1],L=(S+6)/2,N=M((0,t.useMemo)((function(){return oq(S)}),[S]),2),D=N[0],U=N[1],F=(0,t.useMemo)((function(){var e=uq(k),t=k.size,n=lq(e,t,uq(E),E.size,_),i=M(aq(r,n,D),2),a=i[0],o=i[1];return"end"===r&&(n=lq(e,t,a,0,_)),[n,a,o]}),[_,k,E,r,D]),z=M(F,3),B=z[0],j=z[1],H=z[2],G=(0,t.useMemo)((function(){return sq(k.position,E.position,nq(L,o))}),[k.position,E.position,L,o]),V=gq((function(e){var t;return null==(t=e.selections)?void 0:t.includes(s)})),W=gq((function(e){var t;return null==(t=e.selections)?void 0:t.length})),q=gq((function(e){var t;return null==(t=e.actives)?void 0:t.includes(s)})),X=W?V||q?p.edge.selectedOpacity:p.edge.inactiveOpacity:p.edge.opacity,Y=M(mV((function(){return{from:{labelPosition:[0,0,0]},to:{labelPosition:[G.x,G.y,G.z]},config:$v($v({},iq),{},{duration:n&&!C?void 0:0})}}),[G,n,C]),1)[0].labelPosition,K=(0,t.useMemo)((function(){return new hw(0,0,"natural"===o?0:Math.atan((E.position.y-k.position.y)/(E.position.x-k.position.x)))}),[E.position.x,E.position.y,k.position.x,k.position.y,o]);DB(R&&!C&&void 0!==d,"pointer");var Z=pq({disabled:a,onPointerOver:function(){A(!0),null==f||f(v)},onPointerOut:function(){A(!1),null==h||h(v)}}),Q=Z.pointerOver,$=Z.pointerOut;return(0,yr.jsxs)("group",{children:[(0,yr.jsx)(Fq,{animated:n,color:V||R||q?p.edge.activeFill:p.edge.fill,curve:B,curved:_,id:s,opacity:X,size:S,onClick:function(){a||null==d||d(v)},onPointerOver:Q,onPointerOut:$,onContextMenu:function(){a||(O(!0),null==c||c(v))}}),"none"!==r&&(0,yr.jsx)(Uq,{animated:n,color:V||R||q?p.arrow.activeFill:p.arrow.fill,length:D,opacity:X,position:j,rotation:H,size:U,onActive:A,onContextMenu:function(){a||(O(!0),null==c||c(v))}}),x&&y&&(0,yr.jsx)(kV.group,{position:Y,rotation:K,children:(0,yr.jsx)(wq,{text:y,ellipsis:15,fontUrl:u,stroke:p.edge.label.stroke,color:V||R||q?p.edge.label.activeColor:p.edge.label.color,opacity:X,fontSize:6})}),I&&i&&(0,yr.jsx)(XB,{prepend:!0,center:!0,children:i({data:v,onClose:function(){return O(!1)}})})]})};zq.defaultProps={labelPlacement:"inline",arrowPlacement:"end"};var Bq=new jS(0,0,0);var jq=function(e){var n=e.animated,r=e.color,i=e.contextMenu,a=e.edge,o=e.labelFontUrl,s=e.labelPlacement,l=e.opacity,u=e.theme,c=a.target,d=a.source,f=a.label,h=a.labelVisible,p=void 0!==h&&h,v=a.size,m=void 0===v?1:v,g=gq((function(e){return e.nodes})),y=g.find((function(e){return e.id===d})),b=g.find((function(e){return e.id===c})),x=gq((function(e){return e.draggingId})),w=(m+6)/2,S=(0,t.useMemo)((function(){return sq(y.position,b.position,nq(w,s))}),[y.position,b.position,w,s]),_=gq((function(e){return e.edgeContextMenus})),k=gq((function(e){return e.setEdgeContextMenus})),E=M(mV((function(){return{from:{labelPosition:[0,0,0]},to:{labelPosition:[S.x,S.y,S.z]},config:$v($v({},iq),{},{duration:n&&!x?void 0:0})}}),[S,n,x]),1)[0].labelPosition,C=(0,t.useCallback)((function(e){_.delete(e.id),k(new Set(_.values()))}),[_,k]),T=(0,t.useMemo)((function(){return new hw(0,0,"natural"===s?0:Math.atan((b.position.y-y.position.y)/(b.position.x-y.position.x)))}),[b.position.x,b.position.y,y.position.x,y.position.y,s]);return(0,yr.jsxs)("group",{children:[p&&f&&(0,yr.jsx)(kV.group,{position:E,rotation:T,children:(0,yr.jsx)(wq,{text:f,ellipsis:15,fontUrl:o,stroke:u.edge.label.stroke,color:r,opacity:l,fontSize:6})}),i&&_.has(a.id)&&(0,yr.jsx)(XB,{prepend:!0,center:!0,position:S,children:i({data:a,onClose:function(){return C(a)}})})]})};jq.defaultProps={labelPlacement:"inline"};var Hq=function(e){var n=e.animated,r=e.arrowPlacement,i=void 0===r?"end":r,a=e.contextMenu,o=e.disabled,s=e.edges,l=e.interpolation,u=void 0===l?"linear":l,c=e.labelFontUrl,d=e.labelPlacement,f=void 0===d?"inline":d,h=e.theme,p=e.onClick,v=e.onContextMenu,m=e.onPointerOut,g=e.onPointerOver,y=function(e,n){var r=(0,t.useRef)();gq((function(e){r.current=e}));var i=(0,t.useRef)(new Map),a="curved"===n,o=(0,t.useCallback)((function(t){var n=[],o=i.current,s=r.current.nodes;return t.forEach((function(t){var r=t.target,i=t.source,l=t.size,u=void 0===l?1:l,c=s.find((function(e){return e.id===i})),d=s.find((function(e){return e.id===r}));if(c&&d){var f="fromX:".concat(c.position.x,",fromY:").concat(c.position.y,",toX:").concat(d.position.x,"},toY:").concat(d.position.y);if(o.has(f)){var h=o.get(f);n.push(h)}else{var p=uq(c),v=c.size+6,m=lq(p,v,uq(d),d.size+6,a),g=new _T(m,20,u/2,5,!1);if("none"===e)return n.push(g),void o.set(f,g);var y=M(oq(u),2),b=y[0],x=y[1],w=M(aq(e,m,b),2),S=w[0],_=w[1],k=new Cx;k.setFromUnitVectors(new Mx(0,1,0),_);var E=new RM(0,x,b,20,1,!0);if(E.applyQuaternion(k),E.translate(S.x,S.y,S.z),e&&"end"===e){var C=lq(p,v,S,0,a);g=new _T(C,20,u/2,5,!1)}var T=Jz([g,E]);n.push(T),o.set(f,T)}}})),n}),[e,a]),s=(0,t.useCallback)((function(e,t){var n=o(e),r=o(t);return Jz([r.length?Jz(r):Bq,n.length?Jz(n):Bq],!0)}),[o]);return{getGeometries:o,getGeometry:s}}(i,u),b=y.getGeometries,x=y.getGeometry,w=gq((function(e){return e.draggingId})),S=gq((function(e){return e.edgeMeshes})),_=gq((function(e){return e.setEdgeMeshes})),E=gq((function(e){return e.actives||[]})),C=gq((function(e){return e.selections||[]})),T=M((0,t.useMemo)((function(){var e=[],t=[],n=[],r=[];return s.forEach((function(i){w!==i.source&&w!==i.target?C.includes(i.id)||E.includes(i.id)?e.push(i):t.push(i):C.includes(i.id)||E.includes(i.id)?n.push(i):r.push(i)})),[e,t,n,r]}),[s,E,C,w]),4),R=T[0],A=T[1],P=T[2],I=T[3],O=!!C.length,L=(0,t.useMemo)((function(){return x(R,A)}),[x,R,A]),N=function(e,t,n){var r=M(mV((function(){return{from:{activeOpacity:0,inactiveOpacity:0},to:{activeOpacity:t?n.edge.selectedOpacity:n.edge.opacity,inactiveOpacity:t?n.edge.inactiveOpacity:n.edge.opacity},config:$v($v({},iq),{},{duration:e?void 0:0})}}),[e,t,n]),1)[0];return{activeOpacity:r.activeOpacity,inactiveOpacity:r.inactiveOpacity}}(n,O,h),D=N.activeOpacity,U=N.inactiveOpacity;!function(e,n){var r=(0,t.useRef)(e);(0,t.useEffect)((function(){r.current=e}),[e]);var i=(0,t.useCallback)((function(){var e=r.current.getAttribute("position");return{from:Array.from({length:e.array.length}).fill(0),to:Array.from(e.array)}}),[]),a=(0,t.useCallback)((function(e){var t=new Float32Array(e),n=new rS(t,3,!1);r.current.setAttribute("position",n),n.needsUpdate=!0}),[]);mV((function(){if(!n)return null;var e=i();return{from:{positions:e.from},to:{positions:e.to},onChange:function(e){a(e.value.positions)},config:$v($v({},iq),{},{duration:n?void 0:0})}}),[n])}(L,n),(0,t.useEffect)((function(){if(null===w){var e=b(s).map((function(e){return new zS(e)}));_(e)}}),[b,_,s,w]);var F=(0,t.useRef)(new zS),z=(0,t.useRef)(new zS),B=(0,t.useCallback)((function(e){if(!e.camera)return[];var t=e.intersectObjects(S);return t.length?t.map((function(e){return s[S.indexOf(e.object)]})):[]}),[S,s]),j=function(e,n,r){var i=e.onClick,a=e.onContextMenu,o=e.onPointerOut,s=e.onPointerOver,l=gq((function(e){return e.edgeContextMenus})),u=gq((function(e){return e.setEdgeContextMenus})),c=(0,t.useRef)(!1),d=(0,t.useCallback)((function(){c.current=!0}),[]),f=(0,t.useRef)(!1),h=(0,t.useCallback)((function(){f.current=!0}),[]),p=(0,t.useCallback)((function(e,t){if(i&&c.current&&(c.current=!1,r||t.forEach((function(e){i(e)}))),(n||a)&&f.current&&(f.current=!1,r||t.forEach((function(e){l.has(e.id)||(u(new Set([].concat(k(l),[e.id]))),null==a||a(e))}))),s){var d=t.filter((function(t){return!e.includes(t)}));d.forEach((function(e){s(e)}))}if(o){var h=e.filter((function(e){return!t.includes(e)}));h.forEach((function(e){o(e)}))}}),[n,r,l,u,i,a,s,o]);return{handleClick:d,handleContextMenu:h,handleIntersections:p}}({onClick:p,onContextMenu:v,onPointerOut:m,onPointerOver:g},a,o),H=j.handleClick,G=j.handleContextMenu,V=j.handleIntersections,W=(0,t.useRef)(null),q=(0,t.useRef)([]);return RI((function(e){if(F.current.geometry=L,!o){var t=W.current;if((w||null===w&&null!==t)&&(z.current.geometry=x(P,I)),W.current=w,!w){var n=q.current,r=B(e.raycaster);V(n,r),r.join()!==n.join()&&(z.current.geometry=x(r,[])),q.current=r}}})),(0,yr.jsxs)("group",{onClick:H,onContextMenu:G,children:[(0,yr.jsxs)("mesh",{ref:F,children:[(0,yr.jsx)(kV.meshBasicMaterial,{attach:"material-0",color:h.edge.fill,depthTest:!1,fog:!0,opacity:U,side:_m,transparent:!0}),(0,yr.jsx)(kV.meshBasicMaterial,{attach:"material-1",color:h.edge.activeFill,depthTest:!1,fog:!0,opacity:D,side:_m,transparent:!0})]}),(0,yr.jsxs)("mesh",{ref:z,children:[(0,yr.jsx)(kV.meshBasicMaterial,{attach:"material-0",color:h.edge.fill,depthTest:!1,fog:!0,opacity:U,side:_m,transparent:!0}),(0,yr.jsx)(kV.meshBasicMaterial,{attach:"material-1",color:h.edge.activeFill,depthTest:!1,fog:!0,opacity:D,side:_m,transparent:!0})]}),s.map((function(e){return(0,yr.jsx)(jq,{animated:n,contextMenu:a,color:h.edge.label.color,disabled:o,edge:e,labelFontUrl:c,labelPlacement:f,theme:h},e.id)}))]})},Gq=function(e){var n,r,i,a,o=e.animated,s=e.position,l=e.padding,u=e.labelFontUrl,c=e.disabled,d=e.radius,f=e.nodes,h=e.label,p=e.onClick,v=e.onPointerOver,m=e.onPointerOut,g=gq((function(e){return e.theme})),y=Math.max(s.width,s.height)/2,b=y-d+l,x=M((0,t.useState)(!1),2),w=x[0],S=x[1],_=gq((function(e){var t;return null==(t=e.actives)?void 0:t.some((function(e){return f.some((function(t){return t.id===e}))}))})),k=gq((function(e){var t;return null==(t=e.selections)?void 0:t.some((function(e){return f.some((function(t){return t.id===e}))}))})),E=gq((function(e){var t;return(null==(t=e.selections)?void 0:t.length)>0}))?k||w||_?g.cluster.selectedOpacity:g.cluster.inactiveOpacity:g.cluster.opacity,C=mV({from:{circlePosition:[0,0,-1],circleOpacity:0,labelPosition:[0,0,2]},to:{labelPosition:[0,-b,2],circlePosition:s?[s.x,s.y,-1]:[0,0,-1],circleOpacity:E},config:$v($v({},iq),{},{duration:o?void 0:0})}),T=C.circleOpacity,R=C.circlePosition,A=C.labelPosition,P=(0,t.useMemo)((function(){var e;return new Xw(null==(e=g.cluster)?void 0:e.stroke)}),[null==(n=g.cluster)?void 0:n.stroke]),I=(0,t.useMemo)((function(){var e;return new Xw(null==(e=g.cluster)?void 0:e.fill)}),[null==(r=g.cluster)?void 0:r.fill]);DB(w&&void 0!==p,"pointer");var O=pq({disabled:c,onPointerOver:function(){S(!0),null==v||v({nodes:f,label:h})},onPointerOut:function(){S(!1),null==m||m({nodes:f,label:h})}}),L=O.pointerOver,N=O.pointerOut;return(0,yr.jsx)(yr.Fragment,{children:g.cluster&&(0,yr.jsxs)(kV.group,{position:R,onPointerOver:L,onPointerOut:N,onClick:function(){c||null==p||p({nodes:f,label:h})},children:[(0,yr.jsxs)("mesh",{children:[(0,yr.jsx)("ringGeometry",{attach:"geometry",args:[b,0,128]}),(0,yr.jsx)(kV.meshBasicMaterial,{attach:"material",color:I,transparent:!0,depthTest:!1,opacity:(null==(i=g.cluster)?void 0:i.fill)?T:0,side:_m,fog:!0})]}),(0,yr.jsxs)("mesh",{children:[(0,yr.jsx)("ringGeometry",{attach:"geometry",args:[b,y+l,128]}),(0,yr.jsx)(kV.meshBasicMaterial,{attach:"material",color:P,transparent:!0,depthTest:!1,opacity:T,side:_m,fog:!0})]}),(null==(a=g.cluster)?void 0:a.label)&&(0,yr.jsx)(kV.group,{position:A,children:(0,yr.jsx)(wq,{text:h,opacity:E,labelFontUrl:u,stroke:g.cluster.label.stroke,active:!1,color:g.cluster.label.color,fontSize:12})})]})})};Gq.defaultProps={opacity:1,radius:2,padding:40};var Vq=(0,t.forwardRef)((function(e,n){var r=e.onNodeClick,i=e.onNodeDoubleClick,a=e.onNodeContextMenu,o=e.onEdgeContextMenu,s=e.onEdgeClick,l=e.onEdgePointerOver,u=e.onEdgePointerOut,c=e.onNodePointerOver,d=e.onNodePointerOut,f=e.onClusterClick,h=e.onNodeDragged,p=e.onClusterPointerOver,v=e.onClusterPointerOut,m=e.contextMenu,g=e.theme,y=e.animated,b=e.disabled,x=e.draggable,w=e.edgeLabelPosition,S=e.edgeArrowPosition,_=e.edgeInterpolation,E=e.labelFontUrl,C=e.renderNode,M=Zv(e,BW),T=xq(M).mounted,R=gq((function(e){return e.graph})),A=gq((function(e){return e.nodes})),P=gq((function(e){return e.edges})),I=gq((function(e){return k(e.clusters.values())})),O=(0,t.useMemo)((function(){return A.map((function(e){return e.id}))}),[A]),L=(0,t.useMemo)((function(){return P.map((function(e){return e.id}))}),[P]),N=function(e){var n=e.animated,r=gq((function(e){return e.nodes})),i=TI((function(e){return e.invalidate})),a=Eq().controls,o=(0,t.useMemo)((function(){var e=fq(r),t=e.maxX,n=e.maxY;return Math.max(t,n)}),[r]),s=(0,t.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=fq(e),s=o.minX,l=o.maxX,u=o.minY,c=o.maxY,d=o.minZ,f=o.maxZ;null==a||a.fitToBox(new Ax(new Mx(s,u,d),new Mx(l,c,f)),n,{cover:r,paddingLeft:t,paddingRight:t,paddingBottom:t,paddingTop:t}),i()}),[i,a,n]),l=(0,t.useCallback)((function(e){var t=null,n=50;(null==e?void 0:e.length)&&(n=o+50,t=e.reduce((function(e,t){var n=r.find((function(e){return e.id===t}));if(!n)throw new Error("Attempted to center ".concat(t," but it was not found in the nodes"));return e.push(n),e}),[])),s(t||r,n,!!t)}),[s,r,o]),u=(0,t.useRef)(!1);return(0,t.useLayoutEffect)((function(){a&&(null==r?void 0:r.length)&&!u.current&&(s(r),u.current=!0)}),[a,s,r]),EW([{name:"Center",category:"Graph",keys:["command+shift+c"],callback:function(){return s(r)}}]),{centerNodes:s,centerNodesById:l}}({animated:y}),D=N.centerNodesById;return(0,t.useImperativeHandle)(n,(function(){return{centerGraph:D,graph:R}}),[D,R]),(0,yr.jsx)(t.Fragment,{children:T&&(0,yr.jsxs)(t.Fragment,{children:[O.map((function(e){return(0,yr.jsx)(Dq,{id:e,labelFontUrl:E,draggable:x,disabled:b,animated:y,contextMenu:m,renderNode:C,onClick:r,onDoubleClick:i,onContextMenu:a,onPointerOver:c,onPointerOut:d,onDragged:h},e)})),y?L.map((function(e){return(0,yr.jsx)(zq,{id:e,disabled:b,animated:y,labelFontUrl:E,labelPlacement:w,arrowPlacement:S,interpolation:_,contextMenu:m,onClick:s,onContextMenu:o,onPointerOver:l,onPointerOut:u},e)})):(0,yr.jsx)(Hq,{theme:g,edges:P,disabled:b,animated:y,labelFontUrl:E,labelPlacement:w,arrowPlacement:S,interpolation:_,contextMenu:m,onClick:s,onContextMenu:o,onPointerOver:l,onPointerOut:u}),I.map((function(e){return(0,yr.jsx)(Gq,$v({animated:y,disabled:b,labelFontUrl:E,onClick:f,onPointerOver:p,onPointerOut:v},e),e.label)}))]})})}));Vq.defaultProps={edgeInterpolation:"linear"};function Wq(e,t,n){var r=e.offsetX,i=e.offsetY,a=n.width,o=n.height;t.set(r/a*2-1,-i/o*2+1)}var qq=function(e){var n,r=e.children,i=e.theme,a=e.type,o=void 0===a?"none":a,s=e.onLasso,l=e.onLassoEnd,u=e.disabled,c=TI((function(e){return e.camera})),d=TI((function(e){return e.gl})),f=TI((function(e){return e.setEvents})),h=TI((function(e){return e.size})),p=TI((function(e){return e.get})),v=TI((function(e){return e.scene})),m=Eq(),g=gq((function(e){return e.actives})),y=gq((function(e){return e.setActives})),b=gq((function(e){return e.edges})),x=gq((function(e){return e.edgeMeshes})),w=(0,t.useRef)(!1),S=(0,t.useRef)(null),_=(0,t.useRef)(null),E=(0,t.useRef)(function(e){var t=document.createElement("div");return t.style.pointerEvents="none",t.style.border=e.lasso.border,t.style.backgroundColor=e.lasso.background,t.style.position="fixed",t}(i)),C=(0,t.useRef)(null),T=(0,t.useRef)(!1),R=(0,t.useRef)(p().events.enabled),A=(0,t.useRef)(null==(n=m.controls)?void 0:n.enabled);(0,t.useEffect)((function(){w.current&&(null==s||s(g)),w.current=!0}),[g,s]);var P=(0,t.useCallback)((function(e){if(T.current){var t=M(C.current,3),n=t[0],r=t[1],i=t[2];i.x=Math.max(n.x,e.clientX),i.y=Math.max(n.y,e.clientY),r.x=Math.min(n.x,e.clientX),r.y=Math.min(n.y,e.clientY),E.current.style.left="".concat(r.x,"px"),E.current.style.top="".concat(r.y,"px"),E.current.style.width="".concat(i.x-r.x,"px"),E.current.style.height="".concat(i.y-r.y,"px"),Wq(e,S.current.endPoint,h),Wq(e,_.current.endPoint,h);var a=[],s=_.current.select().sort((function(e){return e.uuid})).map((function(e){return b[x.indexOf(e)].id}));a.push.apply(a,k(s));var l=S.current.select().sort((function(e){return e.uuid})).filter((function(e){var t,n;return e.isMesh&&(null==(t=e.userData)?void 0:t.id)&&((null==(n=e.userData)?void 0:n.type)===o||"all"===o)})).map((function(e){return e.userData.id}));a.push.apply(a,k(l)),requestAnimationFrame((function(){y(a)})),document.addEventListener("pointermove",P,{passive:!0,capture:!0,once:!0})}}),[b,x,y,h,o]),I=(0,t.useCallback)((function(){var e;T.current&&(f({enabled:R.current}),T.current=!1,null==(e=E.current.parentElement)||e.removeChild(E.current),m.controls.enabled=A.current,null==l||l(g),document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",I))}),[f,m.controls,l,g,P]),O=(0,t.useCallback)((function(e){var t,n;if(e.shiftKey){R.current=p().events.enabled,A.current=null==(t=m.controls)?void 0:t.enabled,S.current=new AB(c,v);var r=new GE;x.length&&r.add.apply(r,k(x)),_.current=new AB(c,r),C.current=[new Zb,new Zb,new Zb];var i=M(C.current,1)[0];m.controls.enabled=!1,f({enabled:!1}),T.current=!0,null==(n=d.domElement.parentElement)||n.appendChild(E.current),E.current.style.left="".concat(e.clientX,"px"),E.current.style.top="".concat(e.clientY,"px"),E.current.style.width="0px",E.current.style.height="0px",i.x=e.clientX,i.y=e.clientY,Wq(e,S.current.startPoint,h),Wq(e,_.current.startPoint,h),document.addEventListener("pointermove",P,{passive:!0,capture:!0,once:!0}),document.addEventListener("pointerup",I,{passive:!0})}}),[c,m.controls,x,p,d.domElement.parentElement,P,I,v,f,h]);return(0,t.useEffect)((function(){if(!u&&"none"!==o)return document.addEventListener("pointerdown",O,{passive:!0}),document.addEventListener("pointermove",P,{passive:!0}),document.addEventListener("pointerup",I,{passive:!0}),function(){document.removeEventListener("pointerdown",O),document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",I)}}),[o,u,O,P,I]),(0,yr.jsx)("group",{children:r})},Xq="_canvas_670zp_1",Yq={alpha:!0,antialias:!0},Kq={position:[0,0,1e3],near:5,far:5e4,fov:10},Zq=(0,t.forwardRef)((function(e,n){var r=e.cameraMode,i=e.edges,a=e.children,o=e.nodes,l=e.theme,u=e.onCanvasClick,c=e.animated,d=e.disabled,f=e.lassoType,h=e.onLasso,p=e.onLassoEnd,v=e.glOptions,m=Zv(e,jW),g=(0,t.useRef)(null),y=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return{centerGraph:function(e){var t;return null==(t=g.current)?void 0:t.centerGraph(e)},zoomIn:function(){var e;return null==(e=y.current)?void 0:e.zoomIn()},zoomOut:function(){var e;return null==(e=y.current)?void 0:e.zoomOut()},panLeft:function(){var e;return null==(e=y.current)?void 0:e.panLeft()},panRight:function(){var e;return null==(e=y.current)?void 0:e.panRight()},panDown:function(){var e;return null==(e=y.current)?void 0:e.panDown()},panUp:function(){var e;return null==(e=y.current)?void 0:e.panUp()},resetControls:function(e){var t;return null==(t=y.current)?void 0:t.resetControls(e)},getControls:function(){var e;return null==(e=y.current)?void 0:e.controls},getGraph:function(){var e;return null==(e=g.current)?void 0:e.graph}}}));var b=m.selections,x=m.actives,w=m.collapsedNodeIds,S=!(i.length+o.length>400)&&c,_=(0,t.useMemo)((function(){return $v($v({},v),Yq)}),[v]);return(0,yr.jsx)("div",{className:Xq,children:(0,yr.jsx)(yO,{legacy:!0,linear:!0,flat:!0,gl:_,camera:Kq,onPointerMissed:u,children:(0,yr.jsxs)(mq,{createStore:function(){return function(e){var t=e.actives,n=void 0===t?[]:t,r=e.selections,i=void 0===r?[]:r,a=e.collapsedNodeIds,o=void 0===a?[]:a,l=e.theme;return oU((function(e){return{theme:l,edges:[],nodes:[],collapsedNodeIds:o,clusters:new Map,panning:!1,draggingId:null,actives:n,edgeContextMenus:new Set,edgeMeshes:[],selections:i,drags:{},graph:new _F,setTheme:function(t){return e((function(e){return $v($v({},e),{},{theme:t})}))},setClusters:function(t){return e((function(e){return $v($v({},e),{},{clusters:t})}))},setEdgeContextMenus:function(t){return e((function(e){return $v($v({},e),{},{edgeContextMenus:t})}))},setEdgeMeshes:function(t){return e((function(e){return $v($v({},e),{},{edgeMeshes:t})}))},setPanning:function(t){return e((function(e){return $v($v({},e),{},{panning:t})}))},setDrags:function(t){return e((function(e){return $v($v({},e),{},{drags:t})}))},setDraggingId:function(t){return e((function(e){return $v($v({},e),{},{draggingId:t})}))},setActives:function(t){return e((function(e){return $v($v({},e),{},{actives:t})}))},setSelections:function(t){return e((function(e){return $v($v({},e),{},{selections:t})}))},setNodes:function(t){return e((function(e){return $v($v({},e),{},{nodes:t})}))},setEdges:function(t){return e((function(e){return $v($v({},e),{},{edges:t})}))},setNodePosition:function(t,n){return e((function(e){var r,i,a=e.nodes.find((function(e){return e.id===t})),o=uq(a),l=new Mx(n.x,n.y,n.z).sub(o),u=k(e.nodes);if(null==(r=e.selections)?void 0:r.includes(t))null==(i=e.selections)||i.forEach((function(t){var n=e.nodes.find((function(e){return e.id===t}));if(n){var r=e.nodes.indexOf(n);u[r]=dq(n,l)}}));else{var c=e.nodes.indexOf(a);u[c]=dq(a,l)}return $v($v({},e),{},{drags:$v($v({},e.drags),{},s({},t,a)),nodes:u})}))},setCollapsedNodeIds:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e((function(e){return $v($v({},e),{},{collapsedNodeIds:t})}))}}}))}({selections:b,actives:x,theme:l,collapsedNodeIds:w})},children:[(0,yr.jsx)("color",{attach:"background",args:[l.canvas.background]}),(0,yr.jsx)("ambientLight",{intensity:1}),a,l.canvas.fog&&(0,yr.jsx)("fog",{attach:"fog",args:[l.canvas.fog,4e3,9e3]}),(0,yr.jsx)(Oq,{mode:r,ref:y,animated:c,disabled:d,children:(0,yr.jsx)(qq,{theme:l,disabled:d,type:f,onLasso:h,onLassoEnd:p,children:(0,yr.jsx)(t.Suspense,{children:(0,yr.jsx)(Vq,$v({ref:g,theme:l,disabled:d,animated:S,edges:i,nodes:o},m))})})})]})})})}));Zq.defaultProps={cameraMode:"pan",layoutType:"forceDirected2d",sizingType:"default",labelType:"auto",theme:{canvas:{background:"#fff"},node:{fill:"#7CA0AB",activeFill:"#1DE9AC",opacity:1,selectedOpacity:1,inactiveOpacity:.2,label:{color:"#2A6475",stroke:"#fff",activeColor:"#1DE9AC"},subLabel:{color:"#ddd",stroke:"transparent",activeColor:"#1DE9AC"}},lasso:{border:"1px solid #55aaff",background:"rgba(75, 160, 255, 0.1)"},ring:{fill:"#D8E6EA",activeFill:"#1DE9AC"},edge:{fill:"#D8E6EA",activeFill:"#1DE9AC",opacity:1,selectedOpacity:1,inactiveOpacity:.1,label:{stroke:"#fff",color:"#2A6475",activeColor:"#1DE9AC"}},arrow:{fill:"#D8E6EA",activeFill:"#1DE9AC"},cluster:{stroke:"#D8E6EA",opacity:1,selectedOpacity:1,inactiveOpacity:.1,label:{stroke:"#fff",color:"#2A6475"}}},animated:!0,defaultNodeSize:7,minNodeSize:5,maxNodeSize:15,lassoType:"none",glOptions:{}};function Qq(e){return e}function $q(e){var n=e.ensemble,r=Ra(),i=M((0,t.useState)(null),2),a=i[0],o=i[1],s=(0,t.useMemo)((function(){return n.nodes.map((function(e){return{id:e.name,label:e.name,data:{weight:e.weight,weight_unscaled:e.weight}}}))}),[n.nodes]),l=(0,t.useMemo)((function(){return n.edges.map((function(e){return{id:"".concat(e.source," <-> ").concat(e.target),source:e.source,target:e.target,data:{weight:Qq(10*e.weight,.1),weight_unscaled:e.weight},size:Qq(10*e.weight,.1)}}))}),[n.edges]),u=function(){o(null)};return(0,yr.jsxs)(yr.Fragment,{children:[(0,yr.jsx)(Xv,{open:Boolean(a),autoHideDuration:3e3,onClose:u,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,yr.jsxs)(Yi,{onClose:u,severity:"info",sx:{width:"100%"},children:[(0,yr.jsx)(la,{style:{fontWeight:600},children:null===a||void 0===a?void 0:a.id}),(0,yr.jsxs)(ia,{variant:"subtitle1",children:["Weight: ",null===a||void 0===a?void 0:a.value.toFixed(4)]})]})}),(0,yr.jsx)("div",{style:{height:"70vh",width:"100%",overflow:"hidden",position:"relative",border:"1px solid",borderRadius:r.spacing(.5),borderColor:r.palette.grey[400]},children:(0,yr.jsx)(Zq,{nodes:s,edges:l,sizingType:"attribute",sizingAttribute:"weight",edgeArrowPosition:"none",onNodeClick:function(e){o({type:"Node",value:e.data.weight_unscaled,id:e.data.id})},onEdgeClick:function(e){o({type:"Edge",value:e.data.weight_unscaled,id:e.data.id})}})})]})}function Jq(){return Jq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jq.apply(this,arguments)}function eX(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function tX(e){if("string"!==typeof e)throw new Error(function(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}(7));return e.charAt(0).toUpperCase()+e.slice(1)}function nX(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo((function(){return n.every((function(e){return null==e}))?null:function(e){n.forEach((function(t){!function(e,t){"function"===typeof e?e(t):e&&(e.current=t)}(t,e)}))}}),n)}var rX="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,iX=function(e){return e},aX=function(){var e=iX;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=iX}}}(),oX={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function sX(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=oX[t];return r?"".concat(n,"-").concat(r):"".concat(aX.generate(e),"-").concat(t)}function lX(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=sX(e,t,n)})),r}function uX(e){return sX("MuiDataGrid",e)}var cX,dX=lX("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","autoHeight","autosizing","booleanCell","cell--editable","cell--editing","cell--textCenter","cell--textLeft","cell--textRight","cell--withRenderer","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--selectionMode","cell","cellContent","cellCheckbox","cellSkeleton","checkboxInput","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderDropZone","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnGroupHeader","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeader--showColumnBorder","columnHeaders","columnHeadersInner","columnHeadersInner--scrollable","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsPanel","columnsPanelRow","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","row","row--editable","row--editing","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","scrollArea--left","scrollArea--right","scrollArea","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","pinnedColumns--left","pinnedColumns--right","pinnedColumnHeaders","pinnedColumnHeaders--left","pinnedColumnHeaders--right","withBorderColor","cell--withRightBorder","columnHeader--withRightBorder","treeDataGroupingCell","treeDataGroupingCellToggle","groupingCriteriaCell","groupingCriteriaCellToggle","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]);var fX=s({},".".concat(dX.columnSeparator,", .").concat(dX["columnSeparator--resizing"]),{visibility:"visible",width:"auto"}),hX=(s(cX={},"& .".concat(dX.iconButtonContainer),{visibility:"visible",width:"auto"}),s(cX,"& .".concat(dX.menuIcon),{width:"auto",visibility:"visible"}),cX),pX=rr("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:function(e,t){return[s({},"&.".concat(dX.autoHeight),t.autoHeight),s({},"&.".concat(dX.aggregationColumnHeader),t.aggregationColumnHeader),s({},"&.".concat(dX["aggregationColumnHeader--alignLeft"]),t["aggregationColumnHeader--alignLeft"]),s({},"&.".concat(dX["aggregationColumnHeader--alignCenter"]),t["aggregationColumnHeader--alignCenter"]),s({},"&.".concat(dX["aggregationColumnHeader--alignRight"]),t["aggregationColumnHeader--alignRight"]),s({},"&.".concat(dX.aggregationColumnHeaderLabel),t.aggregationColumnHeaderLabel),s({},"&.".concat(dX["root--disableUserSelection"]," .").concat(dX.cell),t["root--disableUserSelection"]),s({},"&.".concat(dX.autosizing),t.autosizing),s({},"& .".concat(dX.editBooleanCell),t.editBooleanCell),s({},"& .".concat(dX["cell--editing"]),t["cell--editing"]),s({},"& .".concat(dX["cell--textCenter"]),t["cell--textCenter"]),s({},"& .".concat(dX["cell--textLeft"]),t["cell--textLeft"]),s({},"& .".concat(dX["cell--textRight"]),t["cell--textRight"]),s({},"& .".concat(dX["cell--withRenderer"]),t["cell--withRenderer"]),s({},"& .".concat(dX.cell),t.cell),s({},"& .".concat(dX["cell--rangeTop"]),t["cell--rangeTop"]),s({},"& .".concat(dX["cell--rangeBottom"]),t["cell--rangeBottom"]),s({},"& .".concat(dX["cell--rangeLeft"]),t["cell--rangeLeft"]),s({},"& .".concat(dX["cell--rangeRight"]),t["cell--rangeRight"]),s({},"& .".concat(dX["cell--withRightBorder"]),t["cell--withRightBorder"]),s({},"& .".concat(dX.cellContent),t.cellContent),s({},"& .".concat(dX.cellCheckbox),t.cellCheckbox),s({},"& .".concat(dX.cellSkeleton),t.cellSkeleton),s({},"& .".concat(dX.checkboxInput),t.checkboxInput),s({},"& .".concat(dX["columnHeader--alignCenter"]),t["columnHeader--alignCenter"]),s({},"& .".concat(dX["columnHeader--alignLeft"]),t["columnHeader--alignLeft"]),s({},"& .".concat(dX["columnHeader--alignRight"]),t["columnHeader--alignRight"]),s({},"& .".concat(dX["columnHeader--dragging"]),t["columnHeader--dragging"]),s({},"& .".concat(dX["columnHeader--moving"]),t["columnHeader--moving"]),s({},"& .".concat(dX["columnHeader--numeric"]),t["columnHeader--numeric"]),s({},"& .".concat(dX["columnHeader--sortable"]),t["columnHeader--sortable"]),s({},"& .".concat(dX["columnHeader--sorted"]),t["columnHeader--sorted"]),s({},"& .".concat(dX["columnHeader--withRightBorder"]),t["columnHeader--withRightBorder"]),s({},"& .".concat(dX.columnHeader),t.columnHeader),s({},"& .".concat(dX.headerFilterRow),t.headerFilterRow),s({},"& .".concat(dX.columnHeaderCheckbox),t.columnHeaderCheckbox),s({},"& .".concat(dX.columnHeaderDraggableContainer),t.columnHeaderDraggableContainer),s({},"& .".concat(dX.columnHeaderTitleContainer),t.columnHeaderTitleContainer),s({},"& .".concat(dX["columnSeparator--resizable"]),t["columnSeparator--resizable"]),s({},"& .".concat(dX["columnSeparator--resizing"]),t["columnSeparator--resizing"]),s({},"& .".concat(dX.columnSeparator),t.columnSeparator),s({},"& .".concat(dX.filterIcon),t.filterIcon),s({},"& .".concat(dX.iconSeparator),t.iconSeparator),s({},"& .".concat(dX.menuIcon),t.menuIcon),s({},"& .".concat(dX.menuIconButton),t.menuIconButton),s({},"& .".concat(dX.menuOpen),t.menuOpen),s({},"& .".concat(dX.menuList),t.menuList),s({},"& .".concat(dX["row--editable"]),t["row--editable"]),s({},"& .".concat(dX["row--editing"]),t["row--editing"]),s({},"& .".concat(dX["row--dragging"]),t["row--dragging"]),s({},"& .".concat(dX.row),t.row),s({},"& .".concat(dX.rowReorderCellPlaceholder),t.rowReorderCellPlaceholder),s({},"& .".concat(dX.rowReorderCell),t.rowReorderCell),s({},"& .".concat(dX["rowReorderCell--draggable"]),t["rowReorderCell--draggable"]),s({},"& .".concat(dX.sortIcon),t.sortIcon),s({},"& .".concat(dX.withBorderColor),t.withBorderColor),s({},"& .".concat(dX.treeDataGroupingCell),t.treeDataGroupingCell),s({},"& .".concat(dX.treeDataGroupingCellToggle),t.treeDataGroupingCellToggle),s({},"& .".concat(dX.detailPanelToggleCell),t.detailPanelToggleCell),s({},"& .".concat(dX["detailPanelToggleCell--expanded"]),t["detailPanelToggleCell--expanded"]),t.root]}})((function(e){var t,n,r,i,a,o=e.theme,l=function(e){return e.vars?e.vars.palette.TableCell.border:"light"===e.palette.mode?x(y(e.palette.divider,1),.88):b(y(e.palette.divider,1),.68)}(o),u=o.shape.borderRadius;return Jq({"--unstable_DataGrid-radius":"number"===typeof u?"".concat(u,"px"):u,"--unstable_DataGrid-headWeight":o.typography.fontWeightMedium,"--unstable_DataGrid-overlayBackground":o.vars?"rgba(".concat(o.vars.palette.background.defaultChannel," / ").concat(o.vars.palette.action.disabledOpacity,")"):y(o.palette.background.default,o.palette.action.disabledOpacity),"--DataGrid-cellOffsetMultiplier":2,flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:l,borderRadius:"var(--unstable_DataGrid-radius)",color:(o.vars||o).palette.text.primary},o.typography.body2,(s(a={outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflowAnchor:"none"},"&.".concat(dX.autoHeight),s({height:"auto"},"& .".concat(dX["row--lastVisible"]," .").concat(dX.cell),{borderBottomColor:"transparent"})),s(a,"&.".concat(dX.autosizing),(s(t={},"& .".concat(dX.columnHeaderTitleContainerContent," > *"),{overflow:"visible !important"}),s(t,"& .".concat(dX.cell," > *"),{overflow:"visible !important"}),t)),s(a,"& .".concat(dX["virtualScrollerContent--overflowed"]," .").concat(dX["row--lastVisible"]," .").concat(dX.cell),{borderBottomColor:"transparent"}),s(a,"& .".concat(dX.columnHeader,", & .").concat(dX.cell),{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"}),s(a,"& .".concat(dX.columnHeader,":focus-within, & .").concat(dX.cell,":focus-within"),{outline:"solid ".concat(o.vars?"rgba(".concat(o.vars.palette.primary.mainChannel," / 0.5)"):y(o.palette.primary.main,.5)," 1px"),outlineWidth:1,outlineOffset:-1}),s(a,"& .".concat(dX.columnHeader,":focus, & .").concat(dX.cell,":focus"),{outline:"solid ".concat(o.palette.primary.main," 1px")}),s(a,"& .".concat(dX.columnHeaderCheckbox,", & .").concat(dX.cellCheckbox),{padding:0,justifyContent:"center",alignItems:"center"}),s(a,"& .".concat(dX.columnHeader),{position:"relative",display:"flex",alignItems:"center"}),s(a,"& .".concat(dX["columnHeader--sorted"]," .").concat(dX.iconButtonContainer,", & .").concat(dX["columnHeader--filtered"]," .").concat(dX.iconButtonContainer),{visibility:"visible",width:"auto"}),s(a,"& .".concat(dX.columnHeader,":not(.").concat(dX["columnHeader--sorted"],") .").concat(dX.sortIcon),{opacity:0,transition:o.transitions.create(["opacity"],{duration:o.transitions.duration.shorter})}),s(a,"& .".concat(dX.columnHeaderTitleContainer),{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden",position:"relative"}),s(a,"& .".concat(dX.columnHeaderTitleContainerContent),{overflow:"hidden",display:"flex",alignItems:"center"}),s(a,"& .".concat(dX["columnHeader--filledGroup"]," .").concat(dX.columnHeaderTitleContainer),{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"}),s(a,"& .".concat(dX["columnHeader--filledGroup"],".").concat(dX["columnHeader--showColumnBorder"]," .").concat(dX.columnHeaderTitleContainer),{borderBottom:"none"}),s(a,"& .".concat(dX["columnHeader--filledGroup"],".").concat(dX["columnHeader--showColumnBorder"]),{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"}),s(a,"& .".concat(dX.headerFilterRow),{borderTop:"1px solid ".concat(l)}),s(a,"& .".concat(dX.sortIcon,", & .").concat(dX.filterIcon),{fontSize:"inherit"}),s(a,"& .".concat(dX["columnHeader--sortable"]),{cursor:"pointer"}),s(a,"& .".concat(dX["columnHeader--alignCenter"]," .").concat(dX.columnHeaderTitleContainer),{justifyContent:"center"}),s(a,"& .".concat(dX["columnHeader--alignRight"]," .").concat(dX.columnHeaderDraggableContainer,", & .").concat(dX["columnHeader--alignRight"]," .").concat(dX.columnHeaderTitleContainer),{flexDirection:"row-reverse"}),s(a,"& .".concat(dX["columnHeader--alignCenter"]," .").concat(dX.menuIcon,", & .").concat(dX["columnHeader--alignRight"]," .").concat(dX.menuIcon),{marginRight:"auto",marginLeft:-6}),s(a,"& .".concat(dX["columnHeader--alignRight"]," .").concat(dX.menuIcon,", & .").concat(dX["columnHeader--alignRight"]," .").concat(dX.menuIcon),{marginRight:"auto",marginLeft:-10}),s(a,"& .".concat(dX["columnHeader--moving"]),{backgroundColor:(o.vars||o).palette.action.hover}),s(a,"& .".concat(dX.columnSeparator),{visibility:"hidden",position:"absolute",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:l}),s(a,"@media (hover: hover)",(s(n={},"& .".concat(dX.columnHeaders,":hover"),fX),s(n,"& .".concat(dX.columnHeader,":hover"),hX),s(n,"& .".concat(dX.columnHeader,":not(.").concat(dX["columnHeader--sorted"],"):hover .").concat(dX.sortIcon),{opacity:.5}),n)),s(a,"@media (hover: none)",(s(r={},"& .".concat(dX.columnHeaders),fX),s(r,"& .".concat(dX.columnHeader),hX),r)),s(a,"& .".concat(dX["columnSeparator--sideLeft"]),{left:-12}),s(a,"& .".concat(dX["columnSeparator--sideRight"]),{right:-12}),s(a,"& .".concat(dX["columnSeparator--resizable"]),(s(i={cursor:"col-resize",touchAction:"none","&:hover":{color:(o.vars||o).palette.text.primary,"@media (hover: none)":{color:l}}},"&.".concat(dX["columnSeparator--resizing"]),{color:(o.vars||o).palette.text.primary}),s(i,"& svg",{pointerEvents:"none"}),i)),s(a,"& .".concat(dX.iconSeparator),{color:"inherit"}),s(a,"& .".concat(dX.menuIcon),{width:0,visibility:"hidden",fontSize:20,marginRight:-10,display:"flex",alignItems:"center"}),s(a,".".concat(dX.menuOpen),{visibility:"visible",width:"auto"}),s(a,"& .".concat(dX.row),{display:"flex",width:"fit-content",breakInside:"avoid","&:hover, &.Mui-hovered":{backgroundColor:(o.vars||o).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:o.vars?"rgba(".concat(o.vars.palette.primary.mainChannel," / ").concat(o.vars.palette.action.selectedOpacity,")"):y(o.palette.primary.main,o.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:o.vars?"rgba(".concat(o.vars.palette.primary.mainChannel," / calc(\n                ").concat(o.vars.palette.action.selectedOpacity," + \n                ").concat(o.vars.palette.action.hoverOpacity,"\n              ))"):y(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:o.vars?"rgba(".concat(o.vars.palette.primary.mainChannel," / ").concat(o.vars.palette.action.selectedOpacity,")"):y(o.palette.primary.main,o.palette.action.selectedOpacity)}}}}),s(a,"& .".concat(dX.cell),{display:"flex",alignItems:"center",borderBottom:"1px solid","&.Mui-selected":{backgroundColor:o.vars?"rgba(".concat(o.vars.palette.primary.mainChannel," / ").concat(o.vars.palette.action.selectedOpacity,")"):y(o.palette.primary.main,o.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:o.vars?"rgba(".concat(o.vars.palette.primary.mainChannel," / ").concat(o.vars.palette.action.selectedOpacity+o.palette.action.hoverOpacity,")"):y(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:o.vars?"rgba(".concat(o.vars.palette.primary.mainChannel," / ").concat(o.vars.palette.action.selectedOpacity,")"):y(o.palette.primary.main,o.palette.action.selectedOpacity)}}}}),s(a,"&.".concat(dX["root--disableUserSelection"]," .").concat(dX.cell),{userSelect:"none"}),s(a,"& .".concat(dX.row,":not(.").concat(dX["row--dynamicHeight"],") > .").concat(dX.cell),{overflow:"hidden",whiteSpace:"nowrap"}),s(a,"& .".concat(dX.cellContent),{overflow:"hidden",textOverflow:"ellipsis"}),s(a,"& .".concat(dX.cell,".").concat(dX["cell--selectionMode"]),{cursor:"default"}),s(a,"& .".concat(dX.cell,".").concat(dX["cell--editing"]),{padding:1,display:"flex",boxShadow:o.shadows[2],backgroundColor:(o.vars||o).palette.background.paper,"&:focus-within":{outline:"solid ".concat((o.vars||o).palette.primary.main," 1px"),outlineOffset:"-1px"}}),s(a,"& .".concat(dX["row--editing"]),{boxShadow:o.shadows[2]}),s(a,"& .".concat(dX["row--editing"]," .").concat(dX.cell),{boxShadow:o.shadows[0],backgroundColor:(o.vars||o).palette.background.paper}),s(a,"& .".concat(dX.editBooleanCell),{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"}),s(a,"& .".concat(dX.booleanCell,'[data-value="true"]'),{color:(o.vars||o).palette.text.secondary}),s(a,"& .".concat(dX.booleanCell,'[data-value="false"]'),{color:(o.vars||o).palette.text.disabled}),s(a,"& .".concat(dX.actionsCell),{display:"inline-flex",alignItems:"center",gridGap:o.spacing(1)}),s(a,"& .".concat(dX.rowReorderCell),{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:(o.vars||o).palette.action.disabledOpacity}),s(a,"& .".concat(dX["rowReorderCell--draggable"]),{cursor:"move",opacity:1}),s(a,"& .".concat(dX.rowReorderCellContainer),{padding:0,alignItems:"stretch"}),s(a,".".concat(dX.withBorderColor),{borderColor:l}),s(a,"& .".concat(dX["cell--withRightBorder"]),{borderRightWidth:"1px",borderRightStyle:"solid"}),s(a,"& .".concat(dX["columnHeader--withRightBorder"]),{borderRightWidth:"1px",borderRightStyle:"solid"}),s(a,"& .".concat(dX["cell--textLeft"]),{justifyContent:"flex-start"}),s(a,"& .".concat(dX["cell--textRight"]),{justifyContent:"flex-end"}),s(a,"& .".concat(dX["cell--textCenter"]),{justifyContent:"center"}),s(a,"& .".concat(dX.columnHeaderDraggableContainer),{display:"flex",width:"100%",height:"100%"}),s(a,"& .".concat(dX.rowReorderCellPlaceholder),{display:"none"}),s(a,"& .".concat(dX["columnHeader--dragging"],", & .").concat(dX["row--dragging"]),{background:(o.vars||o).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(o.vars||o).palette.action.disabledOpacity}),s(a,"& .".concat(dX["row--dragging"]),s({background:(o.vars||o).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(o.vars||o).palette.action.disabledOpacity},"& .".concat(dX.rowReorderCellPlaceholder),{display:"flex"})),s(a,"& .".concat(dX.treeDataGroupingCell),{display:"flex",alignItems:"center",width:"100%"}),s(a,"& .".concat(dX.treeDataGroupingCellToggle),{flex:"0 0 28px",alignSelf:"stretch",marginRight:o.spacing(2)}),s(a,"& .".concat(dX.groupingCriteriaCell),{display:"flex",alignItems:"center",width:"100%"}),s(a,"& .".concat(dX.groupingCriteriaCellToggle),{flex:"0 0 28px",alignSelf:"stretch",marginRight:o.spacing(2)}),a))})),vX={};function mX(e,n){var r=t.useRef(vX);return r.current===vX&&(r.current=e(n)),r}var gX=[];function yX(e){t.useEffect(e,gX)}var bX=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning",n=!1,r=Array.isArray(e)?e.join("\n"):e;return function(){n||(n=!0,"error"===t?console.error(r):console.warn(r))}},xX=Object.is;function wX(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;var n=0,r=0;for(var i in e){if(n+=1,!xX(e[i],t[i]))return!1;if(!(i in t))return!1}for(var a in t)r+=1;return n===r}bX(["MUI: `useGridSelector` has been called before the initialization of the state.","This hook can only be used inside the context of the grid."]);function SX(e,t){return function(e){return e.acceptsApiRef}(t)?t(e):t(e.current.state)}var _X=Object.is,kX=wX,EX=function(){return{state:null,equals:null,selector:null}},CX=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_X;var i=mX(EX),a=null!==i.current.selector,o=M(t.useState(a?null:SX(e,n)),2),s=o[0],l=o[1];return i.current.state=s,i.current.equals=r,i.current.selector=n,yX((function(){return e.current.store.subscribe((function(){var t=SX(e,i.current.selector);i.current.equals(i.current.state,t)||(i.current.state=t,l(t))}))})),s},MX=t.createContext(void 0);function TX(){var e=t.useContext(MX);if(void 0===e)throw new Error(["MUI: Could not find the data grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join("\n"));return e}var RX=t.createContext(void 0);var AX=function(){var e=t.useContext(RX);if(!e)throw new Error("MUI: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e},PX="NOT_FOUND";var IX=function(e,t){return e===t};function OX(e,t){var n="object"===typeof t?t:{equalityCheck:t},r=n.equalityCheck,i=void 0===r?IX:r,a=n.maxSize,o=void 0===a?1:a,s=n.resultEqualityCheck,l=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(i),u=1===o?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:PX},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(l):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return PX}return{get:r,put:function(t,i){r(t)===PX&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(o,l);function c(){var t=u.get(arguments);if(t===PX){if(t=e.apply(null,arguments),s){var n=u.getEntries().find((function(e){return s(e.value,t)}));n&&(t=n.value)}u.put(arguments,t)}return t}return c.clearCache=function(){return u.clear()},c}function LX(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a,o=0,s={memoizeOptions:void 0},l=r.pop();if("object"===typeof l&&(s=l,l=r.pop()),"function"!==typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var u=s.memoizeOptions,c=void 0===u?n:u,d=Array.isArray(c)?c:[c],f=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),h=e.apply(void 0,[function(){return o++,l.apply(null,arguments)}].concat(d)),p=e((function(){for(var e=[],t=f.length,n=0;n<t;n++)e.push(f[n].apply(null,arguments));return a=h.apply(null,e)}));return Object.assign(p,{resultFunc:l,memoizedResultFunc:h,dependencies:f,lastResult:function(){return a},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),p}}var NX=LX(OX),DX={cache:new WeakMap};bX(["MUI: A selector was called without passing the instance ID, which may impact the performance of the grid.","To fix, call it with `apiRef`, e.g. `mySelector(apiRef)`, or pass the instance ID explicitly, e.g. `mySelector(state, apiRef.current.instanceId)`."]);function UX(e){return"current"in e&&"instanceId"in e.current}var FX={id:"default"},zX=function(e,t,n,r,i,a){if((arguments.length<=6?0:arguments.length-6)>0)throw new Error("Unsupported number of selectors");var o;if(e&&t&&n&&r&&i&&a)o=function(o,s){var l=UX(o),u=null!=s?s:l?o.current.instanceId:FX,c=l?o.current.state:o,d=e(c,u),f=t(c,u),h=n(c,u),p=r(c,u),v=i(c,u);return a(d,f,h,p,v)};else if(e&&t&&n&&r&&i)o=function(a,o){var s=UX(a),l=null!=o?o:s?a.current.instanceId:FX,u=s?a.current.state:a,c=e(u,l),d=t(u,l),f=n(u,l),h=r(u,l);return i(c,d,f,h)};else if(e&&t&&n&&r)o=function(i,a){var o=UX(i),s=null!=a?a:o?i.current.instanceId:FX,l=o?i.current.state:i,u=e(l,s),c=t(l,s),d=n(l,s);return r(u,c,d)};else if(e&&t&&n)o=function(r,i){var a=UX(r),o=null!=i?i:a?r.current.instanceId:FX,s=a?r.current.state:r,l=e(s,o),u=t(s,o);return n(l,u)};else{if(!e||!t)throw new Error("Missing arguments");o=function(n,r){var i=UX(n),a=null!=r?r:i?n.current.instanceId:FX,o=i?n.current.state:n,s=e(o,a);return t(s)}}return o.acceptsApiRef=!0,o},BX=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(){for(var e,n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i[0],s=i[1],l=UX(o),u=l?o.current.instanceId:null!=s?s:FX,c=l?o.current.state:o;var d,f=DX.cache;if(f.get(u)&&null!=(e=f.get(u))&&e.get(t))return null==(d=f.get(u))?void 0:d.get(t)(c,u);var h=NX.apply(void 0,t);return f.get(u)||f.set(u,new Map),null==(n=f.get(u))||n.set(t,h),h(c,u)};return r.acceptsApiRef=!0,r},jX=function(e){return e.density},HX=zX(jX,(function(e){return e.value})),GX=zX(jX,(function(e){return e.factor})),VX=function(e){return e.columns},WX=zX(VX,(function(e){return e.orderedFields})),qX=zX(VX,(function(e){return e.lookup})),XX=BX(WX,qX,(function(e,t){return e.map((function(e){return t[e]}))})),YX=zX(VX,(function(e){return e.columnVisibilityModel})),KX=BX(XX,YX,(function(e,t){return e.filter((function(e){return!1!==t[e.field]}))})),ZX=BX(KX,(function(e){return e.map((function(e){return e.field}))})),QX=BX(KX,(function(e){for(var t=[],n=0,r=0;r<e.length;r+=1)t.push(n),n+=e[r].computedWidth;return t})),$X=zX(KX,QX,(function(e,t){var n=e.length;return 0===n?0:t[n-1]+e[n-1].computedWidth})),JX=BX(XX,(function(e){return e.filter((function(e){return e.filterable}))})),eY=BX(XX,(function(e){return e.reduce((function(e,t){return t.filterable&&(e[t.field]=t),e}),{})})),tY=function(e){return e.columnGrouping},nY=BX(tY,(function(e){var t;return null!=(t=null==e?void 0:e.unwrappedGroupingModel)?t:{}})),rY=BX(tY,(function(e){var t;return null!=(t=null==e?void 0:e.lookup)?t:{}})),iY=BX(tY,(function(e){var t;return null!=(t=null==e?void 0:e.headerStructure)?t:[]})),aY=zX(tY,(function(e){var t;return null!=(t=null==e?void 0:e.maxDepth)?t:0})),oY=function(e){return e.rows},sY=zX(oY,(function(e){return e.totalRowCount})),lY=zX(oY,(function(e){return e.loading})),uY=zX(oY,(function(e){return e.totalTopLevelRowCount})),cY=zX(oY,(function(e){return e.dataRowIdToModelLookup})),dY=zX(oY,(function(e){return e.dataRowIdToIdLookup})),fY=zX(oY,(function(e){return e.tree})),hY=zX(oY,(function(e){return e.groupingName})),pY=zX(oY,(function(e){return e.treeDepths})),vY=BX(oY,(function(e){var t=Object.entries(e.treeDepths);return 0===t.length?1:t.filter((function(e){return M(e,2)[1]>0})).map((function(e){var t=M(e,1)[0];return Number(t)})).sort((function(e,t){return t-e}))[0]+1})),mY=zX(oY,(function(e){return e.dataRowIds})),gY=BX(zX(oY,(function(e){return null==e?void 0:e.additionalRowGroups})),(function(e){var t,n,r=null==e?void 0:e.pinnedRows;return{bottom:null==r||null==(t=r.bottom)?void 0:t.map((function(e){var t;return{id:e.id,model:null!=(t=e.model)?t:{}}})),top:null==r||null==(n=r.top)?void 0:n.map((function(e){var t;return{id:e.id,model:null!=(t=e.model)?t:{}}}))}})),yY=zX(gY,(function(e){var t,n;return((null==e||null==(t=e.top)?void 0:t.length)||0)+((null==e||null==(n=e.bottom)?void 0:n.length)||0)})),bY=function(){var e,t=TX(),n=AX(),r=CX(t,KX),i=CX(t,sY),a=CX(t,aY),o=CX(t,yY),s="grid";return null!=(e=n.experimentalFeatures)&&e.ariaV7&&n.treeData&&(s="treegrid"),{role:s,"aria-colcount":r.length,"aria-rowcount":a+1+o+i,"aria-multiselectable":!n.disableMultipleRowSelection}},xY=["children","className"],wY=t.forwardRef((function(e,n){var r,i=AX(),a=e.children,o=e.className,s=eX(e,xY),l=TX(),u=CX(l,HX),c=t.useRef(null),f=nX(c,n),h=null!=(r=i.experimentalFeatures)&&r.ariaV7?null:bY,p="function"===typeof h?h():null,v=Jq({},i,{density:u}),m=function(e){var t=e.autoHeight,n=e.density,r=e.classes;return Cv({root:["root",t&&"autoHeight","root--density".concat(tX(n)),"withBorderColor"]},uX,r)}(v);l.current.register("public",{rootElementRef:c});var g=M(t.useState(!1),2),y=g[0],b=g[1];return rX((function(){b(!0)}),[]),y?(0,yr.jsx)(pX,Jq({ref:f,className:d(o,m.root),ownerState:v},p,s,{children:a})):null}));function SY(){var e,n,r=AX();return(0,yr.jsxs)(t.Fragment,{children:[(0,yr.jsx)(r.slots.preferencesPanel,Jq({},null==(e=r.slotProps)?void 0:e.preferencesPanel)),r.slots.toolbar&&(0,yr.jsx)(r.slots.toolbar,Jq({},null==(n=r.slotProps)?void 0:n.toolbar))]})}function _Y(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function kY(e){if(!_Y(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=kY(e[n])})),t}function EY(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?u({},e):e;return _Y(e)&&_Y(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(_Y(t[i])&&i in e&&_Y(e[i])?r[i]=EY(e[i],t[i],n):n.clone?r[i]=_Y(t[i])?kY(t[i]):t[i]:r[i]=t[i])})),r}var CY=["values","unit","step"],MY=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return u({},e,s({},t.key,t.val))}),{})};var TY={borderRadius:4},RY={xs:0,sm:600,md:900,lg:1200,xl:1536},AY={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(RY[e],"px)")}};function PY(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||AY;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||AY;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||RY).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function IY(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function OY(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function LY(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function NY(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:LY(e,n)||i,t&&(r=t(r,i,e)),r}var DY=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=LY(e.theme,i)||{};return PY(e,n,(function(e){var n=NY(o,a,e);return e===n&&"string"===typeof e&&(n=NY(o,a,"".concat(t).concat("default"===e?"":tX(e)),e)),!1===r?n:s({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var UY=function(e,t){return t?EY(e,t,{clone:!1}):e};var FY={m:"margin",p:"padding"},zY={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},BY={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},jY=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!BY[e])return[e];e=BY[e]}var t=M(e.split(""),2),n=t[0],r=t[1],i=FY[n],a=zY[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),HY=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],GY=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],VY=[].concat(HY,GY);function WY(e,t,n,r){var i,a=null!=(i=LY(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function qY(e){return WY(e,"spacing",8)}function XY(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function YY(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=XY(t,n),e}),{})}}(jY(n),r);return PY(e,e[n],i)}function KY(e,t){var n=qY(e.theme);return Object.keys(e).map((function(r){return YY(e,t,r,n)})).reduce(UY,{})}function ZY(e){return KY(e,HY)}function QY(e){return KY(e,GY)}function $Y(e){return KY(e,VY)}ZY.propTypes={},ZY.filterProps=HY,QY.propTypes={},QY.filterProps=GY,$Y.propTypes={},$Y.filterProps=VY;var JY=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?UY(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function eK(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var tK=DY({prop:"border",themeKey:"borders",transform:eK}),nK=DY({prop:"borderTop",themeKey:"borders",transform:eK}),rK=DY({prop:"borderRight",themeKey:"borders",transform:eK}),iK=DY({prop:"borderBottom",themeKey:"borders",transform:eK}),aK=DY({prop:"borderLeft",themeKey:"borders",transform:eK}),oK=DY({prop:"borderColor",themeKey:"palette"}),sK=DY({prop:"borderTopColor",themeKey:"palette"}),lK=DY({prop:"borderRightColor",themeKey:"palette"}),uK=DY({prop:"borderBottomColor",themeKey:"palette"}),cK=DY({prop:"borderLeftColor",themeKey:"palette"}),dK=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=WY(e.theme,"shape.borderRadius",4);return PY(e,e.borderRadius,(function(e){return{borderRadius:XY(t,e)}}))}return null};dK.propTypes={},dK.filterProps=["borderRadius"];JY(tK,nK,rK,iK,aK,oK,sK,lK,uK,cK,dK);var fK=function(e){if(void 0!==e.gap&&null!==e.gap){var t=WY(e.theme,"spacing",8);return PY(e,e.gap,(function(e){return{gap:XY(t,e)}}))}return null};fK.propTypes={},fK.filterProps=["gap"];var hK=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=WY(e.theme,"spacing",8);return PY(e,e.columnGap,(function(e){return{columnGap:XY(t,e)}}))}return null};hK.propTypes={},hK.filterProps=["columnGap"];var pK=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=WY(e.theme,"spacing",8);return PY(e,e.rowGap,(function(e){return{rowGap:XY(t,e)}}))}return null};pK.propTypes={},pK.filterProps=["rowGap"];JY(fK,hK,pK,DY({prop:"gridColumn"}),DY({prop:"gridRow"}),DY({prop:"gridAutoFlow"}),DY({prop:"gridAutoColumns"}),DY({prop:"gridAutoRows"}),DY({prop:"gridTemplateColumns"}),DY({prop:"gridTemplateRows"}),DY({prop:"gridTemplateAreas"}),DY({prop:"gridArea"}));function vK(e,t){return"grey"===t?t:e}JY(DY({prop:"color",themeKey:"palette",transform:vK}),DY({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:vK}),DY({prop:"backgroundColor",themeKey:"palette",transform:vK}));function mK(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var gK=DY({prop:"width",transform:mK}),yK=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return PY(e,e.maxWidth,(function(t){var n,r,i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||RY[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:mK(t)}}))}return null};yK.filterProps=["maxWidth"];var bK=DY({prop:"minWidth",transform:mK}),xK=DY({prop:"height",transform:mK}),wK=DY({prop:"maxHeight",transform:mK}),SK=DY({prop:"minHeight",transform:mK}),_K=(DY({prop:"size",cssProperty:"width",transform:mK}),DY({prop:"size",cssProperty:"height",transform:mK}),JY(gK,yK,bK,xK,wK,SK,DY({prop:"boxSizing"})),{border:{themeKey:"borders",transform:eK},borderTop:{themeKey:"borders",transform:eK},borderRight:{themeKey:"borders",transform:eK},borderBottom:{themeKey:"borders",transform:eK},borderLeft:{themeKey:"borders",transform:eK},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:dK},color:{themeKey:"palette",transform:vK},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:vK},backgroundColor:{themeKey:"palette",transform:vK},p:{style:QY},pt:{style:QY},pr:{style:QY},pb:{style:QY},pl:{style:QY},px:{style:QY},py:{style:QY},padding:{style:QY},paddingTop:{style:QY},paddingRight:{style:QY},paddingBottom:{style:QY},paddingLeft:{style:QY},paddingX:{style:QY},paddingY:{style:QY},paddingInline:{style:QY},paddingInlineStart:{style:QY},paddingInlineEnd:{style:QY},paddingBlock:{style:QY},paddingBlockStart:{style:QY},paddingBlockEnd:{style:QY},m:{style:ZY},mt:{style:ZY},mr:{style:ZY},mb:{style:ZY},ml:{style:ZY},mx:{style:ZY},my:{style:ZY},margin:{style:ZY},marginTop:{style:ZY},marginRight:{style:ZY},marginBottom:{style:ZY},marginLeft:{style:ZY},marginX:{style:ZY},marginY:{style:ZY},marginInline:{style:ZY},marginInlineStart:{style:ZY},marginInlineEnd:{style:ZY},marginBlock:{style:ZY},marginBlockStart:{style:ZY},marginBlockEnd:{style:ZY},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:fK},rowGap:{style:pK},columnGap:{style:hK},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:mK},maxWidth:{style:yK},minWidth:{transform:mK},height:{transform:mK},maxHeight:{transform:mK},minHeight:{transform:mK},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}),kK=_K;var EK=function(){function e(e,t,n,r){var i,a=(s(i={},e,t),s(i,"theme",n),i),o=r[e];if(!o)return s({},e,t);var l=o.cssProperty,u=void 0===l?e:l,c=o.themeKey,d=o.transform,f=o.style;if(null==t)return null;if("typography"===c&&"inherit"===t)return s({},e,t);var h=LY(n,c)||{};if(f)return f(a);return PY(a,t,(function(t){var n=NY(h,d,t);return t===n&&"string"===typeof t&&(n=NY(h,d,"".concat(e).concat("default"===t?"":tX(t)),t)),!1===u?n:s({},u,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,l=void 0===o?{}:o;if(!a)return null;var u=null!=(r=l.unstable_sxConfig)?r:kK;function c(n){var r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;var i=IY(l.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,c=(i=r[n],a=l,"function"===typeof i?i(a):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(u[n])o=UY(o,e(n,c,l,u));else{var d=PY({theme:l},c,(function(e){return s({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(d,c)?o=UY(o,d):o[n]=t({sx:c,theme:l})}else o=UY(o,e(n,c,l,u))})),OY(a,o)}return Array.isArray(a)?a.map(c):c(a)}}();EK.filterProps=["sx"];var CK=EK,MK=["breakpoints","palette","spacing","shape"];var TK=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,s=void 0===o?{}:o,c=l(e,MK),d=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,s=l(e,CY),c=MY(n),d=Object.keys(c);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-o/100).concat(i,")")}return u({keys:d,values:c,up:f,down:h,between:p,only:function(e){return d.indexOf(e)+1<d.length?p(e,d[d.indexOf(e)+1]):f(e)},not:function(e){var t=d.indexOf(e);return 0===t?f(d[1]):t===d.length-1?h(d[t]):p(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}(n),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=qY({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(a),h=EY({breakpoints:d,direction:"ltr",components:{},palette:u({mode:"light"},i),spacing:f,shape:u({},TY,s)},c),p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return(h=v.reduce((function(e,t){return EY(e,t)}),h)).unstable_sxConfig=u({},kK,null==c?void 0:c.unstable_sxConfig),h.unstable_sx=function(e){return CK({sx:e,theme:this})},h},RK=["variant"];function AK(e){return 0===e.length}function PK(e){var t=e.variant,n=l(e,RK),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?AK(r)?e[t]:tX(e[t]):"".concat(AK(r)?t:tX(t)).concat(tX(e[t].toString()))})),r}var IK=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function OK(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var LK=TK();function NK(e){var t,n=e.defaultTheme,r=e.theme,i=e.themeId;return t=r,0===Object.keys(t).length?n:r[i]||r}var DK=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,r=void 0===n?LK:n,i=e.rootShouldForwardProp,a=void 0===i?OK:i,o=e.slotShouldForwardProp,s=void 0===o?OK:o,c=function(e){return CK(u({},e,{theme:NK(u({},e,{defaultTheme:r,themeId:t}))}))};return c.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var i,o=n.name,d=n.slot,f=n.skipVariantsResolver,h=n.skipSx,p=n.overridesResolver,v=void 0===p?(i=function(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}(d),i?function(e,t){return t[i]}:null):p,m=l(n,IK),g=void 0!==f?f:d&&"Root"!==d&&"root"!==d||!1,y=h||!1;var b=OK;"Root"===d||"root"===d?b=a:d?b=s:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(b=void 0);var x=function(e,t){return it(e,t)}(e,u({shouldForwardProp:b,label:undefined},m)),w=function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];var l=a?a.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(n){return e(u({},n,{theme:NK(u({},n,{defaultTheme:r,themeId:t}))}))}:e})):[],d=n;o&&v&&l.push((function(e){var n=NK(u({},e,{defaultTheme:r,themeId:t})),i=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(o,n);if(i){var a={};return Object.entries(i).forEach((function(t){var r=M(t,2),i=r[0],o=r[1];a[i]="function"===typeof o?o(u({},e,{theme:n})):o})),v(e,a)}return null})),o&&!g&&l.push((function(e){var n=NK(u({},e,{defaultTheme:r,themeId:t}));return function(e,t,n,r){var i,a=e.ownerState,o=void 0===a?{}:a,s=[],l=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return l&&l.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){o[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[PK(n.props)])})),s}(e,function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=PK(e.props);r[t]=e.style})),r}(o,n),n,o)})),y||l.push(c);var f=l.length-a.length;if(Array.isArray(n)&&f>0){var h=new Array(f).fill("");(d=[].concat(k(n),k(h))).raw=[].concat(k(n.raw),k(h))}else"function"===typeof n&&n.__emotion_real!==n&&(d=function(e){return n(u({},e,{theme:NK(u({},e,{defaultTheme:r,themeId:t}))}))});var p=x.apply(void 0,[d].concat(k(l)));return e.muiName&&(p.muiName=e.muiName),p};return x.withConfig&&(w.withConfig=x.withConfig),w}}(),UK=DK,FK=UK("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:function(e,t){return t.main}})((function(){return{position:"relative",flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"}})),zK=t.forwardRef((function(e,t){var n,r=AX(),i=Cv({root:["main"]},uX,r.classes),a=null!=(n=r.experimentalFeatures)&&n.ariaV7?bY:null,o="function"===typeof a?a():null;return(0,yr.jsx)(FK,Jq({ref:t,className:i.root,ownerState:r},o,{children:e.children}))})),BK=function(e){return e.sorting},jK=zX(BK,(function(e){return e.sortedRows})),HK=BX(jK,cY,(function(e,t){return e.map((function(e){var n;return{id:e,model:null!=(n=t[e])?n:{}}}))})),GK=zX(BK,(function(e){return e.sortModel})),VK=BX(GK,(function(e){var t=e.reduce((function(t,n,r){return t[n.field]={sortDirection:n.sort,sortIndex:e.length>1?r+1:void 0},t}),{});return t})),WK=function(e){return e.filter},qK=zX(WK,(function(e){return e.filterModel})),XK=(zX(qK,(function(e){return e.quickFilterValues})),zX(WK,(function(e){return e.filteredRowsLookup}))),YK=(zX(WK,(function(e){return e.filteredDescendantCountLookup})),BX((function(e){return e.visibleRowsLookup}),HK,(function(e,t){return t.filter((function(t){return!1!==e[t.id]}))}))),KK=BX(YK,(function(e){return e.map((function(e){return e.id}))})),ZK=BX(XK,HK,(function(e,t){return t.filter((function(t){return!1!==e[t.id]}))})),QK=BX(ZK,(function(e){return e.map((function(e){return e.id}))})),$K=BX(YK,fY,vY,(function(e,t,n){return n<2?e:e.filter((function(e){var n;return 0===(null==(n=t[e.id])?void 0:n.depth)}))})),JK=zX(YK,(function(e){return e.length})),eZ=zX($K,(function(e){return e.length})),tZ=BX(qK,qX,(function(e,t){var n;return null==(n=e.items)?void 0:n.filter((function(e){var n,r;if(!e.field)return!1;var i=t[e.field];if(null==i||!i.filterOperators||0===(null==i||null==(n=i.filterOperators)?void 0:n.length))return!1;var a=i.filterOperators.find((function(t){return t.value===e.operator}));return!!a&&(!a.InputComponent||null!=e.value&&""!==(null==(r=e.value)?void 0:r.toString()))}))})),nZ=BX(tZ,(function(e){return e.reduce((function(e,t){return e[t.field]?e[t.field].push(t):e[t.field]=[t],e}),{})})),rZ=function(e){return e.focus},iZ=zX(rZ,(function(e){return e.cell})),aZ=zX(rZ,(function(e){return e.columnHeader})),oZ=(zX(rZ,(function(e){return e.columnHeaderFilter})),zX(rZ,(function(e){return e.columnGroupHeader}))),sZ=function(e){return e.tabIndex},lZ=zX(sZ,(function(e){return e.cell})),uZ=zX(sZ,(function(e){return e.columnHeader})),cZ=(zX(sZ,(function(e){return e.columnHeaderFilter})),zX(sZ,(function(e){return e.columnGroupHeader}))),dZ=function(e){return e.columnMenu};function fZ(e){var n=e.VirtualScrollerComponent,r=e.ColumnHeadersProps,i=e.children,a=TX(),o=AX(),s=t.useRef(null),l=CX(a,KX),u=CX(a,nZ),c=CX(a,VK),d=CX(a,QX),f=CX(a,uZ),h=CX(a,lZ),p=CX(a,cZ),v=CX(a,aZ),m=CX(a,oZ),g=CX(a,GX),y=CX(a,aY),b=CX(a,dZ),x=CX(a,YX),w=CX(a,iY),S=!(null===p&&null===f&&null===h);rX((function(){a.current.computeSizeAndPublishResizeEvent();var e,t=s.current;if("undefined"===typeof ResizeObserver)return function(){};var n=new ResizeObserver((function(){e=requestAnimationFrame((function(){a.current.computeSizeAndPublishResizeEvent()}))}));return t&&n.observe(t),function(){e&&window.cancelAnimationFrame(e),t&&n.unobserve(t)}}),[a]);var _=t.useRef(null),k=t.useRef(null),E=t.useRef(null);a.current.register("private",{columnHeadersContainerElementRef:k,columnHeadersElementRef:_,virtualScrollerRef:E,mainElementRef:s});var C=!!a.current.getRootDimensions();return(0,yr.jsxs)(zK,{ref:s,children:[(0,yr.jsx)(o.slots.columnHeaders,Jq({ref:k,innerRef:_,visibleColumns:l,filterColumnLookup:u,sortColumnLookup:c,columnPositions:d,columnHeaderTabIndexState:f,columnGroupHeaderTabIndexState:p,columnHeaderFocus:v,columnGroupHeaderFocus:m,densityFactor:g,headerGroupingMaxDepth:y,columnMenuState:b,columnVisibility:x,columnGroupsHeaderStructure:w,hasOtherElementInTabSequence:S},r)),C&&(0,yr.jsx)(n,{ref:E}),i]})}function hZ(){var e,t=AX();return t.hideFooter?null:(0,yr.jsx)(t.slots.footer,Jq({},null==(e=t.slotProps)?void 0:e.footer))}var pZ=t.createContext(void 0);function vZ(e){var n=e.privateApiRef,r=e.props,i=e.children,a=t.useRef(n.current.getPublicApi());return(0,yr.jsx)(RX.Provider,{value:r,children:(0,yr.jsx)(MX.Provider,{value:n,children:(0,yr.jsx)(pZ.Provider,{value:a,children:i})})})}function mZ(e){return"function"===typeof e}function gZ(e){return"object"===typeof e&&null!==e}function yZ(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}var bZ=function(e,t,n){return Math.max(t,Math.min(n,e))};function xZ(e,t){if(e===t)return!0;if(e&&t&&"object"===typeof e&&"object"===typeof t){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r+=1)if(!xZ(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(var i=Array.from(e.entries()),a=0;a<i.length;a+=1)if(!t.has(i[a][0]))return!1;for(var o=0;o<i.length;o+=1){var s=i[o];if(!xZ(s[1],t.get(s[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(var l=Array.from(e.entries()),u=0;u<l.length;u+=1)if(!t.has(l[u][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){var c=e.length;if(c!==t.length)return!1;for(var d=0;d<c;d+=1)if(e[d]!==t[d])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var f=Object.keys(e),h=f.length;if(h!==Object.keys(t).length)return!1;for(var p=0;p<h;p+=1)if(!Object.prototype.hasOwnProperty.call(t,f[p]))return!1;for(var v=0;v<h;v+=1){var m=f[v];if(!xZ(e[m],t[m]))return!1}return!0}return e!==e&&t!==t}function wZ(e,t,n){var r=function(e){return function(){var t=e+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296}}(e);return function(){return t+(n-t)*r()}}function SZ(e){return"function"===typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}function _Z(e,n,r){var i=t.useRef(!0);t.useEffect((function(){i.current=!1,e.current.register(r,n)}),[e,r,n]),i.current&&e.current.register(r,n)}var kZ=function(){try{var e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(t){return!1}}()&&null!=window.localStorage.getItem("DEBUG"),EZ=function(){},CZ={debug:EZ,info:EZ,warn:EZ,error:EZ},MZ=["debug","info","warn","error"];function TZ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console,r=MZ.indexOf(t);if(-1===r)throw new Error("MUI: Log level ".concat(t," not recognized."));var i=MZ.reduce((function(t,i,a){return t[i]=a>=r?function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=r[0],s=r.slice(1);n[i].apply(n,["MUI: ".concat(e," - ").concat(o)].concat(k(s)))}:EZ,t}),{});return i}var RZ=function(){function e(t){var n=this;Xs(this,e),this.value=void 0,this.listeners=void 0,this.subscribe=function(e){return n.listeners.add(e),function(){n.listeners.delete(e)}},this.getSnapshot=function(){return n.value},this.update=function(e){n.value=e,n.listeners.forEach((function(t){return t(e)}))},this.value=t,this.listeners=new Set}return Ks(e,null,[{key:"create",value:function(t){return new e(t)}}]),e}(),AZ=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;Xs(this,e),this.timeouts=new Map,this.cleanupTimeout=1e3,this.cleanupTimeout=t}return Ks(e,[{key:"register",value:function(e,t,n){var r=this;this.timeouts||(this.timeouts=new Map);var i=setTimeout((function(){"function"===typeof t&&t(),r.timeouts.delete(n.cleanupToken)}),this.cleanupTimeout);this.timeouts.set(n.cleanupToken,i)}},{key:"unregister",value:function(e){var t=this.timeouts.get(e.cleanupToken);t&&(this.timeouts.delete(e.cleanupToken),clearTimeout(t))}},{key:"reset",value:function(){var e=this;this.timeouts&&(this.timeouts.forEach((function(t,n){e.unregister({cleanupToken:n})})),this.timeouts=void 0)}}]),e}(),PZ=function(){function e(){Xs(this,e),this.registry=new FinalizationRegistry((function(e){"function"===typeof e&&e()}))}return Ks(e,[{key:"register",value:function(e,t,n){this.registry.register(e,t,n)}},{key:"unregister",value:function(e){this.registry.unregister(e)}},{key:"reset",value:function(){}}]),e}(),IZ=function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e}(IZ||{}),OZ=Ks((function e(){Xs(this,e)}));var LZ={registry:null},NZ=function(e){var n=0;return function(r,i,a,o){null===e.registry&&(e.registry="undefined"!==typeof FinalizationRegistry?new PZ:new AZ);var s=M(t.useState(new OZ),1)[0],l=t.useRef(null),u=t.useRef();u.current=a;var c=t.useRef(null);if(!l.current&&u.current){l.current=r.current.subscribeEvent(i,(function(e,t,n){var r;t.defaultMuiPrevented||(null==(r=u.current)||r.call(u,e,t,n))}),o),n+=1,c.current={cleanupToken:n},e.registry.register(s,(function(){var e;null==(e=l.current)||e.call(l),l.current=null,c.current=null}),c.current)}else!u.current&&l.current&&(l.current(),l.current=null,c.current&&(e.registry.unregister(c.current),c.current=null));t.useEffect((function(){if(!l.current&&u.current){l.current=r.current.subscribeEvent(i,(function(e,t,n){var r;t.defaultMuiPrevented||(null==(r=u.current)||r.call(u,e,t,n))}),o)}return c.current&&e.registry&&(e.registry.unregister(c.current),c.current=null),function(){var e;null==(e=l.current)||e.call(l),l.current=null}}),[r,i,o])}}(LZ),DZ={isFirst:!0};function UZ(e,t,n){NZ(e,t,n,DZ)}var FZ=function(){function e(){Xs(this,e),this.maxListeners=20,this.warnOnce=!1,this.events={}}return Ks(e,[{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.events[e];r||(r={highPriority:new Map,regular:new Map},this.events[e]=r),n.isFirst?r.highPriority.set(t,!0):r.regular.set(t,!0)}},{key:"removeListener",value:function(e,t){this.events[e]&&(this.events[e].regular.delete(t),this.events[e].highPriority.delete(t))}},{key:"removeAllListeners",value:function(){this.events={}}},{key:"emit",value:function(e){var t=this.events[e];if(t){for(var n=Array.from(t.highPriority.keys()),r=Array.from(t.regular.keys()),i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];for(var s=n.length-1;s>=0;s-=1){var l=n[s];t.highPriority.has(l)&&l.apply(this,a)}for(var u=0;u<r.length;u+=1){var c=r[u];t.regular.has(c)&&c.apply(this,a)}}}},{key:"once",value:function(e,t){var n=this;this.on(e,(function r(){n.removeListener(e,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];t.apply(n,a)}))}}]),e}(),zZ=Symbol("mui.api_private");var BZ=0;function jZ(e,n){var r=t.useRef(),i=t.useRef();i.current||(i.current=function(e){var t,n=null==(t=e.current)?void 0:t[zZ];if(n)return n;var r={},i={state:r,store:RZ.create(r),instanceId:{id:BZ}};return BZ+=1,i.getPublicApi=function(){return e.current},i.register=function(t,n){Object.keys(n).forEach((function(r){var a=n[r],o=i[r];if(!0===(null==o?void 0:o.spying)?o.target=a:i[r]=a,"public"===t){var s=e.current,l=s[r];!0===(null==l?void 0:l.spying)?l.target=a:s[r]=a}}))},i.register("private",{caches:{},eventManager:new FZ}),i}(r)),r.current||(r.current=function(e){return s({get state(){return e.current.state},get store(){return e.current.store},get instanceId(){return e.current.instanceId}},zZ,e.current)}(i));var a=t.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=t[0],o=t[1],s=t[2],l=void 0===s?{}:s;if(l.defaultMuiPrevented=!1,!function(e){return void 0!==e.isPropagationStopped}(l)||!l.isPropagationStopped()){var u=n.signature===IZ.DataGridPro?{api:i.current.getPublicApi()}:{};i.current.eventManager.emit(a,o,l,u)}}),[i,n.signature]),o=t.useCallback((function(e,t,n){i.current.eventManager.on(e,t,n);var r=i.current;return function(){r.eventManager.removeListener(e,t)}}),[i]);return _Z(i,{subscribeEvent:o,publishEvent:a},"public"),t.useImperativeHandle(e,(function(){return r.current}),[r]),t.useEffect((function(){var e=i.current;return function(){e.publishEvent("unmount")}}),[i]),i}function HZ(e){return HZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HZ(e)}function GZ(e){var t=function(e,t){if("object"!==HZ(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==HZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===HZ(t)?t:String(t)}var VZ="none",WZ={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree",visibleRowsLookupCreation:"rowTree"},qZ=function(e,n){var r=jZ(e,n);return function(e,n){_Z(e,{getLogger:t.useCallback((function(e){return kZ?TZ(e,"debug",n.logger):n.logLevel?TZ(e,n.logLevel.toString(),n.logger):CZ}),[n.logLevel,n.logger])},"private")}(r,n),function(e,n){var r=t.useRef({}),i=M(t.useState(),2)[1],a=t.useCallback((function(e){r.current[e.stateId]=e}),[]),o=t.useCallback((function(t,i){var a;if(a=mZ(t)?t(e.current.state):t,e.current.state===a)return!1;var o=!1,s=[];if(Object.keys(r.current).forEach((function(t){var n=r.current[t],i=n.stateSelector(e.current.state,e.current.instanceId),l=n.stateSelector(a,e.current.instanceId);l!==i&&(s.push({stateId:n.stateId,hasPropChanged:l!==n.propModel}),void 0!==n.propModel&&l!==n.propModel&&(o=!0))})),s.length>1)throw new Error("You're not allowed to update several sub-state in one transaction. You already updated ".concat(s[0].stateId,", therefore, you're not allowed to update ").concat(s.map((function(e){return e.stateId})).join(", ")," in the same transaction."));if(o||(e.current.state=a,e.current.publishEvent&&e.current.publishEvent("stateChange",a),e.current.store.update(a)),1===s.length){var l=s[0],u=l.stateId,c=l.hasPropChanged,d=r.current[u],f=d.stateSelector(a,e.current.instanceId);if(d.propOnChange&&c){var h=n.signature===IZ.DataGridPro?{api:e.current,reason:i}:{reason:i};d.propOnChange(f,h)}o||e.current.publishEvent(d.changeEvent,f,{reason:i})}return!o}),[e,n.signature]),l=t.useCallback((function(t,n,r){return e.current.setState((function(e){return Jq({},e,s({},t,n(e[t])))}),r)}),[e]),u=t.useCallback((function(){return i((function(){return e.current.state}))}),[e]),c={updateControlState:l,registerControlState:a};_Z(e,{setState:o,forceUpdate:u},"public"),_Z(e,c,"private")}(r,n),function(e){var n=t.useRef({}),r=t.useRef(!1),i=t.useCallback((function(e){!r.current&&e&&(r.current=!0,Object.values(e.appliers).forEach((function(e){e()})),r.current=!1)}),[]),a=t.useCallback((function(e,t,r){n.current[e]||(n.current[e]={processors:new Map,appliers:{}});var a=n.current[e];return a.processors.get(t)!==r&&(a.processors.set(t,r),i(a)),function(){n.current[e].processors.set(t,null)}}),[i]),o=t.useCallback((function(e,t,r){return n.current[e]||(n.current[e]={processors:new Map,appliers:{}}),n.current[e].appliers[t]=r,function(){var r=eX(n.current[e].appliers,[t].map(GZ));n.current[e].appliers=r}}),[]),s=t.useCallback((function(e){var t=n.current[e];i(t)}),[i]),l=t.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];return n.current[i]?Array.from(n.current[i].processors.values()).reduce((function(e,t){return t?t(e,o):e}),a):a}),[]),u={unstable_applyPipeProcessors:l};_Z(e,{registerPipeProcessor:a,registerPipeApplier:o,requestPipeProcessorsApplication:s},"private"),_Z(e,u,"public")}(r),function(e){var n=t.useRef(new Map),r=t.useRef({}),i=t.useCallback((function(t,n,i){var a=function(){var e=eX(r.current[n],[t].map(GZ));r.current[n]=e};r.current[n]||(r.current[n]={});var o=r.current[n],s=o[t];return o[t]=i,s&&s!==i?(t===e.current.getActiveStrategy(WZ[n])&&e.current.publishEvent("activeStrategyProcessorChange",n),a):a}),[e]),a=t.useCallback((function(t,n){var i=e.current.getActiveStrategy(WZ[t]);if(null==i)throw new Error("Can't apply a strategy processor before defining an active strategy");var a=r.current[t];if(!a||!a[i])throw new Error('No processor found for processor "'.concat(t,'" on strategy "').concat(i,'"'));return(0,a[i])(n)}),[e]),o=t.useCallback((function(e){var t,r=Array.from(n.current.entries()).find((function(t){var n=M(t,2)[1];return n.group===e&&n.isAvailable()}));return null!=(t=null==r?void 0:r[0])?t:VZ}),[]),s=t.useCallback((function(t,r,i){n.current.set(r,{group:t,isAvailable:i}),e.current.publishEvent("strategyAvailabilityChange")}),[e]);_Z(e,{registerStrategyProcessor:i,applyStrategyProcessor:a,getActiveStrategy:o,setStrategyAvailability:s},"private")}(r),function(e,n){var r=t.useCallback((function(e){if(null==n.localeText[e])throw new Error("Missing translation for key ".concat(e,"."));return n.localeText[e]}),[n.localeText]);e.current.register("public",{getLocaleText:r})}(r,n),r},XZ=function(e,n,r){var i=t.useRef(!1);i.current||(n.current.state=e(n.current.state,r,n),i.current=!0)};function YZ(e,n){var r=t.useRef(null);if(r.current)return r.current;var i=e.current.getLogger(n);return r.current=i,i}var KZ=function(e){return"Escape"===e},ZZ=function(e){return"Enter"===e},QZ=function(e){return"Tab"===e},$Z=function(e){return" "===e};function JZ(e){return 1===e.key.length&&!e.ctrlKey&&!e.metaKey}var eQ=function(e){return function(e){return"Home"===e||"End"===e}(e)||function(e){return 0===e.indexOf("Arrow")}(e)||function(e){return 0===e.indexOf("Page")}(e)||$Z(e)};function tQ(){var e=t.useContext(pZ);if(void 0===e)throw new Error(["MUI: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join("\n"));return e}var nQ=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],rQ=t.forwardRef((function(e,n){var r,i=e.field,a=e.id,o=e.value,s=e.rowNode,l=e.hasFocus,u=e.tabIndex,c=eX(e,nQ),d=tQ(),f=AX(),h=function(e){return Cv({root:["checkboxInput"]},uX,e.classes)}({classes:f.classes}),p=t.useRef(null),v=t.useRef(null),m=nX(p,n),g=d.current.getCellElement(a,i);t.useLayoutEffect((function(){0===u&&g&&(g.tabIndex=-1)}),[g,u]),t.useEffect((function(){if(l){var e,t=null==(e=p.current)?void 0:e.querySelector("input");null==t||t.focus({preventScroll:!0})}else v.current&&v.current.stop({})}),[l]);var y=t.useCallback((function(e){$Z(e.key)&&e.stopPropagation()}),[]);if("footer"===s.type||"pinnedRow"===s.type)return null;var b=d.current.isRowSelectable(a),x=d.current.getLocaleText(o?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return(0,yr.jsx)(f.slots.baseCheckbox,Jq({ref:m,tabIndex:u,checked:o,onChange:function(e){var t={value:e.target.checked,id:a};d.current.publishEvent("rowSelectionCheckboxChange",t,e)},className:h.root,inputProps:{"aria-label":x},onKeyDown:y,disabled:!b,touchRippleRef:v},null==(r=f.slotProps)?void 0:r.baseCheckbox,c))})),iQ=rQ,aQ=function(e){return e.rowSelection},oQ=zX(aQ,(function(e){return e.length})),sQ=BX(aQ,cY,(function(e,t){return new Map(e.map((function(e){return[e,t[e]]})))})),lQ=BX(aQ,(function(e){return e.reduce((function(e,t){return e[t]=t,e}),{})})),uQ=function(e,t){return t>0&&e>0?Math.ceil(e/t):0},cQ=(bX(["MUI: the 'rowCount' prop is undefined while using paginationMode='server'","For more detail, see http://mui.com/components/data-grid/pagination/#basic-implementation"],"error"),function(e){return{page:0,pageSize:e?0:100}}),dQ=function(e,t){if(t===IZ.DataGrid&&e>100)throw new Error(["MUI: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"))},fQ=function(e){return e.pagination},hQ=zX(fQ,(function(e){return e.paginationModel})),pQ=zX(hQ,(function(e){return e.page})),vQ=zX(hQ,(function(e){return e.pageSize})),mQ=(zX(hQ,eZ,(function(e,t){return uQ(t,e.pageSize)})),BX(hQ,fY,vY,YK,$K,(function(e,t,n,r,i){var a=i.length,o=Math.min(e.pageSize*e.page,a-1),s=Math.min(o+e.pageSize-1,a-1);if(-1===o||-1===s)return null;if(n<2)return{firstRowIndex:o,lastRowIndex:s};for(var l=i[o],u=s-o+1,c=r.findIndex((function(e){return e.id===l.id})),d=c,f=0;d<r.length&&f<=u;){var h,p=null==(h=t[r[d].id])?void 0:h.depth;void 0===p?d+=1:((f<u||p>0)&&(d+=1),0===p&&(f+=1))}return{firstRowIndex:c,lastRowIndex:d-1}}))),gQ=BX(YK,mQ,(function(e,t){return t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]})),yQ=BX(KK,mQ,(function(e,t){return t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]})),bQ=["field","colDef"],xQ=t.forwardRef((function(e,n){var r,i=eX(e,bQ),a=M(t.useState(!1),2)[1],o=tQ(),s=AX(),l=function(e){return Cv({root:["checkboxInput"]},uX,e.classes)}({classes:s.classes}),u=CX(o,uZ),c=CX(o,aQ),d=CX(o,KK),f=CX(o,yQ),h=t.useMemo((function(){return"function"!==typeof s.isRowSelectable?c:c.filter((function(e){return!!o.current.getRow(e)&&s.isRowSelectable(o.current.getRowParams(e))}))}),[o,s.isRowSelectable,c]),p=t.useMemo((function(){return(s.pagination&&s.checkboxSelectionVisibleOnly?f:d).reduce((function(e,t){return e[t]=!0,e}),{})}),[s.pagination,s.checkboxSelectionVisibleOnly,f,d]),v=t.useMemo((function(){return h.filter((function(e){return p[e]})).length}),[h,p]),m=v>0&&v<Object.keys(p).length,g=v>0,y=null!==u&&u.field===e.field?0:-1;t.useLayoutEffect((function(){var t=o.current.getColumnHeaderElement(e.field);0===y&&t&&(t.tabIndex=-1)}),[y,o,e.field]);var b=t.useCallback((function(e){" "===e.key&&o.current.publishEvent("headerSelectionCheckboxChange",{value:!g})}),[o,g]),x=t.useCallback((function(){a((function(e){return!e}))}),[]);t.useEffect((function(){return o.current.subscribeEvent("rowSelectionChange",x)}),[o,x]);var w=o.current.getLocaleText(g?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return(0,yr.jsx)(s.slots.baseCheckbox,Jq({ref:n,indeterminate:m,checked:g,onChange:function(e){var t={value:e.target.checked};o.current.publishEvent("headerSelectionCheckboxChange",t)},className:l.root,inputProps:{"aria-label":w},tabIndex:y,onKeyDown:b},null==(r=s.slotProps)?void 0:r.baseCheckbox,i))})),wQ=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange"],SQ=rr(Iu,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:function(e,t){return t.editInputCell}})((function(e){return Jq({},e.theme.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})})),_Q=t.forwardRef((function(e,n){var r,i=AX(),a=e.id,o=e.value,s=e.field,l=e.colDef,u=e.hasFocus,c=e.debounceMs,d=void 0===c?200:c,f=e.isProcessingProps,h=e.onValueChange,p=eX(e,wQ),v=tQ(),m=t.useRef(),g=M(t.useState(o),2),y=g[0],b=g[1],x=Cv({root:["editInputCell"]},uX,i.classes),w=t.useCallback((function(e){return(r=r||sm(um().mark((function e(t){var n,r,i;return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.value,!h){e.next=4;break}return e.next=4,h(t,n);case 4:r=v.current.getColumn(s),i=n,r.valueParser&&(i=r.valueParser(n,v.current.getCellParams(a,s))),b(i),v.current.setEditCellValue({id:a,field:s,value:i,debounceMs:d,unstable_skipValueParser:!0},t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}),[v,d,s,a,h]),S=v.current.unstable_getEditCellMeta(a,s);return t.useEffect((function(){"debouncedSetEditCellValue"!==(null==S?void 0:S.changeReason)&&b(o)}),[S,o]),rX((function(){u&&m.current.focus()}),[u]),(0,yr.jsx)(SQ,Jq({ref:n,inputRef:m,className:x.root,ownerState:i,fullWidth:!0,type:"number"===l.type?l.type:"text",value:null!=y?y:"",onChange:w,endAdornment:f?(0,yr.jsx)(i.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},p))})),kQ=bX(["MUI: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),EQ=function(e,t){return t&&e.length>1?(kQ(),[e[0]]):e},CQ=function(e,t){return function(n){return Jq({},n,{sorting:Jq({},n.sorting,{sortModel:EQ(e,t)})})}},MQ=function(e,t){var n=e.indexOf(t);return t&&-1!==n&&n+1!==e.length?e[n+1]:e[0]},TQ=function(e,t){return null==e&&null!=t?-1:null==t&&null!=e?1:null==e&&null==t?0:null},RQ=new Intl.Collator,AQ=function(e,t){var n=TQ(e,t);return null!==n?n:Number(e)-Number(t)},PQ=function(e,t){var n=TQ(e,t);return null!==n?n:e>t?1:e<t?-1:0},IQ=0;var OQ=r["useId".toString()];function LQ(e){if(void 0!==OQ){var n=OQ();return null!=e?e:n}return function(e){var n=M(t.useState(e),2),r=n[0],i=n[1],a=e||r;return t.useEffect((function(){null==r&&i("mui-".concat(IQ+=1))}),[r]),a}(e)}var NQ=function(){function e(){var t=this;Xs(this,e),this.currentId=0,this.clear=function(){0!==t.currentId&&(clearTimeout(t.currentId),t.currentId=0)},this.disposeEffect=function(){return t.clear}}return Ks(e,[{key:"start",value:function(e,t){this.clear(),this.currentId=setTimeout(t,e)}}],[{key:"create",value:function(){return new e}}]),e}();function DQ(){var e=mX(NQ.create).current;return yX(e.disposeEffect),e}var UQ=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps"];function FQ(e){var n,r,i=e.item,a=e.applyValue,o=e.type,s=e.apiRef,l=e.focusElementRef,u=e.tabIndex,c=e.disabled,d=e.clearButton,f=e.InputProps,h=eX(e,UQ),p=DQ(),v=M(t.useState(null!=(n=i.value)?n:""),2),m=v[0],g=v[1],y=M(t.useState(!1),2),b=y[0],x=y[1],w=LQ(),S=AX(),_=t.useCallback((function(e){var t=e.target.value;g(String(t)),x(!0),p.start(S.filterDebounceMs,(function(){var e=Jq({},i,{value:t,fromInput:w});a(e),x(!1)}))}),[w,a,i,S.filterDebounceMs,p]);return t.useEffect((function(){var e;i.fromInput!==w&&g(String(null!=(e=i.value)?e:""))}),[w,i]),(0,yr.jsx)(S.slots.baseTextField,Jq({id:w,label:s.current.getLocaleText("filterPanelInputLabel"),placeholder:s.current.getLocaleText("filterPanelInputPlaceholder"),value:m,onChange:_,variant:"standard",type:o||"text",InputProps:Jq({},b||d?{endAdornment:b?(0,yr.jsx)(S.slots.loadIcon,{fontSize:"small",color:"action"}):d}:{},{disabled:c},f,{inputProps:Jq({tabIndex:u},null==f?void 0:f.inputProps)}),InputLabelProps:{shrink:!0},inputRef:l},h,null==(r=S.slotProps)?void 0:r.baseTextField))}var zQ=function(e){var n=t.useRef({});return t.useEffect((function(){n.current=e})),n.current};function BQ(e){return"undefined"!==typeof e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function jQ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ignoreAccents,n=void 0===t||t,r=e.ignoreCase,i=void 0===r||r,a=e.limit,o=e.matchFrom,s=void 0===o?"any":o,l=e.stringify,u=e.trim,c=void 0!==u&&u;return function(e,t){var r=t.inputValue,o=t.getOptionLabel,u=c?r.trim():r;i&&(u=u.toLowerCase()),n&&(u=BQ(u));var d=u?e.filter((function(e){var t=(l||o)(e);return i&&(t=t.toLowerCase()),n&&(t=BQ(t)),"start"===s?0===t.indexOf(u):t.indexOf(u)>-1})):e;return"number"===typeof a?d.slice(0,a):d}}function HQ(e,t){for(var n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}var GQ=jQ(),VQ=function(e){var t;return null!==e.current&&(null==(t=e.current.parentElement)?void 0:t.contains(document.activeElement))};function WQ(e){var n,r=e.unstable_isActiveElementInListbox,i=void 0===r?VQ:r,a=e.unstable_classNamePrefix,o=void 0===a?"Mui":a,s=e.autoComplete,l=void 0!==s&&s,c=e.autoHighlight,d=void 0!==c&&c,f=e.autoSelect,h=void 0!==f&&f,p=e.blurOnSelect,v=void 0!==p&&p,m=e.clearOnBlur,g=void 0===m?!e.freeSolo:m,y=e.clearOnEscape,b=void 0!==y&&y,x=e.componentName,w=void 0===x?"useAutocomplete":x,S=e.defaultValue,_=void 0===S?e.multiple?[]:null:S,k=e.disableClearable,E=void 0!==k&&k,C=e.disableCloseOnSelect,T=void 0!==C&&C,R=e.disabled,A=e.disabledItemsFocusable,P=void 0!==A&&A,I=e.disableListWrap,O=void 0!==I&&I,L=e.filterOptions,N=void 0===L?GQ:L,D=e.filterSelectedOptions,U=void 0!==D&&D,F=e.freeSolo,z=void 0!==F&&F,B=e.getOptionDisabled,j=e.getOptionLabel,H=void 0===j?function(e){var t;return null!=(t=e.label)?t:e}:j,G=e.groupBy,V=e.handleHomeEndKeys,W=void 0===V?!e.freeSolo:V,q=e.id,X=e.includeInputInList,Y=void 0!==X&&X,K=e.inputValue,Z=e.isOptionEqualToValue,Q=void 0===Z?function(e,t){return e===t}:Z,$=e.multiple,J=void 0!==$&&$,ee=e.onChange,te=e.onClose,ne=e.onHighlightChange,re=e.onInputChange,ie=e.onOpen,ae=e.open,oe=e.openOnFocus,se=void 0!==oe&&oe,le=e.options,ue=e.readOnly,ce=void 0!==ue&&ue,de=e.selectOnFocus,fe=void 0===de?!e.freeSolo:de,he=e.value,pe=Tp(q);n=function(e){var t=H(e);return"string"!==typeof t?String(t):t};var ve=t.useRef(!1),me=t.useRef(!0),ge=t.useRef(null),ye=t.useRef(null),be=M(t.useState(null),2),xe=be[0],we=be[1],Se=M(t.useState(-1),2),_e=Se[0],ke=Se[1],Ee=d?0:-1,Ce=t.useRef(Ee),Me=M(tu({controlled:he,default:_,name:w}),2),Te=Me[0],Re=Me[1],Ae=M(tu({controlled:K,default:"",name:w,state:"inputValue"}),2),Pe=Ae[0],Ie=Ae[1],Oe=M(t.useState(!1),2),Le=Oe[0],Ne=Oe[1],De=t.useCallback((function(e,t){if((J?Te.length<t.length:null!==t)||g){var r;if(J)r="";else if(null==t)r="";else{var i=n(t);r="string"===typeof i?i:""}Pe!==r&&(Ie(r),re&&re(e,r,"reset"))}}),[n,Pe,J,re,Ie,g,Te]),Ue=M(tu({controlled:ae,default:!1,name:w,state:"open"}),2),Fe=Ue[0],ze=Ue[1],Be=M(t.useState(!0),2),je=Be[0],He=Be[1],Ge=!J&&null!=Te&&Pe===n(Te),Ve=Fe&&!ce,We=Ve?N(le.filter((function(e){return!U||!(J?Te:[Te]).some((function(t){return null!==t&&Q(e,t)}))})),{inputValue:Ge&&je?"":Pe,getOptionLabel:n}):[],qe=zQ({filteredOptions:We,value:Te,inputValue:Pe});t.useEffect((function(){var e=Te!==qe.value;Le&&!e||z&&!e||De(null,Te)}),[Te,De,Le,qe.value,z]);var Xe=Fe&&We.length>0&&!ce,Ye=Rr((function(e){-1===e?ge.current.focus():xe.querySelector('[data-tag-index="'.concat(e,'"]')).focus()}));t.useEffect((function(){J&&_e>Te.length-1&&(ke(-1),Ye(-1))}),[Te,J,_e,Ye]);var Ke=Rr((function(e){var t=e.event,n=e.index,r=e.reason,i=void 0===r?"auto":r;if(Ce.current=n,-1===n?ge.current.removeAttribute("aria-activedescendant"):ge.current.setAttribute("aria-activedescendant","".concat(pe,"-option-").concat(n)),ne&&ne(t,-1===n?null:We[n],i),ye.current){var a=ye.current.querySelector('[role="option"].'.concat(o,"-focused"));a&&(a.classList.remove("".concat(o,"-focused")),a.classList.remove("".concat(o,"-focusVisible")));var s=ye.current;if("listbox"!==ye.current.getAttribute("role")&&(s=ye.current.parentElement.querySelector('[role="listbox"]')),s)if(-1!==n){var l=ye.current.querySelector('[data-option-index="'.concat(n,'"]'));if(l&&(l.classList.add("".concat(o,"-focused")),"keyboard"===i&&l.classList.add("".concat(o,"-focusVisible")),s.scrollHeight>s.clientHeight&&"mouse"!==i&&"touch"!==i)){var u=l,c=s.clientHeight+s.scrollTop,d=u.offsetTop+u.offsetHeight;d>c?s.scrollTop=d-s.clientHeight:u.offsetTop-u.offsetHeight*(G?1.3:0)<s.scrollTop&&(s.scrollTop=u.offsetTop-u.offsetHeight*(G?1.3:0))}}else s.scrollTop=0}})),Ze=Rr((function(e){var t=e.event,r=e.diff,i=e.direction,a=void 0===i?"next":i,o=e.reason,s=void 0===o?"auto":o;if(Ve){var u=function(e,t){if(!ye.current||-1===e)return-1;for(var n=e;;){if("next"===t&&n===We.length||"previous"===t&&-1===n)return-1;var r=ye.current.querySelector('[data-option-index="'.concat(n,'"]')),i=!P&&(!r||r.disabled||"true"===r.getAttribute("aria-disabled"));if(!(r&&!r.hasAttribute("tabindex")||i))return n;n+="next"===t?1:-1}}(function(){var e=We.length-1;if("reset"===r)return Ee;if("start"===r)return 0;if("end"===r)return e;var t=Ce.current+r;return t<0?-1===t&&Y?-1:O&&-1!==Ce.current||Math.abs(r)>1?0:e:t>e?t===e+1&&Y?-1:O||Math.abs(r)>1?e:0:t}(),a);if(Ke({index:u,reason:s,event:t}),l&&"reset"!==r)if(-1===u)ge.current.value=Pe;else{var c=n(We[u]);ge.current.value=c,0===c.toLowerCase().indexOf(Pe.toLowerCase())&&Pe.length>0&&ge.current.setSelectionRange(Pe.length,c.length)}}})),Qe=t.useCallback((function(){if(Ve&&!function(){var e,t;if(-1!==Ce.current&&qe.filteredOptions&&qe.filteredOptions.length!==We.length&&qe.inputValue===Pe&&(J?Te.length===qe.value.length&&qe.value.every((function(e,t){return n(Te[t])===n(e)})):(e=qe.value,t=Te,(e?n(e):"")===(t?n(t):"")))){var r=qe.filteredOptions[Ce.current];if(r&&We.some((function(e){return n(e)===n(r)})))return!0}return!1}()){var e=J?Te[0]:Te;if(0!==We.length&&null!=e){if(ye.current)if(null==e)Ce.current>=We.length-1?Ke({index:We.length-1}):Ke({index:Ce.current});else{var t=We[Ce.current];if(J&&t&&-1!==HQ(Te,(function(e){return Q(t,e)})))return;var r=HQ(We,(function(t){return Q(t,e)}));-1===r?Ze({diff:"reset"}):Ke({index:r})}}else Ze({diff:"reset"})}}),[We.length,!J&&Te,U,Ze,Ke,Ve,Pe,J]),$e=Rr((function(e){kr(ye,e),e&&Qe()}));t.useEffect((function(){Qe()}),[Qe]);var Je=function(e){Fe||(ze(!0),He(!0),ie&&ie(e))},et=function(e,t){Fe&&(ze(!1),te&&te(e,t))},tt=function(e,t,n,r){if(J){if(Te.length===t.length&&Te.every((function(e,n){return e===t[n]})))return}else if(Te===t)return;ee&&ee(e,t,n,r),Re(t)},nt=t.useRef(!1),rt=function(e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"selectOption",i=t;if(J){var a=HQ(i=Array.isArray(Te)?Te.slice():[],(function(e){return Q(t,e)}));-1===a?i.push(t):"freeSolo"!==n&&(i.splice(a,1),r="removeOption")}De(e,i),tt(e,i,r,{option:t}),T||e&&(e.ctrlKey||e.metaKey)||et(e,r),(!0===v||"touch"===v&&nt.current||"mouse"===v&&!nt.current)&&ge.current.blur()};var it=function(e,t){if(J){""===Pe&&et(e,"toggleInput");var n=_e;-1===_e?""===Pe&&"previous"===t&&(n=Te.length-1):((n+="next"===t?1:-1)<0&&(n=0),n===Te.length&&(n=-1)),n=function(e,t){if(-1===e)return-1;for(var n=e;;){if("next"===t&&n===Te.length||"previous"===t&&-1===n)return-1;var r=xe.querySelector('[data-tag-index="'.concat(n,'"]'));if(r&&r.hasAttribute("tabindex")&&!r.disabled&&"true"!==r.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t),ke(n),Ye(n)}},at=function(e){ve.current=!0,Ie(""),re&&re(e,"","clear"),tt(e,J?[]:null,"clear")},ot=function(e){return function(t){if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1!==_e&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(ke(-1),Ye(-1)),229!==t.which))switch(t.key){case"Home":Ve&&W&&(t.preventDefault(),Ze({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":Ve&&W&&(t.preventDefault(),Ze({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),Ze({diff:-5,direction:"previous",reason:"keyboard",event:t}),Je(t);break;case"PageDown":t.preventDefault(),Ze({diff:5,direction:"next",reason:"keyboard",event:t}),Je(t);break;case"ArrowDown":t.preventDefault(),Ze({diff:1,direction:"next",reason:"keyboard",event:t}),Je(t);break;case"ArrowUp":t.preventDefault(),Ze({diff:-1,direction:"previous",reason:"keyboard",event:t}),Je(t);break;case"ArrowLeft":it(t,"previous");break;case"ArrowRight":it(t,"next");break;case"Enter":if(-1!==Ce.current&&Ve){var n=We[Ce.current],r=!!B&&B(n);if(t.preventDefault(),r)return;rt(t,n,"selectOption"),l&&ge.current.setSelectionRange(ge.current.value.length,ge.current.value.length)}else z&&""!==Pe&&!1===Ge&&(J&&t.preventDefault(),rt(t,Pe,"createOption","freeSolo"));break;case"Escape":Ve?(t.preventDefault(),t.stopPropagation(),et(t,"escape")):b&&(""!==Pe||J&&Te.length>0)&&(t.preventDefault(),t.stopPropagation(),at(t));break;case"Backspace":if(J&&!ce&&""===Pe&&Te.length>0){var i=-1===_e?Te.length-1:_e,a=Te.slice();a.splice(i,1),tt(t,a,"removeOption",{option:Te[i]})}break;case"Delete":if(J&&!ce&&""===Pe&&Te.length>0&&-1!==_e){var o=_e,s=Te.slice();s.splice(o,1),tt(t,s,"removeOption",{option:Te[o]})}}}},st=function(e){Ne(!0),se&&!ve.current&&Je(e)},lt=function(e){i(ye)?ge.current.focus():(Ne(!1),me.current=!0,ve.current=!1,h&&-1!==Ce.current&&Ve?rt(e,We[Ce.current],"blur"):h&&z&&""!==Pe?rt(e,Pe,"blur","freeSolo"):g&&De(e,Te),et(e,"blur"))},ut=function(e){var t=e.target.value;Pe!==t&&(Ie(t),He(!1),re&&re(e,t,"input")),""===t?E||J||tt(e,null,"clear"):Je(e)},ct=function(e){var t=Number(e.currentTarget.getAttribute("data-option-index"));Ce.current!==t&&Ke({event:e,index:t,reason:"mouse"})},dt=function(e){Ke({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"touch"}),nt.current=!0},ft=function(e){var t=Number(e.currentTarget.getAttribute("data-option-index"));rt(e,We[t],"selectOption"),nt.current=!1},ht=function(e){return function(t){var n=Te.slice();n.splice(e,1),tt(t,n,"removeOption",{option:Te[e]})}},pt=function(e){Fe?et(e,"toggleInput"):Je(e)},vt=function(e){e.currentTarget.contains(e.target)&&e.target.getAttribute("id")!==pe&&e.preventDefault()},mt=function(e){e.currentTarget.contains(e.target)&&(ge.current.focus(),fe&&me.current&&ge.current.selectionEnd-ge.current.selectionStart===0&&ge.current.select(),me.current=!1)},gt=function(e){R||""!==Pe&&Fe||pt(e)},yt=z&&Pe.length>0;yt=yt||(J?Te.length>0:null!==Te);var bt=We;if(G){new Map;bt=We.reduce((function(e,t,n){var r=G(t);return e.length>0&&e[e.length-1].group===r?e[e.length-1].options.push(t):e.push({key:n,index:n,group:r,options:[t]}),e}),[])}return R&&Le&&lt(),{getRootProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u({"aria-owns":Xe?"".concat(pe,"-listbox"):null},e,{onKeyDown:ot(e),onMouseDown:vt,onClick:mt})},getInputLabelProps:function(){return{id:"".concat(pe,"-label"),htmlFor:pe}},getInputProps:function(){return{id:pe,value:Pe,onBlur:lt,onFocus:st,onChange:ut,onMouseDown:gt,"aria-activedescendant":Ve?"":null,"aria-autocomplete":l?"both":"list","aria-controls":Xe?"".concat(pe,"-listbox"):void 0,"aria-expanded":Xe,autoComplete:"off",ref:ge,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:R}},getClearProps:function(){return{tabIndex:-1,onClick:at}},getPopupIndicatorProps:function(){return{tabIndex:-1,onClick:pt}},getTagProps:function(e){var t=e.index;return u({key:t,"data-tag-index":t,tabIndex:-1},!ce&&{onDelete:ht(t)})},getListboxProps:function(){return{role:"listbox",id:"".concat(pe,"-listbox"),"aria-labelledby":"".concat(pe,"-label"),ref:$e,onMouseDown:function(e){e.preventDefault()}}},getOptionProps:function(e){var t=e.index,r=e.option,i=(J?Te:[Te]).some((function(e){return null!=e&&Q(r,e)})),a=!!B&&B(r);return{key:n(r),tabIndex:-1,role:"option",id:"".concat(pe,"-option-").concat(t),onMouseMove:ct,onClick:ft,onTouchStart:dt,"data-option-index":t,"aria-disabled":a,"aria-selected":i}},id:pe,inputValue:Pe,value:Te,dirty:yt,expanded:Ve&&xe,popupOpen:Ve,focused:Le||-1!==_e,anchorEl:xe,setAnchorEl:we,focusedTag:_e,groupedOptions:bt}}function qQ(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function XQ(e){return e instanceof qQ(e).Element||e instanceof Element}function YQ(e){return e instanceof qQ(e).HTMLElement||e instanceof HTMLElement}function KQ(e){return"undefined"!==typeof ShadowRoot&&(e instanceof qQ(e).ShadowRoot||e instanceof ShadowRoot)}var ZQ=Math.max,QQ=Math.min,$Q=Math.round;function JQ(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function e$(){return!/^((?!chrome|android).)*safari/i.test(JQ())}function t$(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&YQ(e)&&(i=e.offsetWidth>0&&$Q(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&$Q(r.height)/e.offsetHeight||1);var o=(XQ(e)?qQ(e):window).visualViewport,s=!e$()&&n,l=(r.left+(s&&o?o.offsetLeft:0))/i,u=(r.top+(s&&o?o.offsetTop:0))/a,c=r.width/i,d=r.height/a;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l,x:l,y:u}}function n$(e){var t=qQ(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function r$(e){return e?(e.nodeName||"").toLowerCase():null}function i$(e){return((XQ(e)?e.ownerDocument:e.document)||window.document).documentElement}function a$(e){return t$(i$(e)).left+n$(e).scrollLeft}function o$(e){return qQ(e).getComputedStyle(e)}function s$(e){var t=o$(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function l$(e,t,n){void 0===n&&(n=!1);var r=YQ(t),i=YQ(t)&&function(e){var t=e.getBoundingClientRect(),n=$Q(t.width)/e.offsetWidth||1,r=$Q(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=i$(t),o=t$(e,i,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==r$(t)||s$(a))&&(s=function(e){return e!==qQ(e)&&YQ(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:n$(e);var t}(t)),YQ(t)?((l=t$(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=a$(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function u$(e){var t=t$(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function c$(e){return"html"===r$(e)?e:e.assignedSlot||e.parentNode||(KQ(e)?e.host:null)||i$(e)}function d$(e){return["html","body","#document"].indexOf(r$(e))>=0?e.ownerDocument.body:YQ(e)&&s$(e)?e:d$(c$(e))}function f$(e,t){var n;void 0===t&&(t=[]);var r=d$(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=qQ(r),o=i?[a].concat(a.visualViewport||[],s$(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(f$(c$(o)))}function h$(e){return["table","td","th"].indexOf(r$(e))>=0}function p$(e){return YQ(e)&&"fixed"!==o$(e).position?e.offsetParent:null}function v$(e){for(var t=qQ(e),n=p$(e);n&&h$(n)&&"static"===o$(n).position;)n=p$(n);return n&&("html"===r$(n)||"body"===r$(n)&&"static"===o$(n).position)?t:n||function(e){var t=/firefox/i.test(JQ());if(/Trident/i.test(JQ())&&YQ(e)&&"fixed"===o$(e).position)return null;var n=c$(e);for(KQ(n)&&(n=n.host);YQ(n)&&["html","body"].indexOf(r$(n))<0;){var r=o$(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var m$="top",g$="bottom",y$="right",b$="left",x$="auto",w$=[m$,g$,y$,b$],S$="start",_$="end",k$="clippingParents",E$="viewport",C$="popper",M$="reference",T$=w$.reduce((function(e,t){return e.concat([t+"-"+S$,t+"-"+_$])}),[]),R$=[].concat(w$,[x$]).reduce((function(e,t){return e.concat([t,t+"-"+S$,t+"-"+_$])}),[]),A$=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function P$(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function I$(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var O$={placement:"bottom",modifiers:[],strategy:"absolute"};function L$(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function N$(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?O$:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},O$,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,l={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;u(),i.options=Object.assign({},a,i.options,s),i.scrollParents={reference:XQ(e)?f$(e):e.contextElement?f$(e.contextElement):[],popper:f$(t)};var c=function(e){var t=P$(e);return A$.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=c.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:l,options:r}),u=function(){};o.push(s||u)}})),l.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(L$(t,n)){i.rects={reference:l$(t,v$(n),"fixed"===i.options.strategy),popper:u$(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,u=a.options,c=void 0===u?{}:u,d=a.name;"function"===typeof o&&(i=o({state:i,options:c,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:I$((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){u(),s=!0}};if(!L$(e,t))return l;function u(){o.forEach((function(e){return e()})),o=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var D$={passive:!0};var U$={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,l=qQ(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",n.update,D$)})),s&&l.addEventListener("resize",n.update,D$),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",n.update,D$)})),s&&l.removeEventListener("resize",n.update,D$)}},data:{}};function F$(e){return e.split("-")[0]}function z$(e){return e.split("-")[1]}function B$(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function j$(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?F$(i):null,o=i?z$(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(a){case m$:t={x:s,y:n.y-r.height};break;case g$:t={x:s,y:n.y+n.height};break;case y$:t={x:n.x+n.width,y:l};break;case b$:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=a?B$(a):null;if(null!=u){var c="y"===u?"height":"width";switch(o){case S$:t[u]=t[u]-(n[c]/2-r[c]/2);break;case _$:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}var H$={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=j$({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},G$={top:"auto",right:"auto",bottom:"auto",left:"auto"};function V$(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,f=o.x,h=void 0===f?0:f,p=o.y,v=void 0===p?0:p,m="function"===typeof c?c({x:h,y:v}):{x:h,y:v};h=m.x,v=m.y;var g=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=b$,x=m$,w=window;if(u){var S=v$(n),_="clientHeight",k="clientWidth";if(S===qQ(n)&&"static"!==o$(S=i$(n)).position&&"absolute"===s&&(_="scrollHeight",k="scrollWidth"),i===m$||(i===b$||i===y$)&&a===_$)x=g$,v-=(d&&S===w&&w.visualViewport?w.visualViewport.height:S[_])-r.height,v*=l?1:-1;if(i===b$||(i===m$||i===g$)&&a===_$)b=y$,h-=(d&&S===w&&w.visualViewport?w.visualViewport.width:S[k])-r.width,h*=l?1:-1}var E,C=Object.assign({position:s},u&&G$),M=!0===c?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:$Q(n*i)/i||0,y:$Q(r*i)/i||0}}({x:h,y:v},qQ(n)):{x:h,y:v};return h=M.x,v=M.y,l?Object.assign({},C,((E={})[x]=y?"0":"",E[b]=g?"0":"",E.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",E)):Object.assign({},C,((t={})[x]=y?v+"px":"",t[b]=g?h+"px":"",t.transform="",t))}var W$={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,l=void 0===s||s,u={placement:F$(t.placement),variation:z$(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,V$(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,V$(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var q$={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];YQ(i)&&r$(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});YQ(r)&&r$(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var X$={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=R$.reduce((function(e,n){return e[n]=function(e,t,n){var r=F$(e),i=[b$,m$].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[b$,y$].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}},Y$={left:"right",right:"left",bottom:"top",top:"bottom"};function K$(e){return e.replace(/left|right|bottom|top/g,(function(e){return Y$[e]}))}var Z$={start:"end",end:"start"};function Q$(e){return e.replace(/start|end/g,(function(e){return Z$[e]}))}function $$(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&KQ(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function J$(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function eJ(e,t,n){return t===E$?J$(function(e,t){var n=qQ(e),r=i$(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;var u=e$();(u||!u&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s+a$(e),y:l}}(e,n)):XQ(t)?function(e,t){var n=t$(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):J$(function(e){var t,n=i$(e),r=n$(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=ZQ(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ZQ(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+a$(e),l=-r.scrollTop;return"rtl"===o$(i||n).direction&&(s+=ZQ(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}(i$(e)))}function tJ(e,t,n,r){var i="clippingParents"===t?function(e){var t=f$(c$(e)),n=["absolute","fixed"].indexOf(o$(e).position)>=0&&YQ(e)?v$(e):e;return XQ(n)?t.filter((function(e){return XQ(e)&&$$(e,n)&&"body"!==r$(e)})):[]}(e):[].concat(t),a=[].concat(i,[n]),o=a[0],s=a.reduce((function(t,n){var i=eJ(e,n,r);return t.top=ZQ(i.top,t.top),t.right=QQ(i.right,t.right),t.bottom=QQ(i.bottom,t.bottom),t.left=ZQ(i.left,t.left),t}),eJ(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function nJ(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function rJ(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function iJ(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,o=void 0===a?e.strategy:a,s=n.boundary,l=void 0===s?k$:s,u=n.rootBoundary,c=void 0===u?E$:u,d=n.elementContext,f=void 0===d?C$:d,h=n.altBoundary,p=void 0!==h&&h,v=n.padding,m=void 0===v?0:v,g=nJ("number"!==typeof m?m:rJ(m,w$)),y=f===C$?M$:C$,b=e.rects.popper,x=e.elements[p?y:f],w=tJ(XQ(x)?x:x.contextElement||i$(e.elements.popper),l,c,o),S=t$(e.elements.reference),_=j$({reference:S,element:b,strategy:"absolute",placement:i}),k=J$(Object.assign({},b,_)),E=f===C$?k:S,C={top:w.top-E.top+g.top,bottom:E.bottom-w.bottom+g.bottom,left:w.left-E.left+g.left,right:E.right-w.right+g.right},M=e.modifiersData.offset;if(f===C$&&M){var T=M[i];Object.keys(C).forEach((function(e){var t=[y$,g$].indexOf(e)>=0?1:-1,n=[m$,g$].indexOf(e)>=0?"y":"x";C[e]+=T[n]*t}))}return C}var aJ={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=void 0===h||h,v=n.allowedAutoPlacements,m=t.options.placement,g=F$(m),y=l||(g===m||!p?[K$(m)]:function(e){if(F$(e)===x$)return[];var t=K$(e);return[Q$(e),t,Q$(t)]}(m)),b=[m].concat(y).reduce((function(e,n){return e.concat(F$(n)===x$?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?R$:l,c=z$(r),d=c?s?T$:T$.filter((function(e){return z$(e)===c})):w$,f=d.filter((function(e){return u.indexOf(e)>=0}));0===f.length&&(f=d);var h=f.reduce((function(t,n){return t[n]=iJ(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[F$(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),x=t.rects.reference,w=t.rects.popper,S=new Map,_=!0,k=b[0],E=0;E<b.length;E++){var C=b[E],M=F$(C),T=z$(C)===S$,R=[m$,g$].indexOf(M)>=0,A=R?"width":"height",P=iJ(t,{placement:C,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),I=R?T?y$:b$:T?g$:m$;x[A]>w[A]&&(I=K$(I));var O=K$(I),L=[];if(a&&L.push(P[M]<=0),s&&L.push(P[I]<=0,P[O]<=0),L.every((function(e){return e}))){k=C,_=!1;break}S.set(C,L)}if(_)for(var N=function(e){var t=b.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},D=p?3:1;D>0;D--){if("break"===N(D))break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function oJ(e,t,n){return ZQ(e,QQ(t,n))}var sJ={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,h=void 0===f||f,p=n.tetherOffset,v=void 0===p?0:p,m=iJ(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),g=F$(t.placement),y=z$(t.placement),b=!y,x=B$(g),w="x"===x?"y":"x",S=t.modifiersData.popperOffsets,_=t.rects.reference,k=t.rects.popper,E="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,C="number"===typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(S){if(a){var R,A="y"===x?m$:b$,P="y"===x?g$:y$,I="y"===x?"height":"width",O=S[x],L=O+m[A],N=O-m[P],D=h?-k[I]/2:0,U=y===S$?_[I]:k[I],F=y===S$?-k[I]:-_[I],z=t.elements.arrow,B=h&&z?u$(z):{width:0,height:0},j=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=j[A],G=j[P],V=oJ(0,_[I],B[I]),W=b?_[I]/2-D-V-H-C.mainAxis:U-V-H-C.mainAxis,q=b?-_[I]/2+D+V+G+C.mainAxis:F+V+G+C.mainAxis,X=t.elements.arrow&&v$(t.elements.arrow),Y=X?"y"===x?X.clientTop||0:X.clientLeft||0:0,K=null!=(R=null==M?void 0:M[x])?R:0,Z=O+q-K,Q=oJ(h?QQ(L,O+W-K-Y):L,O,h?ZQ(N,Z):N);S[x]=Q,T[x]=Q-O}if(s){var $,J="x"===x?m$:b$,ee="x"===x?g$:y$,te=S[w],ne="y"===w?"height":"width",re=te+m[J],ie=te-m[ee],ae=-1!==[m$,b$].indexOf(g),oe=null!=($=null==M?void 0:M[w])?$:0,se=ae?re:te-_[ne]-k[ne]-oe+C.altAxis,le=ae?te+_[ne]+k[ne]-oe-C.altAxis:ie,ue=h&&ae?function(e,t,n){var r=oJ(e,t,n);return r>n?n:r}(se,te,le):oJ(h?se:re,te,h?le:ie);S[w]=ue,T[w]=ue-te}t.modifiersData[r]=T}},requiresIfExists:["offset"]};var lJ={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=F$(n.placement),l=B$(s),u=[b$,y$].indexOf(s)>=0?"height":"width";if(a&&o){var c=function(e,t){return nJ("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:rJ(e,w$))}(i.padding,n),d=u$(a),f="y"===l?m$:b$,h="y"===l?g$:y$,p=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],v=o[l]-n.rects.reference[l],m=v$(a),g=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,y=p/2-v/2,b=c[f],x=g-d[u]-c[h],w=g/2-d[u]/2+y,S=oJ(b,w,x),_=l;n.modifiersData[r]=((t={})[_]=S,t.centerOffset=S-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&$$(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function uJ(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function cJ(e){return[m$,y$,g$,b$].some((function(t){return e[t]>=0}))}var dJ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=iJ(t,{elementContext:"reference"}),s=iJ(t,{altBoundary:!0}),l=uJ(o,r),u=uJ(s,i,a),c=cJ(l),d=cJ(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}},fJ=N$({defaultModifiers:[U$,H$,W$,q$,X$,aJ,sJ,lJ,dJ]});function hJ(e){return vr("MuiPopper",e)}mr("MuiPopper",["root"]);var pJ={disableDefaultClasses:!1},vJ=t.createContext(pJ);var mJ=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],gJ=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function yJ(e){return"function"===typeof e?e():e}function bJ(e){return void 0!==e.nodeType}var xJ=function(){return f({root:["root"]},function(e){var n=t.useContext(vJ).disableDefaultClasses;return function(t){return n?"":e(t)}}(hJ))},wJ={},SJ=t.forwardRef((function(e,n){var r,i=e.anchorEl,a=e.children,o=e.direction,s=e.disablePortal,c=e.modifiers,d=e.open,f=e.placement,h=e.popperOptions,p=e.popperRef,v=e.slotProps,m=void 0===v?{}:v,g=e.slots,y=void 0===g?{}:g,b=e.TransitionProps,x=l(e,mJ),w=t.useRef(null),S=Er(w,n),_=t.useRef(null),k=Er(_,p),E=t.useRef(k);Mr((function(){E.current=k}),[k]),t.useImperativeHandle(p,(function(){return _.current}),[]);var C=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(f,o),T=M(t.useState(C),2),R=T[0],A=T[1],P=M(t.useState(yJ(i)),2),I=P[0],O=P[1];t.useEffect((function(){_.current&&_.current.forceUpdate()})),t.useEffect((function(){i&&O(yJ(i))}),[i]),Mr((function(){if(I&&d){var e=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:function(e){!function(e){A(e.placement)}(e.state)}}];null!=c&&(e=e.concat(c)),h&&null!=h.modifiers&&(e=e.concat(h.modifiers));var t=fJ(I,w.current,u({placement:C},h,{modifiers:e}));return E.current(t),function(){t.destroy(),E.current(null)}}}),[I,s,c,d,h,C]);var L={placement:R};null!==b&&(L.TransitionProps=b);var N=xJ(),D=null!=(r=y.root)?r:"div",U=ss({elementType:D,externalSlotProps:m.root,externalForwardedProps:x,additionalProps:{role:"tooltip",ref:S},ownerState:e,className:N.root});return(0,yr.jsx)(D,u({},U,{children:"function"===typeof a?a(L):a}))})),_J=t.forwardRef((function(e,n){var r,i=e.anchorEl,a=e.children,o=e.container,s=e.direction,c=void 0===s?"ltr":s,d=e.disablePortal,f=void 0!==d&&d,h=e.keepMounted,p=void 0!==h&&h,v=e.modifiers,m=e.open,g=e.placement,y=void 0===g?"bottom":g,b=e.popperOptions,x=void 0===b?wJ:b,w=e.popperRef,S=e.style,_=e.transition,k=void 0!==_&&_,E=e.slotProps,C=void 0===E?{}:E,T=e.slots,R=void 0===T?{}:T,A=l(e,gJ),P=M(t.useState(!0),2),I=P[0],O=P[1];if(!p&&!m&&(!k||I))return null;if(o)r=o;else if(i){var L=yJ(i);r=L&&bJ(L)?es(L).body:es(null).body}var N=m||!p||k&&!I?void 0:"none",D=k?{in:m,onEnter:function(){O(!1)},onExited:function(){O(!0)}}:void 0;return(0,yr.jsx)(ll,{disablePortal:f,container:r,children:(0,yr.jsx)(SJ,u({anchorEl:i,direction:c,disablePortal:f,modifiers:v,ref:n,open:k?!I:m,placement:y,popperOptions:x,popperRef:w,slotProps:C,slots:R},A,{style:u({position:"fixed",top:0,left:0,display:N},S),TransitionProps:D,children:a}))})})),kJ=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],EJ=rr(_J,{name:"MuiPopper",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),CJ=t.forwardRef((function(e,t){var n,r=ar(),i=ur({props:e,name:"MuiPopper"}),a=i.anchorEl,o=i.component,s=i.components,c=i.componentsProps,d=i.container,f=i.disablePortal,h=i.keepMounted,p=i.modifiers,v=i.open,m=i.placement,g=i.popperOptions,y=i.popperRef,b=i.transition,x=i.slots,w=i.slotProps,S=l(i,kJ),_=null!=(n=null==x?void 0:x.root)?n:null==s?void 0:s.Root,k=u({anchorEl:a,container:d,disablePortal:f,keepMounted:h,modifiers:p,open:v,placement:m,popperOptions:g,popperRef:y,transition:b},S);return(0,yr.jsx)(EJ,u({as:o,direction:null==r?void 0:r.direction,slots:{root:_},slotProps:null!=w?w:c},k,{ref:t}))})),MJ=CJ;function TJ(e){return vr("MuiListSubheader",e)}mr("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);var RJ=["className","color","component","disableGutters","disableSticky","inset"],AJ=rr("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat(cr(n.color))],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})((function(e){var t=e.theme,n=e.ownerState;return u({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},"primary"===n.color&&{color:(t.vars||t).palette.primary.main},"inherit"===n.color&&{color:"inherit"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.inset&&{paddingLeft:72},!n.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper})})),PJ=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiListSubheader"}),r=n.className,i=n.color,a=void 0===i?"default":i,o=n.component,s=void 0===o?"li":o,c=n.disableGutters,h=void 0!==c&&c,p=n.disableSticky,v=void 0!==p&&p,m=n.inset,g=void 0!==m&&m,y=l(n,RJ),b=u({},n,{color:a,component:s,disableGutters:h,disableSticky:v,inset:g}),x=function(e){var t=e.classes,n=e.color,r=e.disableGutters,i=e.inset,a=e.disableSticky;return f({root:["root","default"!==n&&"color".concat(cr(n)),!r&&"gutters",i&&"inset",!a&&"sticky"]},TJ,t)}(b);return(0,yr.jsx)(AJ,u({as:s,className:d(x.root,r),ref:t,ownerState:b},y))}));PJ.muiSkipListHighlight=!0;var IJ=PJ,OJ=Ni((0,yr.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function LJ(e){return vr("MuiChip",e)}var NJ=mr("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),DJ=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],UJ=rr("div",{name:"MuiChip",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.color,i=n.iconColor,a=n.clickable,o=n.onDelete,l=n.size,u=n.variant;return[s({},"& .".concat(NJ.avatar),t.avatar),s({},"& .".concat(NJ.avatar),t["avatar".concat(cr(l))]),s({},"& .".concat(NJ.avatar),t["avatarColor".concat(cr(r))]),s({},"& .".concat(NJ.icon),t.icon),s({},"& .".concat(NJ.icon),t["icon".concat(cr(l))]),s({},"& .".concat(NJ.icon),t["iconColor".concat(cr(i))]),s({},"& .".concat(NJ.deleteIcon),t.deleteIcon),s({},"& .".concat(NJ.deleteIcon),t["deleteIcon".concat(cr(l))]),s({},"& .".concat(NJ.deleteIcon),t["deleteIconColor".concat(cr(r))]),s({},"& .".concat(NJ.deleteIcon),t["deleteIcon".concat(cr(u),"Color").concat(cr(r))]),t.root,t["size".concat(cr(l))],t["color".concat(cr(r))],a&&t.clickable,a&&"default"!==r&&t["clickableColor".concat(cr(r),")")],o&&t.deletable,o&&"default"!==r&&t["deletableColor".concat(cr(r))],t[u],t["".concat(u).concat(cr(r))]]}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?n.palette.grey[700]:n.palette.grey[300];return u((s(t={maxWidth:"100%",fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(n.vars||n).palette.text.primary,backgroundColor:(n.vars||n).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box"},"&.".concat(NJ.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"}),s(t,"& .".concat(NJ.avatar),{marginLeft:5,marginRight:-6,width:24,height:24,color:n.vars?n.vars.palette.Chip.defaultAvatarColor:i,fontSize:n.typography.pxToRem(12)}),s(t,"& .".concat(NJ.avatarColorPrimary),{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.dark}),s(t,"& .".concat(NJ.avatarColorSecondary),{color:(n.vars||n).palette.secondary.contrastText,backgroundColor:(n.vars||n).palette.secondary.dark}),s(t,"& .".concat(NJ.avatarSmall),{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)}),s(t,"& .".concat(NJ.icon),u({marginLeft:5,marginRight:-6},"small"===r.size&&{fontSize:18,marginLeft:4,marginRight:-4},r.iconColor===r.color&&u({color:n.vars?n.vars.palette.Chip.defaultIconColor:i},"default"!==r.color&&{color:"inherit"}))),s(t,"& .".concat(NJ.deleteIcon),u({WebkitTapHighlightColor:"transparent",color:n.vars?"rgba(".concat(n.vars.palette.text.primaryChannel," / 0.26)"):y(n.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:n.vars?"rgba(".concat(n.vars.palette.text.primaryChannel," / 0.4)"):y(n.palette.text.primary,.4)}},"small"===r.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==r.color&&{color:n.vars?"rgba(".concat(n.vars.palette[r.color].contrastTextChannel," / 0.7)"):y(n.palette[r.color].contrastText,.7),"&:hover, &:active":{color:(n.vars||n).palette[r.color].contrastText}})),t),"small"===r.size&&{height:24},"default"!==r.color&&{backgroundColor:(n.vars||n).palette[r.color].main,color:(n.vars||n).palette[r.color].contrastText},r.onDelete&&s({},"&.".concat(NJ.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.action.selectedChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):y(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}),r.onDelete&&"default"!==r.color&&s({},"&.".concat(NJ.focusVisible),{backgroundColor:(n.vars||n).palette[r.color].dark}))}),(function(e){var t,n=e.theme,r=e.ownerState;return u({},r.clickable&&(s(t={userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.action.selectedChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):y(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}},"&.".concat(NJ.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.action.selectedChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):y(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}),s(t,"&:active",{boxShadow:(n.vars||n).shadows[1]}),t),r.clickable&&"default"!==r.color&&s({},"&:hover, &.".concat(NJ.focusVisible),{backgroundColor:(n.vars||n).palette[r.color].dark}))}),(function(e){var t,n,r=e.theme,i=e.ownerState;return u({},"outlined"===i.variant&&(s(t={backgroundColor:"transparent",border:r.vars?"1px solid ".concat(r.vars.palette.Chip.defaultBorder):"1px solid ".concat("light"===r.palette.mode?r.palette.grey[400]:r.palette.grey[700])},"&.".concat(NJ.clickable,":hover"),{backgroundColor:(r.vars||r).palette.action.hover}),s(t,"&.".concat(NJ.focusVisible),{backgroundColor:(r.vars||r).palette.action.focus}),s(t,"& .".concat(NJ.avatar),{marginLeft:4}),s(t,"& .".concat(NJ.avatarSmall),{marginLeft:2}),s(t,"& .".concat(NJ.icon),{marginLeft:4}),s(t,"& .".concat(NJ.iconSmall),{marginLeft:2}),s(t,"& .".concat(NJ.deleteIcon),{marginRight:5}),s(t,"& .".concat(NJ.deleteIconSmall),{marginRight:3}),t),"outlined"===i.variant&&"default"!==i.color&&(s(n={color:(r.vars||r).palette[i.color].main,border:"1px solid ".concat(r.vars?"rgba(".concat(r.vars.palette[i.color].mainChannel," / 0.7)"):y(r.palette[i.color].main,.7))},"&.".concat(NJ.clickable,":hover"),{backgroundColor:r.vars?"rgba(".concat(r.vars.palette[i.color].mainChannel," / ").concat(r.vars.palette.action.hoverOpacity,")"):y(r.palette[i.color].main,r.palette.action.hoverOpacity)}),s(n,"&.".concat(NJ.focusVisible),{backgroundColor:r.vars?"rgba(".concat(r.vars.palette[i.color].mainChannel," / ").concat(r.vars.palette.action.focusOpacity,")"):y(r.palette[i.color].main,r.palette.action.focusOpacity)}),s(n,"& .".concat(NJ.deleteIcon),{color:r.vars?"rgba(".concat(r.vars.palette[i.color].mainChannel," / 0.7)"):y(r.palette[i.color].main,.7),"&:hover, &:active":{color:(r.vars||r).palette[i.color].main}}),n))})),FJ=rr("span",{name:"MuiChip",slot:"Label",overridesResolver:function(e,t){var n=e.ownerState.size;return[t.label,t["label".concat(cr(n))]]}})((function(e){return u({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"small"===e.ownerState.size&&{paddingLeft:8,paddingRight:8})}));function zJ(e){return"Backspace"===e.key||"Delete"===e.key}var BJ=t.forwardRef((function(e,n){var r=ur({props:e,name:"MuiChip"}),i=r.avatar,a=r.className,o=r.clickable,s=r.color,c=void 0===s?"default":s,h=r.component,p=r.deleteIcon,v=r.disabled,m=void 0!==v&&v,g=r.icon,y=r.label,b=r.onClick,x=r.onDelete,w=r.onKeyDown,S=r.onKeyUp,_=r.size,k=void 0===_?"medium":_,E=r.variant,C=void 0===E?"filled":E,M=r.tabIndex,T=r.skipFocusWhenDisabled,R=void 0!==T&&T,A=l(r,DJ),P=t.useRef(null),I=Cr(P,n),O=function(e){e.stopPropagation(),x&&x(e)},L=!(!1===o||!b)||o,N=L||x?_i:h||"div",D=u({},r,{component:N,disabled:m,size:k,color:c,iconColor:t.isValidElement(g)&&g.props.color||c,onDelete:!!x,clickable:L,variant:C}),U=function(e){var t=e.classes,n=e.disabled,r=e.size,i=e.color,a=e.iconColor,o=e.onDelete,s=e.clickable,l=e.variant;return f({root:["root",l,n&&"disabled","size".concat(cr(r)),"color".concat(cr(i)),s&&"clickable",s&&"clickableColor".concat(cr(i)),o&&"deletable",o&&"deletableColor".concat(cr(i)),"".concat(l).concat(cr(i))],label:["label","label".concat(cr(r))],avatar:["avatar","avatar".concat(cr(r)),"avatarColor".concat(cr(i))],icon:["icon","icon".concat(cr(r)),"iconColor".concat(cr(a))],deleteIcon:["deleteIcon","deleteIcon".concat(cr(r)),"deleteIconColor".concat(cr(i)),"deleteIcon".concat(cr(l),"Color").concat(cr(i))]},LJ,t)}(D),F=N===_i?u({component:h||"div",focusVisibleClassName:U.focusVisible},x&&{disableRipple:!0}):{},z=null;x&&(z=p&&t.isValidElement(p)?t.cloneElement(p,{className:d(p.props.className,U.deleteIcon),onClick:O}):(0,yr.jsx)(OJ,{className:d(U.deleteIcon),onClick:O}));var B=null;i&&t.isValidElement(i)&&(B=t.cloneElement(i,{className:d(U.avatar,i.props.className)}));var j=null;return g&&t.isValidElement(g)&&(j=t.cloneElement(g,{className:d(U.icon,g.props.className)})),(0,yr.jsxs)(UJ,u({as:N,className:d(U.root,a),disabled:!(!L||!m)||void 0,onClick:b,onKeyDown:function(e){e.currentTarget===e.target&&zJ(e)&&e.preventDefault(),w&&w(e)},onKeyUp:function(e){e.currentTarget===e.target&&(x&&zJ(e)?x(e):"Escape"===e.key&&P.current&&P.current.blur()),S&&S(e)},ref:I,tabIndex:R&&m?-1:M,ownerState:D},F,A,{children:[B||j,(0,yr.jsx)(FJ,{className:d(U.label),ownerState:D,children:y}),z]}))})),jJ=BJ;function HJ(e){return vr("MuiAutocomplete",e)}var GJ,VJ,WJ=mr("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),qJ=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],XJ=["ref"],YJ=rr("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.fullWidth,i=n.hasClearIcon,a=n.hasPopupIcon,o=n.inputFocused,l=n.size;return[s({},"& .".concat(WJ.tag),t.tag),s({},"& .".concat(WJ.tag),t["tagSize".concat(cr(l))]),s({},"& .".concat(WJ.inputRoot),t.inputRoot),s({},"& .".concat(WJ.input),t.input),s({},"& .".concat(WJ.input),o&&t.inputFocused),t.root,r&&t.fullWidth,a&&t.hasPopupIcon,i&&t.hasClearIcon]}})((function(e){var t,n,r,i,a,o=e.ownerState;return u((s(t={},"&.".concat(WJ.focused," .").concat(WJ.clearIndicator),{visibility:"visible"}),s(t,"@media (pointer: fine)",s({},"&:hover .".concat(WJ.clearIndicator),{visibility:"visible"})),t),o.fullWidth&&{width:"100%"},(s(a={},"& .".concat(WJ.tag),u({margin:3,maxWidth:"calc(100% - 6px)"},"small"===o.size&&{margin:2,maxWidth:"calc(100% - 4px)"})),s(a,"& .".concat(WJ.inputRoot),(s(n={flexWrap:"wrap"},".".concat(WJ.hasPopupIcon,"&, .").concat(WJ.hasClearIcon,"&"),{paddingRight:30}),s(n,".".concat(WJ.hasPopupIcon,".").concat(WJ.hasClearIcon,"&"),{paddingRight:56}),s(n,"& .".concat(WJ.input),{width:0,minWidth:30}),n)),s(a,"& .".concat(Lu.root),{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}}),s(a,"& .".concat(Lu.root,".").concat(ku.sizeSmall),s({},"& .".concat(Lu.input),{padding:"2px 4px 3px 0"})),s(a,"& .".concat($u.root),(s(r={padding:9},".".concat(WJ.hasPopupIcon,"&, .").concat(WJ.hasClearIcon,"&"),{paddingRight:39}),s(r,".".concat(WJ.hasPopupIcon,".").concat(WJ.hasClearIcon,"&"),{paddingRight:65}),s(r,"& .".concat(WJ.input),{padding:"7.5px 4px 7.5px 5px"}),s(r,"& .".concat(WJ.endAdornment),{right:9}),r)),s(a,"& .".concat($u.root,".").concat(ku.sizeSmall),s({paddingTop:6,paddingBottom:6,paddingLeft:6},"& .".concat(WJ.input),{padding:"2.5px 4px 2.5px 8px"})),s(a,"& .".concat(ju.root),(s(i={paddingTop:19,paddingLeft:8},".".concat(WJ.hasPopupIcon,"&, .").concat(WJ.hasClearIcon,"&"),{paddingRight:39}),s(i,".".concat(WJ.hasPopupIcon,".").concat(WJ.hasClearIcon,"&"),{paddingRight:65}),s(i,"& .".concat(ju.input),{padding:"7px 4px"}),s(i,"& .".concat(WJ.endAdornment),{right:9}),i)),s(a,"& .".concat(ju.root,".").concat(ku.sizeSmall),s({paddingBottom:1},"& .".concat(ju.input),{padding:"2.5px 4px"})),s(a,"& .".concat(ku.hiddenLabel),{paddingTop:8}),s(a,"& .".concat(ju.root,".").concat(ku.hiddenLabel),s({paddingTop:0,paddingBottom:0},"& .".concat(WJ.input),{paddingTop:16,paddingBottom:17})),s(a,"& .".concat(ju.root,".").concat(ku.hiddenLabel,".").concat(ku.sizeSmall),s({},"& .".concat(WJ.input),{paddingTop:8,paddingBottom:9})),s(a,"& .".concat(WJ.input),u({flexGrow:1,textOverflow:"ellipsis",opacity:0},o.inputFocused&&{opacity:1})),a))})),KJ=rr("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:function(e,t){return t.endAdornment}})({position:"absolute",right:0,top:"calc(50% - 14px)"}),ZJ=rr(Ri,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:function(e,t){return t.clearIndicator}})({marginRight:-2,padding:4,visibility:"hidden"}),QJ=rr(Ri,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:function(e,t){var n=e.ownerState;return u({},t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen)}})((function(e){return u({padding:2,marginRight:-2},e.ownerState.popupOpen&&{transform:"rotate(180deg)"})})),$J=rr(MJ,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:function(e,t){var n=e.ownerState;return[s({},"& .".concat(WJ.option),t.option),t.popper,n.disablePortal&&t.popperDisablePortal]}})((function(e){var t=e.theme,n=e.ownerState;return u({zIndex:(t.vars||t).zIndex.modal},n.disablePortal&&{position:"absolute"})})),JJ=rr(wr,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:function(e,t){return t.paper}})((function(e){return u({},e.theme.typography.body1,{overflow:"auto"})})),e0=rr("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:function(e,t){return t.loading}})((function(e){var t=e.theme;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}})),t0=rr("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:function(e,t){return t.noOptions}})((function(e){var t=e.theme;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}})),n0=rr("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:function(e,t){return t.listbox}})((function(e){var t,n,r=e.theme;return s({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative"},"& .".concat(WJ.option),(s(n={minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16},r.breakpoints.up("sm"),{minHeight:"auto"}),s(n,"&.".concat(WJ.focused),{backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}),s(n,'&[aria-disabled="true"]',{opacity:(r.vars||r).palette.action.disabledOpacity,pointerEvents:"none"}),s(n,"&.".concat(WJ.focusVisible),{backgroundColor:(r.vars||r).palette.action.focus}),s(n,'&[aria-selected="true"]',(s(t={backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / ").concat(r.vars.palette.action.selectedOpacity,")"):y(r.palette.primary.main,r.palette.action.selectedOpacity)},"&.".concat(WJ.focused),{backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / calc(").concat(r.vars.palette.action.selectedOpacity," + ").concat(r.vars.palette.action.hoverOpacity,"))"):y(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(r.vars||r).palette.action.selected}}),s(t,"&.".concat(WJ.focusVisible),{backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / calc(").concat(r.vars.palette.action.selectedOpacity," + ").concat(r.vars.palette.action.focusOpacity,"))"):y(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)}),t)),n))})),r0=rr(IJ,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:function(e,t){return t.groupLabel}})((function(e){var t=e.theme;return{backgroundColor:(t.vars||t).palette.background.paper,top:-8}})),i0=rr("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:function(e,t){return t.groupUl}})(s({padding:0},"& .".concat(WJ.option),{paddingLeft:24})),a0=t.forwardRef((function(e,n){var r,i,a,o,s,c=ur({props:e,name:"MuiAutocomplete"}),h=(c.autoComplete,c.autoHighlight,c.autoSelect,c.blurOnSelect,c.ChipProps),p=c.className,v=c.clearIcon,m=void 0===v?GJ||(GJ=(0,yr.jsx)(Bi,{fontSize:"small"})):v,g=c.clearOnBlur,y=(void 0===g&&c.freeSolo,c.clearOnEscape,c.clearText),b=void 0===y?"Clear":y,x=c.closeText,w=void 0===x?"Close":x,S=c.componentsProps,_=void 0===S?{}:S,k=c.defaultValue,E=(void 0===k&&c.multiple,c.disableClearable),C=void 0!==E&&E,M=(c.disableCloseOnSelect,c.disabled),T=void 0!==M&&M,R=(c.disabledItemsFocusable,c.disableListWrap,c.disablePortal),A=void 0!==R&&R,P=(c.filterSelectedOptions,c.forcePopupIcon),I=void 0===P?"auto":P,O=c.freeSolo,L=void 0!==O&&O,N=c.fullWidth,D=void 0!==N&&N,U=c.getLimitTagsText,F=void 0===U?function(e){return"+".concat(e)}:U,z=c.getOptionLabel,B=c.groupBy,j=c.handleHomeEndKeys,H=(void 0===j&&c.freeSolo,c.includeInputInList,c.limitTags),G=void 0===H?-1:H,V=c.ListboxComponent,W=void 0===V?"ul":V,q=c.ListboxProps,X=c.loading,Y=void 0!==X&&X,K=c.loadingText,Z=void 0===K?"Loading\u2026":K,Q=c.multiple,$=void 0!==Q&&Q,J=c.noOptionsText,ee=void 0===J?"No options":J,te=(c.openOnFocus,c.openText),ne=void 0===te?"Open":te,re=c.PaperComponent,ie=void 0===re?wr:re,ae=c.PopperComponent,oe=void 0===ae?MJ:ae,se=c.popupIcon,le=void 0===se?VJ||(VJ=(0,yr.jsx)(pu,{})):se,ue=c.readOnly,ce=void 0!==ue&&ue,de=c.renderGroup,fe=c.renderInput,he=c.renderOption,pe=c.renderTags,ve=c.selectOnFocus,me=(void 0===ve&&c.freeSolo,c.size),ge=void 0===me?"medium":me,ye=c.slotProps,be=void 0===ye?{}:ye,xe=l(c,qJ),we=WQ(u({},c,{componentName:"Autocomplete"})),Se=we.getRootProps,_e=we.getInputProps,ke=we.getInputLabelProps,Ee=we.getPopupIndicatorProps,Ce=we.getClearProps,Me=we.getTagProps,Te=we.getListboxProps,Re=we.getOptionProps,Ae=we.value,Pe=we.dirty,Ie=we.expanded,Oe=we.id,Le=we.popupOpen,Ne=we.focused,De=we.focusedTag,Ue=we.anchorEl,Fe=we.setAnchorEl,ze=we.inputValue,Be=we.groupedOptions,je=!C&&!T&&Pe&&!ce,He=(!L||!0===I)&&!1!==I,Ge=_e().onMouseDown,Ve=(null!=q?q:{}).ref,We=Te(),qe=We.ref,Xe=l(We,XJ),Ye=Cr(qe,Ve),Ke=z||function(e){var t;return null!=(t=e.label)?t:e},Ze=u({},c,{disablePortal:A,expanded:Ie,focused:Ne,fullWidth:D,getOptionLabel:Ke,hasClearIcon:je,hasPopupIcon:He,inputFocused:-1===De,popupOpen:Le,size:ge}),Qe=function(e){var t=e.classes,n=e.disablePortal,r=e.expanded,i=e.focused,a=e.fullWidth,o=e.hasClearIcon,s=e.hasPopupIcon,l=e.inputFocused,u=e.popupOpen,c=e.size;return f({root:["root",r&&"expanded",i&&"focused",a&&"fullWidth",o&&"hasClearIcon",s&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag","tagSize".concat(cr(c))],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]},HJ,t)}(Ze);if($&&Ae.length>0){var $e=function(e){return u({className:Qe.tag,disabled:T},Me(e))};s=pe?pe(Ae,$e,Ze):Ae.map((function(e,t){return(0,yr.jsx)(jJ,u({label:Ke(e),size:ge},$e({index:t}),h))}))}if(G>-1&&Array.isArray(s)){var Je=s.length-G;!Ne&&Je>0&&(s=s.splice(0,G)).push((0,yr.jsx)("span",{className:Qe.tag,children:F(Je)},s.length))}var et=de||function(e){return(0,yr.jsxs)("li",{children:[(0,yr.jsx)(r0,{className:Qe.groupLabel,ownerState:Ze,component:"div",children:e.group}),(0,yr.jsx)(i0,{className:Qe.groupUl,ownerState:Ze,children:e.children})]},e.key)},tt=he||function(e,t){return(0,yr.jsx)("li",u({},e,{children:Ke(t)}))},nt=function(e,t){var n=Re({option:e,index:t});return tt(u({},n,{className:Qe.option}),e,{selected:n["aria-selected"],index:t,inputValue:ze},Ze)},rt=null!=(r=be.clearIndicator)?r:_.clearIndicator,it=null!=(i=be.paper)?i:_.paper,at=null!=(a=be.popper)?a:_.popper,ot=null!=(o=be.popupIndicator)?o:_.popupIndicator;return(0,yr.jsxs)(t.Fragment,{children:[(0,yr.jsx)(YJ,u({ref:n,className:d(Qe.root,p),ownerState:Ze},Se(xe),{children:fe({id:Oe,disabled:T,fullWidth:!0,size:"small"===ge?"small":void 0,InputLabelProps:ke(),InputProps:u({ref:Fe,className:Qe.inputRoot,startAdornment:s,onClick:function(e){e.target===e.currentTarget&&Ge(e)}},(je||He)&&{endAdornment:(0,yr.jsxs)(KJ,{className:Qe.endAdornment,ownerState:Ze,children:[je?(0,yr.jsx)(ZJ,u({},Ce(),{"aria-label":b,title:b,ownerState:Ze},rt,{className:d(Qe.clearIndicator,null==rt?void 0:rt.className),children:m})):null,He?(0,yr.jsx)(QJ,u({},Ee(),{disabled:T,"aria-label":Le?w:ne,title:Le?w:ne,ownerState:Ze},ot,{className:d(Qe.popupIndicator,null==ot?void 0:ot.className),children:le})):null]})}),inputProps:u({className:Qe.input,disabled:T,readOnly:ce},_e())})})),Ue?(0,yr.jsx)($J,u({as:oe,disablePortal:A,style:{width:Ue?Ue.clientWidth:null},ownerState:Ze,role:"presentation",anchorEl:Ue,open:Le},at,{className:d(Qe.popper,null==at?void 0:at.className),children:(0,yr.jsxs)(JJ,u({ownerState:Ze,as:ie},it,{className:d(Qe.paper,null==it?void 0:it.className),children:[Y&&0===Be.length?(0,yr.jsx)(e0,{className:Qe.loading,ownerState:Ze,children:Z}):null,0!==Be.length||L||Y?null:(0,yr.jsx)(t0,{className:Qe.noOptions,ownerState:Ze,role:"presentation",onMouseDown:function(e){e.preventDefault()},children:ee}),Be.length>0?(0,yr.jsx)(n0,u({as:W,className:Qe.listbox,ownerState:Ze},Xe,q,{ref:Ye,children:Be.map((function(e,t){return B?et({key:e.key,group:e.group,children:e.options.map((function(t,n){return nt(t,e.index+n)}))}):nt(e,t)}))})):null]}))})):null]})})),o0=a0,s0=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"];function l0(e){var n=e.item,r=e.applyValue,i=e.type,a=e.apiRef,o=e.focusElementRef,s=e.color,l=e.error,u=e.helperText,c=e.size,d=e.variant,f=eX(e,s0),h={color:s,error:l,helperText:u,size:c,variant:d},p=M(t.useState(n.value||[]),2),v=p[0],m=p[1],g=LQ(),y=AX();t.useEffect((function(){var e,t=null!=(e=n.value)?e:[];m(t.map(String))}),[n.value]);var b=t.useCallback((function(e,t){m(t.map(String)),r(Jq({},n,{value:k(t)}))}),[r,n]);return(0,yr.jsx)(o0,Jq({multiple:!0,freeSolo:!0,options:[],filterOptions:function(e,t){var n=t.inputValue;return null==n||""===n?[]:[n]},id:g,value:v,onChange:b,renderTags:function(e,t){return e.map((function(e,n){return(0,yr.jsx)(y.slots.baseChip,Jq({variant:"outlined",size:"small",label:e},t({index:n})))}))},renderInput:function(e){var t;return(0,yr.jsx)(y.slots.baseTextField,Jq({},e,{label:a.current.getLocaleText("filterPanelInputLabel"),placeholder:a.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:Jq({},e.InputLabelProps,{shrink:!0}),inputRef:o,type:i||"text"},h,null==(t=y.slotProps)?void 0:t.baseTextField))}},f))}var u0={current:null};function c0(e){return e.isInternal=!0,e}function d0(e){return void 0!==e&&!0===e.isInternal}function f0(e){return e.map((function(e){return Jq({},e,{getApplyFilterFn:(t=e.getApplyFilterFnV7,c0((function(e,n){var r=t(e,n);return r?function(e){return r(e.value,e.row,n,u0.current)}:r}))),getApplyFilterFnV7:c0(e.getApplyFilterFnV7)});var t}))}function h0(e){return c0((function(t,n,r){var i=e(t,n,r);return i?function(e){return i(e.value,e.row,n,r)}:i}))}var p0=c0((function(e){if(!e)return null;var t=new RegExp(yZ(e),"i");return function(e,n,r,i){var a=i.current.getRowFormattedValue(n,r);return null!=a&&t.test(a.toString())}})),v0={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:function(e,t){var n=TQ(e,t);return null!==n?n:"string"===typeof e?RQ.compare(e.toString(),t.toString()):e-t},type:"string",align:"left",filterOperators:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return f0([{value:"contains",getApplyFilterFnV7:function(t){if(!t.value)return null;var n=e?t.value:t.value.trim(),r=new RegExp(yZ(n),"i");return function(e){return null!=e&&r.test(String(e))}},InputComponent:FQ},{value:"equals",getApplyFilterFnV7:function(t){if(!t.value)return null;var n=e?t.value:t.value.trim(),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return function(e){return null!=e&&0===r.compare(n,e.toString())}},InputComponent:FQ},{value:"startsWith",getApplyFilterFnV7:function(t){if(!t.value)return null;var n=e?t.value:t.value.trim(),r=new RegExp("^".concat(yZ(n),".*$"),"i");return function(e){return null!=e&&r.test(e.toString())}},InputComponent:FQ},{value:"endsWith",getApplyFilterFnV7:function(t){if(!t.value)return null;var n=e?t.value:t.value.trim(),r=new RegExp(".*".concat(yZ(n),"$"),"i");return function(e){return null!=e&&r.test(e.toString())}},InputComponent:FQ},{value:"isEmpty",getApplyFilterFnV7:function(){return function(e){return""===e||null==e}},requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:function(){return function(e){return""!==e&&null!=e}},requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFnV7:function(t){if(!Array.isArray(t.value)||0===t.value.length)return null;var n=e?t.value:t.value.map((function(e){return e.trim()})),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return function(e){return null!=e&&n.some((function(t){return 0===r.compare(t,e.toString()||"")}))}},InputComponent:l0}])}(),renderEditCell:function(e){return(0,yr.jsx)(_Q,Jq({},e))},getApplyQuickFilterFn:h0(p0),getApplyQuickFilterFnV7:p0},m0="auto-generated-group-node-root",g0=Symbol("mui.id_autogenerated");var y0=function(e,t,n){var r=t?t(e):e.id;return function(e,t){if(null==e)throw new Error(["MUI: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"A row was provided without id in the rows prop:",JSON.stringify(t)].join("\n"))}(r,e,n),r},b0=function(e){for(var t=e.rows,n=e.getRowId,r=e.loading,i=e.rowCount,a={type:"full",rows:[]},o={},s={},l=0;l<t.length;l+=1){var u=t[l],c=y0(u,n);o[c]=u,s[c]=c,a.rows.push(c)}return{rowsBeforePartialUpdates:t,loadingPropBeforePartialUpdates:r,rowCountPropBeforePartialUpdates:i,updates:a,dataRowIdToIdLookup:s,dataRowIdToModelLookup:o}},x0=function(e){var t=e.tree,n=e.rowCountProp,r=void 0===n?0:n,i=t[m0];return Math.max(r,i.children.length+(null==i.footerId?0:1))},w0=function(e){var t=e.apiRef,n=e.rowCountProp,r=void 0===n?0:n,i=e.loadingProp,a=e.previousTree,o=e.previousTreeDepths,s=t.current.caches.rows,l=t.current.applyStrategyProcessor("rowTreeCreation",{previousTree:a,previousTreeDepths:o,updates:s.updates,dataRowIdToIdLookup:s.dataRowIdToIdLookup,dataRowIdToModelLookup:s.dataRowIdToModelLookup}),u=l.tree,c=l.treeDepths,d=l.dataRowIds,f=l.groupingName,h=t.current.unstable_applyPipeProcessors("hydrateRows",{tree:u,treeDepths:c,dataRowIdToIdLookup:s.dataRowIdToIdLookup,dataRowIds:d,dataRowIdToModelLookup:s.dataRowIdToModelLookup});return t.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},Jq({},h,{totalRowCount:Math.max(r,h.dataRowIds.length),totalTopLevelRowCount:x0({tree:h.tree,rowCountProp:r}),groupingName:f,loading:i})},S0=function(e){return"skeletonRow"===e.type||"footer"===e.type||"group"===e.type&&e.isAutoGenerated||"pinnedRow"===e.type&&e.isAutoGenerated},_0=function e(t,n,r){var i=t[n];if("group"!==i.type)return[];for(var a=[],o=0;o<i.children.length;o+=1){var s=i.children[o];r&&S0(t[s])||a.push(s),a.push.apply(a,k(e(t,s,r)))}return r||null==i.footerId||a.push(i.footerId),a};function k0(e){var t,n,r=gY(e),i=(null==r||null==(t=r.top)?void 0:t.reduce((function(t,n){return t+=e.current.unstable_getRowHeight(n.id)}),0))||0,a=(null==r||null==(n=r.bottom)?void 0:n.reduce((function(t,n){return t+=e.current.unstable_getRowHeight(n.id)}),0))||0;return{top:i,bottom:a}}function E0(e,t){var n=GX(e);return"var(--DataGrid-overlayHeight, ".concat(2*Math.floor(t*n),"px)")}var C0=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex"];function M0(e){var n=e.value,r=eX(e,C0),i=tQ(),a=AX(),o=function(e){return Cv({root:["booleanCell"]},uX,e.classes)}({classes:a.classes}),s=t.useMemo((function(){return n?a.slots.booleanCellTrueIcon:a.slots.booleanCellFalseIcon}),[a.slots.booleanCellFalseIcon,a.slots.booleanCellTrueIcon,n]);return(0,yr.jsx)(s,Jq({fontSize:"small",className:o.root,titleAccess:i.current.getLocaleText(n?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":Boolean(n)},r))}var T0=t.memo(M0),R0=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"];function A0(e){var n,r,i=e.id,a=e.value,o=e.field,s=e.className,l=e.hasFocus,u=e.onValueChange,c=eX(e,R0),f=tQ(),h=t.useRef(null),p=LQ(),v=M(t.useState(a),2),m=v[0],g=v[1],y=AX(),b=function(e){return Cv({root:["editBooleanCell"]},uX,e.classes)}({classes:y.classes}),x=t.useCallback((function(e){return(n=n||sm(um().mark((function e(t){var n;return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.checked,!u){e.next=4;break}return e.next=4,u(t,n);case 4:return g(n),e.next=7,f.current.setEditCellValue({id:i,field:o,value:n},t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}),[f,o,i,u]);return t.useEffect((function(){g(a)}),[a]),rX((function(){l&&h.current.focus()}),[l]),(0,yr.jsx)("label",Jq({htmlFor:p,className:d(b.root,s)},c,{children:(0,yr.jsx)(y.slots.baseCheckbox,Jq({id:p,inputRef:h,checked:Boolean(m),onChange:x,size:"small"},null==(r=y.slotProps)?void 0:r.baseCheckbox))}))}var P0=["item","applyValue","apiRef","focusElementRef","isFilterActive","clearButton","tabIndex","label","InputLabelProps"],I0=rr("div")(s({display:"flex",alignItems:"center",width:"100%"},"& button",{margin:"auto 0px 5px 5px"}));function O0(e){var n,r,i,a,o=e.item,s=e.applyValue,l=e.apiRef,u=e.focusElementRef,c=e.clearButton,d=e.tabIndex,f=e.label,h=eX(e,P0),p=M(t.useState(o.value||""),2),v=p[0],m=p[1],g=AX(),y=LQ(),b=LQ(),x=(null==(n=g.slotProps)?void 0:n.baseSelect)||{},w=null==(r=x.native)||r,S=(null==(i=g.slotProps)?void 0:i.baseSelectOption)||{},_=t.useCallback((function(e){var t=e.target.value;m(t),s(Jq({},o,{value:t}))}),[s,o]);t.useEffect((function(){m(o.value||"")}),[o.value]);var k=null!=f?f:l.current.getLocaleText("filterPanelInputLabel");return(0,yr.jsxs)(I0,{children:[(0,yr.jsxs)(g.slots.baseFormControl,{fullWidth:!0,children:[(0,yr.jsx)(g.slots.baseInputLabel,Jq({},null==(a=g.slotProps)?void 0:a.baseInputLabel,{id:y,shrink:!0,variant:"standard",children:k})),(0,yr.jsxs)(g.slots.baseSelect,Jq({labelId:y,id:b,label:k,value:v,onChange:_,variant:"standard",native:w,displayEmpty:!0,inputProps:{ref:u,tabIndex:d}},h,x,{children:[(0,yr.jsx)(g.slots.baseSelectOption,Jq({},S,{native:w,value:"",children:l.current.getLocaleText("filterValueAny")})),(0,yr.jsx)(g.slots.baseSelectOption,Jq({},S,{native:w,value:"true",children:l.current.getLocaleText("filterValueTrue")})),(0,yr.jsx)(g.slots.baseSelectOption,Jq({},S,{native:w,value:"false",children:l.current.getLocaleText("filterValueFalse")}))]}))]}),c]})}var L0=Jq({},v0,{type:"boolean",align:"center",headerAlign:"center",renderCell:function(e){return S0(e.rowNode)?"":(0,yr.jsx)(T0,Jq({},e))},renderEditCell:function(e){return(0,yr.jsx)(A0,Jq({},e))},sortComparator:AQ,valueFormatter:function(e){var t=e.value,n=e.api;return t?n.getLocaleText("booleanCellTrueLabel"):n.getLocaleText("booleanCellFalseLabel")},filterOperators:f0([{value:"is",getApplyFilterFnV7:function(e){if(!e.value)return null;var t="true"===e.value;return function(e){return Boolean(e)===t}},InputComponent:O0}]),getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,aggregable:!1,pastedValueParser:function(e){return function(e){switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}}(e)}}),N0="__check__",D0=Jq({},L0,{field:N0,type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,valueGetter:function(e){return void 0!==lQ(e.api.state,e.api.instanceId)[e.id]},renderHeader:function(e){return(0,yr.jsx)(xQ,Jq({},e))},renderCell:function(e){return(0,yr.jsx)(iQ,Jq({},e))}});function U0(e,t){return"string"===typeof e&&[t,"\n","\r",'"'].some((function(t){return e.includes(t)}))?'"'.concat(e.replace(/"/g,'""'),'"'):e}var F0=function(e,t){var n,r=t.delimiterCharacter;if(t.ignoreValueFormatter){var i,a=e.colDef.type;if("number"===a)n=String(e.value);else if("date"===a||"dateTime"===a){var o;n=null==(o=e.value)?void 0:o.toISOString()}else n="function"===typeof(null==(i=e.value)?void 0:i.toString)?e.value.toString():e.value}else n=e.formattedValue;return U0(n,r)},z0=(bX(["MUI: When the value of a field is an object or a `renderCell` is provided, the CSV export might not display the value correctly.","You can provide a `valueFormatter` with a string representation to be used."]),function(){function e(t){Xs(this,e),this.options=void 0,this.rowString="",this.isEmpty=!0,this.options=t}return Ks(e,[{key:"addValue",value:function(e){this.isEmpty||(this.rowString+=this.options.delimiterCharacter),null===e||void 0===e?this.rowString+="":"function"===typeof this.options.sanitizeCellValue?this.rowString+=this.options.sanitizeCellValue(e,this.options.delimiterCharacter):this.rowString+=e,this.isEmpty=!1}},{key:"getRowString",value:function(){return this.rowString}}]),e}());function B0(e){var t=e.columns,n=e.rowIds,r=e.delimiterCharacter,i=e.includeHeaders,a=e.includeColumnGroupsHeaders,o=e.ignoreValueFormatter,s=e.apiRef,l=n.reduce((function(e,n){return"".concat(e).concat(function(e){var t=e.id,n=e.columns,r=e.getCellParams,i=e.delimiterCharacter,a=e.ignoreValueFormatter,o=new z0({delimiterCharacter:i});return n.forEach((function(e){var n=r(t,e.field);o.addValue(F0(n,{delimiterCharacter:i,ignoreValueFormatter:a}))})),o.getRowString()}({id:n,columns:t,getCellParams:s.current.getCellParams,delimiterCharacter:r,ignoreValueFormatter:o}),"\r\n")}),"").trim();if(!i)return l;var u=t.filter((function(e){return e.field!==D0.field})),c=[];if(a)for(var d=s.current.unstable_getAllGroupDetails(),f=0,h=u.reduce((function(e,t){var n=s.current.unstable_getColumnGroupPath(t.field);return e[t.field]=n,f=Math.max(f,n.length),e}),{}),p=function(e){var t=new z0({delimiterCharacter:r,sanitizeCellValue:U0});c.push(t),u.forEach((function(n){var r=(h[n.field]||[])[e],i=d[r];t.addValue(i?i.headerName||i.groupId:"")}))},v=0;v<f;v+=1)p(v);var m=new z0({delimiterCharacter:r,sanitizeCellValue:U0});u.forEach((function(e){m.addValue(e.headerName||e.field)})),c.push(m);var g="".concat(c.map((function(e){return e.getRowString()})).join("\r\n"),"\r\n");return"".concat(g).concat(l).trim()}function j0(e){var t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);var n=document.createRange();n.selectNode(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}var H0=function(e,n){var r=n.unstable_ignoreValueFormatterDuringExport,i=("object"===typeof r?null==r?void 0:r.clipboardExport:r)||!1,a=n.clipboardCopyCellDelimiter,o=t.useCallback((function(t){if((t.ctrlKey||t.metaKey)&&"c"===t.key&&!function(e){var t;return!(null==(t=window.getSelection())||!t.toString())||!!(e&&(e.selectionEnd||0)-(e.selectionStart||0)>0)}(t.target)){var n="";if(e.current.getSelectedRows().size>0)n=e.current.getDataAsCsv({includeHeaders:!1,delimiter:a});else{var r=iZ(e);if(r){var o=e.current.getCellParams(r.id,r.field);n=F0(o,{delimiterCharacter:a,ignoreValueFormatter:i})}}(n=e.current.unstable_applyPipeProcessors("clipboardCopy",n))&&(!function(e){navigator.clipboard?navigator.clipboard.writeText(e).catch((function(){j0(e)})):j0(e)}(n),e.current.publishEvent("clipboardCopy",n))}}),[e,i,a]);!function(e,n,r,i,a){var o=YZ(e,"useNativeEventListener"),s=M(t.useState(!1),2),l=s[0],u=s[1],c=t.useRef(i),d=t.useCallback((function(e){return c.current&&c.current(e)}),[]);t.useEffect((function(){c.current=i}),[i]),t.useEffect((function(){var t;if((t=mZ(n)?n():n&&n.current?n.current:null)&&r&&!l){o.debug("Binding native ".concat(r," event")),t.addEventListener(r,d,a);var i=t;u(!0),e.current.subscribeEvent("unmount",(function(){o.debug("Clearing native ".concat(r," event")),i.removeEventListener(r,d,a)}))}}),[n,d,r,l,o,a,e])}(e,e.current.rootElementRef,"keydown",o),UZ(e,"clipboardCopy",n.onClipboardCopy)},G0=function(e){return Jq({},e,{columnMenu:{open:!1}})},V0=function(e){var n=t.useRef(!0);n.current&&(n.current=!1,e())},W0=function(e,n,r){var i=t.useRef(),a=t.useRef("mui-".concat(Math.round(1e9*Math.random()))),o=t.useCallback((function(){i.current=e.current.registerPipeProcessor(n,a.current,r)}),[e,r,n]);V0((function(){o()}));var s=t.useRef(!0);t.useEffect((function(){return s.current?s.current=!1:o(),function(){i.current&&(i.current(),i.current=null)}}),[o])},q0=function(e,n,r){var i=t.useRef(),a=t.useRef("mui-".concat(Math.round(1e9*Math.random()))),o=t.useCallback((function(){i.current=e.current.registerPipeApplier(n,a.current,r)}),[e,r,n]);V0((function(){o()}));var s=t.useRef(!0);t.useEffect((function(){return s.current?s.current=!1:o(),function(){i.current&&(i.current(),i.current=null)}}),[o])},X0=function(e){return null==e?null:Number(e)},Y0=c0((function(e){return null==e||Number.isNaN(e)||""===e?null:function(t){return X0(t)===X0(e)}})),K0=Jq({},v0,{type:"number",align:"right",headerAlign:"right",sortComparator:AQ,valueParser:function(e){return""===e?null:Number(e)},valueFormatter:function(e){var t=e.value;return function(e){return"number"===typeof e}(t)?t.toLocaleString():t||""},filterOperators:f0([{value:"=",getApplyFilterFnV7:function(e){return null==e.value||Number.isNaN(e.value)?null:function(t){return X0(t)===e.value}},InputComponent:FQ,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFnV7:function(e){return null==e.value||Number.isNaN(e.value)?null:function(t){return X0(t)!==e.value}},InputComponent:FQ,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFnV7:function(e){return null==e.value||Number.isNaN(e.value)?null:function(t){return null!=t&&X0(t)>e.value}},InputComponent:FQ,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFnV7:function(e){return null==e.value||Number.isNaN(e.value)?null:function(t){return null!=t&&X0(t)>=e.value}},InputComponent:FQ,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFnV7:function(e){return null==e.value||Number.isNaN(e.value)?null:function(t){return null!=t&&X0(t)<e.value}},InputComponent:FQ,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFnV7:function(e){return null==e.value||Number.isNaN(e.value)?null:function(t){return null!=t&&X0(t)<=e.value}},InputComponent:FQ,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFnV7:function(){return function(e){return null==e}},requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:function(){return function(e){return null!=e}},requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFnV7:function(e){return Array.isArray(e.value)&&0!==e.value.length?function(t){return null!=t&&e.value.includes(Number(t))}:null},InputComponent:l0,InputComponentProps:{type:"number"}}]),getApplyQuickFilterFn:h0(Y0),getApplyQuickFilterFnV7:Y0}),Z0=["item","applyValue","type","apiRef","focusElementRef","InputProps","isFilterActive","clearButton","tabIndex","disabled"];function Q0(e){var n,r,i=e.item,a=e.applyValue,o=e.type,s=e.apiRef,l=e.focusElementRef,u=e.InputProps,c=e.clearButton,d=e.tabIndex,f=e.disabled,h=eX(e,Z0),p=DQ(),v=M(t.useState(null!=(n=i.value)?n:""),2),m=v[0],g=v[1],y=M(t.useState(!1),2),b=y[0],x=y[1],w=LQ(),S=AX(),_=t.useCallback((function(e){var t=e.target.value;g(String(t)),x(!0),p.start(S.filterDebounceMs,(function(){a(Jq({},i,{value:t})),x(!1)}))}),[a,i,S.filterDebounceMs,p]);return t.useEffect((function(){var e,t=null!=(e=i.value)?e:"";g(String(t))}),[i.value]),(0,yr.jsx)(S.slots.baseTextField,Jq({fullWidth:!0,id:w,label:s.current.getLocaleText("filterPanelInputLabel"),placeholder:s.current.getLocaleText("filterPanelInputPlaceholder"),value:m,onChange:_,variant:"standard",type:o||"text",InputLabelProps:{shrink:!0},inputRef:l,InputProps:Jq({},b||c?{endAdornment:b?(0,yr.jsx)(S.slots.loadIcon,{fontSize:"small",color:"action"}):c}:{},{disabled:f},u,{inputProps:Jq({max:"datetime-local"===o?"9999-12-31T23:59":"9999-12-31",tabIndex:d},null==u?void 0:u.inputProps)})},h,null==(r=S.slotProps)?void 0:r.baseTextField))}var $0=/(\d+)-(\d+)-(\d+)/,J0=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function e1(e,t,n,r){if(!e.value)return null;var i=M(e.value.match(n?J0:$0).slice(1).map(Number),5),a=i[0],o=i[1],s=i[2],l=i[3],u=i[4],c=new Date(a,o-1,s,l||0,u||0).getTime();return function(e){if(!e)return!1;if(r)return t(e.getTime(),c);var i=new Date(e).setHours(n?e.getHours():0,n?e.getMinutes():0,0,0);return t(i,c)}}var t1=function(e){return f0([{value:"is",getApplyFilterFnV7:function(t){return e1(t,(function(e,t){return e===t}),e)},InputComponent:Q0,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFnV7:function(t){return e1(t,(function(e,t){return e!==t}),e)},InputComponent:Q0,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFnV7:function(t){return e1(t,(function(e,t){return e>t}),e)},InputComponent:Q0,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFnV7:function(t){return e1(t,(function(e,t){return e>=t}),e)},InputComponent:Q0,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFnV7:function(t){return e1(t,(function(e,t){return e<t}),e,!e)},InputComponent:Q0,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFnV7:function(t){return e1(t,(function(e,t){return e<=t}),e)},InputComponent:Q0,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFnV7:function(){return function(e){return null==e}},requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:function(){return function(e){return null!=e}},requiresFilterValue:!1}])},n1=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange"],r1=rr(Iu)({fontSize:"inherit"});function i1(e){var n,r=e.id,i=e.value,a=e.field,o=e.colDef,s=e.hasFocus,l=e.inputProps,u=e.onValueChange,c=eX(e,n1),d="dateTime"===o.type,f=tQ(),h=t.useRef(),p=t.useMemo((function(){var e,t;null==(e=null==i?null:i instanceof Date?i:new Date((null!=i?i:"").toString()))||Number.isNaN(e.getTime())?t="":t=new Date(e.getTime()-60*e.getTimezoneOffset()*1e3).toISOString().substr(0,d?16:10);return{parsed:e,formatted:t}}),[i,d]),v=M(t.useState(p),2),m=v[0],g=v[1],y=function(e){return Cv({root:["editInputCell"]},uX,e.classes)}({classes:AX().classes}),b=t.useRef(!1),x=t.useCallback((function(e){if(""===e)return null;var t=M(e.split("T"),2),n=t[0],r=t[1],i=M(n.split("-"),3),a=i[0],o=i[1],s=i[2],l=new Date;if(l.setFullYear(Number(a),Number(o)-1,Number(s)),l.setHours(0,0,0,0),r){var u=M(r.split(":"),2),c=u[0],d=u[1];l.setHours(Number(c),Number(d),0,0)}return l}),[]),w=t.useCallback((function(e){return(n=n||sm(um().mark((function e(t){var n,i;return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.value,i=x(n),!u){e.next=5;break}return e.next=5,u(t,i);case 5:g({parsed:i,formatted:n}),f.current.setEditCellValue({id:r,field:a,value:i},t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}),[f,a,r,u,x]);t.useEffect((function(){g((function(e){var t,n;return p.parsed!==e.parsed&&(null==(t=p.parsed)?void 0:t.getTime())!==(null==(n=e.parsed)?void 0:n.getTime())?p:e}))}),[p]),rX((function(){s&&h.current.focus()}),[s]);var S=f.current.unstable_getEditCellMeta(r,a);return(0,yr.jsx)(r1,Jq({inputRef:function(e){if(h.current=e,null!=S&&S.unstable_updateValueOnRender&&!b.current){var t=h.current.value,n=x(t);g({parsed:n,formatted:t}),f.current.setEditCellValue({id:r,field:a,value:n}),b.current=!0}},fullWidth:!0,className:y.root,type:d?"datetime-local":"date",inputProps:Jq({max:d?"9999-12-31T23:59":"9999-12-31"},l),value:m.formatted,onChange:w},c))}var a1=function(e){return(0,yr.jsx)(i1,Jq({},e))};function o1(e){var t=e.value,n=e.columnType,r=e.rowId,i=e.field;if(!(t instanceof Date))throw new Error(["MUI: `".concat(n,"` column type only accepts `Date` objects as values."),"Use `valueGetter` to transform the value into a `Date` object.","Row ID: ".concat(r,', field: "').concat(i,'".')].join("\n"))}var s1=Jq({},v0,{type:"date",sortComparator:PQ,valueFormatter:function(e){var t=e.value,n=e.field,r=e.id;return t?(o1({value:t,columnType:"date",rowId:r,field:n}),t.toLocaleDateString()):""},filterOperators:t1(),renderEditCell:a1,pastedValueParser:function(e){return new Date(e)}}),l1=Jq({},v0,{type:"dateTime",sortComparator:PQ,valueFormatter:function(e){var t=e.value,n=e.field,r=e.id;return t?(o1({value:t,columnType:"dateTime",rowId:r,field:n}),t.toLocaleString()):""},filterOperators:t1(!0),renderEditCell:a1,pastedValueParser:function(e){return new Date(e)}}),u1=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e}(u1||{}),c1=function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(c1||{}),d1=function(e){return e.Cell="cell",e.Row="row",e}(d1||{}),f1=function(e){return e.Edit="edit",e.View="view",e}(f1||{}),h1=function(e){return e.Edit="edit",e.View="view",e}(h1||{});function p1(e){return"singleSelect"===(null==e?void 0:e.type)}function v1(e,t,n){if(void 0!==t){var r=t.find((function(t){var r=n(t);return String(r)===String(e)}));return n(r)}}var m1=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen","getOptionLabel","getOptionValue"],g1=["MenuProps"];function y1(e){var n,r,i,a,o,s=AX(),l=e.id,u=e.value,c=e.field,d=e.row,f=e.colDef,h=e.hasFocus,p=e.error,v=e.onValueChange,m=e.initialOpen,g=void 0===m?s.editMode===d1.Cell:m,y=e.getOptionLabel,b=e.getOptionValue,x=eX(e,m1),w=tQ(),S=t.useRef(),_=t.useRef(),k=M(t.useState(g),2),E=k[0],C=k[1],T=null!=(i=((null==(r=s.slotProps)?void 0:r.baseSelect)||{}).native)&&i,R=(null==(a=s.slotProps)?void 0:a.baseSelect)||{},A=R.MenuProps,P=eX(R,g1);if(rX((function(){var e;h&&(null==(e=_.current)||e.focus())}),[h]),!p1(f))return null;if(!(o="function"===typeof(null==f?void 0:f.valueOptions)?null==f?void 0:f.valueOptions({id:l,row:d,field:c}):null==f?void 0:f.valueOptions))return null;var I=b||f.getOptionValue,O=y||f.getOptionLabel;return o&&f?(0,yr.jsx)(s.slots.baseSelect,Jq({ref:S,inputRef:_,value:u,onChange:function(e){return(n=n||sm(um().mark((function e(t){var n,r;return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p1(f)&&o){e.next=2;break}return e.abrupt("return");case 2:if(C(!1),n=t.target,r=v1(n.value,o,I),!v){e.next=8;break}return e.next=8,v(t,r);case 8:return e.next=10,w.current.setEditCellValue({id:l,field:c,value:r},t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},open:E,onOpen:function(e){(function(e){return!!e.key})(e)&&"Enter"===e.key||C(!0)},MenuProps:Jq({onClose:function(e,t){if(s.editMode!==d1.Row){if("backdropClick"===t||KZ(e.key)){var n=w.current.getCellParams(l,c);w.current.publishEvent("cellEditStop",Jq({},n,{reason:KZ(e.key)?c1.escapeKeyDown:c1.cellFocusOut}))}}else C(!1)}},A),error:p,native:T,fullWidth:!0},x,P,{children:o.map((function(e){var n,r=I(e);return(0,t.createElement)(s.slots.baseSelectOption,Jq({},(null==(n=s.slotProps)?void 0:n.baseSelectOption)||{},{native:T,key:r,value:r}),O(e))}))})):null}var b1=["item","applyValue","type","apiRef","focusElementRef","getOptionLabel","getOptionValue","placeholder","tabIndex","label","isFilterActive","clearButton","InputLabelProps"],x1=function(e){var n=e.column,r=n.valueOptions,i=n.field,a=e.OptionComponent,o=e.getOptionLabel,s=e.getOptionValue,l=e.isSelectNative,u=e.baseSelectOptionProps;return[""].concat(k("function"===typeof r?r({field:i}):r||[])).map((function(e){var n=s(e),r=o(e);return(0,t.createElement)(a,Jq({},u,{native:l,key:n,value:n}),r)}))},w1=rr("div")(s({display:"flex",alignItems:"flex-end",width:"100%"},"& button",{margin:"auto 0px 5px 5px"}));function S1(e){var n,r,i,a,o,s,l,u,c=e.item,d=e.applyValue,f=e.type,h=e.apiRef,p=e.focusElementRef,v=e.getOptionLabel,m=e.getOptionValue,g=e.placeholder,y=e.tabIndex,b=e.label,x=e.clearButton,w=eX(e,b1),S=M(t.useState(null!=(n=c.value)?n:""),2),_=S[0],k=S[1],E=LQ(),C=LQ(),T=AX(),R=null==(r=null==(i=T.slotProps)||null==(i=i.baseSelect)?void 0:i.native)||r,A=null;if(c.field){var P=h.current.getColumn(c.field);p1(P)&&(A=P)}var I=m||(null==(a=A)?void 0:a.getOptionValue),O=v||(null==(o=A)?void 0:o.getOptionLabel),L=t.useMemo((function(){if(A)return"function"===typeof A.valueOptions?A.valueOptions({field:A.field}):A.valueOptions}),[A]),N=t.useCallback((function(e){var t=e.target.value;t=v1(t,L,I),k(String(t)),d(Jq({},c,{value:t}))}),[L,I,d,c]);if(t.useEffect((function(){var e,t;if(void 0!==L){if((t=v1(c.value,L,I))!==c.value)return void d(Jq({},c,{value:t}))}else t=c.value;t=null!=(e=t)?e:"",k(String(t))}),[c,L,d,I]),!p1(A))return null;if(!p1(A))return null;var D=null!=b?b:h.current.getLocaleText("filterPanelInputLabel");return(0,yr.jsxs)(w1,{children:[(0,yr.jsxs)(T.slots.baseFormControl,{children:[(0,yr.jsx)(T.slots.baseInputLabel,Jq({},null==(s=T.slotProps)?void 0:s.baseInputLabel,{id:C,htmlFor:E,shrink:!0,variant:"standard",children:D})),(0,yr.jsx)(T.slots.baseSelect,Jq({id:E,label:D,labelId:C,value:_,onChange:N,variant:"standard",type:f||"text",inputProps:{tabIndex:y,ref:p,placeholder:null!=g?g:h.current.getLocaleText("filterPanelInputPlaceholder")},native:R},w,null==(l=T.slotProps)?void 0:l.baseSelect,{children:x1({column:A,OptionComponent:T.slots.baseSelectOption,getOptionLabel:O,getOptionValue:I,isSelectNative:R,baseSelectOptionProps:null==(u=T.slotProps)?void 0:u.baseSelectOption})}))]}),x]})}var _1=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant","getOptionLabel","getOptionValue"],k1=jQ();function E1(e){var n,r,i=e.item,a=e.applyValue,o=e.apiRef,s=e.focusElementRef,l=e.color,u=e.error,c=e.helperText,d=e.size,f=e.variant,h=void 0===f?"standard":f,p=e.getOptionLabel,v=e.getOptionValue,m=eX(e,_1),g={color:l,error:u,helperText:c,size:d,variant:h},y=LQ(),b=AX(),x=null;if(i.field){var w=o.current.getColumn(i.field);p1(w)&&(x=w)}var S=v||(null==(n=x)?void 0:n.getOptionValue),_=p||(null==(r=x)?void 0:r.getOptionLabel),k=t.useCallback((function(e,t){return S(e)===S(t)}),[S]),E=t.useMemo((function(){var e;return null!=(e=x)&&e.valueOptions?"function"===typeof x.valueOptions?x.valueOptions({field:x.field}):x.valueOptions:[]}),[x]),C=t.useMemo((function(){return null==E?void 0:E.map(S)}),[E,S]),M=t.useMemo((function(){return Array.isArray(i.value)?void 0!==E?i.value.map((function(e){return null==C?void 0:C.findIndex((function(t){return t===e}))})).filter((function(e){return e>=0})).map((function(e){return E[e]})):i.value:[]}),[i.value,E,C]);t.useEffect((function(){Array.isArray(i.value)&&M.length===i.value.length||a(Jq({},i,{value:M.map(S)}))}),[i,M,a,S]);var T=t.useCallback((function(e,t){a(Jq({},i,{value:t.map(S)}))}),[a,i,S]);return(0,yr.jsx)(o0,Jq({multiple:!0,options:E,isOptionEqualToValue:k,filterOptions:k1,id:y,value:M,onChange:T,getOptionLabel:_,renderTags:function(e,t){return e.map((function(e,n){return(0,yr.jsx)(b.slots.baseChip,Jq({variant:"outlined",size:"small",label:_(e)},t({index:n})))}))},renderInput:function(e){var t;return(0,yr.jsx)(b.slots.baseTextField,Jq({},e,{label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:Jq({},e.InputLabelProps,{shrink:!0}),inputRef:s,type:"singleSelect"},g,null==(t=b.slotProps)?void 0:t.baseTextField))}},m))}var C1=function(e){return null!=e&&gZ(e)?e.value:e},M1=Jq({},v0,{type:"singleSelect",getOptionLabel:function(e){return gZ(e)?e.label:String(e)},getOptionValue:function(e){return gZ(e)?e.value:e},valueFormatter:function(e){var t,n=e.id,r=e.field,i=e.value,a=e.api,o=e.api.getColumn(r);if(!p1(o))return"";if(t="function"===typeof o.valueOptions?o.valueOptions({id:n,row:n?a.getRow(n):null,field:r}):o.valueOptions,null==i)return"";if(!t)return i;if("object"!==typeof t[0])return o.getOptionLabel(i);var s=t.find((function(e){return o.getOptionValue(e)===i}));return s?o.getOptionLabel(s):""},renderEditCell:function(e){return(0,yr.jsx)(y1,Jq({},e))},filterOperators:f0([{value:"is",getApplyFilterFnV7:function(e){return null==e.value||""===e.value?null:function(t){return C1(t)===C1(e.value)}},InputComponent:S1},{value:"not",getApplyFilterFnV7:function(e){return null==e.value||""===e.value?null:function(t){return C1(t)!==C1(e.value)}},InputComponent:S1},{value:"isAnyOf",getApplyFilterFnV7:function(e){if(!Array.isArray(e.value)||0===e.value.length)return null;var t=e.value.map(C1);return function(e){return t.includes(C1(e))}},InputComponent:E1}]),pastedValueParser:function(e,t){var n=t.colDef,r=n.valueOptions,i="function"===typeof r?r({field:n.field}):r||[],a=n.getOptionValue;if(i.find((function(t){return a(t)===e})))return e}}),T1=["open","target","onClose","children","position","className","onExited"],R1=function(e){return Cv({root:["menu"]},uX,e.classes)},A1=rr(MJ,{name:"MuiDataGrid",slot:"Menu",overridesResolver:function(e,t){return t.menu}})((function(e){return s({zIndex:e.theme.zIndex.modal},"& .".concat(dX.menuList),{outline:0})})),P1={"bottom-start":"top left","bottom-end":"top right"};function I1(e){var n,r=e.open,i=e.target,a=e.onClose,o=e.children,s=e.position,l=e.className,u=e.onExited,c=eX(e,T1),f=tQ(),h=AX(),p=R1(h),v=t.useRef(null);rX((function(){var e,t;r?v.current=document.activeElement instanceof HTMLElement?document.activeElement:null:(null==(e=v.current)||null==(t=e.focus)||t.call(e),v.current=null)}),[r]),t.useEffect((function(){var e=r?"menuOpen":"menuClose";f.current.publishEvent(e,{target:i})}),[f,r,i]);var m=function(e){e.target&&(i===e.target||null!=i&&i.contains(e.target))||a(e)};return(0,yr.jsx)(A1,Jq({as:h.slots.basePopper,className:d(l,p.root),ownerState:h,open:r,anchorEl:i,transition:!0,placement:s},c,null==(n=h.slotProps)?void 0:n.basePopper,{children:function(e){var t,n=e.TransitionProps,r=e.placement;return(0,yr.jsx)(Ov,{onClickAway:m,mouseEvent:"onMouseDown",children:(0,yr.jsx)(Ws,Jq({},n,{style:{transformOrigin:P1[r]},onExited:(t=null==n?void 0:n.onExited,function(e){t&&t(),u&&u(e)}),children:(0,yr.jsx)(wr,{children:o})}))})}}))}var O1=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"];function L1(e){var n,r=e.colDef,i=e.id,a=e.hasFocus,o=e.tabIndex,s=e.position,l=void 0===s?"bottom-end":s,u=e.focusElementRef,c=eX(e,O1),d=M(t.useState(-1),2),f=d[0],h=d[1],p=M(t.useState(!1),2),v=p[0],m=p[1],g=tQ(),y=t.useRef(null),b=t.useRef(null),x=t.useRef(!1),w=t.useRef({}),S=Ra(),_=LQ(),k=LQ(),E=AX();if(!function(e){return"function"===typeof e.getActions}(r))throw new Error("MUI: Missing the `getActions` property in the `GridColDef`.");var C=r.getActions(g.current.getRowParams(i)),T=C.filter((function(e){return!e.props.showInMenu})),R=C.filter((function(e){return e.props.showInMenu})),A=T.length+(R.length?1:0);t.useLayoutEffect((function(){a||Object.entries(w.current).forEach((function(e){var t=M(e,2),n=t[0],r=t[1];null==r||r.stop({},(function(){delete w.current[n]}))}))}),[a]),t.useEffect((function(){f<0||!y.current||(f>=y.current.children.length||y.current.children[f].focus({preventScroll:!0}))}),[f]),t.useEffect((function(){a||(h(-1),x.current=!1)}),[a]),t.useImperativeHandle(u,(function(){return{focus:function(){x.current||h(0)}}}),[]),t.useEffect((function(){f>=A&&h(A-1)}),[f,A]);var P=function(){m(!1)},I=function(e){return function(t){w.current[e]=t}},O=function(e,t){return function(n){h(e),x.current=!0,t&&t(n)}};return(0,yr.jsxs)("div",Jq({role:"menu",ref:y,tabIndex:-1,className:dX.actionsCell,onKeyDown:function(e){if(!(A<=1)){var t=f;"ArrowRight"===e.key?"rtl"===S.direction?t-=1:t+=1:"ArrowLeft"===e.key&&("rtl"===S.direction?t+=1:t-=1),t<0||t>=A||t!==f&&(e.preventDefault(),e.stopPropagation(),h(t))}}},c,{children:[T.map((function(e,n){return t.cloneElement(e,{key:n,touchRippleRef:I(n),onClick:O(n,e.props.onClick),tabIndex:f===n?o:-1})})),R.length>0&&k&&(0,yr.jsx)(E.slots.baseIconButton,Jq({ref:b,id:k,"aria-label":g.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":v,"aria-controls":v?_:void 0,role:"menuitem",size:"small",onClick:function(){m(!0),h(A-1),x.current=!0},touchRippleRef:I(k),tabIndex:f===T.length?o:-1},null==(n=E.slotProps)?void 0:n.baseIconButton,{children:(0,yr.jsx)(E.slots.moreActionsIcon,{fontSize:"small"})})),R.length>0&&(0,yr.jsx)(I1,{open:v,target:b.current,position:l,onClose:P,onClick:P,children:(0,yr.jsx)(_s,{id:_,className:dX.menuList,onKeyDown:function(e){"Tab"===e.key&&e.preventDefault(),["Tab","Enter","Escape"].includes(e.key)&&P()},"aria-labelledby":k,variant:"menu",autoFocusItem:!0,children:R.map((function(e,n){return t.cloneElement(e,{key:n})}))})})]}))}var N1="actions",D1=Jq({},v0,{sortable:!1,filterable:!1,aggregable:!1,width:100,align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:function(e){return(0,yr.jsx)(L1,Jq({},e))},getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0}),U1="__default__",F1=["maxWidth","minWidth","width","flex"];var z1=function(e,t){var n={},r=0,i=0,a=[];e.orderedFields.forEach((function(t){var o,s=Jq({},e.lookup[t]);!1===e.columnVisibilityModel[t]?s.computedWidth=0:(s.flex&&s.flex>0?(r+=s.flex,o=0,a.push(s)):o=bZ(s.width||v0.width,s.minWidth||v0.minWidth,s.maxWidth||v0.maxWidth),i+=o,s.computedWidth=o);n[t]=s}));var o=Math.max(t-i,0);if(r>0&&t>0){var s=function(e){var t=e.initialFreeSpace,n=e.totalFlexUnits,r=e.flexColumns,i=new Set(r.map((function(e){return e.field}))),a={all:{},frozenFields:[],freeze:function(e){var t=a.all[e];t&&!0!==t.frozen&&(a.all[e].frozen=!0,a.frozenFields.push(e))}};return function e(){if(a.frozenFields.length!==i.size){var o={min:{},max:{}},s=t,l=n,u=0;a.frozenFields.forEach((function(e){s-=a.all[e].computedWidth,l-=a.all[e].flex}));for(var c=0;c<r.length;c+=1){var d=r[c];if(!a.all[d.field]||!0!==a.all[d.field].frozen){var f=s/l*d.flex;f<d.minWidth?(u+=d.minWidth-f,f=d.minWidth,o.min[d.field]=!0):f>d.maxWidth&&(u+=d.maxWidth-f,f=d.maxWidth,o.max[d.field]=!0),a.all[d.field]={frozen:!1,computedWidth:f,flex:d.flex}}}u<0?Object.keys(o.max).forEach((function(e){a.freeze(e)})):u>0?Object.keys(o.min).forEach((function(e){a.freeze(e)})):r.forEach((function(e){var t=e.field;a.freeze(t)})),e()}}(),a.all}({initialFreeSpace:o,totalFlexUnits:r,flexColumns:a});Object.keys(s).forEach((function(e){n[e].computedWidth=s[e].computedWidth}))}return Jq({},e,{lookup:n})};function B1(e,t){var n=e[U1];return t&&e[t]&&(n=e[t]),n}var j1=function(e){var t,n,r,i,a=e.apiRef,o=e.columnsToUpsert,l=e.initialState,u=e.columnTypes,c=e.columnVisibilityModel,d=void 0===c?YX(a):c,f=e.keepOnlyColumnsToUpsert,h=void 0!==f&&f,p=!a.current.state.columns;if(p)i={orderedFields:[],lookup:{},columnVisibilityModel:d};else{var v=VX(a.current.state);i={orderedFields:h?[]:k(v.orderedFields),lookup:Jq({},v.lookup),columnVisibilityModel:d}}var m={};h&&!p&&(m=Object.keys(i.lookup).reduce((function(e,t){return Jq({},e,s({},t,!1))}),{}));var g={};o.forEach((function(e){var t=e.field;g[t]=!0,m[t]=!0;var n=i.lookup[t];null==n?(n=Jq({},B1(u,e.type),{field:t,hasBeenResized:!1}),i.orderedFields.push(t)):h&&i.orderedFields.push(t),n&&n.type!==e.type&&(n=Jq({},B1(u,e.type),{field:t}));var r=n.hasBeenResized;F1.forEach((function(t){void 0!==e[t]&&(r=!0,-1===e[t]&&(e[t]=1/0))})),i.lookup[t]=Jq({},n,e,{hasBeenResized:r})})),h&&!p&&Object.keys(i.lookup).forEach((function(e){m[e]||delete i.lookup[e]}));var y=function(e,t){if(!t)return e;var n=t.orderedFields,r=void 0===n?[]:n,i=t.dimensions,a=void 0===i?{}:i,o=Object.keys(a);if(0===o.length&&0===r.length)return e;for(var s={},l=[],u=0;u<r.length;u+=1){var c=r[u];e.lookup[c]&&(s[c]=!0,l.push(c))}for(var d=0===l.length?e.orderedFields:[].concat(l,k(e.orderedFields.filter((function(e){return!s[e]})))),f=Jq({},e.lookup),h=function(){var e=o[p],t=Jq({},f[e],{hasBeenResized:!0});Object.entries(a[e]).forEach((function(e){var n=M(e,2),r=n[0],i=n[1];t[r]=-1===i?1/0:i})),f[e]=t},p=0;p<o.length;p+=1)h();return Jq({},e,{orderedFields:d,lookup:f})}(a.current.unstable_applyPipeProcessors("hydrateColumns",i),l);return z1(y,null!=(t=null==(n=(r=a.current).getRootDimensions)||null==(n=n.call(r))?void 0:n.viewportInnerSize.width)?t:0)},H1=function(e){return function(t){return Jq({},t,{columns:e})}};function G1(e){for(var t=e.firstColumnToRender,n=e.apiRef,r=e.firstRowToRender,i=e.lastRowToRender,a=e.visibleRows,o=t,s=r;s<i;s+=1){if(a[s]){var l=a[s].id,u=n.current.unstable_getCellColSpanInfo(l,t);u&&u.spannedByColSpan&&(o=u.leftVisibleCellIndex)}}return o}function V1(e){var t=e.firstColumnIndex,n=e.minColumnIndex,r=e.columnBuffer,i=e.firstRowToRender,a=e.lastRowToRender,o=e.apiRef,s=e.visibleRows;return G1({firstColumnToRender:Math.max(t-r,n),apiRef:o,firstRowToRender:i,lastRowToRender:a,visibleRows:s})}function W1(e,t){var n=GX(e),r=aY(e);return Math.floor(t*n)*((null!=r?r:0)+1)}var q1=function(e){return e.filters="filters",e.columns="columns",e}(q1||{}),X1=function(){var e;return s(e={string:v0,number:K0,date:s1,dateTime:l1,boolean:L0,singleSelect:M1},N1,D1),s(e,U1,v0),e}(),Y1=function(e,t,n){var r,i,a,o;return Jq({},e,{columns:j1({apiRef:n,columnTypes:X1,columnsToUpsert:t.columns,initialState:null==(r=t.initialState)?void 0:r.columns,columnVisibilityModel:null!=(i=null!=(a=t.columnVisibilityModel)?a:null==(o=t.initialState)||null==(o=o.columns)?void 0:o.columnVisibilityModel)?i:{},keepOnlyColumnsToUpsert:!0})})};var K1={compact:.7,comfortable:1.3,standard:1},Z1=function(e,t){return Jq({},e,{density:{value:t.density,factor:K1[t.density]}})};var Q1=function(e){var t=e.apiRef,n=e.options,r=XX(t);return n.fields?n.fields.reduce((function(e,t){var n=r.find((function(e){return e.field===t}));return n&&e.push(n),e}),[]):(n.allColumns?r:KX(t)).filter((function(e){return!e.disableExport}))},$1=function(e){var t,n,r=e.apiRef,i=QK(r),a=fY(r),o=r.current.getSelectedRows(),s=i.filter((function(e){return"footer"!==a[e].type})),l=gY(r),u=(null==l||null==(t=l.top)?void 0:t.map((function(e){return e.id})))||[],c=(null==l||null==(n=l.bottom)?void 0:n.map((function(e){return e.id})))||[];return s.unshift.apply(s,k(u)),s.push.apply(s,k(c)),o.size>0?s.filter((function(e){return o.has(e)})):s},J1=["hideMenu","options"],e3=["hideMenu","options"];function t3(e){var t=tQ(),n=e.hideMenu,r=e.options,i=eX(e,J1);return(0,yr.jsx)(kc,Jq({onClick:function(){t.current.exportDataAsCsv(r),null==n||n()}},i,{children:t.current.getLocaleText("toolbarExportCSV")}))}function n3(e){var t=tQ(),n=e.hideMenu,r=e.options,i=eX(e,e3);return(0,yr.jsx)(kc,Jq({onClick:function(){t.current.exportDataAsPrint(r),null==n||n()}},i,{children:t.current.getLocaleText("toolbarExportPrint")}))}var r3=function(e,n){var r=YZ(e,"useGridCsvExport"),i=n.unstable_ignoreValueFormatterDuringExport,a=("object"===typeof i?null==i?void 0:i.csvExport:i)||!1,o=t.useCallback((function(){var t,n,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.debug("Get data as CSV"),B0({columns:Q1({apiRef:e,options:o}),rowIds:(null!=(t=o.getRowsToExport)?t:$1)({apiRef:e}),delimiterCharacter:o.delimiter||",",includeHeaders:null==(n=o.includeHeaders)||n,includeColumnGroupsHeaders:null==(i=o.includeColumnGroupsHeaders)||i,ignoreValueFormatter:a,apiRef:e})}),[r,e,a]),s=t.useCallback((function(e){r.debug("Export data as CSV");var t=o(e);!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.title||"untitled",r="".concat(n,".").concat(t);if("download"in HTMLAnchorElement.prototype){var i=URL.createObjectURL(e),a=document.createElement("a");return a.href=i,a.download=r,a.click(),void setTimeout((function(){URL.revokeObjectURL(i)}))}throw new Error("MUI: exportAs not supported")}(new Blob([null!=e&&e.utf8WithBom?new Uint8Array([239,187,191]):"",t],{type:"text/csv"}),"csv",null==e?void 0:e.fileName)}),[r,o]);_Z(e,{getDataAsCsv:o,exportDataAsCsv:s},"public");var l=t.useCallback((function(e,t){var n;return null!=(n=t.csvOptions)&&n.disableToolbarButton?e:[].concat(k(e),[{component:(0,yr.jsx)(t3,{options:t.csvOptions}),componentName:"csvExport"}])}),[]);W0(e,"exportMenu",l)};function i3(e){return e&&e.ownerDocument||document}var a3=function(e){return e.rowsMeta},o3=function(e,t){var n,r,i=Jq({},cQ(t.autoPageSize),null!=(n=t.paginationModel)?n:null==(r=t.initialState)||null==(r=r.pagination)?void 0:r.paginationModel);return dQ(i.pageSize,t.signature),Jq({},e,{pagination:{paginationModel:i}})},s3=function(e,t,n){return function(r){var i,a=r.paginationModel,o=null!=(i=null==n?void 0:n.pageSize)?i:a.pageSize,s=uQ(e,o);!n||(null==n?void 0:n.page)===a.page&&(null==n?void 0:n.pageSize)===a.pageSize||(a=n);var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0===t?e:Math.max(Math.min(e,t-1),0)}(a.page,s);return l!==a.page&&(a=Jq({},a,{page:l})),dQ(a.pageSize,t),{paginationModel:a}}};function l3(e){var t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}var u3,c3=function(e){return e.And="and",e.Or="or",e}(c3||{}),d3=function(){return{items:[],logicOperator:c3.And,quickFilterValues:[],quickFilterLogicOperator:c3.And}},f3=function(e,n,r,i){var a=t.useCallback((function(){e.current.registerStrategyProcessor(n,r,i)}),[e,i,r,n]);V0((function(){a()}));var o=t.useRef(!0);t.useEffect((function(){o.current?o.current=!1:a()}),[a])},h3=("undefined"===typeof window?globalThis:window)[atob("ZXZhbA==")];try{u3=h3("true")}catch(One){u3=!1}var p3=function(e,t){var n=Jq({},e);if(null==n.id&&(n.id=Math.round(1e5*Math.random())),null==n.operator){var r=qX(t)[n.field];n.operator=r&&r.filterOperators[0].value}return n},v3=bX(["MUI: The `filterModel` can only contain a single item when the `disableMultipleColumnsFiltering` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),m3=bX("MUI: The `id` field is required on `filterModel.items` when you use multiple filters.","error"),g3=bX("MUI: The `operator` field is required on `filterModel.items`, one or more of your filtering item has no `operator` provided.","error"),y3=function(e,t,n){var r,i=e.items.length>1;i&&t?(v3(),r=[e.items[0]]):r=e.items;var a=i&&r.some((function(e){return null==e.id})),o=r.some((function(e){return null==e.operator}));return a&&m3(),o&&g3(),o||a?Jq({},e,{items:r.map((function(e){return p3(e,n)}))}):e.items!==r?Jq({},e,{items:r}):e},b3=function(e,t,n){return function(r){return Jq({},r,{filterModel:y3(e,t,n)})}},x3=function(e,t){if(!e.field||!e.operator)return null;var n,r=t.current.getColumn(e.field);if(!r)return null;if(r.valueParser){var i,a=r.valueParser;n=Array.isArray(e.value)?null==(i=e.value)?void 0:i.map((function(e){return a(e)})):a(e.value)}else n=e.value;var o=Jq({},e,{value:n}),s=r.filterOperators;if(null==s||!s.length)throw new Error("MUI: No filter operators found for column '".concat(r.field,"'."));var l=s.find((function(e){return e.value===o.operator}));if(!l)throw new Error("MUI: No filter operator found for column '".concat(r.field,"' and operator value '").concat(o.operator,"'."));var u=!d0(l.getApplyFilterFn),c=!d0(l.getApplyFilterFnV7);if(l.getApplyFilterFnV7&&(!u||c)){var d=l.getApplyFilterFnV7(o,r);return"function"!==typeof d?null:{v7:!0,item:o,fn:function(e){var n=t.current.getRowValue(e,r);return d(n,e,r,t)}}}var f=l.getApplyFilterFn(o,r);return"function"!==typeof f?null:{v7:!1,item:o,fn:function(e){var n=t.current.getCellParams(e,o.field);u0.current=t;var r=f(n);return u0.current=null,r}}},w3=1,S3=function(e,t,n,r){var i=function(e,t,n,r){var i=t.items.map((function(e){return x3(e,n)})).filter((function(e){return!!e}));if(0===i.length)return null;if(!u3||r)return function(t,n){for(var r={},a=0;a<i.length;a+=1){var o=i[a];n&&!n(o.item.field)||(r[o.item.id]=o.v7?o.fn(t):o.fn(e?e(t):t.id))}return r};var a="(function filterItem$$(getRowId, appliers, row, shouldApplyFilter) {\n      ".concat(i.map((function(e,t){return"const shouldApply".concat(t," = !shouldApplyFilter || shouldApplyFilter(").concat(JSON.stringify(e.item.field),");")})).join("\n"),"\n\n      const result$$ = {\n      ").concat(i.map((function(t,n){return"".concat(JSON.stringify(String(t.item.id)),":\n          !shouldApply").concat(n," ?\n            false :\n            ").concat(t.v7?"appliers[".concat(n,"].fn(row)"):"appliers[".concat(n,"].fn(").concat(e?"getRowId(row)":"row.id",")"),",\n      ")})).join("\n"),"};\n\n      return result$$;\n    })"),o=h3(a.replaceAll("$$",String(w3)));return w3+=1,function(t,n){return o(e,i,t,n)}}(e,t,n,r),a=function(e,t,n){var r,i,a,o=null!=(r=null==(i=t.quickFilterValues)?void 0:i.filter(Boolean))?r:[];if(0===o.length)return null;var s=null!=(a=t.quickFilterExcludeHiddenColumns)&&a?ZX(n):WX(n),l=[];return s.forEach((function(e){var t=n.current.getColumn(e),r=null==t?void 0:t.getApplyQuickFilterFn,i=null==t?void 0:t.getApplyQuickFilterFnV7,a=!d0(r),s=!d0(i);!i||a&&!s?r&&l.push({column:t,appliers:o.map((function(e){return{v7:!1,fn:r(e,t,n)}}))}):l.push({column:t,appliers:o.map((function(e){return{v7:!0,fn:i(e,t,n)}}))})})),function(t,r){var i={},a={};e:for(var s=0;s<o.length;s+=1){for(var u=o[s],c=0;c<l.length;c+=1){var d=l[c],f=d.column,h=d.appliers,p=f.field;if(!r||r(p)){var v=h[s],m=n.current.getRowValue(t,f);if(null!==v.fn)if(v.v7){if(v.fn(m,t,f,n)){i[u]=!0;continue e}}else{var g,y=null!=(g=a[p])?g:n.current.getCellParams(e?e(t):t.id,p);if(a[p]=y,v.fn(y)){i[u]=!0;continue e}}}}i[u]=!1}return i}}(e,t,n);return function(e,t,n){var r,o;n.passingFilterItems=null!=(r=null==i?void 0:i(e,t))?r:null,n.passingQuickFilterValues=null!=(o=null==a?void 0:a(e,t))?o:null}},_3=function(e){return null!=e},k3=function(e,t,n,r,i){var a=function(e,t,n){return e.cleanedFilterItems||(e.cleanedFilterItems=n.filter((function(e){return null!==x3(e,t)}))),e.cleanedFilterItems}(i,r,n.items),o=e.filter(_3),s=t.filter(_3);if(o.length>0){var l,u=function(e){return o.some((function(t){return t[e.id]}))};if((null!=(l=n.logicOperator)?l:d3().logicOperator)===c3.And){if(!a.every(u))return!1}else if(!a.some(u))return!1}if(s.length>0&&null!=n.quickFilterValues){var c,d=function(e){return s.some((function(t){return t[e]}))};if((null!=(c=n.quickFilterLogicOperator)?c:d3().quickFilterLogicOperator)===c3.And){if(!n.quickFilterValues.every(d))return!1}else if(!n.quickFilterValues.some(d))return!1}return!0},E3=function(e,t,n){var r,i,a,o=null!=(r=null!=(i=t.filterModel)?i:null==(a=t.initialState)||null==(a=a.filter)?void 0:a.filterModel)?r:d3();return Jq({},e,{filter:{filterModel:y3(o,t.disableMultipleColumnsFiltering,n),filteredRowsLookup:{},filteredDescendantCountLookup:{}},visibleRowsLookup:{}})},C3=function(e){return e.filteredRowsLookup};function M3(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}function T3(){return OX(Object.values)}var R3=function(e){var n=t.useRef(e);return rX((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])},A3=function(e,t){var n,r;return t.pagination&&"client"===t.paginationMode?(r=mQ(e),n=gQ(e)):r=0===(n=YK(e)).length?null:{firstRowIndex:0,lastRowIndex:n.length-1},{rows:n,range:r}},P3=function(e,n){var r=A3(e,n);return t.useMemo((function(){return{rows:r.rows,range:r.range}}),[r.rows,r.range])},I3=function(e){return Jq({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})},O3="__detail_panel_toggle__",L3=function(e){return e.headerFiltering},N3=zX(L3,(function(e){return e.editing})),D3=zX(L3,(function(e){return e.menuOpen}));var U3=function(e){var t=e.currentColIndex,n=e.firstColIndex,r=e.lastColIndex,i=e.direction;if("rtl"===i){if(t<r)return t+1}else if("ltr"===i&&t>n)return t-1;return null},F3=function(e){var t=e.currentColIndex,n=e.firstColIndex,r=e.lastColIndex,i=e.direction;if("rtl"===i){if(t>n)return t-1}else if("ltr"===i&&t<r)return t+1;return null},z3=function(e,n){var r=YZ(e,"useGridKeyboardNavigation"),i=P3(e,n).rows,a=Ra(),o=t.useMemo((function(){return function(e,t){var n=gY(e)||{};return[].concat(k(n.top||[]),k(t),k(n.bottom||[]))}(e,i)}),[e,i]),s="DataGrid"!==n.signature&&n.unstable_headerFilters,l=t.useCallback((function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",a=YK(e),o=e.current.unstable_getCellColSpanInfo(n,t);o&&o.spannedByColSpan&&("left"===i?t=o.leftVisibleCellIndex:"right"===i&&(t=o.rightVisibleCellIndex));var s=a.findIndex((function(e){return e.id===n}));r.debug("Navigating to cell row ".concat(s,", col ").concat(t)),e.current.scrollToIndexes({colIndex:t,rowIndex:s});var l=e.current.getVisibleColumns()[t].field;e.current.setCellFocus(n,l)}),[e,r]),u=t.useCallback((function(t,n){r.debug("Navigating to header col ".concat(t)),e.current.scrollToIndexes({colIndex:t});var i=e.current.getVisibleColumns()[t].field;e.current.setColumnHeaderFocus(i,n)}),[e,r]),c=t.useCallback((function(t,n){r.debug("Navigating to header filter col ".concat(t)),e.current.scrollToIndexes({colIndex:t});var i=e.current.getVisibleColumns()[t].field;e.current.setColumnHeaderFilterFocus(i,n)}),[e,r]),d=t.useCallback((function(t,n,i){r.debug("Navigating to header col ".concat(t)),e.current.scrollToIndexes({colIndex:t});var a=e.current.getVisibleColumns()[t].field;e.current.setColumnGroupHeaderFocus(a,n,i)}),[e,r]),f=t.useCallback((function(e){var t;return null==(t=o[e])?void 0:t.id}),[o]),h=t.useCallback((function(t,n){var r=n.currentTarget.querySelector(".".concat(dX.columnHeaderTitleContainerContent));if((!(!!r&&r.contains(n.target))||t.field===D0.field)&&e.current.getRootDimensions()){var i=e.current.getViewportPageSize(),h=t.field?e.current.getColumnIndex(t.field):0,p=o.length>0?0:null,v=o.length-1,m=KX(e).length-1,g=aY(e),y=!0;switch(n.key){case"ArrowDown":null!==p&&(s?c(h,n):l(h,f(p)));break;case"ArrowRight":var b=F3({currentColIndex:h,firstColIndex:0,lastColIndex:m,direction:a.direction});null!==b&&u(b,n);break;case"ArrowLeft":var x=U3({currentColIndex:h,firstColIndex:0,lastColIndex:m,direction:a.direction});null!==x&&u(x,n);break;case"ArrowUp":g>0&&d(h,g-1,n);break;case"PageDown":null!==p&&null!==v&&l(h,f(Math.min(p+i,v)));break;case"Home":u(0,n);break;case"End":u(m,n);break;case"Enter":(n.ctrlKey||n.metaKey)&&e.current.toggleColumnMenu(t.field);break;case" ":break;default:y=!1}y&&n.preventDefault()}}),[e,o.length,s,c,l,f,a.direction,u,d]),p=t.useCallback((function(t,n){if(e.current.getRootDimensions()){var r=N3(e)===t.field,i=D3(e)===t.field;if(!r&&!i&&eQ(n.key)){var s=e.current.getViewportPageSize(),d=t.field?e.current.getColumnIndex(t.field):0,h=o.length-1,p=KX(e).length-1,v=!0;switch(n.key){case"ArrowDown":var m=f(0);null!=m&&l(d,m);break;case"ArrowRight":var g=F3({currentColIndex:d,firstColIndex:0,lastColIndex:p,direction:a.direction});null!==g&&c(g,n);break;case"ArrowLeft":var y=U3({currentColIndex:d,firstColIndex:0,lastColIndex:p,direction:a.direction});null!==y?c(y,n):e.current.setColumnHeaderFilterFocus(t.field,n);break;case"ArrowUp":u(d,n);break;case"PageDown":null!==h&&l(d,f(Math.min(0+s,h)));break;case"Home":c(0,n);break;case"End":c(p,n);break;case" ":break;default:v=!1}v&&n.preventDefault()}}}),[e,o.length,c,a.direction,u,l,f]),v=t.useCallback((function(t,n){if(e.current.getRootDimensions()){var r=oZ(e);if(null!==r){var i=r.field,a=r.depth,s=t.fields,c=t.depth,h=t.maxDepth,p=e.current.getViewportPageSize(),v=e.current.getColumnIndex(i),m=i?e.current.getColumnIndex(i):0,g=o.length-1,y=KX(e).length-1,b=!0;switch(n.key){case"ArrowDown":c===h-1?u(v,n):d(v,a+1,n);break;case"ArrowUp":c>0&&d(v,a-1,n);break;case"ArrowRight":var x=s.length-s.indexOf(i)-1;v+x+1<=y&&d(v+x+1,a,n);break;case"ArrowLeft":var w=s.indexOf(i);v-w-1>=0&&d(v-w-1,a,n);break;case"PageDown":null!==g&&l(m,f(Math.min(0+p,g)));break;case"Home":d(0,a,n);break;case"End":d(y,a,n);break;case" ":break;default:b=!1}b&&n.preventDefault()}}}),[e,o.length,u,d,l,f]),m=t.useCallback((function(t,n){if(n.currentTarget.contains(n.target)){var r=e.current.getCellParams(t.id,t.field);if(r.cellMode!==f1.Edit&&eQ(n.key))if(e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:n,cell:r})){var i=e.current.getRootDimensions();if(0!==o.length&&i){var d=a.direction,h=e.current.getViewportPageSize(),p=t.field?e.current.getColumnIndex(t.field):0,v=o.findIndex((function(e){return e.id===t.id})),m=o.length-1,g=KX(e).length-1,y=!0;switch(n.key){case"ArrowDown":v<m&&l(p,f(v+1));break;case"ArrowUp":v>0?l(p,f(v-1)):s?c(p,n):u(p,n);break;case"ArrowRight":var b=F3({currentColIndex:p,firstColIndex:0,lastColIndex:g,direction:d});null!==b&&l(b,f(v),"rtl"===d?"left":"right");break;case"ArrowLeft":var x=U3({currentColIndex:p,firstColIndex:0,lastColIndex:g,direction:d});null!==x&&l(x,f(v),"rtl"===d?"right":"left");break;case"Tab":n.shiftKey&&p>0?l(p-1,f(v),"left"):!n.shiftKey&&p<g&&l(p+1,f(v),"right");break;case" ":if(t.field===O3)break;var w=t.colDef;if(w&&"treeDataGroup"===w.type)break;!n.shiftKey&&v<m&&l(p,f(Math.min(v+h,m)));break;case"PageDown":v<m&&l(p,f(Math.min(v+h,m)));break;case"PageUp":var S=Math.max(v-h,0);S!==v&&S>=0?l(p,f(S)):u(p,n);break;case"Home":n.ctrlKey||n.metaKey||n.shiftKey?l(0,f(0)):l(0,f(v));break;case"End":n.ctrlKey||n.metaKey||n.shiftKey?l(g,f(m)):l(g,f(v));break;default:y=!1}y&&n.preventDefault()}}}}),[e,o,a.direction,l,f,s,c,u]),g=t.useCallback((function(e,t){return" "!==t.event.key&&e}),[]);W0(e,"canStartEditing",g),NZ(e,"columnHeaderKeyDown",h),NZ(e,"headerFilterKeyDown",p),NZ(e,"columnGroupHeaderKeyDown",v),NZ(e,"cellKeyDown",m)},B3=function(e){return e.preferencePanel},j3=function(e,t){var n,r;return Jq({},e,{preferencePanel:null!=(n=null==(r=t.initialState)?void 0:r.preferencePanel)?n:{open:!1}})},H3=function(e){return e.editRows},G3=["id","field"],V3=["id","field"],W3=bX(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."],"error"),q3=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e}(q3||{}),X3=function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(X3||{}),Y3=["id"],K3=["id"],Z3=bX(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."],"error"),Q3=function(e){return Jq({},e,{editRows:{}})},$3=function(e,n){!function(e,n){var r,i,a=M(t.useState({}),2),o=a[0],l=a[1],u=t.useRef(o),c=t.useRef({}),d=n.processRowUpdate,f=n.onProcessRowUpdateError,h=n.cellModesModel,p=n.onCellModesModelChange,v=function(e){return function(){n.editMode===d1.Cell&&e.apply(void 0,arguments)}},m=t.useCallback((function(t,n){var r=e.current.getCellParams(t,n);if(!e.current.isCellEditable(r))throw new Error("MUI: The cell with id=".concat(t," and field=").concat(n," is not editable."))}),[e]),g=t.useCallback((function(t,n,r){if(e.current.getCellMode(t,n)!==r)throw new Error("MUI: The cell with id=".concat(t," and field=").concat(n," is not in ").concat(r," mode."))}),[e]),y=t.useCallback((function(t,n){if(t.isEditable&&t.cellMode!==f1.Edit){var r=Jq({},t,{reason:u1.cellDoubleClick});e.current.publishEvent("cellEditStart",r,n)}}),[e]),b=t.useCallback((function(t,n){if(t.cellMode!==f1.View&&e.current.getCellMode(t.id,t.field)!==f1.View){var r=Jq({},t,{reason:c1.cellFocusOut});e.current.publishEvent("cellEditStop",r,n)}}),[e]),x=t.useCallback((function(t,n){if(t.cellMode===f1.Edit){if(229===n.which)return;var r;if("Escape"===n.key?r=c1.escapeKeyDown:"Enter"===n.key?r=c1.enterKeyDown:"Tab"===n.key&&(r=n.shiftKey?c1.shiftTabKeyDown:c1.tabKeyDown,n.preventDefault()),r){var i=Jq({},t,{reason:r});e.current.publishEvent("cellEditStop",i,n)}}else if(t.isEditable){var a;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:n,cellParams:t,editMode:"cell"}))return;if(JZ(n)||(n.ctrlKey||n.metaKey)&&"v"===n.key?a=u1.printableKeyDown:"Enter"===n.key?a=u1.enterKeyDown:"Delete"!==n.key&&"Backspace"!==n.key||(a=u1.deleteKeyDown),a){var o=Jq({},t,{reason:a,key:n.key});e.current.publishEvent("cellEditStart",o,n)}}}),[e]),w=t.useCallback((function(n){var r=n.id,i=n.field,a=n.reason,o=n.key,s=n.colDef,l={id:r,field:i};if(a===u1.printableKeyDown)if(t.version.startsWith("17"))l.deleteValue=!0;else{var u=s.valueParser?s.valueParser(o):o;l.initialValue=u}else a===u1.deleteKeyDown&&(l.deleteValue=!0);e.current.startCellEditMode(l)}),[e]),S=t.useCallback((function(t){var n,r=t.id,i=t.field,a=t.reason;e.current.runPendingEditCellValueMutation(r,i),a===c1.enterKeyDown?n="below":a===c1.tabKeyDown?n="right":a===c1.shiftTabKeyDown&&(n="left");var o="escapeKeyDown"===a;e.current.stopCellEditMode({id:r,field:i,ignoreModifications:o,cellToFocusAfter:n})}),[e]);NZ(e,"cellDoubleClick",v(y)),NZ(e,"cellFocusOut",v(b)),NZ(e,"cellKeyDown",v(x)),NZ(e,"cellEditStart",v(w)),NZ(e,"cellEditStop",v(S)),UZ(e,"cellEditStart",n.onCellEditStart),UZ(e,"cellEditStop",n.onCellEditStop);var _=t.useCallback((function(t,n){var r=H3(e.current.state);return r[t]&&r[t][n]?f1.Edit:f1.View}),[e]),k=R3((function(t){var r=t!==n.cellModesModel;p&&r&&p(t,{}),n.cellModesModel&&r||(l(t),u.current=t,e.current.publishEvent("cellModesModelChange",t))})),E=t.useCallback((function(e,t,n){var r=Jq({},u.current);if(null!==n)r[e]=Jq({},r[e],s({},t,Jq({},n)));else{var i=eX(r[e],[t].map(GZ));r[e]=i,0===Object.keys(r[e]).length&&delete r[e]}k(r)}),[k]),C=t.useCallback((function(t,n,r){e.current.setState((function(e){var i=Jq({},e.editRows);return null!==r?i[t]=Jq({},i[t],s({},n,Jq({},r))):(delete i[t][n],0===Object.keys(i[t]).length&&delete i[t]),Jq({},e,{editRows:i})})),e.current.forceUpdate()}),[e]),T=t.useCallback((function(e){var t=e.id,n=e.field,r=eX(e,G3);m(t,n),g(t,n,f1.View),E(t,n,Jq({mode:f1.Edit},r))}),[m,g,E]),R=R3((function(t){var n=t.id,r=t.field,i=t.deleteValue,a=t.initialValue,o=e.current.getCellValue(n,r),s=!1;(i||a)&&(o=i?"":a,s=!0),C(n,r,{value:o,error:!1,isProcessingProps:!1,unstable_updateValueOnRender:s}),e.current.setCellFocus(n,r)})),A=t.useCallback((function(e){var t=e.id,n=e.field,r=eX(e,V3);g(t,n,f1.Edit),E(t,n,Jq({mode:f1.View},r))}),[g,E]),P=R3((function(t){return(r=r||sm(um().mark((function t(n){var r,i,a,o,s,l,u,h,p,v,m,y,b;return um().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.id,i=n.field,a=n.ignoreModifications,o=n.cellToFocusAfter,s=void 0===o?"none":o,g(r,i,f1.Edit),e.current.runPendingEditCellValueMutation(r,i),l=function(){C(r,i,null),E(r,i,null),"none"!==s&&e.current.moveFocusToRelativeCell(r,i,s)},!a){t.next=7;break}return l(),t.abrupt("return");case 7:if(u=H3(e.current.state),h=u[r][i],p=h.error,v=h.isProcessingProps,!p&&!v){t.next=13;break}return c.current[r][i].mode=f1.Edit,E(r,i,{mode:f1.Edit}),t.abrupt("return");case 13:if(m=e.current.getRowWithUpdatedValuesFromCellEditing(r,i),d){y=function(e){c.current[r][i].mode=f1.Edit,E(r,i,{mode:f1.Edit}),f?f(e):W3()};try{b=e.current.getRow(r),Promise.resolve(d(m,b)).then((function(t){e.current.updateRows([t]),l()})).catch(y)}catch(x){y(x)}}else e.current.updateRows([m]),l();case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)})),I=t.useCallback((function(t){return(i=i||sm(um().mark((function t(n){var r,i,a,o,s,l,u,c,d,f,h,p;return um().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.id,a=n.field,o=n.value,s=n.debounceMs,l=n.unstable_skipValueParser,m(i,a),g(i,a,f1.Edit),u=e.current.getColumn(a),c=e.current.getRow(i),d=o,u.valueParser&&!l&&(d=u.valueParser(o,e.current.getCellParams(i,a))),f=H3(e.current.state),h=Jq({},f[i][a],{value:d,changeReason:s?"debouncedSetEditCellValue":"setEditCellValue"}),!u.preProcessEditCellProps){t.next=16;break}return p=o!==f[i][a].value,h=Jq({},h,{isProcessingProps:!0}),C(i,a,h),t.next=15,Promise.resolve(u.preProcessEditCellProps({id:i,row:c,props:h,hasChanged:p}));case 15:h=t.sent;case 16:if(e.current.getCellMode(i,a)!==f1.View){t.next=18;break}return t.abrupt("return",!1);case 18:return f=H3(e.current.state),(h=Jq({},h,{isProcessingProps:!1})).value=u.preProcessEditCellProps?f[i][a].value:d,C(i,a,h),f=H3(e.current.state),t.abrupt("return",!(null!=(r=f[i])&&null!=(r=r[a])&&r.error));case 24:case"end":return t.stop()}}),t)})))).apply(this,arguments)}),[e,m,g,C]),O=t.useCallback((function(t,n){var r=e.current.getColumn(n),i=H3(e.current.state),a=e.current.getRow(t);if(!i[t]||!i[t][n])return e.current.getRow(t);var o=i[t][n].value;return r.valueSetter?r.valueSetter({value:o,row:a}):Jq({},a,s({},n,o))}),[e]),L={setCellEditingEditCellValue:I,getRowWithUpdatedValuesFromCellEditing:O};_Z(e,{getCellMode:_,startCellEditMode:T,stopCellEditMode:A},"public"),_Z(e,L,"private"),t.useEffect((function(){h&&k(h)}),[h,k]),t.useEffect((function(){var t=dY(e),n=c.current;c.current=SZ(o),Object.entries(o).forEach((function(e){var r=M(e,2),i=r[0],a=r[1];Object.entries(a).forEach((function(e){var r,a,o=M(e,2),s=o[0],l=o[1],u=(null==(r=n[i])||null==(r=r[s])?void 0:r.mode)||f1.View,c=null!=(a=t[i])?a:i;l.mode===f1.Edit&&u===f1.View?R(Jq({id:c,field:s},l)):l.mode===f1.View&&u===f1.Edit&&P(Jq({id:c,field:s},l))}))}))}),[e,o,R,P])}(e,n),function(e,n){var r=M(t.useState({}),2),i=r[0],a=r[1],o=t.useRef(i),l=t.useRef({}),u=t.useRef(null),c=t.useRef(null),d=n.processRowUpdate,f=n.onProcessRowUpdateError,h=n.rowModesModel,p=n.onRowModesModelChange,v=function(e){return function(){n.editMode===d1.Row&&e.apply(void 0,arguments)}},m=t.useCallback((function(t,n){var r=e.current.getCellParams(t,n);if(!e.current.isCellEditable(r))throw new Error("MUI: The cell with id=".concat(t," and field=").concat(n," is not editable."))}),[e]),g=t.useCallback((function(t,n){if(e.current.getRowMode(t)!==n)throw new Error("MUI: The row with id=".concat(t," is not in ").concat(n," mode."))}),[e]),y=t.useCallback((function(t,n){if(t.isEditable&&e.current.getRowMode(t.id)!==h1.Edit){var r=Jq({},e.current.getRowParams(t.id),{field:t.field,reason:q3.cellDoubleClick});e.current.publishEvent("rowEditStart",r,n)}}),[e]),b=t.useCallback((function(e){c.current=e}),[]),x=t.useCallback((function(t,n){t.isEditable&&e.current.getRowMode(t.id)!==h1.View&&(c.current=null,u.current=setTimeout((function(){var r;if(u.current=null,(null==(r=c.current)?void 0:r.id)!==t.id){if(!e.current.getRow(t.id))return;if(e.current.getRowMode(t.id)===h1.View)return;var i=Jq({},e.current.getRowParams(t.id),{field:t.field,reason:X3.rowFocusOut});e.current.publishEvent("rowEditStop",i,n)}})))}),[e]);t.useEffect((function(){return function(){clearTimeout(u.current)}}),[]);var w=t.useCallback((function(t,n){if(t.cellMode===h1.Edit){if(229===n.which)return;var r;if("Escape"===n.key)r=X3.escapeKeyDown;else if("Enter"===n.key)r=X3.enterKeyDown;else if("Tab"===n.key){var i=ZX(e).filter((function(n){return e.current.getColumn(n).type===N1||e.current.isCellEditable(e.current.getCellParams(t.id,n))}));if(n.shiftKey?t.field===i[0]&&(r=X3.shiftTabKeyDown):t.field===i[i.length-1]&&(r=X3.tabKeyDown),n.preventDefault(),!r){var a=i.findIndex((function(e){return e===t.field})),o=i[n.shiftKey?a-1:a+1];e.current.setCellFocus(t.id,o)}}if(r){var s=Jq({},e.current.getRowParams(t.id),{reason:r,field:t.field});e.current.publishEvent("rowEditStop",s,n)}}else if(t.isEditable){var l;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:n,cellParams:t,editMode:"row"}))return;if(JZ(n)||(n.ctrlKey||n.metaKey)&&"v"===n.key?l=q3.printableKeyDown:"Enter"===n.key?l=q3.enterKeyDown:"Delete"!==n.key&&"Backspace"!==n.key||(l=q3.deleteKeyDown),l){var u=Jq({},e.current.getRowParams(t.id),{field:t.field,key:n.key,reason:l});e.current.publishEvent("rowEditStart",u,n)}}}),[e]),S=t.useCallback((function(n){var r=n.id,i=n.field,a=n.reason,o=n.key,s=n.columns,l={id:r,fieldToFocus:i};if(a===q3.printableKeyDown)if(t.version.startsWith("17"))l.deleteValue=!!i;else{var u=s.find((function(e){return e.field===i}));l.initialValue=u.valueParser?u.valueParser(o):o}else a===q3.deleteKeyDown&&(l.deleteValue=!!i);e.current.startRowEditMode(l)}),[e]),_=t.useCallback((function(t){var n,r=t.id,i=t.reason,a=t.field;e.current.runPendingEditCellValueMutation(r),i===X3.enterKeyDown?n="below":i===X3.tabKeyDown?n="right":i===X3.shiftTabKeyDown&&(n="left");var o="escapeKeyDown"===i;e.current.stopRowEditMode({id:r,ignoreModifications:o,field:a,cellToFocusAfter:n})}),[e]);NZ(e,"cellDoubleClick",v(y)),NZ(e,"cellFocusIn",v(b)),NZ(e,"cellFocusOut",v(x)),NZ(e,"cellKeyDown",v(w)),NZ(e,"rowEditStart",v(S)),NZ(e,"rowEditStop",v(_)),UZ(e,"rowEditStart",n.onRowEditStart),UZ(e,"rowEditStop",n.onRowEditStop);var k=t.useCallback((function(t){if(n.editMode===d1.Cell)return h1.View;var r=H3(e.current.state);return r[t]&&Object.keys(r[t]).length>0?h1.Edit:h1.View}),[e,n.editMode]),E=R3((function(t){var r=t!==n.rowModesModel;p&&r&&p(t,{}),n.rowModesModel&&r||(a(t),o.current=t,e.current.publishEvent("rowModesModelChange",t))})),C=t.useCallback((function(e,t){var n=Jq({},o.current);null!==t?n[e]=Jq({},t):delete n[e],E(n)}),[E]),T=t.useCallback((function(t,n){e.current.setState((function(e){var r=Jq({},e.editRows);return null!==n?r[t]=n:delete r[t],Jq({},e,{editRows:r})})),e.current.forceUpdate()}),[e]),R=t.useCallback((function(t,n,r){e.current.setState((function(e){var i=Jq({},e.editRows);return null!==r?i[t]=Jq({},i[t],s({},n,Jq({},r))):(delete i[t][n],0===Object.keys(i[t]).length&&delete i[t]),Jq({},e,{editRows:i})})),e.current.forceUpdate()}),[e]),A=t.useCallback((function(e){var t=e.id,n=eX(e,Y3);g(t,h1.View),C(t,Jq({mode:h1.Edit},n))}),[g,C]),P=R3((function(t){var n=t.id,r=t.fieldToFocus,i=t.deleteValue,a=t.initialValue,o=WX(e).reduce((function(t,o){if(!e.current.getCellParams(n,o).isEditable)return t;var s=e.current.getCellValue(n,o),l=!1;return r===o&&(i||a)&&(s=i?"":a,l=!0),t[o]={value:s,error:!1,isProcessingProps:!1,unstable_updateValueOnRender:l},t}),{});T(n,o),r&&e.current.setCellFocus(n,r)})),I=t.useCallback((function(e){var t=e.id,n=eX(e,K3);g(t,h1.Edit),C(t,Jq({mode:h1.View},n))}),[g,C]),O=R3((function(t){var n=t.id,r=t.ignoreModifications,i=t.field,a=t.cellToFocusAfter,o=void 0===a?"none":a;e.current.runPendingEditCellValueMutation(n);var s=function(){"none"!==o&&i&&e.current.moveFocusToRelativeCell(n,i,o),T(n,null),C(n,null)};if(r)s();else{var u=H3(e.current.state),c=e.current.getRow(n);if(Object.values(u[n]).some((function(e){return e.isProcessingProps})))l.current[n].mode=h1.Edit;else{if(Object.values(u[n]).some((function(e){return e.error})))return l.current[n].mode=h1.Edit,void C(n,{mode:h1.Edit});var h=e.current.getRowWithUpdatedValuesFromRowEditing(n);if(d){var p=function(e){l.current[n].mode=h1.Edit,C(n,{mode:h1.Edit}),f?f(e):Z3()};try{Promise.resolve(d(h,c)).then((function(t){e.current.updateRows([t]),s()})).catch(p)}catch(v){p(v)}}else e.current.updateRows([h]),s()}}})),L=t.useCallback((function(t){var n=t.id,r=t.field,i=t.value,a=t.debounceMs,o=t.unstable_skipValueParser;m(n,r);var s=e.current.getColumn(r),l=e.current.getRow(n),u=i;s.valueParser&&!o&&(u=s.valueParser(i,e.current.getCellParams(n,r)));var c=H3(e.current.state),d=Jq({},c[n][r],{value:u,changeReason:a?"debouncedSetEditCellValue":"setEditCellValue"});return s.preProcessEditCellProps||R(n,r,d),new Promise((function(t){var i=[];if(s.preProcessEditCellProps){var a=d.value!==c[n][r].value;d=Jq({},d,{isProcessingProps:!0}),R(n,r,d);var o=eX(c[n],[r].map(GZ)),f=Promise.resolve(s.preProcessEditCellProps({id:n,row:l,props:d,hasChanged:a,otherFieldsProps:o})).then((function(i){e.current.getRowMode(n)!==h1.View?(c=H3(e.current.state),(i=Jq({},i,{isProcessingProps:!1})).value=s.preProcessEditCellProps?c[n][r].value:u,R(n,r,i)):t(!1)}));i.push(f)}Object.entries(c[n]).forEach((function(a){var o=M(a,2),s=o[0],u=o[1];if(s!==r){var d=e.current.getColumn(s);if(d.preProcessEditCellProps){u=Jq({},u,{isProcessingProps:!0}),R(n,s,u);var f=eX((c=H3(e.current.state))[n],[s].map(GZ)),h=Promise.resolve(d.preProcessEditCellProps({id:n,row:l,props:u,hasChanged:!1,otherFieldsProps:f})).then((function(r){e.current.getRowMode(n)!==h1.View?(r=Jq({},r,{isProcessingProps:!1}),R(n,s,r)):t(!1)}));i.push(h)}}})),Promise.all(i).then((function(){e.current.getRowMode(n)===h1.Edit?(c=H3(e.current.state),t(!c[n][r].error)):t(!1)}))}))}),[e,m,R]),N=t.useCallback((function(t){var n=H3(e.current.state),r=e.current.getRow(t);if(!n[t])return e.current.getRow(t);var i=Jq({},r);return Object.entries(n[t]).forEach((function(t){var n=M(t,2),r=n[0],a=n[1],o=e.current.getColumn(r);o.valueSetter?i=o.valueSetter({value:a.value,row:i}):i[r]=a.value})),i}),[e]),D={setRowEditingEditCellValue:L,getRowWithUpdatedValuesFromRowEditing:N};_Z(e,{getRowMode:k,startRowEditMode:A,stopRowEditMode:I},"public"),_Z(e,D,"private"),t.useEffect((function(){h&&E(h)}),[h,E]),t.useEffect((function(){var t=dY(e),n=l.current;l.current=SZ(i),Object.entries(i).forEach((function(e){var r,i,a=M(e,2),o=a[0],s=a[1],l=(null==(r=n[o])?void 0:r.mode)||h1.View,u=null!=(i=t[o])?i:o;s.mode===h1.Edit&&l===h1.View?P(Jq({id:u},s)):s.mode===h1.View&&l===h1.Edit&&O(Jq({id:u},s))}))}),[e,i,P,O])}(e,n);var r=t.useRef({}),i=n.isCellEditable,a=t.useCallback((function(e){return!S0(e.rowNode)&&(!!e.colDef.editable&&(!!e.colDef.renderEditCell&&(!i||i(e))))}),[i]);t.useEffect((function(){var e=r.current;return function(){Object.entries(e).forEach((function(t){var n=M(t,2),r=n[0],i=n[1];Object.keys(i).forEach((function(t){var n=M(e[r][t],1)[0];clearTimeout(n),delete e[r][t]}))}))}}),[]);var o=t.useCallback((function(e,t){if(r.current[e])if(t){if(r.current[e][t]){(0,M(r.current[e][t],2)[1])()}}else Object.keys(r.current[e]).forEach((function(t){(0,M(r.current[e][t],2)[1])()}))}),[]),l=t.useCallback((function(t){var i=t.id,a=t.field,o=t.debounceMs;return new Promise((function(s){!function(e,t,n,i){if(n){if(r.current[e]||(r.current[e]={}),r.current[e][t]){var a=M(r.current[e][t],1)[0];clearTimeout(a)}var o=setTimeout((function(){i(),delete r.current[e][t]}),n);r.current[e][t]=[o,function(){var n=M(r.current[e][t],1)[0];clearTimeout(n),i(),delete r.current[e][t]}]}else i()}(i,a,o,sm(um().mark((function r(){var o,l;return um().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=n.editMode===d1.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue,e.current.getCellMode(i,a)!==f1.Edit){r.next=6;break}return r.next=4,o(t);case 4:l=r.sent,s(l);case 6:case"end":return r.stop()}}),r)}))))}))}),[e,n.editMode]),u=t.useCallback((function(t,r){return n.editMode===d1.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(t,r):e.current.getRowWithUpdatedValuesFromRowEditing(t)}),[e,n.editMode]),c=t.useCallback((function(t,n){var r,i;return null!=(r=null==(i=H3(e.current.state)[t])?void 0:i[n])?r:null}),[e]),d={runPendingEditCellValueMutation:o};_Z(e,{isCellEditable:a,setEditCellValue:l,getRowWithUpdatedValues:u,unstable_getEditCellMeta:c},"public"),_Z(e,d,"private")},J3=function(e,t,n){return n.current.caches.rows=b0({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),Jq({},e,{rows:w0({apiRef:n,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:null,previousTreeDepths:null})})},e2=function(e,n){var r=YZ(e,"useGridRows"),i=P3(e,n),a=t.useRef(Date.now()),o=DQ(),l=t.useCallback((function(t){var n=cY(e)[t];if(n)return n;var r=e.current.getRowNode(t);return r&&S0(r)?s({},g0,t):null}),[e]),u=n.getRowId,c=t.useCallback((function(e){return g0 in e?e[g0]:u?u(e):e.id}),[u]),d=t.useMemo((function(){return i.rows.reduce((function(e,t,n){return e[t.id]=n,e}),{})}),[i.rows]),f=t.useCallback((function(t){var r=t.cache,i=t.throttle,s=function(){a.current=Date.now(),e.current.setState((function(t){return Jq({},t,{rows:w0({apiRef:e,rowCountProp:n.rowCount,loadingProp:n.loading,previousTree:fY(e),previousTreeDepths:pY(e)})})})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()};if(o.clear(),e.current.caches.rows=r,i){var l=n.throttleRowsMs-(Date.now()-a.current);l>0?o.start(l,s):s()}else s()}),[n.throttleRowsMs,n.rowCount,n.loading,e,o]),h=t.useCallback((function(t){r.debug("Updating all rows, new length ".concat(t.length));var i=b0({rows:t,getRowId:n.getRowId,loading:n.loading,rowCount:n.rowCount}),a=e.current.caches.rows;i.rowsBeforePartialUpdates=a.rowsBeforePartialUpdates,f({cache:i,throttle:!0})}),[r,n.getRowId,n.loading,n.rowCount,f,e]),p=t.useCallback((function(t){if(n.signature===IZ.DataGrid&&t.length>1)throw new Error(["MUI: You can't update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"));var r=[];t.forEach((function(t){var i=y0(t,n.getRowId,"A row was provided without id when calling updateRows():"),a=e.current.getRowNode(i);if("pinnedRow"===(null==a?void 0:a.type)){var o=e.current.caches.pinnedRows,s=o.idLookup[i];s&&(o.idLookup[i]=Jq({},s,t))}else r.push(t)}));var i=function(e){var t,n,r,i=e.previousCache,a=e.getRowId,o=e.updates;if("full"===i.updates.type)throw new Error("MUI: Unable to prepare a partial update if a full update is not applied yet");var s=new Map;o.forEach((function(e){var t=y0(e,a,"A row was provided without id when calling updateRows():");s.has(t)?s.set(t,Jq({},s.get(t),e)):s.set(t,e)}));var l={type:"partial",actions:{insert:k(null!=(t=i.updates.actions.insert)?t:[]),modify:k(null!=(n=i.updates.actions.modify)?n:[]),remove:k(null!=(r=i.updates.actions.remove)?r:[])},idToActionLookup:Jq({},i.updates.idToActionLookup)},u=Jq({},i.dataRowIdToModelLookup),c=Jq({},i.dataRowIdToIdLookup),d={insert:{},modify:{},remove:{}};s.forEach((function(e,t){var n=l.idToActionLookup[t];if("delete"===e._action){if("remove"===n||!u[t])return;return null!=n&&(d[n][t]=!0),l.actions.remove.push(t),delete u[t],void delete c[t]}var r=u[t];if(r)return"remove"===n?(d.remove[t]=!0,l.actions.modify.push(t)):null==n&&l.actions.modify.push(t),void(u[t]=Jq({},r,e));"remove"===n?(d.remove[t]=!0,l.actions.insert.push(t)):null==n&&l.actions.insert.push(t),u[t]=e,c[t]=t}));for(var f=Object.keys(d),h=function(){var e=f[p],t=d[e];Object.keys(t).length>0&&(l.actions[e]=l.actions[e].filter((function(e){return!t[e]})))},p=0;p<f.length;p+=1)h();return{dataRowIdToModelLookup:u,dataRowIdToIdLookup:c,updates:l,rowsBeforePartialUpdates:i.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:i.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:i.rowCountPropBeforePartialUpdates}}({updates:r,getRowId:n.getRowId,previousCache:e.current.caches.rows});f({cache:i,throttle:!0})}),[n.signature,n.getRowId,f,e]),v=t.useCallback((function(){var t=mY(e),n=cY(e);return new Map(t.map((function(e){var t;return[e,null!=(t=n[e])?t:{}]})))}),[e]),m=t.useCallback((function(){return sY(e)}),[e]),g=t.useCallback((function(){return mY(e)}),[e]),y=t.useCallback((function(e){return d[e]}),[d]),b=t.useCallback((function(t,n){var r=e.current.getRowNode(t);if(!r)throw new Error("MUI: No row with id #".concat(t," found"));if("group"!==r.type)throw new Error("MUI: Only group nodes can be expanded or collapsed");var i=Jq({},r,{childrenExpanded:n});e.current.setState((function(e){return Jq({},e,{rows:Jq({},e.rows,{tree:Jq({},e.rows.tree,s({},t,i))})})})),e.current.forceUpdate(),e.current.publishEvent("rowExpansionChange",i)}),[e]),x=t.useCallback((function(t){var n;return null!=(n=fY(e)[t])?n:null}),[e]),w=t.useCallback((function(t){var n,r=t.skipAutoGeneratedRows,i=void 0===r||r,a=t.groupId,o=t.applySorting,s=t.applyFiltering,l=fY(e);if(o){var u=l[a];if(!u)return[];var c=jK(e);n=[];for(var d=c.findIndex((function(e){return e===a}))+1,f=d;f<c.length&&l[c[f]].depth>u.depth;f+=1){var h=c[f];i&&S0(l[h])||n.push(h)}}else n=_0(l,a,i);if(s){var p=XK(e);n=n.filter((function(e){return!1!==p[e]}))}return n}),[e]),S=t.useCallback((function(t,n){var i=e.current.getRowNode(t);if(!i)throw new Error("MUI: No row with id #".concat(t," found"));if(i.parent!==m0)throw new Error("MUI: The row reordering do not support reordering of grouped rows yet");if("leaf"!==i.type)throw new Error("MUI: The row reordering do not support reordering of footer or grouping rows");e.current.setState((function(i){var a=fY(i,e.current.instanceId)[m0],o=a.children,l=o.findIndex((function(e){return e===t}));if(-1===l||l===n)return i;r.debug("Moving row ".concat(t," to index ").concat(n));var u=k(o);return u.splice(n,0,u.splice(l,1)[0]),Jq({},i,{rows:Jq({},i.rows,{tree:Jq({},i.rows.tree,s({},m0,Jq({},a,{children:u})))})})})),e.current.publishEvent("rowsSet")}),[e,r]),_=t.useCallback((function(t,r){if(n.signature===IZ.DataGrid&&r.length>1)throw new Error(["MUI: You can't replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"));if(0!==r.length){if(vY(e)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");for(var i=Jq({},fY(e)),a=Jq({},cY(e)),o=Jq({},dY(e)),s=i[m0],l=k(s.children),u=0;u<r.length;u+=1){var c=r[u],d=y0(c,n.getRowId,"A row was provided without id when calling replaceRows()."),f=M(l.splice(t+u,1,d),1)[0];delete a[f],delete o[f],delete i[f];var h={id:d,depth:0,parent:m0,type:"leaf",groupingKey:null};a[d]=c,o[d]=d,i[d]=h}i[m0]=Jq({},s,{children:l});var p=l.filter((function(e){return"leaf"===i[e].type}));e.current.caches.rows.dataRowIdToModelLookup=a,e.current.caches.rows.dataRowIdToIdLookup=o,e.current.setState((function(e){return Jq({},e,{rows:Jq({},e.rows,{dataRowIdToModelLookup:a,dataRowIdToIdLookup:o,dataRowIds:p,tree:i})})})),e.current.publishEvent("rowsSet")}}),[e,n.signature,n.getRowId]),E={getRow:l,getRowId:c,getRowModels:v,getRowsCount:m,getAllRowIds:g,setRows:h,updateRows:p,getRowNode:x,getRowIndexRelativeToVisibleRows:y,unstable_replaceRows:_},C={setRowIndex:S,setRowChildrenExpansion:b,getRowGroupChildren:w},T=t.useCallback((function(){var t;r.info("Row grouping pre-processing have changed, regenerating the row tree"),t=e.current.caches.rows.rowsBeforePartialUpdates===n.rows?Jq({},e.current.caches.rows,{updates:{type:"full",rows:mY(e)}}):b0({rows:n.rows,getRowId:n.getRowId,loading:n.loading,rowCount:n.rowCount}),f({cache:t,throttle:!1})}),[r,e,n.rows,n.getRowId,n.loading,n.rowCount,f]),R=t.useCallback((function(e){"rowTreeCreation"===e&&T()}),[T]),A=t.useCallback((function(){e.current.getActiveStrategy("rowTree")!==hY(e)&&T()}),[e,T]);NZ(e,"activeStrategyProcessorChange",R),NZ(e,"strategyAvailabilityChange",A);var P=t.useCallback((function(){e.current.setState((function(t){var r=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:fY(t,e.current.instanceId),treeDepths:pY(t,e.current.instanceId),dataRowIds:mY(t,e.current.instanceId),dataRowIdToModelLookup:cY(t,e.current.instanceId),dataRowIdToIdLookup:dY(t,e.current.instanceId)});return Jq({},t,{rows:Jq({},t.rows,r,{totalTopLevelRowCount:x0({tree:r.tree,rowCountProp:n.rowCount})})})})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()}),[e,n.rowCount]);q0(e,"hydrateRows",P),_Z(e,E,"public"),_Z(e,C,n.signature===IZ.DataGrid?"private":"public");var I=t.useRef(!0);t.useEffect((function(){if(I.current)I.current=!1;else{var t=e.current.caches.rows.rowsBeforePartialUpdates===n.rows,i=e.current.caches.rows.loadingPropBeforePartialUpdates===n.loading,a=e.current.caches.rows.rowCountPropBeforePartialUpdates===n.rowCount;if(t)return i||(e.current.setState((function(e){return Jq({},e,{rows:Jq({},e.rows,{loading:n.loading})})})),e.current.caches.rows.loadingPropBeforePartialUpdates=n.loading,e.current.forceUpdate()),void(a||(e.current.setState((function(e){return Jq({},e,{rows:Jq({},e.rows,{totalRowCount:Math.max(n.rowCount||0,e.rows.totalRowCount),totalTopLevelRowCount:Math.max(n.rowCount||0,e.rows.totalTopLevelRowCount)})})})),e.current.caches.rows.rowCountPropBeforePartialUpdates=n.rowCount,e.current.forceUpdate()));r.debug("Updating all rows, new length ".concat(n.rows.length)),f({cache:b0({rows:n.rows,getRowId:n.getRowId,loading:n.loading,rowCount:n.rowCount}),throttle:!1})}}),[n.rows,n.rowCount,n.getRowId,n.loading,r,f,e])},t2=function(e){for(var t=s({},m0,Jq({},{type:"group",id:m0,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null},{children:e})),n=0;n<e.length;n+=1){var r=e[n];t[r]={id:r,depth:0,parent:m0,type:"leaf",groupingKey:null}}return{groupingName:VZ,tree:t,treeDepths:{0:e.length},dataRowIds:e}},n2=function(e){return"full"===e.updates.type?t2(e.updates.rows):function(e){for(var t=e.previousTree,n=e.actions,r=Jq({},t),i={},a=0;a<n.remove.length;a+=1){var o=n.remove[a];i[o]=!0,delete r[o]}for(var s=0;s<n.insert.length;s+=1){var l=n.insert[s];r[l]={id:l,depth:0,parent:m0,type:"leaf",groupingKey:null}}var u=r[m0],c=[].concat(k(u.children),k(n.insert));return Object.values(i).length&&(c=c.filter((function(e){return!i[e]}))),r[m0]=Jq({},u,{children:c}),{groupingName:VZ,tree:r,treeDepths:{0:c.length},dataRowIds:c}}({previousTree:e.previousTree,actions:e.updates.actions})};function r2(e,t){return e.closest(".".concat(t))}function i2(e){return e.replace(/["\\]/g,"\\$&")}function a2(e){return".".concat(dX.row,'[data-id="').concat(i2(String(e)),'"]')}var o2=function(e){tm(n,e);var t=im(n);function n(){return Xs(this,n),t.apply(this,arguments)}return Ks(n)}(am(Error));function s2(e,n){var r=n.getRowId,i=t.useCallback((function(t){return{field:t,colDef:e.current.getColumn(t)}}),[e]),a=t.useCallback((function(t){var n=e.current.getRow(t);if(!n)throw new o2("No row with id #".concat(t," found"));return{id:t,columns:e.current.getAllColumns(),row:n}}),[e]),o=t.useCallback((function(t,n){var r=e.current.getRow(t),i=e.current.getRowNode(t);if(!r||!i)throw new o2("No row with id #".concat(t," found"));var a=iZ(e),o=lZ(e);return{id:t,field:n,row:r,rowNode:i,value:r[n],colDef:e.current.getColumn(n),cellMode:e.current.getCellMode(t,n),api:e.current,hasFocus:null!==a&&a.field===n&&a.id===t,tabIndex:o&&o.field===n&&o.id===t?0:-1}}),[e]),s=t.useCallback((function(t,n){var r=e.current.getColumn(n),i=e.current.getCellValue(t,n),a=e.current.getRow(t),o=e.current.getRowNode(t);if(!a||!o)throw new o2("No row with id #".concat(t," found"));var s=iZ(e),l=lZ(e),u={id:t,field:n,row:a,rowNode:o,colDef:r,cellMode:e.current.getCellMode(t,n),hasFocus:null!==s&&s.field===n&&s.id===t,tabIndex:l&&l.field===n&&l.id===t?0:-1,value:i,formattedValue:i,isEditable:!1};return r&&r.valueFormatter&&(u.formattedValue=r.valueFormatter({id:t,field:u.field,value:u.value,api:e.current})),u.isEditable=r&&e.current.isCellEditable(u),u}),[e]),l=t.useCallback((function(t,n){var r=e.current.getColumn(n);if(!r||!r.valueGetter){var i=e.current.getRow(t);if(!i)throw new o2("No row with id #".concat(t," found"));return i[n]}return r.valueGetter(o(t,n))}),[e,o]),u=t.useCallback((function(e,t){var n,i=g0 in e?e[g0]:null!=(n=null==r?void 0:r(e))?n:e.id,a=t.field;return t&&t.valueGetter?t.valueGetter(o(i,a)):e[a]}),[o,r]),c=t.useCallback((function(t,n){var i,a=u(t,n);if(!n||!n.valueFormatter)return a;var o=null!=(i=r?r(t):t.id)?i:t[g0],s=n.field;return n.valueFormatter({id:o,field:s,value:a,api:e.current})}),[e,r,u]),d=t.useCallback((function(t){return e.current.rootElementRef.current?function(e,t){return e.querySelector('[role="columnheader"][data-field="'.concat(i2(t),'"]'))}(e.current.rootElementRef.current,t):null}),[e]),f=t.useCallback((function(t){return e.current.rootElementRef.current?function(e,t){return e.querySelector(a2(t))}(e.current.rootElementRef.current,t):null}),[e]),h=t.useCallback((function(t,n){return e.current.rootElementRef.current?function(e,t){var n=t.id,r=t.field,i=a2(n),a=".".concat(dX.cell,'[data-field="').concat(i2(r),'"]'),o="".concat(i," ").concat(a);return e.querySelector(o)}(e.current.rootElementRef.current,{id:t,field:n}):null}),[e]);_Z(e,{getCellValue:l,getCellParams:s,getCellElement:h,getRowValue:u,getRowFormattedValue:c,getRowParams:a,getRowElement:f,getColumnHeaderParams:i,getColumnHeaderElement:d},"public")}var l2=function(e,t){return null==e||Array.isArray(e)?e:t&&t[0]===e?t:[e]},u2=function(e,t){var n;return Jq({},e,{rowSelection:t.rowSelection&&null!=(n=l2(t.rowSelectionModel))?n:[]})},c2=function(e,n){var r=function(e){var n=e.classes;return t.useMemo((function(){return Cv({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},uX,n)}),[n])}({classes:n.classes}),i=t.useCallback((function(t){var i=Jq({},D0,{cellClassName:r.cellCheckbox,headerClassName:r.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),a=n.checkboxSelection,o=null!=t.lookup[N0];return a&&!o?(t.lookup[N0]=i,t.orderedFields=[N0].concat(k(t.orderedFields))):!a&&o?(delete t.lookup[N0],t.orderedFields=t.orderedFields.filter((function(e){return e!==N0}))):a&&o&&(t.lookup[N0]=Jq({},i,t.lookup[N0])),t}),[e,r,n.checkboxSelection]);W0(e,"hydrateColumns",i)},d2=function(e,t){var n,r,i,a=null!=(n=null!=(r=t.sortModel)?r:null==(i=t.initialState)||null==(i=i.sorting)?void 0:i.sortModel)?n:[];return Jq({},e,{sorting:{sortModel:EQ(a,t.disableMultipleColumnsSorting),sortedRows:[]}})};function f2(e){var t=e.clientHeight,n=e.scrollTop,r=e.offsetHeight,i=e.offsetTop,a=i+r;return r>t?i:a-t>n?a-t:i<n?i:void 0}function h2(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,a)}),n)}return r.clear=function(){clearTimeout(t)},r}function p2(e,n){var r=YZ(e,"useResizeContainer"),i=t.useRef(!1),a=t.useRef(null),o=t.useRef(null),s=CX(e,a3),l=CX(e,GX),u=Math.floor(n.rowHeight*l),c=W1(e,n.columnHeaderHeight),d=t.useCallback((function(){var t,r=null==(t=e.current.rootElementRef)?void 0:t.current,i=$X(e),l=k0(e);if(a.current){var u,d,f,h;if(null!=n.scrollbarSize)u=n.scrollbarSize;else if(i&&r){var p=i3(r).createElement("div");p.style.width="99px",p.style.height="99px",p.style.position="absolute",p.style.overflow="scroll",p.className="scrollDiv",r.appendChild(p),u=p.offsetWidth-p.clientWidth,r.removeChild(p)}else u=0;if(n.autoHeight)h=!1,f=Math.round(i)>Math.round(a.current.width),d={width:a.current.width,height:s.currentPageTotalHeight+(f?u:0)};else{d={width:a.current.width,height:Math.max(a.current.height-c,0)};var v=function(e){var t=e.content,n=e.container,r=e.scrollBarSize,i=t.width>n.width,a=t.height>n.height,o=!1,s=!1;return(i||a)&&(o=i,(s=t.height+(o?r:0)>n.height)&&(o=t.width+r>n.width)),{hasScrollX:o,hasScrollY:s}}({content:{width:Math.round(i),height:s.currentPageTotalHeight},container:{width:Math.round(d.width),height:d.height-l.top-l.bottom},scrollBarSize:u});h=v.hasScrollY,f=v.hasScrollX}var m={viewportOuterSize:d,viewportInnerSize:{width:d.width-(h?u:0),height:d.height-(f?u:0)},hasScrollX:f,hasScrollY:h,scrollBarSize:u},g=o.current;o.current=m,m.viewportInnerSize.width===(null==g?void 0:g.viewportInnerSize.width)&&m.viewportInnerSize.height===(null==g?void 0:g.viewportInnerSize.height)||e.current.publishEvent("viewportInnerSizeChange",m.viewportInnerSize)}}),[e,n.scrollbarSize,n.autoHeight,s.currentPageTotalHeight,c]),f=M(t.useState(),2),h=f[0],p=f[1],v=t.useMemo((function(){return h2(p,60)}),[]),m=t.useRef();rX((function(){h&&(d(),e.current.publishEvent("debouncedResize",a.current))}),[e,h,d]);var g=t.useCallback((function(){e.current.computeSizeAndPublishResizeEvent()}),[e]),y=t.useCallback((function(){return o.current}),[]),b=t.useCallback((function(){var t=e.current.getRootDimensions();if(!t)return 0;var r=A3(e,{pagination:n.pagination,paginationMode:n.paginationMode});if(n.getRowHeight){var i=e.current.getRenderContext(),a=i.lastRowIndex-i.firstRowIndex;return Math.min(a-1,r.rows.length)}var o=Math.floor(t.viewportInnerSize.height/u);return Math.min(o,r.rows.length)}),[e,n.pagination,n.paginationMode,n.getRowHeight,u]),x=t.useCallback((function(){var t,n,r,i=null==(t=e.current.mainElementRef)?void 0:t.current;if(i){var a=function(e){return i3(e).defaultView||window}(i),o=a.getComputedStyle(i),s=parseFloat(o.height)||0,l=parseFloat(o.width)||0,u=s!==(null==(n=m.current)?void 0:n.height),c=l!==(null==(r=m.current)?void 0:r.width);if(!m.current||u||c){var d={width:l,height:s};e.current.publishEvent("resize",d),m.current=d}}}),[e]),w={getViewportPageSize:b,updateGridDimensionsRef:d,computeSizeAndPublishResizeEvent:x};_Z(e,{resize:g,getRootDimensions:y},"public"),_Z(e,w,"private");var S=t.useRef(!0),_=t.useCallback((function(e){a.current=e;var t=/jsdom/.test(window.navigator.userAgent);if(0!==e.height||i.current||n.autoHeight||t||(r.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join("\n")),i.current=!0),0!==e.width||i.current||t||(r.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join("\n")),i.current=!0),S.current)return p(e),void(S.current=!1);v(e)}),[n.autoHeight,v,r]);rX((function(){return d()}),[d]),UZ(e,"sortedRowsSet",d),UZ(e,"paginationModelChange",d),UZ(e,"columnsChange",d),NZ(e,"resize",_),UZ(e,"debouncedResize",n.onResize)}var v2={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:function(e){return"".concat(e,1!==e?" active filters":" active filter")},toolbarQuickFilterPlaceholder:"Search\u2026",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorEquals:"Equals",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:function(e){return"".concat(e,1!==e?" active filters":" active filter")},columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:function(e){return"".concat(e.toLocaleString(),1!==e?" rows selected":" row selected")},footerTotalRows:"Total Rows:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," of ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:function(e){return"Group by ".concat(e)},unGroupColumn:function(e){return"Stop grouping by ".concat(e)},detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"};function m2(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function g2(e){return parseFloat(e)}function y2(e){return vr("MuiSkeleton",e)}mr("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var b2,x2,w2,S2,_2,k2,E2,C2,M2=["animation","className","component","height","style","variant","width"],T2=$r(_2||(_2=b2||(b2=zr(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))),R2=$r(k2||(k2=x2||(x2=zr(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))),A2=rr("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!1!==n.animation&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})((function(e){var t=e.theme,n=e.ownerState,r=m2(t.shape.borderRadius)||"px",i=g2(t.shape.borderRadius);return u({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:y(t.palette.text.primary,"light"===t.palette.mode?.11:.13),height:"1.2em"},"text"===n.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(i).concat(r,"/").concat(Math.round(i/.6*10)/10).concat(r),"&:empty:before":{content:'"\\00a0"'}},"circular"===n.variant&&{borderRadius:"50%"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},n.hasChildren&&{"& > *":{visibility:"hidden"}},n.hasChildren&&!n.width&&{maxWidth:"fit-content"},n.hasChildren&&!n.height&&{height:"auto"})}),(function(e){return"pulse"===e.ownerState.animation&&Qr(E2||(E2=w2||(w2=zr(["\n      animation: "," 2s ease-in-out 0.5s infinite;\n    "]))),T2)}),(function(e){var t=e.ownerState,n=e.theme;return"wave"===t.animation&&Qr(C2||(C2=S2||(S2=zr(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 2s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "]))),R2,(n.vars||n).palette.action.hover)})),P2=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiSkeleton"}),r=n.animation,i=void 0===r?"pulse":r,a=n.className,o=n.component,s=void 0===o?"span":o,c=n.height,h=n.style,p=n.variant,v=void 0===p?"text":p,m=n.width,g=l(n,M2),y=u({},n,{animation:i,component:s,variant:v,hasChildren:Boolean(g.children)}),b=function(e){var t=e.classes,n=e.variant,r=e.animation,i=e.hasChildren,a=e.width,o=e.height;return f({root:["root",n,r,i&&"withChildren",i&&!a&&"fitContent",i&&!o&&"heightAuto"]},y2,t)}(y);return(0,yr.jsx)(A2,u({as:s,ref:t,className:d(b.root,a),ownerState:y},g,{style:u({width:m,height:c},h)}))})),I2=P2,O2=["field","align","width","contentWidth"];function L2(e){return vr("MuiBadge",e)}var N2=mr("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),D2=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],U2=rr("span",{name:"MuiBadge",slot:"Root",overridesResolver:function(e,t){return t.root}})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),F2=rr("span",{name:"MuiBadge",slot:"Badge",overridesResolver:function(e,t){var n=e.ownerState;return[t.badge,t[n.variant],t["anchorOrigin".concat(cr(n.anchorOrigin.vertical)).concat(cr(n.anchorOrigin.horizontal)).concat(cr(n.overlap))],"default"!==n.color&&t["color".concat(cr(n.color))],n.invisible&&t.invisible]}})((function(e){var t=e.theme,n=e.ownerState;return u({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen})},"default"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].main,color:(t.vars||t).palette[n.color].contrastText},"dot"===n.variant&&{borderRadius:4,height:8,minWidth:8,padding:0},"top"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&s({top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%"},"&.".concat(N2.invisible),{transform:"scale(0) translate(50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&s({bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%"},"&.".concat(N2.invisible),{transform:"scale(0) translate(50%, 50%)"}),"top"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&s({top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%"},"&.".concat(N2.invisible),{transform:"scale(0) translate(-50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&s({bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%"},"&.".concat(N2.invisible),{transform:"scale(0) translate(-50%, 50%)"}),"top"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&s({top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%"},"&.".concat(N2.invisible),{transform:"scale(0) translate(50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&s({bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%"},"&.".concat(N2.invisible),{transform:"scale(0) translate(50%, 50%)"}),"top"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&s({top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%"},"&.".concat(N2.invisible),{transform:"scale(0) translate(-50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&s({bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%"},"&.".concat(N2.invisible),{transform:"scale(0) translate(-50%, 50%)"}),n.invisible&&{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})})})),z2=t.forwardRef((function(e,t){var n,r,i,a,o,s,c=ur({props:e,name:"MuiBadge"}),h=c.anchorOrigin,p=void 0===h?{vertical:"top",horizontal:"right"}:h,v=c.className,m=c.component,g=c.components,y=void 0===g?{}:g,b=c.componentsProps,x=void 0===b?{}:b,w=c.children,S=c.overlap,_=void 0===S?"rectangular":S,k=c.color,E=void 0===k?"default":k,C=c.invisible,M=void 0!==C&&C,T=c.max,R=void 0===T?99:T,A=c.badgeContent,P=c.slots,I=c.slotProps,O=c.showZero,L=void 0!==O&&O,N=c.variant,D=void 0===N?"standard":N,U=l(c,D2),F=function(e){var t=e.badgeContent,n=e.invisible,r=void 0!==n&&n,i=e.max,a=void 0===i?99:i,o=e.showZero,s=void 0!==o&&o,l=zQ({badgeContent:t,max:a}),u=r;!1!==r||0!==t||s||(u=!0);var c=u?l:e,d=c.badgeContent,f=c.max,h=void 0===f?a:f;return{badgeContent:d,invisible:u,max:h,displayValue:d&&Number(d)>h?"".concat(h,"+"):d}}({max:R,invisible:M,badgeContent:A,showZero:L}),z=F.badgeContent,B=F.invisible,j=F.max,H=F.displayValue,G=zQ({anchorOrigin:p,color:E,overlap:_,variant:D,badgeContent:A}),V=B||null==z&&"dot"!==D,W=V?G:c,q=W.color,X=void 0===q?E:q,Y=W.overlap,K=void 0===Y?_:Y,Z=W.anchorOrigin,Q=void 0===Z?p:Z,$=W.variant,J=void 0===$?D:$,ee="dot"!==J?H:void 0,te=u({},c,{badgeContent:z,invisible:V,max:j,displayValue:ee,showZero:L,anchorOrigin:Q,color:X,overlap:K,variant:J}),ne=function(e){var t=e.color,n=e.anchorOrigin,r=e.invisible,i=e.overlap,a=e.variant,o=e.classes,s=void 0===o?{}:o;return f({root:["root"],badge:["badge",a,r&&"invisible","anchorOrigin".concat(cr(n.vertical)).concat(cr(n.horizontal)),"anchorOrigin".concat(cr(n.vertical)).concat(cr(n.horizontal)).concat(cr(i)),"overlap".concat(cr(i)),"default"!==t&&"color".concat(cr(t))]},L2,s)}(te),re=null!=(n=null!=(r=null==P?void 0:P.root)?r:y.Root)?n:U2,ie=null!=(i=null!=(a=null==P?void 0:P.badge)?a:y.Badge)?i:F2,ae=null!=(o=null==I?void 0:I.root)?o:x.root,oe=null!=(s=null==I?void 0:I.badge)?s:x.badge,se=ss({elementType:re,externalSlotProps:ae,externalForwardedProps:U,additionalProps:{ref:t,as:m},ownerState:te,className:d(null==ae?void 0:ae.className,ne.root,v)}),le=ss({elementType:ie,externalSlotProps:oe,ownerState:te,className:d(ne.badge,null==oe?void 0:oe.className)});return(0,yr.jsxs)(re,u({},se,{children:[w,(0,yr.jsx)(ie,u({},le,{children:ee}))]}))})),B2=z2,j2=["className"],H2=UK("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:function(e,t){return t.iconButtonContainer}})((function(){return{display:"flex",visibility:"hidden",width:0}})),G2=t.forwardRef((function(e,t){var n=e.className,r=eX(e,j2),i=AX(),a=Cv({root:["iconButtonContainer"]},uX,i.classes);return(0,yr.jsx)(H2,Jq({ref:t,className:d(a.root,n),ownerState:i},r))}));var V2=["className","selectedRowCount"],W2=UK("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:function(e,t){return t.selectedRowCount}})((function(e){var t=e.theme;return s({alignItems:"center",display:"flex",margin:t.spacing(0,2),visibility:"hidden",width:0,height:0},t.breakpoints.up("sm"),{visibility:"visible",width:"auto",height:"auto"})})),q2=t.forwardRef((function(e,t){var n=e.className,r=e.selectedRowCount,i=eX(e,V2),a=tQ(),o=AX(),s=function(e){return Cv({root:["selectedRowCount"]},uX,e.classes)}(o),l=a.current.getLocaleText("footerRowSelected")(r);return(0,yr.jsx)(W2,Jq({ref:t,className:d(s.root,n),ownerState:o},i,{children:l}))})),X2=["className"],Y2=UK("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:function(e,t){return t.footerContainer}})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),K2=t.forwardRef((function(e,t){var n=e.className,r=eX(e,X2),i=AX(),a=Cv({root:["footerContainer","withBorderColor"]},uX,i.classes);return(0,yr.jsx)(Y2,Jq({ref:t,className:d(a.root,n),ownerState:i},r))})),Z2=t.forwardRef((function(e,t){var n,r,i=tQ(),a=AX(),o=CX(i,uY),s=CX(i,oQ),l=CX(i,eZ),u=!a.hideFooterSelectedRowCount&&s>0?(0,yr.jsx)(q2,{selectedRowCount:s}):(0,yr.jsx)("div",{}),c=a.hideFooterRowCount||a.pagination?null:(0,yr.jsx)(a.slots.footerRowCount,Jq({},null==(n=a.slotProps)?void 0:n.footerRowCount,{rowCount:o,visibleRowCount:l})),d=a.pagination&&!a.hideFooterPagination&&a.slots.pagination&&(0,yr.jsx)(a.slots.pagination,Jq({},null==(r=a.slotProps)?void 0:r.pagination));return(0,yr.jsxs)(K2,Jq({ref:t},e,{children:[u,c,d]}))})),Q2=["className","rowCount","visibleRowCount"],$2=UK("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:function(e,t){return t.rowCount}})((function(e){return{alignItems:"center",display:"flex",margin:e.theme.spacing(0,2)}})),J2=t.forwardRef((function(e,t){var n=e.className,r=e.rowCount,i=e.visibleRowCount,a=eX(e,Q2),o=tQ(),s=AX(),l=function(e){return Cv({root:["rowCount"]},uX,e.classes)}(s);if(0===r)return null;var u=i<r?o.current.getLocaleText("footerTotalVisibleRows")(i,r):r.toLocaleString();return(0,yr.jsxs)($2,Jq({ref:t,className:d(l.root,n),ownerState:s},a,{children:[o.current.getLocaleText("footerTotalRows")," ",u]}))})),e5=t.forwardRef((function(e,t){var n,r,i,a=tQ(),o=CX(a,XX),s=AX(),l=CX(a,B3),u=a.current.unstable_applyPipeProcessors("preferencePanel",null,null!=(n=l.openedPanelValue)?n:q1.filters);return(0,yr.jsx)(s.slots.panel,Jq({ref:t,as:s.slots.basePopper,open:o.length>0&&l.open,id:l.panelId,"aria-labelledby":l.labelId},null==(r=s.slotProps)?void 0:r.panel,e,null==(i=s.slotProps)?void 0:i.basePopper,{children:u}))}));function t5(e){return vr("MuiCircularProgress",e)}mr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var n5,r5,i5,a5,o5,s5,l5,u5,c5=["className","color","disableShrink","size","style","thickness","value","variant"],d5=44,f5=$r(o5||(o5=n5||(n5=zr(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),h5=$r(s5||(s5=r5||(r5=zr(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),p5=rr("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["color".concat(cr(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme;return u({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&Qr(l5||(l5=i5||(i5=zr(["\n      animation: "," 1.4s linear infinite;\n    "]))),f5)})),v5=rr("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,t){return t.svg}})({display:"block"}),m5=rr("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,t){var n=e.ownerState;return[t.circle,t["circle".concat(cr(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((function(e){var t=e.ownerState,n=e.theme;return u({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var t=e.ownerState;return"indeterminate"===t.variant&&!t.disableShrink&&Qr(u5||(u5=a5||(a5=zr(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),h5)})),g5=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiCircularProgress"}),r=n.className,i=n.color,a=void 0===i?"primary":i,o=n.disableShrink,s=void 0!==o&&o,c=n.size,h=void 0===c?40:c,p=n.style,v=n.thickness,m=void 0===v?3.6:v,g=n.value,y=void 0===g?0:g,b=n.variant,x=void 0===b?"indeterminate":b,w=l(n,c5),S=u({},n,{color:a,disableShrink:s,size:h,thickness:m,value:y,variant:x}),_=function(e){var t=e.classes,n=e.variant,r=e.color,i=e.disableShrink;return f({root:["root",n,"color".concat(cr(r))],svg:["svg"],circle:["circle","circle".concat(cr(n)),i&&"circleDisableShrink"]},t5,t)}(S),k={},E={},C={};if("determinate"===x){var M=2*Math.PI*((d5-m)/2);k.strokeDasharray=M.toFixed(3),C["aria-valuenow"]=Math.round(y),k.strokeDashoffset="".concat(((100-y)/100*M).toFixed(3),"px"),E.transform="rotate(-90deg)"}return(0,yr.jsx)(p5,u({className:d(_.root,r),style:u({width:h,height:h},E,p),ownerState:S,ref:t,role:"progressbar"},C,w,{children:(0,yr.jsx)(v5,{className:_.svg,ownerState:S,viewBox:"".concat(22," ").concat(22," ").concat(d5," ").concat(d5),children:(0,yr.jsx)(m5,{className:_.circle,style:k,ownerState:S,cx:d5,cy:d5,r:(d5-m)/2,fill:"none",strokeWidth:m})})}))})),y5=g5,b5=["className"],x5=UK("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:function(e,t){return t.overlay}})({width:"100%",height:"100%",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"var(--unstable_DataGrid-overlayBackground)"}),w5=t.forwardRef((function(e,t){var n=e.className,r=eX(e,b5),i=AX(),a=Cv({root:["overlay"]},uX,i.classes);return(0,yr.jsx)(x5,Jq({ref:t,className:d(a.root,n),ownerState:i},r))})),S5=t.forwardRef((function(e,t){return(0,yr.jsx)(w5,Jq({ref:t},e,{children:(0,yr.jsx)(y5,{})}))})),_5=t.forwardRef((function(e,t){var n=tQ().current.getLocaleText("noRowsLabel");return(0,yr.jsx)(w5,Jq({ref:t},e,{children:n}))}));var k5=t.createContext();var E5=t.createContext();function C5(e){return vr("MuiTableCell",e)}var M5=mr("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),T5=["align","className","component","padding","scope","size","sortDirection","variant"],R5=rr("td",{name:"MuiTableCell",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["size".concat(cr(n.size))],"normal"!==n.padding&&t["padding".concat(cr(n.padding))],"inherit"!==n.align&&t["align".concat(cr(n.align))],n.stickyHeader&&t.stickyHeader]}})((function(e){var t=e.theme,n=e.ownerState;return u({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?x(y(t.palette.divider,1),.88):b(y(t.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===n.variant&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===n.variant&&{color:(t.vars||t).palette.text.primary},"footer"===n.variant&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===n.size&&s({padding:"6px 16px"},"&.".concat(M5.paddingCheckbox),{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}),"checkbox"===n.padding&&{width:48,padding:"0 0 0 4px"},"none"===n.padding&&{padding:0},"left"===n.align&&{textAlign:"left"},"center"===n.align&&{textAlign:"center"},"right"===n.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===n.align&&{textAlign:"justify"},n.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})})),A5=t.forwardRef((function(e,n){var r,i=ur({props:e,name:"MuiTableCell"}),a=i.align,o=void 0===a?"inherit":a,s=i.className,c=i.component,h=i.padding,p=i.scope,v=i.size,m=i.sortDirection,g=i.variant,y=l(i,T5),b=t.useContext(k5),x=t.useContext(E5),w=x&&"head"===x.variant,S=p;"td"===(r=c||(w?"th":"td"))?S=void 0:!S&&w&&(S="col");var _=g||x&&x.variant,k=u({},i,{align:o,component:r,padding:h||(b&&b.padding?b.padding:"normal"),size:v||(b&&b.size?b.size:"medium"),sortDirection:m,stickyHeader:"head"===_&&b&&b.stickyHeader,variant:_}),E=function(e){var t=e.classes,n=e.variant,r=e.align,i=e.padding,a=e.size;return f({root:["root",n,e.stickyHeader&&"stickyHeader","inherit"!==r&&"align".concat(cr(r)),"normal"!==i&&"padding".concat(cr(i)),"size".concat(cr(a))]},C5,t)}(k),C=null;return m&&(C="asc"===m?"ascending":"descending"),(0,yr.jsx)(R5,u({as:r,ref:n,className:d(E.root,s),"aria-sort":C,scope:S,ownerState:k},y))})),P5=A5;function I5(e){return vr("MuiToolbar",e)}mr("MuiToolbar",["root","gutters","regular","dense"]);var O5,L5,N5,D5,U5,F5,z5,B5,j5=["className","component","disableGutters","variant"],H5=rr("div",{name:"MuiToolbar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return u({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&s({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),"dense"===n.variant&&{minHeight:48})}),(function(e){var t=e.theme;return"regular"===e.ownerState.variant&&t.mixins.toolbar})),G5=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiToolbar"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.disableGutters,s=void 0!==o&&o,c=n.variant,h=void 0===c?"regular":c,p=l(n,j5),v=u({},n,{component:a,disableGutters:s,variant:h}),m=function(e){var t=e.classes;return f({root:["root",!e.disableGutters&&"gutters",e.variant]},I5,t)}(v);return(0,yr.jsx)(H5,u({as:a,className:d(m.root,r),ref:t,ownerState:v},p))})),V5=Ni((0,yr.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),W5=Ni((0,yr.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),q5=["backIconButtonProps","count","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton"],X5=t.forwardRef((function(e,t){var n=e.backIconButtonProps,r=e.count,i=e.getItemAriaLabel,a=e.nextIconButtonProps,o=e.onPageChange,s=e.page,c=e.rowsPerPage,d=e.showFirstButton,f=e.showLastButton,h=l(e,q5),p=Ra();return(0,yr.jsxs)("div",u({ref:t},h,{children:[d&&(0,yr.jsx)(Ri,{onClick:function(e){o(e,0)},disabled:0===s,"aria-label":i("first",s),title:i("first",s),children:"rtl"===p.direction?O5||(O5=(0,yr.jsx)(V5,{})):L5||(L5=(0,yr.jsx)(W5,{}))}),(0,yr.jsx)(Ri,u({onClick:function(e){o(e,s-1)},disabled:0===s,color:"inherit","aria-label":i("previous",s),title:i("previous",s)},n,{children:"rtl"===p.direction?N5||(N5=(0,yr.jsx)(rv,{})):D5||(D5=(0,yr.jsx)(nv,{}))})),(0,yr.jsx)(Ri,u({onClick:function(e){o(e,s+1)},disabled:-1!==r&&s>=Math.ceil(r/c)-1,color:"inherit","aria-label":i("next",s),title:i("next",s)},a,{children:"rtl"===p.direction?U5||(U5=(0,yr.jsx)(nv,{})):F5||(F5=(0,yr.jsx)(rv,{}))})),f&&(0,yr.jsx)(Ri,{onClick:function(e){o(e,Math.max(0,Math.ceil(r/c)-1))},disabled:s>=Math.ceil(r/c)-1,"aria-label":i("last",s),title:i("last",s),children:"rtl"===p.direction?z5||(z5=(0,yr.jsx)(W5,{})):B5||(B5=(0,yr.jsx)(V5,{}))})]}))})),Y5=X5,K5=Tp;function Z5(e){return vr("MuiTablePagination",e)}var Q5,$5=mr("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),J5=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton"],e6=rr(P5,{name:"MuiTablePagination",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t=e.theme;return{overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}})),t6=rr(G5,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:function(e,t){return u(s({},"& .".concat($5.actions),t.actions),t.toolbar)}})((function(e){var t,n=e.theme;return s(t={minHeight:52,paddingRight:2},"".concat(n.breakpoints.up("xs")," and (orientation: landscape)"),{minHeight:52}),s(t,n.breakpoints.up("sm"),{minHeight:52,paddingRight:2}),s(t,"& .".concat($5.actions),{flexShrink:0,marginLeft:20}),t})),n6=rr("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:function(e,t){return t.spacer}})({flex:"1 1 100%"}),r6=rr("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:function(e,t){return t.selectLabel}})((function(e){return u({},e.theme.typography.body2,{flexShrink:0})})),i6=rr(fc,{name:"MuiTablePagination",slot:"Select",overridesResolver:function(e,t){var n;return u((s(n={},"& .".concat($5.selectIcon),t.selectIcon),s(n,"& .".concat($5.select),t.select),n),t.input,t.selectRoot)}})(s({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8},"& .".concat($5.select),{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"})),a6=rr(kc,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:function(e,t){return t.menuItem}})({}),o6=rr("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:function(e,t){return t.displayedRows}})((function(e){return u({},e.theme.typography.body2,{flexShrink:0})}));function s6(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," of ").concat(-1!==r?r:"more than ".concat(n))}function l6(e){return"Go to ".concat(e," page")}var u6=t.forwardRef((function(e,n){var r,i=ur({props:e,name:"MuiTablePagination"}),a=i.ActionsComponent,o=void 0===a?Y5:a,s=i.backIconButtonProps,c=i.className,h=i.colSpan,p=i.component,v=void 0===p?P5:p,m=i.count,g=i.getItemAriaLabel,y=void 0===g?l6:g,b=i.labelDisplayedRows,x=void 0===b?s6:b,w=i.labelRowsPerPage,S=void 0===w?"Rows per page:":w,_=i.nextIconButtonProps,k=i.onPageChange,E=i.onRowsPerPageChange,C=i.page,M=i.rowsPerPage,T=i.rowsPerPageOptions,R=void 0===T?[10,25,50,100]:T,A=i.SelectProps,P=void 0===A?{}:A,I=i.showFirstButton,O=void 0!==I&&I,L=i.showLastButton,N=void 0!==L&&L,D=l(i,J5),U=i,F=function(e){return f({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},Z5,e.classes)}(U),z=P.native?"option":a6;v!==P5&&"td"!==v||(r=h||1e3);var B=K5(P.id),j=K5(P.labelId);return(0,yr.jsx)(e6,u({colSpan:r,ref:n,as:v,ownerState:U,className:d(F.root,c)},D,{children:(0,yr.jsxs)(t6,{className:F.toolbar,children:[(0,yr.jsx)(n6,{className:F.spacer}),R.length>1&&(0,yr.jsx)(r6,{className:F.selectLabel,id:j,children:S}),R.length>1&&(0,yr.jsx)(i6,u({variant:"standard"},!P.variant&&{input:Q5||(Q5=(0,yr.jsx)(Iu,{}))},{value:M,onChange:E,id:B,labelId:j},P,{classes:u({},P.classes,{root:d(F.input,F.selectRoot,(P.classes||{}).root),select:d(F.select,(P.classes||{}).select),icon:d(F.selectIcon,(P.classes||{}).icon)}),children:R.map((function(e){return(0,t.createElement)(z,u({},!ns(z)&&{ownerState:U},{className:F.menuItem,key:e.label?e.label:e,value:e.value?e.value:e}),e.label?e.label:e)}))})),(0,yr.jsx)(o6,{className:F.displayedRows,children:x({from:0===m?0:C*M+1,to:-1===m?(C+1)*M:-1===M?m:Math.min(m,(C+1)*M),count:-1===m?-1:m,page:C})}),(0,yr.jsx)(o,{className:F.actions,backIconButtonProps:s,count:m,nextIconButtonProps:_,onPageChange:k,page:C,rowsPerPage:M,showFirstButton:O,showLastButton:N,getItemAriaLabel:y})]})}))})),c6=rr(u6)((function(e){var t,n=e.theme;return s(t={},"& .".concat($5.selectLabel),s({display:"none"},n.breakpoints.up("sm"),{display:"block"})),s(t,"& .".concat($5.input),s({display:"none"},n.breakpoints.up("sm"),{display:"inline-flex"})),t})),d6=t.forwardRef((function(e,n){var r=tQ(),i=AX(),a=CX(r,hQ),o=CX(r,eZ),s=t.useMemo((function(){var e,t;return null!=(e=null!=(t=i.rowCount)?t:o)?e:0}),[i.rowCount,o]),l=t.useMemo((function(){return Math.floor(s/(a.pageSize||1))}),[s,a.pageSize]),u=t.useCallback((function(e){var t=Number(e.target.value);r.current.setPageSize(t)}),[r]),c=t.useCallback((function(e,t){r.current.setPage(t)}),[r]),d=function(e){for(var t=0;t<i.pageSizeOptions.length;t+=1){var n=i.pageSizeOptions[t];if("number"===typeof n){if(n===e)return!0}else if(n.value===e)return!0}return!1}(a.pageSize)?i.pageSizeOptions:[];return(0,yr.jsx)(c6,Jq({ref:n,component:"div",count:s,page:a.page<=l?a.page:l,rowsPerPageOptions:d,rowsPerPage:a.pageSize,onPageChange:c,onRowsPerPageChange:u},r.current.getLocaleText("MuiTablePagination"),e))})),f6=["className"],h6=function(e){return Cv({root:["panelContent"]},uX,e.classes)},p6=UK("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:function(e,t){return t.panelContent}})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function v6(e){var t=e.className,n=eX(e,f6),r=AX(),i=h6(r);return(0,yr.jsx)(p6,Jq({className:d(t,i.root),ownerState:r},n))}var m6=["className"],g6=function(e){return Cv({root:["panelFooter"]},uX,e.classes)},y6=UK("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:function(e,t){return t.panelFooter}})((function(e){return{padding:e.theme.spacing(.5),display:"flex",justifyContent:"space-between"}}));function b6(e){var t=e.className,n=eX(e,m6),r=AX(),i=g6(r);return(0,yr.jsx)(y6,Jq({className:d(t,i.root),ownerState:r},n))}var x6=["className","slotProps"],w6=rr("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:function(e,t){return t.panelWrapper}})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),S6=function(){return!0},_6=t.forwardRef((function(e,t){var n=e.className,r=e.slotProps,i=void 0===r?{}:r,a=eX(e,x6),o=AX(),s=Cv({root:["panelWrapper"]},uX,o.classes);return(0,yr.jsx)(sl,Jq({open:!0,disableEnforceFocus:!0,isEnabled:S6},i.TrapFocus,{children:(0,yr.jsx)(w6,Jq({ref:t,tabIndex:-1,className:d(n,s.root),ownerState:o},a))}))})),k6=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","multiFilterOperator","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","children"],E6=["InputComponentProps"],C6=rr("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:function(e,t){return t.filterForm}})((function(e){return{display:"flex",padding:e.theme.spacing(1)}})),M6=rr("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:function(e,t){return t.filterFormDeleteIcon}})((function(e){var t=e.theme;return{flexShrink:0,justifyContent:"flex-end",marginRight:t.spacing(.5),marginBottom:t.spacing(.2)}})),T6=rr("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput",overridesResolver:function(e,t){return t.filterFormLogicOperatorInput}})({minWidth:55,marginRight:5,justifyContent:"end"}),R6=rr("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:function(e,t){return t.filterFormColumnInput}})({width:150}),A6=rr("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:function(e,t){return t.filterFormOperatorInput}})({width:120}),P6=rr("div",{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:function(e,t){return t.filterFormValueInput}})({width:190}),I6=function(e){return e.headerName||e.field},O6=new Intl.Collator,L6=t.forwardRef((function(e,n){var r,i,a,o,s,l,u,c,f,h,p=e.item,v=e.hasMultipleFilters,m=e.deleteFilter,g=e.applyFilterChanges,y=e.multiFilterOperator,b=e.showMultiFilterOperators,x=e.disableMultiFilterOperator,w=e.applyMultiFilterOperatorChanges,S=e.focusElementRef,_=e.logicOperators,k=void 0===_?[c3.And,c3.Or]:_,E=e.columnsSort,C=e.filterColumns,M=e.deleteIconProps,T=void 0===M?{}:M,R=e.logicOperatorInputProps,A=void 0===R?{}:R,P=e.operatorInputProps,I=void 0===P?{}:P,O=e.columnInputProps,L=void 0===O?{}:O,N=e.valueInputProps,D=void 0===N?{}:N,U=eX(e,k6),F=tQ(),z=CX(F,JX),B=CX(F,qK),j=LQ(),H=LQ(),G=LQ(),V=LQ(),W=AX(),q=Cv({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},uX,W.classes),X=t.useRef(null),Y=t.useRef(null),K=v&&k.length>0,Z=(null==(r=W.slotProps)?void 0:r.baseFormControl)||{},Q=null==(a=((null==(i=W.slotProps)?void 0:i.baseSelect)||{}).native)||a,$=(null==(o=W.slotProps)?void 0:o.baseInputLabel)||{},J=(null==(s=W.slotProps)?void 0:s.baseSelectOption)||{},ee=D.InputComponentProps,te=eX(D,E6),ne=t.useMemo((function(){if(void 0===C||"function"!==typeof C)return z;var e=C({field:p.field,columns:z,currentFilters:(null==B?void 0:B.items)||[]});return z.filter((function(t){return e.includes(t.field)}))}),[C,null==B?void 0:B.items,z,p.field]),re=t.useMemo((function(){switch(E){case"asc":return ne.sort((function(e,t){return O6.compare(I6(e),I6(t))}));case"desc":return ne.sort((function(e,t){return-O6.compare(I6(e),I6(t))}));default:return ne}}),[ne,E]),ie=p.field?F.current.getColumn(p.field):null,ae=t.useMemo((function(){var e;return p.operator&&ie?null==(e=ie.filterOperators)?void 0:e.find((function(e){return e.value===p.operator})):null}),[p,ie]),oe=t.useCallback((function(e){var t=e.target.value,n=F.current.getColumn(t);if(n.field!==ie.field){var r=n.filterOperators.find((function(e){return e.value===p.operator}))||n.filterOperators[0],i=!r.InputComponent||r.InputComponent!==(null==ae?void 0:ae.InputComponent);g(Jq({},p,{field:t,operator:r.value,value:i?void 0:p.value}))}}),[F,g,p,ie,ae]),se=t.useCallback((function(e){var t=e.target.value,n=null==ie?void 0:ie.filterOperators.find((function(e){return e.value===t})),r=!(null!=n&&n.InputComponent)||(null==n?void 0:n.InputComponent)!==(null==ae?void 0:ae.InputComponent);g(Jq({},p,{operator:t,value:r?void 0:p.value}))}),[g,p,ie,ae]),le=t.useCallback((function(e){var t=e.target.value===c3.And.toString()?c3.And:c3.Or;w(t)}),[w]);return t.useImperativeHandle(S,(function(){return{focus:function(){var e;null!=ae&&ae.InputComponent?null==X||null==(e=X.current)||e.focus():Y.current.focus()}}}),[ae]),(0,yr.jsxs)(C6,Jq({ref:n,className:q.root,"data-id":p.id,ownerState:W},U,{children:[(0,yr.jsx)(M6,Jq({variant:"standard",as:W.slots.baseFormControl},Z,T,{className:d(q.deleteIcon,Z.className,T.className),ownerState:W,children:(0,yr.jsx)(W.slots.baseIconButton,Jq({"aria-label":F.current.getLocaleText("filterPanelDeleteIconLabel"),title:F.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:function(){W.disableMultipleColumnsFiltering?void 0===p.value?m(p):g(Jq({},p,{value:void 0})):m(p)},size:"small"},null==(l=W.slotProps)?void 0:l.baseIconButton,{children:(0,yr.jsx)(W.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),(0,yr.jsx)(T6,Jq({variant:"standard",as:W.slots.baseFormControl},Z,A,{sx:Jq({display:K?"flex":"none",visibility:b?"visible":"hidden"},Z.sx||{},A.sx||{}),className:d(q.logicOperatorInput,Z.className,A.className),ownerState:W,children:(0,yr.jsx)(W.slots.baseSelect,Jq({inputProps:{"aria-label":F.current.getLocaleText("filterPanelLogicOperator")},value:y,onChange:le,disabled:!!x||1===k.length,native:Q},null==(u=W.slotProps)?void 0:u.baseSelect,{children:k.map((function(e){return(0,t.createElement)(W.slots.baseSelectOption,Jq({},J,{native:Q,key:e.toString(),value:e.toString()}),F.current.getLocaleText(function(e){switch(e){case c3.And:return"filterPanelOperatorAnd";case c3.Or:return"filterPanelOperatorOr";default:throw new Error("MUI: Invalid `logicOperator` property in the `GridFilterPanel`.")}}(e)))}))}))})),(0,yr.jsxs)(R6,Jq({variant:"standard",as:W.slots.baseFormControl},Z,L,{className:d(q.columnInput,Z.className,L.className),ownerState:W,children:[(0,yr.jsx)(W.slots.baseInputLabel,Jq({},$,{htmlFor:j,id:H,children:F.current.getLocaleText("filterPanelColumns")})),(0,yr.jsx)(W.slots.baseSelect,Jq({labelId:H,id:j,label:F.current.getLocaleText("filterPanelColumns"),value:p.field||"",onChange:oe,native:Q},null==(c=W.slotProps)?void 0:c.baseSelect,{children:re.map((function(e){return(0,t.createElement)(W.slots.baseSelectOption,Jq({},J,{native:Q,key:e.field,value:e.field}),I6(e))}))}))]})),(0,yr.jsxs)(A6,Jq({variant:"standard",as:W.slots.baseFormControl},Z,I,{className:d(q.operatorInput,Z.className,I.className),ownerState:W,children:[(0,yr.jsx)(W.slots.baseInputLabel,Jq({},$,{htmlFor:G,id:V,children:F.current.getLocaleText("filterPanelOperator")})),(0,yr.jsx)(W.slots.baseSelect,Jq({labelId:V,label:F.current.getLocaleText("filterPanelOperator"),id:G,value:p.operator,onChange:se,native:Q,inputRef:Y},null==(f=W.slotProps)?void 0:f.baseSelect,{children:null==ie||null==(h=ie.filterOperators)?void 0:h.map((function(e){return(0,t.createElement)(W.slots.baseSelectOption,Jq({},J,{native:Q,key:e.value,value:e.value}),e.label||F.current.getLocaleText("filterOperator".concat(tX(e.value))))}))}))]})),(0,yr.jsx)(P6,Jq({variant:"standard",as:W.slots.baseFormControl},Z,te,{className:d(q.valueInput,Z.className,te.className),ownerState:W,children:null!=ae&&ae.InputComponent?(0,yr.jsx)(ae.InputComponent,Jq({apiRef:F,item:p,applyValue:g,focusElementRef:X},ae.InputComponentProps,ee)):null}))]}))})),N6=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],D6=function(e){return{field:e.field,operator:e.filterOperators[0].value,id:Math.round(1e5*Math.random())}},U6=t.forwardRef((function(e,n){var r,i,a=tQ(),o=AX(),s=CX(a,qK),l=CX(a,JX),u=t.useRef(null),c=t.useRef(null),d=e.logicOperators,f=void 0===d?[c3.And,c3.Or]:d,h=e.columnsSort,p=e.filterFormProps,v=e.getColumnForNewFilter,m=e.disableAddFilterButton,g=void 0!==m&&m,y=e.disableRemoveAllButton,b=void 0!==y&&y,x=eX(e,N6),w=a.current.upsertFilterItem,S=t.useCallback((function(e){a.current.setFilterLogicOperator(e)}),[a]),_=t.useCallback((function(){var e;if(v&&"function"===typeof v){var t=v({currentFilters:(null==s?void 0:s.items)||[],columns:l});if(null===t)return null;e=l.find((function(e){return e.field===t}))}else e=l.find((function(e){var t;return null==(t=e.filterOperators)?void 0:t.length}));return e?D6(e):null}),[null==s?void 0:s.items,l,v]),E=t.useCallback((function(){if(void 0===v||"function"!==typeof v)return _();var e=s.items.length?s.items:[_()].filter(Boolean),t=v({currentFilters:e,columns:l});if(null===t)return null;var n=l.find((function(e){return e.field===t}));return n?D6(n):null}),[s.items,l,v,_]),C=t.useMemo((function(){return s.items.length?s.items:(c.current||(c.current=_()),c.current?[c.current]:[])}),[s.items,_]),M=C.length>1,T=t.useCallback((function(e){var t=1===C.length;a.current.deleteFilterItem(e),t&&a.current.hideFilterPanel()}),[a,C.length]);return t.useEffect((function(){f.length>0&&s.logicOperator&&!f.includes(s.logicOperator)&&S(f[0])}),[f,S,s.logicOperator]),t.useEffect((function(){C.length>0&&u.current.focus()}),[C.length]),(0,yr.jsxs)(_6,Jq({ref:n},x,{children:[(0,yr.jsx)(v6,{children:C.map((function(e,t){return(0,yr.jsx)(L6,Jq({item:e,applyFilterChanges:w,deleteFilter:T,hasMultipleFilters:M,showMultiFilterOperators:t>0,multiFilterOperator:s.logicOperator,disableMultiFilterOperator:1!==t,applyMultiFilterOperatorChanges:S,focusElementRef:t===C.length-1?u:null,logicOperators:f,columnsSort:h},p),null==e.id?t:e.id)}))}),o.disableMultipleColumnsFiltering||g&&b?null:(0,yr.jsxs)(b6,{children:[g?(0,yr.jsx)("span",{}):(0,yr.jsx)(o.slots.baseButton,Jq({onClick:function(){var e=E();e&&a.current.upsertFilterItems([].concat(k(C),[e]))},startIcon:(0,yr.jsx)(o.slots.filterPanelAddIcon,{})},null==(r=o.slotProps)?void 0:r.baseButton,{children:a.current.getLocaleText("filterPanelAddFilter")})),b?null:(0,yr.jsx)(o.slots.baseButton,Jq({onClick:function(){1===C.length&&void 0===C[0].value&&(a.current.deleteFilterItem(C[0]),a.current.hideFilterPanel()),a.current.setFilterModel(Jq({},s,{items:[]}))},startIcon:(0,yr.jsx)(o.slots.filterPanelRemoveAllIcon,{})},null==(i=o.slotProps)?void 0:i.baseButton,{children:a.current.getLocaleText("filterPanelRemoveAll")}))]})]}))}));function F6(e){return vr("MuiSwitch",e)}var z6=mr("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);function B6(e){return vr("MuiFormControlLabel",e)}var j6=mr("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),H6=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],G6=rr("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[s({},"& .".concat(j6.label),t.label),t.root,t["labelPlacement".concat(cr(n.labelPlacement))]]}})((function(e){var t=e.theme,n=e.ownerState;return u(s({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16},"&.".concat(j6.disabled),{cursor:"default"}),"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},s({},"& .".concat(j6.label),s({},"&.".concat(j6.disabled),{color:(t.vars||t).palette.text.disabled})))})),V6=rr("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return s({},"&.".concat(j6.error),{color:(t.vars||t).palette.error.main})})),W6=t.forwardRef((function(e,n){var r,i,a=ur({props:e,name:"MuiFormControlLabel"}),o=a.className,s=a.componentsProps,c=void 0===s?{}:s,h=a.control,p=a.disabled,v=a.disableTypography,m=a.label,g=a.labelPlacement,y=void 0===g?"end":g,b=a.required,x=a.slotProps,w=void 0===x?{}:x,S=l(a,H6),_=jo(),k=null!=(r=null!=p?p:h.props.disabled)?r:null==_?void 0:_.disabled,E=null!=b?b:h.props.required,C={disabled:k,required:E};["checked","name","onChange","value","inputRef"].forEach((function(e){"undefined"===typeof h.props[e]&&"undefined"!==typeof a[e]&&(C[e]=a[e])}));var M=Bo({props:a,muiFormControl:_,states:["error"]}),T=u({},a,{disabled:k,labelPlacement:y,required:E,error:M.error}),R=function(e){var t=e.classes,n=e.disabled,r=e.labelPlacement,i=e.error,a=e.required;return f({root:["root",n&&"disabled","labelPlacement".concat(cr(r)),i&&"error",a&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]},B6,t)}(T),A=null!=(i=w.typography)?i:c.typography,P=m;return null==P||P.type===ia||v||(P=(0,yr.jsx)(ia,u({component:"span"},A,{className:d(R.label,null==A?void 0:A.className),children:P}))),(0,yr.jsxs)(G6,u({className:d(R.root,o),ownerState:T,ref:n},S,{children:[t.cloneElement(h,C),E?(0,yr.jsxs)(za,{direction:"row",alignItems:"center",children:[P,(0,yr.jsxs)(V6,{ownerState:T,"aria-hidden":!0,className:R.asterisk,children:["\u2009","*"]})]}):P]}))})),q6=W6,X6=["className"],Y6=function(e){return Cv({root:["panelHeader"]},uX,e.classes)},K6=UK("div",{name:"MuiDataGrid",slot:"PanelHeader",overridesResolver:function(e,t){return t.panelHeader}})((function(e){return{padding:e.theme.spacing(1)}}));function Z6(e){var t=e.className,n=eX(e,X6),r=AX(),i=Y6(r);return(0,yr.jsx)(K6,Jq({className:d(t,i.root),ownerState:r},n))}var Q6=["sort","searchPredicate","autoFocusSearchField","disableHideAllButton","disableShowAllButton","getTogglableColumns"],$6=rr("div",{name:"MuiDataGrid",slot:"ColumnsPanel",overridesResolver:function(e,t){return t.columnsPanel}})({padding:"8px 0px 8px 8px"}),J6=rr("div",{name:"MuiDataGrid",slot:"ColumnsPanelRow",overridesResolver:function(e,t){return t.columnsPanelRow}})((function(e){var t=e.theme;return s({display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px"},"& .".concat(z6.root),{marginRight:t.spacing(.5)})})),e4=(rr(Ri)({justifyContent:"flex-end"}),new Intl.Collator),t4=function(e,t){return(e.headerName||e.field).toLowerCase().indexOf(t)>-1};var n4,r4=["children","className","classes"],i4=lX("MuiDataGrid",["panel","paper"]),a4=rr(MJ,{name:"MuiDataGrid",slot:"Panel",overridesResolver:function(e,t){return t.panel}})((function(e){return{zIndex:e.theme.zIndex.modal}})),o4=rr(wr,{name:"MuiDataGrid",slot:"Paper",overridesResolver:function(e,t){return t.paper}})((function(e){var t=e.theme;return{backgroundColor:(t.vars||t).palette.background.paper,minWidth:300,maxHeight:450,display:"flex"}})),s4=t.forwardRef((function(e,n){var r=e.children,i=e.className,a=eX(e,r4),o=tQ(),s=AX(),l=i4,u=M(t.useState(!1),2),c=u[0],f=u[1],h=t.useCallback((function(){o.current.hidePreferences()}),[o]),p=t.useCallback((function(e){KZ(e.key)&&o.current.hidePreferences()}),[o]),v=t.useMemo((function(){return[{name:"flip",enabled:!1},{name:"isPlaced",enabled:!0,phase:"main",fn:function(){f(!0)},effect:function(){return function(){f(!1)}}}]}),[]),m=M(t.useState(null),2),g=m[0],y=m[1];return t.useEffect((function(){var e,t=null==(e=o.current.rootElementRef)||null==(e=e.current)?void 0:e.querySelector(".".concat(dX.columnHeaders));t&&y(t)}),[o]),g?(0,yr.jsx)(a4,Jq({ref:n,placement:"bottom-start",className:d(i,l.panel),ownerState:s,anchorEl:g,modifiers:v},a,{children:(0,yr.jsx)(Ov,{mouseEvent:"onMouseUp",onClickAway:h,children:(0,yr.jsx)(o4,{className:l.paper,ownerState:s,elevation:8,onKeyDown:p,children:c&&r})})})):null}));function l4(e){return t.memo(e,wX)}var u4=["changeReason","unstable_updateValueOnRender"],c4=["column","rowId","editCellState","align","children","colIndex","height","width","className","showRightBorder","extendRowFullWidth","row","colSpan","disableDragEvents","isNotVisible","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],d4=["changeReason","unstable_updateValueOnRender"],f4={id:-1,field:"__unset__",row:{},rowNode:{id:-1,depth:0,type:"leaf",parent:-1,groupingKey:null},colDef:{type:"string",field:"__unset__",computedWidth:0},cellMode:f1.View,hasFocus:!1,tabIndex:-1,value:null,formattedValue:"__unset__",isEditable:!1,api:{}},h4=function(e){var t=e.align,n=e.showRightBorder,r=e.isEditable,i=e.isSelected,a=e.isSelectionMode,o=e.classes;return Cv({root:["cell","cell--text".concat(tX(t)),r&&"cell--editable",i&&"selected",n&&"cell--withRightBorder",a&&!r&&"cell--selectionMode","withBorderColor"],content:["cellContent"]},uX,o)},p4=t.forwardRef((function(e,n){var r=e.column,i=e.rowId,a=e.editCellState,o=tQ(),s=AX(),l=r.field,u=CX(o,(function(){try{var e=o.current.getCellParams(i,l);return e.api=o.current,e}catch(Ine){if(Ine instanceof o2)return f4;throw Ine}}),kX),c=CX(o,(function(){return o.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:i,field:l})}));if(u===f4)return null;var f,h=u.cellMode,p=u.hasFocus,v=u.isEditable,m=u.value,g=u.formattedValue,y="actions"===r.type,b="view"!==h&&v||y?-1:u.tabIndex,x=s.classes,w=s.getCellClassName,S=o.current.unstable_applyPipeProcessors("cellClassName",[],{id:i,field:l});if(r.cellClassName&&S.push("function"===typeof r.cellClassName?r.cellClassName(u):r.cellClassName),w&&S.push(w(u)),null==a&&r.renderCell&&(f=r.renderCell(u),S.push(dX["cell--withRenderer"]),S.push(null==x?void 0:x["cell--withRenderer"])),null!=a&&r.renderEditCell){var _=Jq({},u,{row:o.current.getRowWithUpdatedValues(i,r.field)},eX(a,u4));f=r.renderEditCell(_),S.push(dX["cell--editing"]),S.push(null==x?void 0:x["cell--editing"])}var k=s.slots.cell,E=Jq({},e,{ref:n,field:l,formattedValue:g,hasFocus:p,isEditable:v,isSelected:c,value:m,cellMode:h,children:f,tabIndex:b,className:d(S)});return t.createElement(k,E)})),v4=l4(p4),m4=t.forwardRef((function(e,n){var r,i,a=e.column,o=e.rowId,s=e.editCellState,l=e.align,u=e.colIndex,c=e.height,f=e.width,h=e.className,p=e.showRightBorder,v=e.colSpan,m=e.disableDragEvents,g=e.isNotVisible,y=e.onClick,b=e.onDoubleClick,x=e.onMouseDown,w=e.onMouseUp,S=e.onMouseOver,_=e.onKeyDown,k=e.onKeyUp,E=e.onDragEnter,C=e.onDragOver,M=eX(e,c4),T=tQ(),R=AX(),A=a.field,P=CX(T,(function(){try{var e=T.current.getCellParams(o,A);return e.api=T.current,e}catch(Ine){if(Ine instanceof o2)return f4;throw Ine}}),kX),I=CX(T,(function(){return T.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:o,field:A})})),O=P.cellMode,L=P.hasFocus,N=P.isEditable,D=P.value,U=P.formattedValue,F="actions"===a.type,z="view"!==O&&N||F?-1:P.tabIndex,B=R.classes,j=R.getCellClassName,H=T.current.unstable_applyPipeProcessors("cellClassName",[],{id:o,field:A});a.cellClassName&&H.push("function"===typeof a.cellClassName?a.cellClassName(P):a.cellClassName),j&&H.push(j(P));var G=null==U?D:U,V=t.useRef(null),W=nX(n,V),q=t.useRef(null),X=null!=(r=R.unstable_cellSelection)&&r,Y={align:l,showRightBorder:p,isEditable:N,classes:R.classes,isSelected:I,isSelectionMode:X},K=h4(Y),Z=t.useCallback((function(e){return function(t){var n=T.current.getCellParams(o,A||"");T.current.publishEvent(e,n,t),w&&w(t)}}),[T,A,w,o]),Q=t.useCallback((function(e){return function(t){var n=T.current.getCellParams(o,A||"");T.current.publishEvent(e,n,t),x&&x(t)}}),[T,A,x,o]),$=t.useCallback((function(e,t){return function(n){if(T.current.getRow(o)){var r=T.current.getCellParams(o,A||"");T.current.publishEvent(e,r,n),t&&t(n)}}}),[T,A,o]),J=t.useMemo((function(){return g?{padding:0,opacity:0,width:0,border:0}:{minWidth:f,maxWidth:f,minHeight:c,maxHeight:"auto"===c?"none":c}}),[f,c,g]);if(t.useEffect((function(){if(L&&O!==f1.Edit){var e=i3(T.current.rootElementRef.current);if(V.current&&!V.current.contains(e.activeElement)){var t=V.current.querySelector('[tabindex="0"]'),n=q.current||t||V.current;if(void 0===n4&&document.createElement("div").focus({get preventScroll(){return n4=!0,!1}}),n4)n.focus({preventScroll:!0});else{var r=T.current.getScrollPosition();n.focus(),T.current.scroll(r)}}}}),[L,O,T]),P===f4)return null;var ee,te=M.onFocus;if(null==s&&a.renderCell&&(ee=a.renderCell(P),H.push(dX["cell--withRenderer"]),H.push(null==B?void 0:B["cell--withRenderer"])),null!=s&&a.renderEditCell){var ne=Jq({},P,{row:T.current.getRowWithUpdatedValues(o,a.field)},eX(s,d4));ee=a.renderEditCell(ne),H.push(dX["cell--editing"]),H.push(null==B?void 0:B["cell--editing"])}if(void 0===ee){var re=null==G?void 0:G.toString();ee=(0,yr.jsx)("div",{className:K.content,title:re,role:"presentation",children:re})}t.isValidElement(ee)&&F&&(ee=t.cloneElement(ee,{focusElementRef:q}));var ie=m?null:{onDragEnter:$("cellDragEnter",E),onDragOver:$("cellDragOver",C)},ae=null==(i=R.experimentalFeatures)?void 0:i.ariaV7;return(0,yr.jsx)("div",Jq({ref:W,className:d(h,H,K.root),role:ae?"gridcell":"cell","data-field":A,"data-colindex":u,"aria-colindex":u+1,"aria-colspan":v,style:J,tabIndex:z,onClick:$("cellClick",y),onDoubleClick:$("cellDoubleClick",b),onMouseOver:$("cellMouseOver",S),onMouseDown:Q("cellMouseDown"),onMouseUp:Z("cellMouseUp"),onKeyDown:$("cellKeyDown",_),onKeyUp:$("cellKeyUp",k)},ie,M,{onFocus:te,children:ee}))})),g4=l4(m4),y4=["selected","hovered","rowId","row","index","style","position","rowHeight","className","visibleColumns","renderedColumns","containerWidth","firstColumnToRender","lastColumnToRender","isLastVisible","focusedCellColumnIndexNotInRange","isNotVisible","focusedCell","tabbableCell","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"];function b4(e){var t=e.width;if(!t)return null;var n={width:t};return(0,yr.jsx)("div",{className:"".concat(dX.cell," ").concat(dX.withBorderColor),style:n})}var x4=t.forwardRef((function(e,n){var r=e.selected,i=e.hovered,a=e.rowId,o=e.row,s=e.index,l=e.style,u=e.position,c=e.rowHeight,f=e.className,h=e.visibleColumns,p=e.renderedColumns,v=e.containerWidth,m=e.firstColumnToRender,g=e.isLastVisible,y=void 0!==g&&g,b=e.focusedCellColumnIndexNotInRange,x=e.isNotVisible,w=e.focusedCell,S=e.onClick,_=e.onDoubleClick,E=e.onMouseEnter,C=e.onMouseLeave,T=e.onMouseOut,R=e.onMouseOver,A=eX(e,y4),P=tQ(),I=t.useRef(null),O=AX(),L=P3(P,O),N=CX(P,$X),D=CX(P,GK),U=CX(P,vY),F=CX(P,aY),z=CX(P,H3),B=nX(I,n),j=s+F+2,H=function(e){var t=e.editable,n=e.editing;return Cv({root:["row",e.selected&&"selected",t&&"row--editable",n&&"row--editing",e.isLastVisible&&"row--lastVisible","auto"===e.rowHeight&&"row--dynamicHeight"]},uX,e.classes)}({selected:r,hovered:i,isLastVisible:y,classes:O.classes,editing:P.current.getRowMode(a)===h1.Edit,editable:O.editMode===d1.Row,rowHeight:c});t.useLayoutEffect((function(){"auto"===c&&I.current&&"undefined"===typeof ResizeObserver&&P.current.unstable_storeRowHeightMeasurement(a,I.current.clientHeight,u)}),[P,c,a,u]),t.useLayoutEffect((function(){if(L.range){var e=P.current.getRowIndexRelativeToVisibleRows(a);null!=e&&P.current.unstable_setLastMeasuredRowIndex(e)}var t=I.current;if(t&&!("auto"!==c)&&"undefined"!==typeof ResizeObserver){var n=new ResizeObserver((function(e){var t=M(e,1)[0],n=t.borderBoxSize&&t.borderBoxSize.length>0?t.borderBoxSize[0].blockSize:t.contentRect.height;P.current.unstable_storeRowHeightMeasurement(a,n,u)}));return n.observe(t),function(){return n.disconnect()}}}),[P,L.range,s,c,a,u]);var G=t.useCallback((function(e,t){return function(n){(1!==n.target.nodeType||n.currentTarget.contains(n.target))&&P.current.getRow(a)&&(P.current.publishEvent(e,P.current.getRowParams(a),n),t&&t(n))}}),[P,a]),V=t.useCallback((function(e){var t=r2(e.target,dX.cell),n=null==t?void 0:t.getAttribute("data-field");if(n){if(n===D0.field)return;if(n===O3)return;if("__reorder__"===n)return;if(P.current.getCellMode(a,n)===f1.Edit)return;var r=P.current.getColumn(n);if((null==r?void 0:r.type)===N1)return}G("rowClick",S)(e)}),[P,S,G,a]),W=O.slots,q=O.slotProps,X=O.disableColumnReorder,Y=W.cell===g4?g4:v4,K=O.rowReordering,Z=function(e,t){var n,r,i=X&&e.disableReorder||!K&&!!D.length&&U>1&&Object.keys(z).length>0,o=null!=(n=null==(r=z[a])?void 0:r[e.field])?n:null,s=!1;return void 0!==b&&h[b].field===e.field&&(s=!0),(0,yr.jsx)(Y,Jq({column:e,width:t.width,rowId:a,height:c,showRightBorder:t.showRightBorder,align:e.align||"left",colIndex:t.indexRelativeToAllColumns,colSpan:t.colSpan,disableDragEvents:i,editCellState:o,isNotVisible:s},null==q?void 0:q.cell),e.field)},Q=CX(P,(function(){return Jq({},P.current.unstable_getRowInternalSizes(a))}),kX),$=c;if("auto"===$&&Q){var J=0,ee=Object.entries(Q).reduce((function(e,t){var n=M(t,2),r=n[0],i=n[1];return/^base[A-Z]/.test(r)?(J+=1,i>e?i:e):e}),0);ee>0&&J>1&&($=ee)}var te=t.useMemo((function(){if(x)return{opacity:0,width:0,height:0};var e=Jq({},l,{maxHeight:"auto"===c?"none":c,minHeight:$});null!=Q&&Q.spacingTop&&(e["border"===O.rowSpacingType?"borderTopWidth":"marginTop"]=Q.spacingTop);if(null!=Q&&Q.spacingBottom){var t="border"===O.rowSpacingType?"borderBottomWidth":"marginBottom",n=e[t];"number"!==typeof n&&(n=parseInt(n||"0",10)),n+=Q.spacingBottom,e[t]=n}return e}),[x,c,l,$,Q,O.rowSpacingType]),ne=P.current.unstable_applyPipeProcessors("rowClassName",[],a);if("function"===typeof O.getRowClassName){var re,ie=s-((null==(re=L.range)?void 0:re.firstRowIndex)||0),ae=Jq({},P.current.getRowParams(a),{isFirstVisible:0===ie,isLastVisible:ie===L.rows.length-1,indexRelativeToCurrentPage:ie});ne.push(O.getRowClassName(ae))}var oe=wZ(1e4,20,80),se=P.current.getRowNode(a);if(!se)return null;for(var le=se.type,ue=[],ce=0;ce<p.length;ce+=1){var de=p[ce],fe=m+ce;void 0!==b&&w&&(h[b].field===de.field?fe=b:fe-=1);var he=P.current.unstable_getCellColSpanInfo(a,fe);if(he&&!he.spannedByColSpan)if("skeletonRow"!==le){var pe=he.cellProps,ve=pe.colSpan,me={width:pe.width,colSpan:ve,showRightBorder:O.showCellVerticalBorder,indexRelativeToAllColumns:fe};ue.push(Z(de,me))}else{var ge=he.cellProps.width,ye=Math.round(oe());ue.push((0,yr.jsx)(W.skeletonCell,{width:ge,contentWidth:ye,field:de.field,align:de.align},de.field))}}var be=v-N,xe=o?{onClick:V,onDoubleClick:G("rowDoubleClick",_),onMouseEnter:G("rowMouseEnter",E),onMouseLeave:G("rowMouseLeave",C),onMouseOut:G("rowMouseOut",T),onMouseOver:G("rowMouseOver",R)}:null;return(0,yr.jsxs)("div",Jq({ref:B,"data-id":a,"data-rowindex":s,role:"row",className:d.apply(void 0,k(ne).concat([H.root,f,i&&"Mui-hovered"])),"aria-rowindex":j,"aria-selected":r,style:te},xe,A,{children:[ue,be>0&&(0,yr.jsx)(b4,{width:be})]}))})),w4=l4(x4);function S4(e){var t,n=e.direction,r=e.index,i=e.sortingOrder,a=tQ(),o=AX(),s=function(e){return Cv({icon:["sortIcon"]},uX,e.classes)}(Jq({},e,{classes:o.classes})),l=function(e,t,n,r){var i,a={};return"asc"===t?i=e.columnSortedAscendingIcon:"desc"===t?i=e.columnSortedDescendingIcon:(i=e.columnUnsortedIcon,a.sortingOrder=r),i?(0,yr.jsx)(i,Jq({fontSize:"small",className:n},a)):null}(o.slots,n,s.icon,i);if(!l)return null;var u=(0,yr.jsx)(o.slots.baseIconButton,Jq({tabIndex:-1,"aria-label":a.current.getLocaleText("columnHeaderSortIconLabel"),title:a.current.getLocaleText("columnHeaderSortIconLabel"),size:"small"},null==(t=o.slotProps)?void 0:t.baseIconButton,{children:l}));return(0,yr.jsxs)(G2,{children:[null!=r&&(0,yr.jsx)(B2,{badgeContent:r,color:"default",children:u}),null==r&&u]})}var _4=t.memo(S4),k4=t.memo((function(e){var n,r,i=e.colDef,a=e.open,o=e.columnMenuId,s=e.columnMenuButtonId,l=e.iconButtonRef,u=tQ(),c=AX(),d=function(e){var t=e.classes;return Cv({root:["menuIcon",e.open&&"menuOpen"],button:["menuIconButton"]},uX,t)}(Jq({},e,{classes:c.classes})),f=t.useCallback((function(e){e.preventDefault(),e.stopPropagation(),u.current.toggleColumnMenu(i.field)}),[u,i.field]);return(0,yr.jsx)("div",{className:d.root,children:(0,yr.jsx)(c.slots.baseTooltip,Jq({title:u.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},null==(n=c.slotProps)?void 0:n.baseTooltip,{children:(0,yr.jsx)(c.slots.baseIconButton,Jq({ref:l,tabIndex:-1,className:d.button,"aria-label":u.current.getLocaleText("columnMenuLabel"),size:"small",onClick:f,"aria-haspopup":"menu","aria-expanded":a,"aria-controls":a?o:void 0,id:s},null==(r=c.slotProps)?void 0:r.baseIconButton,{children:(0,yr.jsx)(c.slots.columnMenuIcon,{fontSize:"small"})}))}))})}));function E4(e){var t=e.columnMenuId,n=e.columnMenuButtonId,r=e.ContentComponent,i=e.contentComponentProps,a=e.field,o=e.open,s=e.target,l=e.onExited,u=tQ(),c=u.current.getColumn(a),d=R3((function(e){e&&(e.stopPropagation(),null!=s&&s.contains(e.target))||u.current.hideColumnMenu()}));return s&&c?(0,yr.jsx)(I1,{placement:"bottom-".concat("right"===c.align?"start":"end"),open:o,target:s,onClose:d,onExited:l,children:(0,yr.jsx)(r,Jq({colDef:c,hideMenu:d,open:o,id:t,labelledby:n},i))}):null}var C4=["className"],M4=UK("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:function(e,t){return t.columnHeaderTitle}})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)"}),T4=t.forwardRef((function(e,t){var n=e.className,r=eX(e,C4),i=AX(),a=Cv({root:["columnHeaderTitle"]},uX,i.classes);return(0,yr.jsx)(M4,Jq({ref:t,className:d(a.root,n),ownerState:i},r))}));function R4(e){var n,r=e.label,i=e.description,a=AX(),o=t.useRef(null),s=M(t.useState(""),2),l=s[0],u=s[1],c=t.useCallback((function(){if(!i&&null!=o&&o.current){var e=(t=o.current).scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth;u(e?r:"")}var t}),[i,r]);return(0,yr.jsx)(a.slots.baseTooltip,Jq({title:i||l},null==(n=a.slotProps)?void 0:n.baseTooltip,{children:(0,yr.jsx)(T4,{onMouseOver:c,ref:o,children:r})}))}var A4=["resizable","resizing","height","side"],P4=function(e){return e.Left="left",e.Right="right",e}(P4||{});function I4(e){var n=e.height,r=e.side,i=void 0===r?P4.Right:r,a=eX(e,A4),o=AX(),s=function(e){var t=e.resizable,n=e.resizing,r=e.classes,i=e.side;return Cv({root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",i&&"columnSeparator--side".concat(tX(i))],icon:["iconSeparator"]},uX,r)}(Jq({},e,{side:i,classes:o.classes})),l=t.useCallback((function(e){e.preventDefault(),e.stopPropagation()}),[]);return(0,yr.jsx)("div",Jq({className:s.root,style:{minHeight:n,opacity:o.showColumnVerticalBorder?0:1}},a,{onClick:l,children:(0,yr.jsx)(o.slots.columnResizeIcon,{className:s.icon})}))}var O4=t.memo(I4),L4=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps"],N4=t.forwardRef((function(e,n){var r=e.classes,i=e.columnMenuOpen,a=e.colIndex,o=e.height,s=e.isResizing,l=e.sortDirection,u=e.hasFocus,c=e.tabIndex,f=e.separatorSide,h=e.isDraggable,p=e.headerComponent,v=e.description,m=e.width,g=e.columnMenuIconButton,y=void 0===g?null:g,b=e.columnMenu,x=void 0===b?null:b,w=e.columnTitleIconButtons,S=void 0===w?null:w,_=e.headerClassName,k=e.label,E=e.resizable,C=e.draggableContainerProps,T=e.columnHeaderSeparatorProps,R=eX(e,L4),A=TX(),P=AX(),I=t.useRef(null),O=M(t.useState(i),2),L=O[0],N=O[1],D=nX(I,n),U="none";return null!=l&&(U="asc"===l?"ascending":"descending"),t.useEffect((function(){L||N(i)}),[L,i]),t.useLayoutEffect((function(){var e=A.current.state.columnMenu;if(u&&!e.open){var t=I.current.querySelector('[tabindex="0"]')||I.current;null==t||t.focus(),A.current.columnHeadersContainerElementRef.current.scrollLeft=0}}),[A,u]),(0,yr.jsxs)("div",Jq({ref:D,className:d(r.root,_),style:{height:o,width:m,minWidth:m,maxWidth:m},role:"columnheader",tabIndex:c,"aria-colindex":a+1,"aria-sort":U,"aria-label":null==p?k:void 0},R,{children:[(0,yr.jsxs)("div",Jq({className:r.draggableContainer,draggable:h,role:"presentation"},C,{children:[(0,yr.jsxs)("div",{className:r.titleContainer,role:"presentation",children:[(0,yr.jsx)("div",{className:r.titleContainerContent,children:void 0!==p?p:(0,yr.jsx)(R4,{label:k,description:v,columnWidth:m})}),S]}),y]})),(0,yr.jsx)(O4,Jq({resizable:!P.disableColumnResize&&!!E,resizing:s,height:o,side:f},T)),x]}))}));function D4(e){var n,r,i,a,o,s=e.colDef,l=e.columnMenuOpen,u=e.colIndex,c=e.headerHeight,d=e.isResizing,f=e.sortDirection,h=e.sortIndex,p=e.filterItemsCounter,v=e.hasFocus,m=e.tabIndex,g=e.disableReorder,y=e.separatorSide,b=TX(),x=AX(),w=t.useRef(null),S=LQ(),_=LQ(),k=t.useRef(null),E=M(t.useState(l),2),C=E[0],T=E[1],R=t.useMemo((function(){return!x.disableColumnReorder&&!g&&!s.disableReorder}),[x.disableColumnReorder,g,s.disableReorder]);s.renderHeader&&(o=s.renderHeader(b.current.getColumnHeaderParams(s.field)));var A=function(e){var t=e.colDef,n=e.classes,r=e.isDragging,i=e.sortDirection,a=e.showRightBorder,o=e.filterItemsCounter,s=null!=i,l=null!=o&&o>0,u="number"===t.type;return Cv({root:["columnHeader","left"===t.headerAlign&&"columnHeader--alignLeft","center"===t.headerAlign&&"columnHeader--alignCenter","right"===t.headerAlign&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",r&&"columnHeader--moving",s&&"columnHeader--sorted",l&&"columnHeader--filtered",u&&"columnHeader--numeric","withBorderColor",a&&"columnHeader--withRightBorder"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]},uX,n)}(Jq({},e,{classes:x.classes,showRightBorder:x.showColumnVerticalBorder})),P=t.useCallback((function(e){return function(t){t.currentTarget.contains(t.target)&&b.current.publishEvent(e,b.current.getColumnHeaderParams(s.field),t)}}),[b,s.field]),I=t.useMemo((function(){return{onClick:P("columnHeaderClick"),onDoubleClick:P("columnHeaderDoubleClick"),onMouseOver:P("columnHeaderOver"),onMouseOut:P("columnHeaderOut"),onMouseEnter:P("columnHeaderEnter"),onMouseLeave:P("columnHeaderLeave"),onKeyDown:P("columnHeaderKeyDown"),onFocus:P("columnHeaderFocus"),onBlur:P("columnHeaderBlur")}}),[P]),O=t.useMemo((function(){return R?{onDragStart:P("columnHeaderDragStart"),onDragEnter:P("columnHeaderDragEnter"),onDragOver:P("columnHeaderDragOver"),onDragEnd:P("columnHeaderDragEnd")}:{}}),[R,P]),L=t.useMemo((function(){return{onMouseDown:P("columnSeparatorMouseDown"),onDoubleClick:P("columnSeparatorDoubleClick")}}),[P]);t.useEffect((function(){C||T(l)}),[C,l]);var N=t.useCallback((function(){T(!1)}),[]),D=!x.disableColumnMenu&&!s.disableColumnMenu&&(0,yr.jsx)(k4,{colDef:s,columnMenuId:S,columnMenuButtonId:_,open:C,iconButtonRef:k}),U=(0,yr.jsx)(E4,{columnMenuId:S,columnMenuButtonId:_,field:s.field,open:l,target:k.current,ContentComponent:x.slots.columnMenu,contentComponentProps:null==(n=x.slotProps)?void 0:n.columnMenu,onExited:N}),F=null!=(r=s.sortingOrder)?r:x.sortingOrder,z=(0,yr.jsxs)(t.Fragment,{children:[!x.disableColumnFilter&&(0,yr.jsx)(x.slots.columnHeaderFilterIconButton,Jq({field:s.field,counter:p},null==(i=x.slotProps)?void 0:i.columnHeaderFilterIconButton)),s.sortable&&!s.hideSortIcons&&(0,yr.jsx)(_4,{direction:f,index:h,sortingOrder:F})]});t.useLayoutEffect((function(){var e=b.current.state.columnMenu;if(v&&!e.open){var t=w.current.querySelector('[tabindex="0"]')||w.current;null==t||t.focus(),b.current.columnHeadersContainerElementRef.current.scrollLeft=0}}),[b,v]);var B="function"===typeof s.headerClassName?s.headerClassName({field:s.field,colDef:s}):s.headerClassName,j=null!=(a=s.headerName)?a:s.field;return(0,yr.jsx)(N4,Jq({ref:w,classes:A,columnMenuOpen:l,colIndex:u,height:c,isResizing:d,sortDirection:f,hasFocus:v,tabIndex:m,separatorSide:y,isDraggable:R,headerComponent:o,description:s.description,elementId:s.field,width:s.computedWidth,columnMenuIconButton:D,columnTitleIconButtons:z,headerClassName:B,label:j,resizable:!x.disableColumnResize&&!!s.resizable,"data-field":s.field,columnMenu:U,draggableContainerProps:O,columnHeaderSeparatorProps:L},I))}var U4=function(e){return e.virtualization},F4=zX(U4,(function(e){return e.enabled})),z4=zX(U4,(function(e){return e.enabledForColumns})),B4=["style"],j4=["style"];function H4(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(t.length<=0)return-1;if(n>=r)return n;var i=n+Math.floor((r-n)/2);return e<=t[i]?H4(e,t,n,i):H4(e,t,i+1,r)}var G4=function(e){var t=e.firstIndex,n=e.lastIndex,r=e.buffer,i=e.minFirstIndex,a=e.maxLastIndex;return[bZ(t-r,i,a),bZ(n+r,i,a)]},V4=function(e,t){return e===t||e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex},W4={maxSize:3},q4=function(e){var n,r,i=TX(),a=AX(),o=CX(i,KX),s=CX(i,F4),l=CX(i,z4),u=e.ref,c=e.onRenderZonePositioning,d=e.renderZoneMinColumnIndex,f=void 0===d?0:d,h=e.renderZoneMaxColumnIndex,p=void 0===h?o.length:h,v=e.getRowProps,m=Ra(),g=CX(i,QX),y=CX(i,$X),b=CX(i,iZ),x=CX(i,lZ),w=CX(i,a3),S=CX(i,lQ),_=P3(i,a),E=t.useRef(null),C=t.useRef(null),T=nX(u,C),R=M(t.useState(null),2),A=R[0],P=R[1],I=t.useRef(A),O=t.useRef({top:0,left:0}),L=M(t.useState({width:null,height:null}),2),N=L[0],D=L[1],U=t.useRef(y),F=M(t.useState(null),2),z=F[0],B=F[1],j=t.useRef(Object.create(null)),H=t.useRef(),G=t.useRef(),V=t.useRef(OX((function(e,t,n,r,i,a){var o;return a>-1&&(t>a&&a>=r||n<a&&a<i)&&(o=a),{focusedCellColumnIndexNotInRange:o,renderedColumns:e.slice(t,n)}}),W4)),W=t.useMemo((function(){return null!==b?o.findIndex((function(e){return e.field===b.field})):-1}),[b,o]),q=t.useCallback((function(e){var t,n,r=i.current.getLastMeasuredRowIndex(),a=r===1/0;null!=(t=_.range)&&t.lastRowIndex&&!a&&(a=r>=_.range.lastRowIndex);var o=bZ(r-((null==(n=_.range)?void 0:n.firstRowIndex)||0),0,w.positions.length);return a||w.positions[o]>=e?H4(e,w.positions):function(e,t,n){for(var r=1;n<t.length&&Math.abs(t[n])<e;)n+=r,r*=2;return H4(e,t,Math.floor(n/2),Math.min(n,t.length))}(e,w.positions,o)}),[i,null==(n=_.range)?void 0:n.firstRowIndex,null==(r=_.range)?void 0:r.lastRowIndex,w.positions]),X=t.useCallback((function(){if(!s)return{firstRowIndex:0,lastRowIndex:_.rows.length,firstColumnIndex:0,lastColumnIndex:o.length};var e=O.current,t=e.top,n=e.left,r=Math.min(q(t),w.positions.length-1),u=a.autoHeight?r+_.rows.length:q(t+N.height),c=0,d=g.length;if(l){for(var f=!1,h=M(G4({firstIndex:r,lastIndex:u,minFirstIndex:0,maxLastIndex:_.rows.length,buffer:a.rowBuffer}),2),p=h[0],v=h[1],m=p;m<v&&!f;m+=1){var y=_.rows[m];f=i.current.rowHasAutoHeight(y.id)}f||(c=H4(Math.abs(n),g),d=H4(Math.abs(n)+N.width,g))}return{firstRowIndex:r,lastRowIndex:u,firstColumnIndex:c,lastColumnIndex:d}}),[s,l,q,w.positions.length,a.autoHeight,a.rowBuffer,_.rows,g,o.length,i,N]);rX((function(){s?(C.current.scrollLeft=0,C.current.scrollTop=0):E.current.style.transform="translate3d(0px, 0px, 0px)"}),[s]),rX((function(){D({width:C.current.clientWidth,height:C.current.clientHeight})}),[w.currentPageTotalHeight]);var Y=t.useCallback((function(){C.current&&D({width:C.current.clientWidth,height:C.current.clientHeight})}),[]);NZ(i,"debouncedResize",Y);var K=t.useCallback((function(e){var t=M(G4({firstIndex:e.firstRowIndex,lastIndex:e.lastRowIndex,minFirstIndex:0,maxLastIndex:_.rows.length,buffer:a.rowBuffer}),2),n=t[0],r=t[1],o=G1({firstColumnToRender:M(G4({firstIndex:e.firstColumnIndex,lastIndex:e.lastColumnIndex,minFirstIndex:f,maxLastIndex:p,buffer:a.columnBuffer}),1)[0],apiRef:i,firstRowToRender:n,lastRowToRender:r,visibleRows:_.rows}),s="ltr"===m.direction?1:-1,l=a3(i.current.state).positions[n],u=s*QX(i)[o];E.current.style.transform="translate3d(".concat(u,"px, ").concat(l,"px, 0px)"),"function"===typeof c&&c({top:l,left:u})}),[i,_.rows,c,f,p,a.columnBuffer,a.rowBuffer,m.direction]),Z=t.useCallback((function(){return I.current}),[]),Q=t.useCallback((function(e){if(I.current&&V4(e,I.current))K(e);else{P(e),K(e);var t=M(G4({firstIndex:e.firstRowIndex,lastIndex:e.lastRowIndex,minFirstIndex:0,maxLastIndex:_.rows.length,buffer:a.rowBuffer}),2),n=t[0],r=t[1];i.current.publishEvent("renderedRowsIntervalChange",{firstRowToRender:n,lastRowToRender:r}),I.current=e}}),[i,P,I,_.rows.length,a.rowBuffer,K]);rX((function(){if(null!=N.width){var e=X();Q(e);var t=O.current,n={top:t.top,left:t.left,renderContext:e};i.current.publishEvent("scrollPositionChange",n)}}),[i,X,N.width,Q]);var $=R3((function(e){var t=e.currentTarget,n=t.scrollTop,r=t.scrollLeft;if(O.current.top=n,O.current.left=r,I.current&&!(n<0)&&!("ltr"===m.direction&&r<0)&&!("rtl"===m.direction&&r>0)){var o=s?X():I.current,l=Math.abs(o.firstRowIndex-I.current.firstRowIndex),u=Math.abs(o.lastRowIndex-I.current.lastRowIndex),c=Math.abs(o.firstColumnIndex-I.current.firstColumnIndex),d=Math.abs(o.lastColumnIndex-I.current.lastColumnIndex),f=l>=a.rowThreshold||u>=a.rowThreshold||c>=a.columnThreshold||d>=a.columnThreshold||U.current!==y;i.current.publishEvent("scrollPositionChange",{top:n,left:r,renderContext:f?o:I.current},e),f&&(Ts.flushSync((function(){Q(o)})),U.current=y)}})),J=R3((function(e){i.current.publishEvent("virtualScrollerWheel",{},e)})),ee=R3((function(e){i.current.publishEvent("virtualScrollerTouchMove",{},e)})),te=t.useMemo((function(){return null!==b?_.rows.findIndex((function(e){return e.id===b.id})):-1}),[b,_.rows]);NZ(i,"rowMouseOver",(function(e,t){var n;t.currentTarget.contains(t.relatedTarget)||B(null!=(n=e.id)?n:null)})),NZ(i,"rowMouseOut",(function(e,t){t.currentTarget.contains(t.relatedTarget)||B(null)}));var ne=N.width&&y>=N.width,re=t.useMemo((function(){var e=Math.max(w.currentPageTotalHeight,1),t=!1;null!=C&&C.current&&e<=(null==C?void 0:C.current.clientHeight)&&(t=!0);var n={width:ne?y:"auto",height:e,minHeight:t?"100%":"auto"};return a.autoHeight&&0===_.rows.length&&(n.height=E0(i,a.rowHeight)),n}),[i,C,y,w.currentPageTotalHeight,ne,a.autoHeight,a.rowHeight,_.rows.length]);t.useEffect((function(){i.current.publishEvent("virtualScrollerContentSizeChange")}),[i,re]);var ie=t.useMemo((function(){var e={};return ne||(e.overflowX="hidden"),a.autoHeight&&(e.overflowY="hidden"),e}),[ne,a.autoHeight]);return i.current.register("private",{getRenderContext:Z}),{renderContext:A,updateRenderZonePosition:K,getRows:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{renderContext:A},n=t.onRowRender,r=t.renderContext,l=t.minFirstColumn,u=void 0===l?f:l,c=t.maxLastColumn,d=void 0===c?p:c,h=t.availableSpace,m=void 0===h?N.width:h,g=t.rowIndexOffset,y=void 0===g?0:g,w=t.position,E=void 0===w?"center":w;if(!r||null==m)return null;var C=s?a.rowBuffer:0,T=s?a.columnBuffer:0,R=M(G4({firstIndex:r.firstRowIndex,lastIndex:r.lastRowIndex,minFirstIndex:0,maxLastIndex:_.rows.length,buffer:C}),2),P=R[0],I=R[1],O=[];if(t.rows)t.rows.forEach((function(e){O.push(e),i.current.calculateColSpan({rowId:e.id,minFirstColumn:u,maxLastColumn:d,columns:o})}));else{if(!_.range)return null;for(var L=P;L<I;L+=1){var D=_.rows[L];O.push(D),i.current.calculateColSpan({rowId:D.id,minFirstColumn:u,maxLastColumn:d,columns:o})}}var U=!1;if(te>-1){var F=_.rows[te];(P>te||I<te)&&(U=!0,te>P?O.push(F):O.unshift(F),i.current.calculateColSpan({rowId:F.id,minFirstColumn:u,maxLastColumn:d,columns:o}))}var B=M(G4({firstIndex:r.firstColumnIndex,lastIndex:r.lastColumnIndex,minFirstIndex:u,maxLastIndex:d,buffer:T}),2),q=B[0],X=B[1],Y=G1({firstColumnToRender:q,apiRef:i,firstRowToRender:P,lastRowToRender:I,visibleRows:_.rows}),K=!1;(Y>W||X<W)&&(K=!0);var Z=V.current(o,Y,X,u,d,K?W:-1),Q=Z.focusedCellColumnIndexNotInRange,$=Z.renderedColumns,J=(null==(e=a.slotProps)?void 0:e.row)||{},ee=J.style,ne=eX(J,B4);(H.current!==v||G.current!==ee)&&(j.current=Object.create(null));for(var re=[],ie=0;ie<O.length;ie+=1){var ae,oe=O[ie],se=oe.id,le=oe.model,ue=U&&b.id===se,ce=U?P+ie===_.rows.length:P+ie===_.rows.length-1,de=i.current.rowHasAutoHeight(se)?"auto":i.current.unstable_getRowHeight(se),fe=void 0;fe=null!=S[se]&&i.current.isRowSelectable(se),n&&n(se);var he=null!==b&&b.id===se?b.field:null,pe=void 0!==Q&&o[Q],ve=pe&&he?[pe].concat(k($)):$,me=null;if(null!==x&&x.id===se)me="view"===i.current.getCellParams(se,x.field).cellMode?x.field:null;var ge="function"===typeof v&&v(se,le)||{},ye=ge.style,be=eX(ge,j4);if(!j.current[se]){var xe=Jq({},ye,ee);j.current[se]=xe}re.push((0,yr.jsx)(a.slots.row,Jq({row:le,rowId:se,focusedCellColumnIndexNotInRange:Q,isNotVisible:ue,rowHeight:de,focusedCell:he,tabbableCell:me,renderedColumns:ve,visibleColumns:o,firstColumnToRender:Y,lastColumnToRender:X,selected:fe,index:y+((null==_||null==(ae=_.range)?void 0:ae.firstRowIndex)||0)+P+ie,containerWidth:m,isLastVisible:ce,position:E},be,ne,{hovered:z===se,style:j.current[se]}),se))}return H.current=v,G.current=ee,re},getRootProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Jq({ref:T,onScroll:$,onWheel:J,onTouchMove:ee},e,{style:e.style?Jq({},e.style,ie):ie,role:"presentation"})},getContentProps:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).style;return{style:e?Jq({},e,re):re,role:"presentation"}},getRenderZoneProps:function(){return{ref:E,role:"rowgroup"}}}};function X4(e){var n,r,i=e.groupId,a=e.width,o=e.depth,s=e.maxDepth,l=e.fields,u=e.height,c=e.colIndex,d=e.hasFocus,f=e.tabIndex,h=e.isLastColumn,p=AX(),v=t.useRef(null),m=tQ(),g=CX(m,rY),y=i?g[i]:{},b=y.headerName,x=void 0===b?null!=i?i:"":b,w=y.description,S=void 0===w?"":w,_=y.headerAlign,k=void 0===_?void 0:_,E=i&&(null==(n=g[i])?void 0:n.renderHeaderGroup),C=t.useMemo((function(){return{groupId:i,headerName:x,description:S,depth:o,maxDepth:s,fields:l,colIndex:c,isLastColumn:h}}),[i,x,S,o,s,l,c,h]);i&&E&&(r=E(C));var M=p.showColumnVerticalBorder,T=Jq({},e,{classes:p.classes,showColumnBorder:M,headerAlign:k,depth:o,isDragging:!1}),R=null!=x?x:i,A=LQ(),P=null===i?"empty-group-cell-".concat(A):i,I=function(e){var t=e.classes,n=e.headerAlign,r=e.isDragging,i=e.showColumnBorder;return Cv({root:["columnHeader","left"===n&&"columnHeader--alignLeft","center"===n&&"columnHeader--alignCenter","right"===n&&"columnHeader--alignRight",r&&"columnHeader--moving",i&&"columnHeader--showColumnBorder",i&&"columnHeader--withRightBorder","withBorderColor",null===e.groupId?"columnHeader--emptyGroup":"columnHeader--filledGroup"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]},uX,t)}(T);t.useLayoutEffect((function(){if(d){var e=v.current.querySelector('[tabindex="0"]')||v.current;null==e||e.focus()}}),[m,d]);var O=t.useCallback((function(e){return function(t){t.currentTarget.contains(t.target)&&m.current.publishEvent(e,C,t)}}),[m,C]),L=t.useMemo((function(){return{onKeyDown:O("columnGroupHeaderKeyDown"),onFocus:O("columnGroupHeaderFocus"),onBlur:O("columnGroupHeaderBlur")}}),[O]),N="function"===typeof y.headerClassName?y.headerClassName(C):y.headerClassName;return(0,yr.jsx)(N4,Jq({ref:v,classes:I,columnMenuOpen:!1,colIndex:c,height:u,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:f,isDraggable:!1,headerComponent:r,headerClassName:N,description:S,elementId:P,width:a,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:R,"aria-colspan":l.length,"data-fields":"|-".concat(l.join("-|-"),"-|")},L))}var Y4=rr("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:function(e,t){return t.columnHeaderRow}})((function(){return{display:"flex"}}));var K4=["className"],Z4=UK("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:function(e,t){return t.columnHeaders}})({position:"relative",overflow:"hidden",display:"flex",alignItems:"center",boxSizing:"border-box",borderBottom:"1px solid",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),Q4=t.forwardRef((function(e,t){var n=e.className,r=eX(e,K4),i=AX(),a=Cv({root:["columnHeaders","withBorderColor"]},uX,i.classes);return(0,yr.jsx)(Z4,Jq({ref:t,className:d(n,a.root),ownerState:i},r,{role:"presentation"}))})),$4=["isDragging","className"],J4=UK("div",{name:"MuiDataGrid",slot:"columnHeadersInner",overridesResolver:function(e,t){return[s({},"&.".concat(dX.columnHeaderDropZone),t.columnHeaderDropZone),t.columnHeadersInner]}})((function(){var e;return s(e={display:"flex",alignItems:"flex-start",flexDirection:"column"},"&.".concat(dX.columnHeaderDropZone," .").concat(dX.columnHeaderDraggableContainer),{cursor:"move"}),s(e,"&.".concat(dX["columnHeadersInner--scrollable"]," .").concat(dX.columnHeader,":last-child"),{borderRight:"none"}),e})),e8=t.forwardRef((function(e,t){var n,r,i=e.isDragging,a=e.className,o=eX(e,$4),s=tQ(),l=Jq({},AX(),{isDragging:i,hasScrollX:null!=(n=null==(r=s.current.getRootDimensions())?void 0:r.hasScrollX)&&n}),u=function(e){return Cv({root:["columnHeadersInner",e.isDragging&&"columnHeaderDropZone",e.hasScrollX&&"columnHeadersInner--scrollable"]},uX,e.classes)}(l);return(0,yr.jsx)(J4,Jq({ref:t,className:d(a,u.root),ownerState:l},o))})),t8=["innerRef","className","visibleColumns","sortColumnLookup","filterColumnLookup","columnPositions","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","densityFactor","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],n8=t.forwardRef((function(e,n){var r=e.innerRef,i=e.visibleColumns,a=e.sortColumnLookup,o=e.filterColumnLookup,s=e.columnPositions,l=e.columnHeaderTabIndexState,u=e.columnGroupHeaderTabIndexState,c=e.columnHeaderFocus,d=e.columnGroupHeaderFocus,f=e.densityFactor,h=e.headerGroupingMaxDepth,p=e.columnMenuState,v=e.columnVisibility,m=e.columnGroupsHeaderStructure,g=e.hasOtherElementInTabSequence,y=eX(e,t8),b=function(e){var n=e.innerRef,r=e.minColumnIndex,i=void 0===r?0:r,a=e.visibleColumns,o=e.sortColumnLookup,s=e.filterColumnLookup,l=e.columnPositions,u=e.columnHeaderTabIndexState,c=e.columnGroupHeaderTabIndexState,d=e.columnHeaderFocus,f=e.columnGroupHeaderFocus,h=e.densityFactor,p=e.headerGroupingMaxDepth,v=e.columnMenuState,m=e.columnVisibility,g=e.columnGroupsHeaderStructure,y=e.hasOtherElementInTabSequence,b=Ra(),x=M(t.useState(""),2),w=x[0],S=x[1],_=M(t.useState(""),2),k=_[0],E=_[1],C=TX(),T=CX(C,z4),R=AX(),A=t.useRef(null),P=nX(n,A),I=M(t.useState(null),2),O=I[0],L=I[1],N=t.useRef(O),D=t.useRef(0),U=P3(C,R),F=W1(C,R.columnHeaderHeight),z=Math.floor(R.columnHeaderHeight*h),B=t.useCallback((function(e){O&&e&&V4(O,e)||L(e)}),[O]);t.useEffect((function(){C.current.columnHeadersContainerElementRef.current.scrollLeft=0}),[C]);var j=t.useRef(OX(V1,{equalityCheck:function(e,t){return["firstColumnIndex","minColumnIndex","columnBuffer"].every((function(n){return e[n]===t[n]}))}})),H=t.useCallback((function(e){var t=M(G4({firstIndex:e.firstRowIndex,lastIndex:e.lastRowIndex,minFirstIndex:0,maxLastIndex:U.rows.length,buffer:R.rowBuffer}),2),n=t[0],r=t[1],a=j.current({firstColumnIndex:e.firstColumnIndex,minColumnIndex:i,columnBuffer:R.columnBuffer,firstRowToRender:n,lastRowToRender:r,apiRef:C,visibleRows:U.rows}),o="ltr"===b.direction?1:-1,s=a>0?D.current-o*l[a]:D.current;A.current.style.transform="translate3d(".concat(-s,"px, 0px, 0px)")}),[l,i,R.columnBuffer,C,U.rows,R.rowBuffer,b.direction]);t.useLayoutEffect((function(){O&&H(O)}),[O,H]);var G=t.useCallback((function(e,t){var n,r,i=e.left,a=e.renderContext,o=void 0===a?null:a;if(A.current&&(D.current!==i||(null==(n=N.current)?void 0:n.firstColumnIndex)!==(null==o?void 0:o.firstColumnIndex)||(null==(r=N.current)?void 0:r.lastColumnIndex)!==(null==o?void 0:o.lastColumnIndex))){D.current=i;var s=!1;o===N.current&&N.current?s=!0:(function(e){return!!e.target}(t)?(Ts.flushSync((function(){B(o)})),s=!0):B(o),N.current=o),o&&s&&H(o)}}),[H,B]),V=t.useCallback((function(e){return E(e.field)}),[]),W=t.useCallback((function(){return E("")}),[]),q=t.useCallback((function(e){return S(e.field)}),[]),X=t.useCallback((function(){return S("")}),[]);NZ(C,"columnResizeStart",V),NZ(C,"columnResizeStop",W),NZ(C,"columnHeaderDragStart",q),NZ(C,"columnHeaderDragEnd",X),NZ(C,"scrollPositionChange",G);var Y=function(e){var t=e||{},n=t.renderContext,r=void 0===n?O:n,o=t.minFirstColumn,s=void 0===o?i:o,l=t.maxLastColumn,u=void 0===l?a.length:l;if(!r)return null;var c=M(G4({firstIndex:r.firstRowIndex,lastIndex:r.lastRowIndex,minFirstIndex:0,maxLastIndex:U.rows.length,buffer:R.rowBuffer}),2),d=c[0],f=c[1],h=T?j.current({firstColumnIndex:r.firstColumnIndex,minColumnIndex:s,columnBuffer:R.columnBuffer,apiRef:C,firstRowToRender:d,lastRowToRender:f,visibleRows:U.rows}):0,p=T?Math.min(r.lastColumnIndex+R.columnBuffer,u):u;return{renderedColumns:a.slice(h,p),firstColumnToRender:h,lastColumnToRender:p,minFirstColumn:s,maxLastColumn:u}},K={minHeight:F,maxHeight:F,lineHeight:"".concat(z,"px")};return{renderContext:O,getColumnHeaders:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Y(e);if(null==n)return null;for(var r=n.renderedColumns,i=n.firstColumnToRender,a=[],l=0;l<r.length;l+=1){var c=r[l],f=i+l,h=0===f,m=null!==u&&u.field===c.field||h&&!y?0:-1,g=null!==d&&d.field===c.field,b=v.open&&v.field===c.field;a.push((0,yr.jsx)(D4,Jq({},o[c.field],{columnMenuOpen:b,filterItemsCounter:s[c.field]&&s[c.field].length,headerHeight:z,isDragging:c.field===w,colDef:c,colIndex:f,isResizing:k===c.field,hasFocus:g,tabIndex:m},t),c.field))}return(0,yr.jsx)(Y4,{role:"row","aria-rowindex":p+1,ownerState:R,children:a})},getColumnsToRender:Y,getColumnGroupHeaders:function(e){if(0===p)return null;var t=Y(e);if(null==t||0===t.renderedColumns.length)return null;for(var n,r,i=t.firstColumnToRender,o=t.lastColumnToRender,s=[],l=[],u=function(e){var t=g[e],s=a[i].field,u=null!=(n=C.current.unstable_getColumnGroupPath(s)[e])?n:null,d=t.findIndex((function(e){var t=e.groupId,n=e.columnFields;return t===u&&n.includes(s)})),h=a[o-1].field,p=null!=(r=C.current.unstable_getColumnGroupPath(h)[e])?r:null,v=t.findIndex((function(e){var t=e.groupId,n=e.columnFields;return t===p&&n.includes(h)})),y=t.slice(d,v+1).map((function(e){return Jq({},e,{columnFields:e.columnFields.filter((function(e){return!1!==m[e]}))})})).filter((function(e){return e.columnFields.length>0})),b=y[0].columnFields.indexOf(s),x=y[0].columnFields.slice(0,b).reduce((function(e,t){var n;return e+(null!=(n=C.current.getColumn(t).computedWidth)?n:0)}),0),w=i,S=y.map((function(t){var n=t.groupId,r=t.columnFields,i=null!==f&&f.depth===e&&r.includes(f.field),a=null!==c&&c.depth===e&&r.includes(c.field)?0:-1,o={groupId:n,width:r.reduce((function(e,t){return e+C.current.getColumn(t).computedWidth}),0),fields:r,colIndex:w,hasFocus:i,tabIndex:a};return w+=r.length,o}));l.push({leftOverflow:x,elements:S})},d=0;d<p;d+=1)u(d);return l.forEach((function(e,t){s.push((0,yr.jsx)(Y4,{style:{height:"".concat(z,"px"),transform:"translateX(-".concat(e.leftOverflow,"px)")},role:"row","aria-rowindex":t+1,ownerState:R,children:e.elements.map((function(e,n){var r=e.groupId,i=e.width,o=e.fields,s=e.colIndex,u=e.hasFocus,c=e.tabIndex;return(0,yr.jsx)(X4,{groupId:r,width:i,fields:o,colIndex:s,depth:t,isLastColumn:s===a.length-o.length,maxDepth:l.length,height:z,hasFocus:u,tabIndex:c},n)}))},t))})),s},isDragging:!!w,getRootProps:function(){return Jq({style:K},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},getInnerProps:function(){return{ref:P,role:"rowgroup"}},headerHeight:z}}({innerRef:r,visibleColumns:i,sortColumnLookup:a,filterColumnLookup:o,columnPositions:s,columnHeaderTabIndexState:l,columnGroupHeaderTabIndexState:u,columnHeaderFocus:c,columnGroupHeaderFocus:d,densityFactor:f,headerGroupingMaxDepth:h,columnMenuState:p,columnVisibility:v,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:g}),x=b.isDragging,w=b.getRootProps,S=b.getInnerProps,_=b.getColumnHeaders,k=b.getColumnGroupHeaders;return(0,yr.jsx)(Q4,Jq({ref:n},w(y),{children:(0,yr.jsxs)(e8,Jq({isDragging:x},S(),{children:[k(),_()]}))}))})),r8=l4(n8),i8=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],a8=rr("div",{name:"MuiDivider",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((function(e){var t=e.theme,n=e.ownerState;return u({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):y(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(function(e){return u({},e.ownerState.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}})}),(function(e){var t=e.theme,n=e.ownerState;return u({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider)}})}),(function(e){var t=e.theme,n=e.ownerState;return u({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider)}})}),(function(e){var t=e.ownerState;return u({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),o8=rr("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:function(e,t){var n=e.ownerState;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((function(e){var t=e.theme,n=e.ownerState;return u({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===n.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})})),s8=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiDivider"}),r=n.absolute,i=void 0!==r&&r,a=n.children,o=n.className,s=n.component,c=void 0===s?a?"div":"hr":s,h=n.flexItem,p=void 0!==h&&h,v=n.light,m=void 0!==v&&v,g=n.orientation,y=void 0===g?"horizontal":g,b=n.role,x=void 0===b?"hr"!==c?"separator":void 0:b,w=n.textAlign,S=void 0===w?"center":w,_=n.variant,k=void 0===_?"fullWidth":_,E=l(n,i8),C=u({},n,{absolute:i,component:c,flexItem:p,light:m,orientation:y,role:x,textAlign:S,variant:k}),M=function(e){var t=e.absolute,n=e.children,r=e.classes,i=e.flexItem,a=e.light,o=e.orientation,s=e.textAlign;return f({root:["root",t&&"absolute",e.variant,a&&"light","vertical"===o&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===o&&"withChildrenVertical","right"===s&&"vertical"!==o&&"textAlignRight","left"===s&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]},hc,r)}(C);return(0,yr.jsx)(a8,u({as:c,className:d(M.root,o),role:x,ref:t,ownerState:C},E,{children:a?(0,yr.jsx)(o8,{className:M.wrapper,ownerState:C,children:a}):null}))}));s8.muiSkipListHighlight=!0;var l8=s8,u8=["displayOrder"],c8=["hideMenu","colDef","id","labelledby","className","children","open"],d8=rr(_s)((function(){return{minWidth:248}})),f8=t.forwardRef((function(e,n){var r=e.hideMenu,i=e.id,a=e.labelledby,o=e.className,s=e.children,l=e.open,u=eX(e,c8),c=t.useCallback((function(e){var t;QZ(e.key)&&e.preventDefault(),t=e.key,(QZ(t)||KZ(t))&&r(e)}),[r]);return(0,yr.jsx)(d8,Jq({id:i,ref:n,className:d(dX.menuList,o),"aria-labelledby":a,onKeyDown:c,autoFocus:l},u,{children:s}))})),h8=["className"],p8=rr("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((function(e){var t=e.theme,n=e.ownerState;return u({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})})),v8=t.forwardRef((function(e,n){var r=ur({props:e,name:"MuiListItemIcon"}),i=r.className,a=l(r,h8),o=u({},r,{alignItems:t.useContext(ls).alignItems}),s=function(e){return f({root:["root","flex-start"===e.alignItems&&"alignItemsFlexStart"]},vc,e.classes)}(o);return(0,yr.jsx)(p8,u({className:d(s.root,i),ownerState:o,ref:n},a))})),m8=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],g8=rr("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[s({},"& .".concat(yc.primary),t.primary),s({},"& .".concat(yc.secondary),t.secondary),t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((function(e){var t=e.ownerState;return u({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),y8=t.forwardRef((function(e,n){var r=ur({props:e,name:"MuiListItemText"}),i=r.children,a=r.className,o=r.disableTypography,s=void 0!==o&&o,c=r.inset,h=void 0!==c&&c,p=r.primary,v=r.primaryTypographyProps,m=r.secondary,g=r.secondaryTypographyProps,y=l(r,m8),b=t.useContext(ls).dense,x=null!=p?p:i,w=m,S=u({},r,{disableTypography:s,inset:h,primary:!!x,secondary:!!w,dense:b}),_=function(e){var t=e.classes,n=e.inset,r=e.primary,i=e.secondary;return f({root:["root",n&&"inset",e.dense&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},gc,t)}(S);return null==x||x.type===ia||s||(x=(0,yr.jsx)(ia,u({variant:b?"body2":"body1",className:_.primary,component:null!=v&&v.variant?void 0:"span",display:"block"},v,{children:x}))),null==w||w.type===ia||s||(w=(0,yr.jsx)(ia,u({variant:"body2",className:_.secondary,color:"text.secondary",display:"block"},g,{children:w}))),(0,yr.jsxs)(g8,u({className:d(_.root,a),ownerState:S,ref:n},y,{children:[x,w]}))}));function b8(e){var n=e.colDef,r=e.onClick,i=tQ(),a=AX(),o=1===KX(i).filter((function(e){return!0!==e.disableColumnMenu})).length,s=t.useCallback((function(e){o||(i.current.setColumnVisibility(n.field,!1),r(e))}),[i,n.field,r,o]);return a.disableColumnSelector||!1===n.hideable?null:(0,yr.jsxs)(kc,{onClick:s,disabled:o,children:[(0,yr.jsx)(v8,{children:(0,yr.jsx)(a.slots.columnMenuHideIcon,{fontSize:"small"})}),(0,yr.jsx)(y8,{children:i.current.getLocaleText("columnMenuHideColumn")})]})}function x8(e){var n=e.onClick,r=tQ(),i=AX(),a=t.useCallback((function(e){n(e),r.current.showPreferences(q1.columns)}),[r,n]);return i.disableColumnSelector?null:(0,yr.jsxs)(kc,{onClick:a,children:[(0,yr.jsx)(v8,{children:(0,yr.jsx)(i.slots.columnMenuManageColumnsIcon,{fontSize:"small"})}),(0,yr.jsx)(y8,{children:r.current.getLocaleText("columnMenuManageColumns")})]})}var w8=["defaultSlots","defaultSlotProps","slots","slotProps"],S8={columnMenuSortItem:function(e){var n,r=e.colDef,i=e.onClick,a=tQ(),o=CX(a,GK),s=AX(),l=t.useMemo((function(){if(!r)return null;var e=o.find((function(e){return e.field===r.field}));return null==e?void 0:e.sort}),[r,o]),u=null!=(n=r.sortingOrder)?n:s.sortingOrder,c=t.useCallback((function(e){i(e);var t=e.currentTarget.getAttribute("data-value")||null;a.current.sortColumn(r,t===l?null:t)}),[a,r,i,l]);return r&&r.sortable&&u.some((function(e){return!!e}))?(0,yr.jsxs)(t.Fragment,{children:[u.includes("asc")&&"asc"!==l?(0,yr.jsxs)(kc,{onClick:c,"data-value":"asc",children:[(0,yr.jsx)(v8,{children:(0,yr.jsx)(s.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),(0,yr.jsx)(y8,{children:a.current.getLocaleText("columnMenuSortAsc")})]}):null,u.includes("desc")&&"desc"!==l?(0,yr.jsxs)(kc,{onClick:c,"data-value":"desc",children:[(0,yr.jsx)(v8,{children:(0,yr.jsx)(s.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),(0,yr.jsx)(y8,{children:a.current.getLocaleText("columnMenuSortDesc")})]}):null,u.includes(null)&&null!=l?(0,yr.jsxs)(kc,{onClick:c,children:[(0,yr.jsx)(v8,{}),(0,yr.jsx)(y8,{children:a.current.getLocaleText("columnMenuUnsort")})]}):null]}):null},columnMenuFilterItem:function(e){var n=e.colDef,r=e.onClick,i=tQ(),a=AX(),o=t.useCallback((function(e){r(e),i.current.showFilterPanel(n.field)}),[i,n.field,r]);return a.disableColumnFilter||!n.filterable?null:(0,yr.jsxs)(kc,{onClick:o,children:[(0,yr.jsx)(v8,{children:(0,yr.jsx)(a.slots.columnMenuFilterIcon,{fontSize:"small"})}),(0,yr.jsx)(y8,{children:i.current.getLocaleText("columnMenuFilter")})]})},columnMenuColumnsItem:function(e){return(0,yr.jsxs)(t.Fragment,{children:[(0,yr.jsx)(b8,Jq({},e)),(0,yr.jsx)(x8,Jq({},e))]})}},_8={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},k8=t.forwardRef((function(e,n){var r=e.defaultSlots,i=e.defaultSlotProps,a=e.slots,o=e.slotProps,s=eX(e,w8),l=function(e){var n=TX(),r=e.defaultSlots,i=e.defaultSlotProps,a=e.slots,o=void 0===a?{}:a,s=e.slotProps,l=void 0===s?{}:s,u=e.hideMenu,c=e.colDef,d=e.addDividers,f=void 0===d||d,h=t.useMemo((function(){return Jq({},r,o)}),[r,o]),p=t.useMemo((function(){if(!l||0===Object.keys(l).length)return i;var e=Jq({},l);return Object.entries(i).forEach((function(t){var n=M(t,2),r=n[0],i=n[1];e[r]=Jq({},i,l[r]||{})})),e}),[i,l]),v=n.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),m=t.useMemo((function(){var e=Object.keys(r);return Object.keys(o).filter((function(t){return!e.includes(t)}))}),[o,r]);return t.useMemo((function(){var e=Array.from(new Set([].concat(k(v),k(m)))).filter((function(e){return null!=h[e]})).sort((function(e,t){var n=p[e],r=p[t];return(Number.isFinite(null==n?void 0:n.displayOrder)?n.displayOrder:100)-(Number.isFinite(null==r?void 0:r.displayOrder)?r.displayOrder:100)}));return e.reduce((function(t,n,r){var i={colDef:c,onClick:u},a=p[n];return a&&(i=Jq({},i,eX(a,u8))),f&&r!==e.length-1?[].concat(k(t),[[h[n],i],[l8,{}]]):[].concat(k(t),[[h[n],i]])}),[])}),[f,c,v,u,h,p,m])}(Jq({},s,{defaultSlots:r,defaultSlotProps:i,slots:a,slotProps:o}));return(0,yr.jsx)(f8,Jq({ref:n},s,{children:l.map((function(e,t){var n=M(e,2),r=n[0],i=n[1];return(0,yr.jsx)(r,Jq({},i),t)}))}))})),E8=t.forwardRef((function(e,t){return(0,yr.jsx)(k8,Jq({},e,{ref:t,defaultSlots:S8,defaultSlotProps:_8}))})),C8=t.forwardRef((function(e,t){var n=tQ().current.getLocaleText("noResultsOverlayLabel");return(0,yr.jsx)(w5,Jq({ref:t},e,{children:n}))}));function M8(e){return vr("PrivateSwitchBase",e)}mr("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var T8=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],R8=rr(_i)((function(e){var t=e.ownerState;return u({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),A8=rr("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),P8=t.forwardRef((function(e,t){var n=e.autoFocus,r=e.checked,i=e.checkedIcon,a=e.className,o=e.defaultChecked,s=e.disabled,c=e.disableFocusRipple,h=void 0!==c&&c,p=e.edge,v=void 0!==p&&p,m=e.icon,g=e.id,y=e.inputProps,b=e.inputRef,x=e.name,w=e.onBlur,S=e.onChange,_=e.onFocus,k=e.readOnly,E=e.required,C=void 0!==E&&E,T=e.tabIndex,R=e.type,A=e.value,P=l(e,T8),I=M(nu({controlled:r,default:Boolean(o),name:"SwitchBase",state:"checked"}),2),O=I[0],L=I[1],N=jo(),D=s;N&&"undefined"===typeof D&&(D=N.disabled);var U="checkbox"===R||"radio"===R,F=u({},e,{checked:O,disabled:D,disableFocusRipple:h,edge:v}),z=function(e){var t=e.classes,n=e.checked,r=e.disabled,i=e.edge;return f({root:["root",n&&"checked",r&&"disabled",i&&"edge".concat(cr(i))],input:["input"]},M8,t)}(F);return(0,yr.jsxs)(R8,u({component:"span",className:d(z.root,a),centerRipple:!0,focusRipple:!h,disabled:D,tabIndex:null,role:void 0,onFocus:function(e){_&&_(e),N&&N.onFocus&&N.onFocus(e)},onBlur:function(e){w&&w(e),N&&N.onBlur&&N.onBlur(e)},ownerState:F,ref:t},P,{children:[(0,yr.jsx)(A8,u({autoFocus:n,checked:r,defaultChecked:o,className:z.input,disabled:D,id:U?g:void 0,name:x,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var t=e.target.checked;L(t),S&&S(e,t)}},readOnly:k,ref:b,required:C,ownerState:F,tabIndex:T,type:R},"checkbox"===R&&void 0===A?{}:{value:A},y)),O?i:m]}))})),I8=P8,O8=Ni((0,yr.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),L8=Ni((0,yr.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),N8=Ni((0,yr.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function D8(e){return vr("MuiCheckbox",e)}var U8=mr("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),F8=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],z8=rr(I8,{shouldForwardProp:function(e){return tr(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.indeterminate&&t.indeterminate,"default"!==n.color&&t["color".concat(cr(n.color))]]}})((function(e){var t,n=e.theme,r=e.ownerState;return u({color:(n.vars||n).palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:n.vars?"rgba(".concat("default"===r.color?n.vars.palette.action.activeChannel:n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):y("default"===r.color?n.palette.action.active:n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(s(t={},"&.".concat(U8.checked,", &.").concat(U8.indeterminate),{color:(n.vars||n).palette[r.color].main}),s(t,"&.".concat(U8.disabled),{color:(n.vars||n).palette.action.disabled}),t))})),B8=(0,yr.jsx)(L8,{}),j8=(0,yr.jsx)(O8,{}),H8=(0,yr.jsx)(N8,{}),G8=t.forwardRef((function(e,n){var r,i,a=ur({props:e,name:"MuiCheckbox"}),o=a.checkedIcon,s=void 0===o?B8:o,c=a.color,h=void 0===c?"primary":c,p=a.icon,v=void 0===p?j8:p,m=a.indeterminate,g=void 0!==m&&m,y=a.indeterminateIcon,b=void 0===y?H8:y,x=a.inputProps,w=a.size,S=void 0===w?"medium":w,_=a.className,k=l(a,F8),E=g?b:v,C=g?b:s,M=u({},a,{color:h,indeterminate:g,size:S}),T=function(e){var t=e.classes,n=e.indeterminate,r=e.color,i=e.size;return u({},t,f({root:["root",n&&"indeterminate","color".concat(cr(r)),"size".concat(cr(i))]},D8,t))}(M);return(0,yr.jsx)(z8,u({type:"checkbox",inputProps:u({"data-indeterminate":g},x),icon:t.cloneElement(E,{fontSize:null!=(r=E.props.fontSize)?r:S}),checkedIcon:t.cloneElement(C,{fontSize:null!=(i=C.props.fontSize)?i:S}),ownerState:M,ref:n,className:d(T.root,_)},k,{classes:T}))})),V8=G8;function W8(e){return vr("MuiFormHelperText",e)}var q8,X8=mr("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),Y8=["children","className","component","disabled","error","filled","focused","margin","required","variant"],K8=rr("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat(cr(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return u({color:(n.vars||n).palette.text.secondary},n.typography.caption,(s(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},"&.".concat(X8.disabled),{color:(n.vars||n).palette.text.disabled}),s(t,"&.".concat(X8.error),{color:(n.vars||n).palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),Z8=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiFormHelperText"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"p":a,s=l(n,Y8),c=Bo({props:n,muiFormControl:jo(),states:["variant","size","disabled","error","filled","focused","required"]}),h=u({},n,{component:o,contained:"filled"===c.variant||"outlined"===c.variant,variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),p=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,a=e.error,o=e.filled,s=e.focused,l=e.required;return f({root:["root",i&&"disabled",a&&"error",r&&"size".concat(cr(r)),n&&"contained",s&&"focused",o&&"filled",l&&"required"]},W8,t)}(h);return(0,yr.jsx)(K8,u({as:o,ownerState:h,className:d(p.root,i),ref:t},s,{children:" "===r?q8||(q8=(0,yr.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),Q8=Z8;function $8(e){return vr("MuiTextField",e)}mr("MuiTextField",["root"]);var J8=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],e7={standard:zu,filled:Xu,outlined:ic},t7=rr(zo,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),n7=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiTextField"}),r=n.autoComplete,i=n.autoFocus,a=void 0!==i&&i,o=n.children,s=n.className,c=n.color,h=void 0===c?"primary":c,p=n.defaultValue,v=n.disabled,m=void 0!==v&&v,g=n.error,y=void 0!==g&&g,b=n.FormHelperTextProps,x=n.fullWidth,w=void 0!==x&&x,S=n.helperText,_=n.id,k=n.InputLabelProps,E=n.inputProps,C=n.InputProps,M=n.inputRef,T=n.label,R=n.maxRows,A=n.minRows,P=n.multiline,I=void 0!==P&&P,O=n.name,L=n.onBlur,N=n.onChange,D=n.onFocus,U=n.placeholder,F=n.required,z=void 0!==F&&F,B=n.rows,j=n.select,H=void 0!==j&&j,G=n.SelectProps,V=n.type,W=n.value,q=n.variant,X=void 0===q?"outlined":q,Y=l(n,J8),K=u({},n,{autoFocus:a,color:h,disabled:m,error:y,fullWidth:w,multiline:I,required:z,select:H,variant:X}),Z=function(e){return f({root:["root"]},$8,e.classes)}(K);var Q={};"outlined"===X&&(k&&"undefined"!==typeof k.shrink&&(Q.notched=k.shrink),Q.label=T),H&&(G&&G.native||(Q.id=void 0),Q["aria-describedby"]=void 0);var $=Tp(_),J=S&&$?"".concat($,"-helper-text"):void 0,ee=T&&$?"".concat($,"-label"):void 0,te=e7[X],ne=(0,yr.jsx)(te,u({"aria-describedby":J,autoComplete:r,autoFocus:a,defaultValue:p,fullWidth:w,multiline:I,name:O,rows:B,maxRows:R,minRows:A,type:V,value:W,id:$,inputRef:M,onBlur:L,onChange:N,onFocus:D,placeholder:U,inputProps:E},Q,C));return(0,yr.jsxs)(t7,u({className:d(Z.root,s),disabled:m,error:y,fullWidth:w,ref:t,required:z,color:h,variant:X,ownerState:K},Y,{children:[null!=T&&""!==T&&(0,yr.jsx)(Jo,u({htmlFor:$,id:ee},k,{children:T})),H?(0,yr.jsx)(fc,u({"aria-describedby":J,id:$,labelId:ee,value:W,input:ne},G,{children:o})):ne,S&&(0,yr.jsx)(Q8,u({id:J},b,{children:S}))]}))})),r7=n7,i7=["className","color","edge","size","sx"],a7=rr("span",{name:"MuiSwitch",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.edge&&t["edge".concat(cr(n.edge))],t["size".concat(cr(n.size))]]}})((function(e){var t,n=e.ownerState;return u({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===n.edge&&{marginLeft:-8},"end"===n.edge&&{marginRight:-8},"small"===n.size&&(s(t={width:40,height:24,padding:7},"& .".concat(z6.thumb),{width:16,height:16}),s(t,"& .".concat(z6.switchBase),s({padding:4},"&.".concat(z6.checked),{transform:"translateX(16px)"})),t))})),o7=rr(I8,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:function(e,t){var n=e.ownerState;return[t.switchBase,s({},"& .".concat(z6.input),t.input),"default"!==n.color&&t["color".concat(cr(n.color))]]}})((function(e){var t,n=e.theme;return s(t={position:"absolute",top:0,left:0,zIndex:1,color:n.vars?n.vars.palette.Switch.defaultColor:"".concat("light"===n.palette.mode?n.palette.common.white:n.palette.grey[300]),transition:n.transitions.create(["left","transform"],{duration:n.transitions.duration.shortest})},"&.".concat(z6.checked),{transform:"translateX(20px)"}),s(t,"&.".concat(z6.disabled),{color:n.vars?n.vars.palette.Switch.defaultDisabledColor:"".concat("light"===n.palette.mode?n.palette.grey[100]:n.palette.grey[600])}),s(t,"&.".concat(z6.checked," + .").concat(z6.track),{opacity:.5}),s(t,"&.".concat(z6.disabled," + .").concat(z6.track),{opacity:n.vars?n.vars.opacity.switchTrackDisabled:"".concat("light"===n.palette.mode?.12:.2)}),s(t,"& .".concat(z6.input),{left:"-100%",width:"300%"}),t}),(function(e){var t,n=e.theme,r=e.ownerState;return u({"&:hover":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.action.activeChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):y(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(s(t={},"&.".concat(z6.checked),s({color:(n.vars||n).palette[r.color].main,"&:hover":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette[r.color].mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):y(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(z6.disabled),{color:n.vars?n.vars.palette.Switch["".concat(r.color,"DisabledColor")]:"".concat("light"===n.palette.mode?x(n.palette[r.color].main,.62):b(n.palette[r.color].main,.55))})),s(t,"&.".concat(z6.checked," + .").concat(z6.track),{backgroundColor:(n.vars||n).palette[r.color].main}),t))})),s7=rr("span",{name:"MuiSwitch",slot:"Track",overridesResolver:function(e,t){return t.track}})((function(e){var t=e.theme;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}})),l7=rr("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:function(e,t){return t.thumb}})((function(e){var t=e.theme;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),u7=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiSwitch"}),r=n.className,i=n.color,a=void 0===i?"primary":i,o=n.edge,s=void 0!==o&&o,c=n.size,h=void 0===c?"medium":c,p=n.sx,v=l(n,i7),m=u({},n,{color:a,edge:s,size:h}),g=function(e){var t=e.classes,n=e.edge,r=e.size,i=e.color,a=e.checked,o=e.disabled;return u({},t,f({root:["root",n&&"edge".concat(cr(n)),"size".concat(cr(r))],switchBase:["switchBase","color".concat(cr(i)),a&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},F6,t))}(m),y=(0,yr.jsx)(l7,{className:g.thumb,ownerState:m});return(0,yr.jsxs)(a7,{className:d(g.root,r),sx:p,ownerState:m,children:[(0,yr.jsx)(o7,u({type:"checkbox",icon:y,checkedIcon:y,ref:t,ownerState:m},v,{classes:u({},g,{root:g.switchBase})})),(0,yr.jsx)(s7,{className:g.track,ownerState:m})]})})),c7=u7;function d7(e){return vr("MuiInputAdornment",e)}var f7,h7=mr("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),p7=["children","className","component","disablePointerEvents","disableTypography","position","variant"],v7=rr("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["position".concat(cr(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return u({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&s({},"&.".concat(h7.positionStart,"&:not(.").concat(h7.hiddenLabel,")"),{marginTop:16}),"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),m7=t.forwardRef((function(e,n){var r=ur({props:e,name:"MuiInputAdornment"}),i=r.children,a=r.className,o=r.component,s=void 0===o?"div":o,c=r.disablePointerEvents,h=void 0!==c&&c,p=r.disableTypography,v=void 0!==p&&p,m=r.position,g=r.variant,y=l(r,p7),b=jo()||{},x=g;g&&b.variant,b&&!x&&(x=b.variant);var w=u({},r,{hiddenLabel:b.hiddenLabel,size:b.size,disablePointerEvents:h,position:m,variant:x}),S=function(e){var t=e.classes,n=e.disablePointerEvents,r=e.hiddenLabel,i=e.position,a=e.size,o=e.variant;return f({root:["root",n&&"disablePointerEvents",i&&"position".concat(cr(i)),o,r&&"hiddenLabel",a&&"size".concat(cr(a))]},d7,t)}(w);return(0,yr.jsx)(Lo.Provider,{value:null,children:(0,yr.jsx)(v7,u({as:s,ownerState:w,className:d(S.root,a),ref:n},y,{children:"string"!==typeof i||v?(0,yr.jsxs)(t.Fragment,{children:["start"===m?f7||(f7=(0,yr.jsx)("span",{className:"notranslate",children:"\u200b"})):null,i]}):(0,yr.jsx)(ia,{color:"text.secondary",children:i})}))})})),g7=m7;function y7(e){return vr("MuiTooltip",e)}var b7=mr("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),x7=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function w7(e){return Math.round(1e5*e)/1e5}var S7=rr(MJ,{name:"MuiTooltip",slot:"Popper",overridesResolver:function(e,t){var n=e.ownerState;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((function(e){var t,n=e.theme,r=e.ownerState,i=e.open;return u({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none"},!r.disableInteractive&&{pointerEvents:"auto"},!i&&{pointerEvents:"none"},r.arrow&&(s(t={},'&[data-popper-placement*="bottom"] .'.concat(b7.arrow),{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}}),s(t,'&[data-popper-placement*="top"] .'.concat(b7.arrow),{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}}),s(t,'&[data-popper-placement*="right"] .'.concat(b7.arrow),u({},r.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}})),s(t,'&[data-popper-placement*="left"] .'.concat(b7.arrow),u({},r.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})),t))})),_7=rr("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:function(e,t){var n=e.ownerState;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat(cr(n.placement.split("-")[0]))]]}})((function(e){var t,n=e.theme,r=e.ownerState;return u({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:y(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium},r.arrow&&{position:"relative",margin:0},r.touch&&{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:"".concat(w7(16/14),"em"),fontWeight:n.typography.fontWeightRegular},(s(t={},".".concat(b7.popper,'[data-popper-placement*="left"] &'),u({transformOrigin:"right center"},r.isRtl?u({marginLeft:"14px"},r.touch&&{marginLeft:"24px"}):u({marginRight:"14px"},r.touch&&{marginRight:"24px"}))),s(t,".".concat(b7.popper,'[data-popper-placement*="right"] &'),u({transformOrigin:"left center"},r.isRtl?u({marginRight:"14px"},r.touch&&{marginRight:"24px"}):u({marginLeft:"14px"},r.touch&&{marginLeft:"24px"}))),s(t,".".concat(b7.popper,'[data-popper-placement*="top"] &'),u({transformOrigin:"center bottom",marginBottom:"14px"},r.touch&&{marginBottom:"24px"})),s(t,".".concat(b7.popper,'[data-popper-placement*="bottom"] &'),u({transformOrigin:"center top",marginTop:"14px"},r.touch&&{marginTop:"24px"})),t))})),k7=rr("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:function(e,t){return t.arrow}})((function(e){var t=e.theme;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:y(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}})),E7=!1,C7=null,M7={x:0,y:0};function T7(e,t){return function(n){t&&t(n),e(n)}}var R7=t.forwardRef((function(e,n){var r,i,a,o,s,c,h,p,v,m,g,y,b,x,w,S,_,k,E,C=ur({props:e,name:"MuiTooltip"}),T=C.arrow,R=void 0!==T&&T,A=C.children,P=C.components,I=void 0===P?{}:P,O=C.componentsProps,L=void 0===O?{}:O,N=C.describeChild,D=void 0!==N&&N,U=C.disableFocusListener,F=void 0!==U&&U,z=C.disableHoverListener,B=void 0!==z&&z,j=C.disableInteractive,H=void 0!==j&&j,G=C.disableTouchListener,V=void 0!==G&&G,W=C.enterDelay,q=void 0===W?100:W,X=C.enterNextDelay,Y=void 0===X?0:X,K=C.enterTouchDelay,Z=void 0===K?700:K,Q=C.followCursor,$=void 0!==Q&&Q,J=C.id,ee=C.leaveDelay,te=void 0===ee?0:ee,ne=C.leaveTouchDelay,re=void 0===ne?1500:ne,ie=C.onClose,ae=C.onOpen,oe=C.open,se=C.placement,le=void 0===se?"bottom":se,ue=C.PopperComponent,ce=C.PopperProps,de=void 0===ce?{}:ce,fe=C.slotProps,he=void 0===fe?{}:fe,pe=C.slots,ve=void 0===pe?{}:pe,me=C.title,ge=C.TransitionComponent,ye=void 0===ge?Ws:ge,be=C.TransitionProps,xe=l(C,x7),we=t.isValidElement(A)?A:(0,yr.jsx)("span",{children:A}),Se=Ra(),_e="rtl"===Se.direction,ke=M(t.useState(),2),Ee=ke[0],Ce=ke[1],Me=M(t.useState(null),2),Te=Me[0],Re=Me[1],Ae=t.useRef(!1),Pe=H||$,Ie=t.useRef(),Oe=t.useRef(),Le=t.useRef(),Ne=t.useRef(),De=M(nu({controlled:oe,default:!1,name:"Tooltip",state:"open"}),2),Ue=De[0],Fe=De[1],ze=Ue,Be=K5(J),je=t.useRef(),He=t.useCallback((function(){void 0!==je.current&&(document.body.style.WebkitUserSelect=je.current,je.current=void 0),clearTimeout(Ne.current)}),[]);t.useEffect((function(){return function(){clearTimeout(Ie.current),clearTimeout(Oe.current),clearTimeout(Le.current),He()}}),[He]);var Ge=function(e){clearTimeout(C7),E7=!0,Fe(!0),ae&&!ze&&ae(e)},Ve=Ar((function(e){clearTimeout(C7),C7=setTimeout((function(){E7=!1}),800+te),Fe(!1),ie&&ze&&ie(e),clearTimeout(Ie.current),Ie.current=setTimeout((function(){Ae.current=!1}),Se.transitions.duration.shortest)})),We=function(e){Ae.current&&"touchstart"!==e.type||(Ee&&Ee.removeAttribute("title"),clearTimeout(Oe.current),clearTimeout(Le.current),q||E7&&Y?Oe.current=setTimeout((function(){Ge(e)}),E7?Y:q):Ge(e))},qe=function(e){clearTimeout(Oe.current),clearTimeout(Le.current),Le.current=setTimeout((function(){Ve(e)}),te)},Xe=Fr(),Ye=Xe.isFocusVisibleRef,Ke=Xe.onBlur,Ze=Xe.onFocus,Qe=Xe.ref,$e=M(t.useState(!1),2)[1],Je=function(e){Ke(e),!1===Ye.current&&($e(!1),qe(e))},et=function(e){Ee||Ce(e.currentTarget),Ze(e),!0===Ye.current&&($e(!0),We(e))},tt=function(e){Ae.current=!0;var t=we.props;t.onTouchStart&&t.onTouchStart(e)},nt=We,rt=qe;t.useEffect((function(){if(ze)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||Ve(e)}}),[Ve,ze]);var it=Cr(we.ref,Qe,Ce,n);me||0===me||(ze=!1);var at=t.useRef(),ot={},st="string"===typeof me;D?(ot.title=ze||!st||B?null:me,ot["aria-describedby"]=ze?Be:null):(ot["aria-label"]=st?me:null,ot["aria-labelledby"]=ze&&!st?Be:null);var lt=u({},ot,xe,we.props,{className:d(xe.className,we.props.className),onTouchStart:tt,ref:it},$?{onMouseMove:function(e){var t=we.props;t.onMouseMove&&t.onMouseMove(e),M7={x:e.clientX,y:e.clientY},at.current&&at.current.update()}}:{});var ut={};V||(lt.onTouchStart=function(e){tt(e),clearTimeout(Le.current),clearTimeout(Ie.current),He(),je.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ne.current=setTimeout((function(){document.body.style.WebkitUserSelect=je.current,We(e)}),Z)},lt.onTouchEnd=function(e){we.props.onTouchEnd&&we.props.onTouchEnd(e),He(),clearTimeout(Le.current),Le.current=setTimeout((function(){Ve(e)}),re)}),B||(lt.onMouseOver=T7(nt,lt.onMouseOver),lt.onMouseLeave=T7(rt,lt.onMouseLeave),Pe||(ut.onMouseOver=nt,ut.onMouseLeave=rt)),F||(lt.onFocus=T7(et,lt.onFocus),lt.onBlur=T7(Je,lt.onBlur),Pe||(ut.onFocus=et,ut.onBlur=Je));var ct=t.useMemo((function(){var e,t=[{name:"arrow",enabled:Boolean(Te),options:{element:Te,padding:4}}];return null!=(e=de.popperOptions)&&e.modifiers&&(t=t.concat(de.popperOptions.modifiers)),u({},de.popperOptions,{modifiers:t})}),[Te,de]),dt=u({},C,{isRtl:_e,arrow:R,disableInteractive:Pe,placement:le,PopperComponentProp:ue,touch:Ae.current}),ft=function(e){var t=e.classes,n=e.disableInteractive,r=e.arrow,i=e.touch,a=e.placement;return f({popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch","tooltipPlacement".concat(cr(a.split("-")[0]))],arrow:["arrow"]},y7,t)}(dt),ht=null!=(r=null!=(i=ve.popper)?i:I.Popper)?r:S7,pt=null!=(a=null!=(o=null!=(s=ve.transition)?s:I.Transition)?o:ye)?a:Ws,vt=null!=(c=null!=(h=ve.tooltip)?h:I.Tooltip)?c:_7,mt=null!=(p=null!=(v=ve.arrow)?v:I.Arrow)?p:k7,gt=rs(ht,u({},de,null!=(m=he.popper)?m:L.popper,{className:d(ft.popper,null==de?void 0:de.className,null==(g=null!=(y=he.popper)?y:L.popper)?void 0:g.className)}),dt),yt=rs(pt,u({},be,null!=(b=he.transition)?b:L.transition),dt),bt=rs(vt,u({},null!=(x=he.tooltip)?x:L.tooltip,{className:d(ft.tooltip,null==(w=null!=(S=he.tooltip)?S:L.tooltip)?void 0:w.className)}),dt),xt=rs(mt,u({},null!=(_=he.arrow)?_:L.arrow,{className:d(ft.arrow,null==(k=null!=(E=he.arrow)?E:L.arrow)?void 0:k.className)}),dt);return(0,yr.jsxs)(t.Fragment,{children:[t.cloneElement(we,lt),(0,yr.jsx)(ht,u({as:null!=ue?ue:MJ,placement:le,anchorEl:$?{getBoundingClientRect:function(){return{top:M7.y,left:M7.x,right:M7.x,bottom:M7.y,width:0,height:0}}}:Ee,popperRef:at,open:!!Ee&&ze,id:Be,transition:!0},ut,gt,{popperOptions:ct,children:function(e){var t=e.TransitionProps;return(0,yr.jsx)(pt,u({timeout:Se.transitions.duration.shorter},t,yt,{children:(0,yr.jsxs)(vt,u({},bt,{children:[me,R?(0,yr.jsx)(mt,u({},xt,{ref:Re})):null]}))}))}}))]})})),A7=R7,P7=["sortingOrder"],I7=t.memo((function(e){var t=e.sortingOrder,n=eX(e,P7),r=AX(),i="asc"===M(t,1)[0]?r.slots.columnSortedAscendingIcon:r.slots.columnSortedDescendingIcon;return i?(0,yr.jsx)(i,Jq({},n)):null})),O7=Ni((0,yr.jsx)("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),L7=Ni((0,yr.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),N7=Ni((0,yr.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),D7=Ni((0,yr.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),U7=Ni((0,yr.jsx)("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),F7=Ni((0,yr.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),z7=Ni((0,yr.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),B7=(Ni((0,yr.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),Ni((0,yr.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle"),Ni((0,yr.jsx)("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon")),j7=Ni((0,yr.jsx)("path",{d:"M11 19V5h2v14z"}),"Separator"),H7=Ni((0,yr.jsx)("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),G7=Ni((0,yr.jsx)("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),V7=Ni((0,yr.jsx)("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),W7=Ni((0,yr.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),q7=Ni((0,yr.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),X7=Ni((0,yr.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),Y7=Ni((0,yr.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),K7=Ni((0,yr.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),Z7=Ni((0,yr.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),Q7=Ni((0,yr.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),$7=Ni((0,yr.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),J7=Ni((0,yr.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),e9=Ni((0,yr.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),t9=Ni((0,yr.jsx)("g",{children:(0,yr.jsx)("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),n9=Ni((0,yr.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),r9=(Ni((0,yr.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),Ni((0,yr.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")),i9=["native"];var a9=Jq({},{BooleanCellTrueIcon:$7,BooleanCellFalseIcon:q7,ColumnMenuIcon:W7,OpenFilterButtonIcon:U7,FilterPanelDeleteIcon:q7,ColumnFilteredIcon:F7,ColumnSelectorIcon:B7,ColumnUnsortedIcon:I7,ColumnSortedAscendingIcon:O7,ColumnSortedDescendingIcon:L7,ColumnResizeIcon:j7,DensityCompactIcon:H7,DensityStandardIcon:G7,DensityComfortableIcon:V7,ExportIcon:Q7,MoreActionsIcon:J7,TreeDataCollapseIcon:D7,TreeDataExpandIcon:N7,GroupingCriteriaCollapseIcon:D7,GroupingCriteriaExpandIcon:N7,DetailPanelExpandIcon:X7,DetailPanelCollapseIcon:Y7,RowReorderIcon:Z7,QuickFilterIcon:z7,QuickFilterClearIcon:q7,ColumnMenuHideIcon:e9,ColumnMenuSortAscendingIcon:O7,ColumnMenuSortDescendingIcon:L7,ColumnMenuFilterIcon:F7,ColumnMenuManageColumnsIcon:t9,ColumnMenuClearIcon:n9,LoadIcon:K7,FilterPanelAddIcon:X7,FilterPanelRemoveAllIcon:r9,ColumnReorderIcon:Z7},{BaseCheckbox:V8,BaseTextField:r7,BaseFormControl:zo,BaseSelect:fc,BaseSwitch:c7,BaseButton:ba,BaseIconButton:Ri,BaseInputAdornment:g7,BaseTooltip:A7,BasePopper:MJ,BaseInputLabel:Jo,BaseSelectOption:function(e){var t=e.native,n=eX(e,i9);return t?(0,yr.jsx)("option",Jq({},n)):(0,yr.jsx)(kc,Jq({},n))},BaseChip:jJ}),o9=Jq({},a9,{Cell:g4,SkeletonCell:function(e){var t=e.align,n=e.width,r=e.contentWidth,i=eX(e,O2),a=function(e){var t=e.align,n=e.classes;return Cv({root:["cell","cellSkeleton","cell--text".concat(tX(t)),"withBorderColor"]},uX,n)}({classes:AX().classes,align:t});return(0,yr.jsx)("div",Jq({className:a.root,style:{width:n}},i,{children:(0,yr.jsx)(I2,{width:"".concat(r,"%")})}))},ColumnHeaderFilterIconButton:function(e){var n,r,i=e.counter,a=e.field,o=e.onClick,s=tQ(),l=AX(),u=function(e){return Cv({icon:["filterIcon"]},uX,e.classes)}(Jq({},e,{classes:l.classes})),c=CX(s,B3),d=LQ(),f=LQ(),h=t.useCallback((function(e){e.preventDefault(),e.stopPropagation();var t=B3(s.current.state),n=t.open,r=t.openedPanelValue;n&&r===q1.filters?s.current.hideFilterPanel():s.current.showFilterPanel(void 0,f,d),o&&o(s.current.getColumnHeaderParams(a),e)}),[s,a,o,f,d]);if(!i)return null;var p=c.open&&c.labelId===d,v=(0,yr.jsx)(l.slots.baseIconButton,Jq({id:d,onClick:h,color:"default","aria-label":s.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":p,"aria-controls":p?f:void 0},null==(n=l.slotProps)?void 0:n.baseIconButton,{children:(0,yr.jsx)(l.slots.columnFilteredIcon,{className:u.icon,fontSize:"small"})}));return(0,yr.jsx)(l.slots.baseTooltip,Jq({title:s.current.getLocaleText("columnHeaderFiltersTooltipActive")(i),enterDelay:1e3},null==(r=l.slotProps)?void 0:r.baseTooltip,{children:(0,yr.jsxs)(G2,{children:[i>1&&(0,yr.jsx)(B2,{badgeContent:i,color:"default",children:v}),1===i&&v]})}))},ColumnMenu:E8,ColumnHeaders:r8,Footer:Z2,FooterRowCount:J2,Toolbar:null,PreferencesPanel:e5,LoadingOverlay:S5,NoResultsOverlay:C8,NoRowsOverlay:_5,Pagination:d6,FilterPanel:U6,ColumnsPanel:function(e){var n,r,i,a=tQ(),o=t.useRef(null),s=CX(a,XX),l=CX(a,YX),u=AX(),c=M(t.useState(""),2),d=c[0],f=c[1],h=Cv({root:["columnsPanel"],columnsPanelRow:["columnsPanelRow"]},uX,u.classes),p=e.sort,v=e.searchPredicate,m=void 0===v?t4:v,g=e.autoFocusSearchField,y=void 0===g||g,b=e.disableHideAllButton,x=void 0!==b&&b,w=e.disableShowAllButton,S=void 0!==w&&w,_=e.getTogglableColumns,E=eX(e,Q6),C=t.useMemo((function(){switch(p){case"asc":return k(s).sort((function(e,t){return e4.compare(e.headerName||e.field,t.headerName||t.field)}));case"desc":return k(s).sort((function(e,t){return-e4.compare(e.headerName||e.field,t.headerName||t.field)}));default:return s}}),[s,p]),T=function(e){var t=e.target.name;a.current.setColumnVisibility(t,!1===l[t])},R=t.useCallback((function(e){var t=Jq({},YX(a)),n=_?_(s):null;return s.forEach((function(r){r.hideable&&(null==n||n.includes(r.field))&&(e?delete t[r.field]:t[r.field]=!1)})),a.current.setColumnVisibilityModel(t)}),[a,s,_]),A=t.useCallback((function(e){f(e.target.value)}),[]),P=t.useMemo((function(){var e=_?_(C):null,t=e?C.filter((function(t){var n=t.field;return e.includes(n)})):C;return d?t.filter((function(e){return m(e,d.toLowerCase())})):t}),[C,d,m,_]),I=t.useRef(null);t.useEffect((function(){y?o.current.focus():I.current&&"function"===typeof I.current.focus&&I.current.focus()}),[y]);var O=!1,L=function(e){return!1===O&&!1!==e.hideable&&(O=!0,!0)};return(0,yr.jsxs)(_6,Jq({},E,{children:[(0,yr.jsx)(Z6,{children:(0,yr.jsx)(u.slots.baseTextField,Jq({label:a.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:a.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:o,value:d,onChange:A,variant:"standard",fullWidth:!0},null==(n=u.slotProps)?void 0:n.baseTextField))}),(0,yr.jsx)(v6,{children:(0,yr.jsx)($6,{className:h.root,ownerState:u,children:P.map((function(e){var t;return(0,yr.jsxs)(J6,{className:h.columnsPanelRow,ownerState:u,children:[(0,yr.jsx)(q6,{control:(0,yr.jsx)(u.slots.baseSwitch,Jq({disabled:!1===e.hideable,checked:!1!==l[e.field],onClick:T,name:e.field,size:"small",inputRef:L(e)?I:void 0},null==(t=u.slotProps)?void 0:t.baseSwitch)),label:e.headerName||e.field}),!u.disableColumnReorder&&false]},e.field)}))})}),S&&x?null:(0,yr.jsxs)(b6,{children:[x?(0,yr.jsx)("span",{}):(0,yr.jsx)(u.slots.baseButton,Jq({onClick:function(){return R(!1)}},null==(r=u.slotProps)?void 0:r.baseButton,{disabled:x,children:a.current.getLocaleText("columnsPanelHideAllButton")})),S?null:(0,yr.jsx)(u.slots.baseButton,Jq({onClick:function(){return R(!0)}},null==(i=u.slotProps)?void 0:i.baseButton,{disabled:S,children:a.current.getLocaleText("columnsPanelShowAllButton")}))]})]}))},Panel:s4,Row:w4}),s9=function(e){if(void 0!==e)return Object.keys(e).reduce((function(t,n){return Jq({},t,s({},"".concat(n.charAt(0).toLowerCase()).concat(n.slice(1)),e[n]))}),{})},l9=["components","componentsProps"];function u9(e){var t,n=Object.keys(e);if(!n.some((function(e){return e.startsWith("aria-")||e.startsWith("data-")})))return e;for(var r={},i=null!=(t=e.forwardedProps)?t:{},a=0;a<n.length;a+=1){var o=n[a];o.startsWith("aria-")||o.startsWith("data-")?i[o]=e[o]:r[o]=e[o]}return r.forwardedProps=i,r}var c9={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleRowSelection:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,disableColumnResize:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid"},d9={autoHeight:!1,autoPageSize:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,columnBuffer:3,rowBuffer:3,columnThreshold:3,rowThreshold:3,rowSelection:!0,density:"standard",disableColumnFilter:!1,disableColumnMenu:!1,disableColumnSelector:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleRowSelection:!1,disableMultipleColumnsSorting:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:d1.Cell,filterMode:"client",filterDebounceMs:150,columnHeaderHeight:56,hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,logger:console,logLevel:"error",pagination:!1,paginationMode:"client",rowHeight:52,pageSizeOptions:[25,50,100],rowSpacingType:"margin",showCellVerticalBorder:!1,showColumnVerticalBorder:!1,sortingOrder:["asc","desc",null],sortingMode:"client",throttleRowsMs:0,disableColumnReorder:!1,disableColumnResize:!1,keepNonExistentRowsSelected:!1,keepColumnPositionIfDraggedOutside:!1,unstable_ignoreValueFormatterDuringExport:!1,clipboardCopyCellDelimiter:"\t"},f9=s9(o9),h9=function(e){var n,r=M((n=ur({props:e,name:"MuiDataGrid"}),t.useMemo((function(){return[n.components,n.componentsProps,u9(eX(n,l9))]}),[n])),3),i=r[0],a=r[1],o=r[2],s=t.useMemo((function(){return Jq({},v2,o.localeText)}),[o.localeText]),l=t.useMemo((function(){return function(e){var t=e.defaultSlots,n=e.slots,r=e.components,i=null!=n?n:r?s9(r):null;return i&&0!==Object.keys(i).length?Jq({},t,i):t}({defaultSlots:f9,slots:o.slots,components:i})}),[i,o.slots]);return t.useMemo((function(){var e;return Jq({},d9,o,{localeText:s,slots:l,slotProps:null!=(e=o.slotProps)?e:a},c9)}),[o,s,l,a])},p9=function(e){return Jq({},e,{rowsMeta:{currentPageTotalHeight:0,positions:[]}})},v9=function(e,t,n){return"number"===typeof e&&e>0?e:t};["MUI: The `rowHeight` prop should be a number greater than 0.","The default value will be used instead."].join("\n"),["MUI: The `getRowHeight` prop should return a number greater than 0 or 'auto'.","The default value will be used instead."].join("\n");function m9(e){return void 0!==e.field}var g9=function e(t,n,r){if(m9(t)){if(void 0!==r[t.field])throw new Error(["MUI: columnGroupingModel contains duplicated field","column field ".concat(t.field," occurs two times in the grouping model:"),"- ".concat(r[t.field].join(" > ")),"- ".concat(n.join(" > "))].join("\n"));r[t.field]=n}else{var i=t.groupId;t.children.forEach((function(t){e(t,[].concat(k(n),[i]),r)}))}},y9=function(e){if(!e)return{};var t={};return e.forEach((function(e){g9(e,[],t)})),t},b9=function(e,t,n){for(var r=function(e){var n;return null!=(n=t[e])?n:[]},i=[],a=Math.max.apply(Math,k(e.map((function(e){return r(e).length})))),o=function(t){var a=e.reduce((function(e,i){var a,o=null!=(a=r(i)[t])?a:null;if(0===e.length)return[{columnFields:[i],groupId:o}];var s,l,u=e[e.length-1],c=u.columnFields[u.columnFields.length-1];return u.groupId!==o||!function(e,t,n){return xZ(r(e).slice(0,n+1),r(t).slice(0,n+1))}(c,i,t)||(s=c,l=i,null!=n&&n.left&&n.left.includes(s)&&!n.left.includes(l)||null!=n&&n.right&&!n.right.includes(s)&&n.right.includes(l))?[].concat(k(e),[{columnFields:[i],groupId:o}]):[].concat(k(e.slice(0,e.length-1)),[{columnFields:[].concat(k(u.columnFields),[i]),groupId:o}])}),[]);i.push(a)},s=0;s<a;s+=1)o(s);return i},x9=["groupId","children"],w9=function e(t){var n={};return t.forEach((function(t){if(!m9(t)){var r=t.groupId,i=t.children,a=eX(t,x9);if(!r)throw new Error("MUI: An element of the columnGroupingModel does not have either `field` or `groupId`.");i||console.warn("MUI: group groupId=".concat(r," has no children."));var o=Jq({},a,{groupId:r}),l=e(i);if(void 0!==l[r]||void 0!==n[r])throw new Error("MUI: The groupId ".concat(r," is used multiple times in the columnGroupingModel."));n=Jq({},n,l,s({},r,o))}})),Jq({},n)},S9=function(e,t,n){var r,i,a,o;if(null==(r=t.experimentalFeatures)||!r.columnGrouping)return e;var s=WX(n),l=ZX(n),u=w9(null!=(i=t.columnGroupingModel)?i:[]),c=y9(null!=(a=t.columnGroupingModel)?a:[]),d=b9(s,c,null!=(o=n.current.state.pinnedColumns)?o:{}),f=0===l.length?0:Math.max.apply(Math,k(l.map((function(e){var t,n;return null!=(t=null==(n=c[e])?void 0:n.length)?t:0}))));return Jq({},e,{columnGrouping:{lookup:u,unwrappedGroupingModel:c,headerStructure:d,maxDepth:f}})},_9=function(e,t){return Jq({},e,{virtualization:{enabled:!t.disableVirtualization,enabledForColumns:!0}})};var k9=function(e,n){var r=qZ(e,n);return c2(r,n),function(e){f3(e,VZ,"rowTreeCreation",n2)}(r),XZ(u2,r,n),XZ(Y1,r,n),XZ(J3,r,n),XZ(Q3,r,n),XZ(I3,r,n),XZ(d2,r,n),XZ(j3,r,n),XZ(E3,r,n),XZ(Z1,r,n),XZ(o3,r,n),XZ(p9,r,n),XZ(G0,r,n),XZ(S9,r,n),XZ(_9,r,n),z3(r,n),function(e,n){var r=YZ(e,"useGridSelection"),i=function(e){return function(){n.rowSelection&&e.apply(void 0,arguments)}},a=t.useMemo((function(){return l2(n.rowSelectionModel,aQ(e.current.state))}),[e,n.rowSelectionModel]),o=t.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:a,propOnChange:n.onRowSelectionModelChange,stateSelector:aQ,changeEvent:"rowSelectionChange"});var s=n.checkboxSelection,l=n.disableMultipleRowSelection,u=n.disableRowSelectionOnClick,c=n.isRowSelectable,d=!l||s,f=P3(e,n),h=t.useCallback((function(t){var n,r=t,i=null!=(n=o.current)?n:t,a=e.current.isRowSelected(t);if(a){var s=KK(e),l=s.findIndex((function(e){return e===i})),u=s.findIndex((function(e){return e===r}));if(l===u)return;r=l>u?s[u+1]:s[u-1]}o.current=t,e.current.selectRowRange({startId:i,endId:r},!a)}),[e]),p=t.useCallback((function(t){if(n.signature===IZ.DataGrid&&!n.checkboxSelection&&Array.isArray(t)&&t.length>1)throw new Error(["MUI: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join("\n"));aQ(e.current.state)!==t&&(r.debug("Setting selection model"),e.current.setState((function(e){return Jq({},e,{rowSelection:n.rowSelection?t:[]})})),e.current.forceUpdate())}),[e,r,n.rowSelection,n.signature,n.checkboxSelection]),v=t.useCallback((function(t){return aQ(e.current.state).includes(t)}),[e]),m=t.useCallback((function(t){if(c&&!c(e.current.getRowParams(t)))return!1;var n=e.current.getRowNode(t);return"footer"!==(null==n?void 0:n.type)&&"pinnedRow"!==(null==n?void 0:n.type)}),[e,c]),g=t.useCallback((function(){return sQ(e)}),[e]),y=t.useCallback((function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.current.isRowSelectable(t))if(o.current=t,i)r.debug("Setting selection for row ".concat(t)),e.current.setRowSelectionModel(n?[t]:[]);else{r.debug("Toggling selection for row ".concat(t));var a=aQ(e.current.state).filter((function(e){return e!==t}));n&&a.push(t),(a.length<2||d)&&e.current.setRowSelectionModel(a)}}),[e,r,d]),b=t.useCallback((function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r.debug("Setting selection for several rows");var a,o=t.filter((function(t){return e.current.isRowSelectable(t)}));if(i)a=n?o:[];else{var s=Jq({},lQ(e));o.forEach((function(e){n?s[e]=e:delete s[e]})),a=Object.values(s)}(a.length<2||d)&&e.current.setRowSelectionModel(a)}),[e,r,d]),x=t.useCallback((function(t){var n=t.startId,i=t.endId,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.current.getRow(n)&&e.current.getRow(i)){r.debug("Expanding selection from row ".concat(n," to row ").concat(i));var s=KK(e),l=s.indexOf(n),u=s.indexOf(i),c=M(l>u?[u,l]:[l,u],2),d=c[0],f=c[1],h=s.slice(d,f+1);e.current.selectRows(h,a,o)}}),[e,r]),w={selectRows:b,selectRowRange:x};_Z(e,{selectRow:y,setRowSelectionModel:p,getSelectedRows:g,isRowSelected:v,isRowSelectable:m},"public"),_Z(e,w,n.signature===IZ.DataGrid?"private":"public");var S=t.useCallback((function(){if(!n.keepNonExistentRowsSelected){var t=aQ(e.current.state),r=cY(e),i=Jq({},lQ(e)),a=!1;t.forEach((function(e){r[e]||(delete i[e],a=!0)})),a&&e.current.setRowSelectionModel(Object.values(i))}}),[e,n.keepNonExistentRowsSelected]),_=t.useCallback((function(t,n){var r=n.metaKey||n.ctrlKey,i=!s&&!r&&!function(e){return!!e.key}(n),a=!d||i,o=e.current.isRowSelected(t);a?e.current.selectRow(t,!!i||!o,!0):e.current.selectRow(t,!o,!1)}),[e,d,s]),k=t.useCallback((function(t,n){var r;if(!u){var i=null==(r=n.target.closest(".".concat(dX.cell)))?void 0:r.getAttribute("data-field");if(i!==D0.field&&i!==O3){if(i){var a=e.current.getColumn(i);if((null==a?void 0:a.type)===N1)return}"pinnedRow"!==e.current.getRowNode(t.id).type&&(n.shiftKey&&(d||s)?h(t.id):_(t.id,n))}}}),[u,d,s,e,h,_]),E=t.useCallback((function(e,t){var n;d&&t.shiftKey&&(null==(n=window.getSelection())||n.removeAllRanges())}),[d]),C=t.useCallback((function(t,n){n.nativeEvent.shiftKey?h(t.id):e.current.selectRow(t.id,t.value)}),[e,h]),T=t.useCallback((function(t){var r=n.checkboxSelectionVisibleOnly&&n.pagination?yQ(e):KK(e);e.current.selectRows(r,t.value)}),[e,n.checkboxSelectionVisibleOnly,n.pagination]),R=t.useCallback((function(t,n){if(e.current.getCellMode(t.id,t.field)!==f1.Edit&&n.currentTarget.contains(n.target)){if(eQ(n.key)&&n.shiftKey){var r=iZ(e);if(r&&r.id!==t.id){n.preventDefault();var i=e.current.isRowSelected(r.id);if(!d)return void e.current.selectRow(r.id,!i,!0);var a,o,s=e.current.getRowIndexRelativeToVisibleRows(r.id),l=e.current.getRowIndexRelativeToVisibleRows(t.id);s>l?i?(a=l,o=s-1):(a=l,o=s):i?(a=s+1,o=l):(a=s,o=l);var u=f.rows.slice(a,o+1).map((function(e){return e.id}));return void e.current.selectRows(u,!i)}}if(" "===n.key&&n.shiftKey)return n.preventDefault(),void _(t.id,n);"a"===n.key&&(n.ctrlKey||n.metaKey)&&(n.preventDefault(),b(e.current.getAllRowIds(),!0))}}),[e,_,b,f.rows,d]);NZ(e,"sortedRowsSet",i(S)),NZ(e,"rowClick",i(k)),NZ(e,"rowSelectionCheckboxChange",i(C)),NZ(e,"headerSelectionCheckboxChange",T),NZ(e,"cellMouseDown",i(E)),NZ(e,"cellKeyDown",i(R)),t.useEffect((function(){void 0!==a&&e.current.setRowSelectionModel(a)}),[e,a,n.rowSelection]),t.useEffect((function(){n.rowSelection||e.current.setRowSelectionModel([])}),[e,n.rowSelection]);var A=null!=a;t.useEffect((function(){if(!A&&n.rowSelection){var t=aQ(e.current.state);if(m){var r=t.filter((function(e){return m(e)}));r.length<t.length&&e.current.setRowSelectionModel(r)}}}),[e,m,A,n.rowSelection]),t.useEffect((function(){if(n.rowSelection&&!A){var t=aQ(e.current.state);!d&&t.length>1&&e.current.setRowSelectionModel([])}}),[e,d,s,A,n.rowSelection])}(r,n),function(e,n){var r,i,a=YZ(e,"useGridColumns"),o=X1,l=t.useRef(n.columns),u=t.useRef(o);e.current.registerControlState({stateId:"visibleColumns",propModel:n.columnVisibilityModel,propOnChange:n.onColumnVisibilityModelChange,stateSelector:YX,changeEvent:"columnVisibilityModelChange"});var c=t.useCallback((function(t){a.debug("Updating columns state."),e.current.setState(H1(t)),e.current.forceUpdate(),e.current.publishEvent("columnsChange",t.orderedFields)}),[a,e]),d=t.useCallback((function(t){return qX(e)[t]}),[e]),f=t.useCallback((function(){return XX(e)}),[e]),h=t.useCallback((function(){return KX(e)}),[e]),p=t.useCallback((function(t){return(arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?XX(e):KX(e)).findIndex((function(e){return e.field===t}))}),[e]),v=t.useCallback((function(t){var n=p(t);return QX(e)[n]}),[e,p]),m=t.useCallback((function(t){YX(e)!==t&&(e.current.setState((function(n){return Jq({},n,{columns:j1({apiRef:e,columnTypes:o,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:t,keepOnlyColumnsToUpsert:!1})})})),e.current.forceUpdate())}),[e,o]),g=t.useCallback((function(t){var n=j1({apiRef:e,columnTypes:o,columnsToUpsert:t,initialState:void 0,keepOnlyColumnsToUpsert:!1});c(n)}),[e,c,o]),y=t.useCallback((function(t,n){var r,i=YX(e);if(n!==(null==(r=i[t])||r)){var a=Jq({},i,s({},t,n));e.current.setColumnVisibilityModel(a)}}),[e]),b=t.useCallback((function(t){return WX(e).findIndex((function(e){return e===t}))}),[e]),x=t.useCallback((function(t,n){var r=WX(e),i=b(t);if(i!==n){a.debug("Moving column ".concat(t," to index ").concat(n));var o=k(r),s=o.splice(i,1)[0];o.splice(n,0,s),c(Jq({},VX(e.current.state),{orderedFields:o}));var l={column:e.current.getColumn(t),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(t),oldIndex:i};e.current.publishEvent("columnIndexChange",l)}}),[e,a,c,b]),w=t.useCallback((function(t,n){var r,i;a.debug("Updating column ".concat(t," width to ").concat(n));var o=VX(e.current.state),l=Jq({},o.lookup[t],{width:n,hasBeenResized:!0});c(z1(Jq({},o,{lookup:Jq({},o.lookup,s({},t,l))}),null!=(r=null==(i=e.current.getRootDimensions())?void 0:i.viewportInnerSize.width)?r:0)),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(t),colDef:l,width:n})}),[e,a,c]),S={setColumnIndex:x};_Z(e,{getColumn:d,getAllColumns:f,getColumnIndex:p,getColumnPosition:v,getVisibleColumns:h,getColumnIndexRelativeToVisibleColumns:b,updateColumns:g,setColumnVisibilityModel:m,setColumnVisibility:y,setColumnWidth:w},"public"),_Z(e,S,n.signature===IZ.DataGrid?"private":"public");var _=t.useCallback((function(t,r){var i,a,o={},s=YX(e);(!r.exportOnlyDirtyModels||null!=n.columnVisibilityModel||Object.keys(null!=(i=null==(a=n.initialState)||null==(a=a.columns)?void 0:a.columnVisibilityModel)?i:{}).length>0||Object.keys(s).length>0)&&(o.columnVisibilityModel=s),o.orderedFields=WX(e);var l=XX(e),u={};return l.forEach((function(e){if(e.hasBeenResized){var t={};F1.forEach((function(n){var r=e[n];r===1/0&&(r=-1),t[n]=r})),u[e.field]=t}})),Object.keys(u).length>0&&(o.dimensions=u),Jq({},t,{columns:o})}),[e,n.columnVisibilityModel,null==(r=n.initialState)?void 0:r.columns]),E=t.useCallback((function(t,n){var r,i=null==(r=n.stateToRestore.columns)?void 0:r.columnVisibilityModel,a=n.stateToRestore.columns;if(null==i&&null==a)return t;var s=j1({apiRef:e,columnTypes:o,columnsToUpsert:[],initialState:a,columnVisibilityModel:i,keepOnlyColumnsToUpsert:!1});return e.current.setState(H1(s)),null!=a&&e.current.publishEvent("columnsChange",s.orderedFields),t}),[e,o]),C=t.useCallback((function(e,t){if(t===q1.columns){var r,i=n.slots.columnsPanel;return(0,yr.jsx)(i,Jq({},null==(r=n.slotProps)?void 0:r.columnsPanel))}return e}),[n.slots.columnsPanel,null==(i=n.slotProps)?void 0:i.columnsPanel]),M=t.useCallback((function(e){return n.disableColumnSelector?e:[].concat(k(e),["columnMenuColumnsItem"])}),[n.disableColumnSelector]);W0(e,"columnMenu",M),W0(e,"exportState",_),W0(e,"restoreState",E),W0(e,"preferencePanel",C);var T=t.useRef(null);NZ(e,"viewportInnerSizeChange",(function(t){T.current!==t.width&&(T.current=t.width,c(z1(VX(e.current.state),t.width)))}));var R=t.useCallback((function(){a.info("Columns pipe processing have changed, regenerating the columns");var t=j1({apiRef:e,columnTypes:o,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});c(t)}),[e,a,c,o]);q0(e,"hydrateColumns",R);var A=t.useRef(!0);t.useEffect((function(){if(A.current)A.current=!1;else if(a.info("GridColumns have changed, new length ".concat(n.columns.length)),l.current!==n.columns||u.current!==o){var t=j1({apiRef:e,columnTypes:o,initialState:void 0,columnsToUpsert:n.columns,keepOnlyColumnsToUpsert:!0});l.current=n.columns,u.current=o,c(t)}}),[a,e,c,n.columns,o]),t.useEffect((function(){void 0!==n.columnVisibilityModel&&e.current.setColumnVisibilityModel(n.columnVisibilityModel)}),[e,a,n.columnVisibilityModel])}(r,n),e2(r,n),s2(r,n),function(e){var n=t.useRef({}),r=t.useCallback((function(e,t,r){var i=n.current;i[e]||(i[e]={}),i[e][t]=r}),[]),i=t.useCallback((function(e,t){var r;return null==(r=n.current[e])?void 0:r[t]}),[]),a=t.useCallback((function(t){var n=t.columnIndex,i=t.rowId,a=t.minFirstColumnIndex,o=t.maxLastColumnIndex,s=t.columns,l=s.length,u=s[n],c="function"===typeof u.colSpan?u.colSpan(e.current.getCellParams(i,u.field)):u.colSpan;if(!c||1===c)return r(i,n,{spannedByColSpan:!1,cellProps:{colSpan:1,width:u.computedWidth}}),{colSpan:1};for(var d=u.computedWidth,f=1;f<c;f+=1){var h=n+f;h>=a&&h<o&&(d+=s[h].computedWidth,r(i,n+f,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(n+c,l-1),leftVisibleCellIndex:n})),r(i,n,{spannedByColSpan:!1,cellProps:{colSpan:c,width:d}})}return{colSpan:c}}),[e,r]),o=t.useCallback((function(e){for(var t=e.rowId,n=e.minFirstColumn,r=e.maxLastColumn,i=e.columns,o=n;o<r;o+=1){var s=a({columnIndex:o,rowId:t,minFirstColumnIndex:n,maxLastColumnIndex:r,columns:i});s.colSpan>1&&(o+=s.colSpan-1)}}),[a]),s={calculateColSpan:o};_Z(e,{unstable_getCellColSpanInfo:i},"public"),_Z(e,s,"private");var l=t.useCallback((function(){n.current={}}),[]);NZ(e,"columnOrderChange",l)}(r),function(e,n){var r,i=t.useCallback((function(t){var n;return null!=(n=nY(e)[t])?n:[]}),[e]),a=t.useCallback((function(){return rY(e)}),[e]);_Z(e,{unstable_getColumnGroupPath:i,unstable_getAllGroupDetails:a},"public");var o=t.useCallback((function(){var t,r=y9(null!=(t=n.columnGroupingModel)?t:[]);e.current.setState((function(e){var t,n,i,a=null!=(t=null==(n=e.columns)?void 0:n.orderedFields)?t:[],o=null!=(i=e.pinnedColumns)?i:{},s=b9(a,r,o);return Jq({},e,{columnGrouping:Jq({},e.columnGrouping,{headerStructure:s})})}))}),[e,n.columnGroupingModel]),s=t.useCallback((function(t){var r,i,a,o;if(null!=(r=n.experimentalFeatures)&&r.columnGrouping){var s=null!=(i=null==(a=(o=e.current).getPinnedColumns)?void 0:a.call(o))?i:{},l=WX(e),u=ZX(e),c=w9(null!=t?t:[]),d=y9(null!=t?t:[]),f=b9(l,d,s),h=0===u.length?0:Math.max.apply(Math,k(u.map((function(e){var t,n;return null!=(t=null==(n=d[e])?void 0:n.length)?t:0}))));e.current.setState((function(e){return Jq({},e,{columnGrouping:{lookup:c,unwrappedGroupingModel:d,headerStructure:f,maxDepth:h}})}))}}),[e,null==(r=n.experimentalFeatures)?void 0:r.columnGrouping]);NZ(e,"columnIndexChange",o),NZ(e,"columnsChange",(function(){s(n.columnGroupingModel)})),NZ(e,"columnVisibilityModelChange",(function(){s(n.columnGroupingModel)})),t.useEffect((function(){s(n.columnGroupingModel)}),[s,n.columnGroupingModel])}(r,n),$3(r,n),function(e,n){var r=YZ(e,"useGridFocus"),i=t.useRef(null),a=t.useCallback((function(t,n){t&&e.current.getRow(t.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(t.id,t.field),n)}),[e]),o=t.useCallback((function(t,n){var i=iZ(e);(null==i?void 0:i.id)===t&&(null==i?void 0:i.field)===n||(e.current.setState((function(e){return r.debug("Focusing on cell with id=".concat(t," and field=").concat(n)),Jq({},e,{tabIndex:{cell:{id:t,field:n},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:t,field:n},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})})),e.current.forceUpdate(),e.current.getRow(t)&&(i&&a(i,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(t,n))))}),[e,r,a]),s=t.useCallback((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=iZ(e);a(i,n),e.current.setState((function(e){return r.debug("Focusing on column header with colIndex=".concat(t)),Jq({},e,{tabIndex:{columnHeader:{field:t},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:t},columnHeaderFilter:null,cell:null,columnGroupHeader:null}})})),e.current.forceUpdate()}),[e,r,a]),l=t.useCallback((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=iZ(e);a(i,n),e.current.setState((function(e){return r.debug("Focusing on column header filter with colIndex=".concat(t)),Jq({},e,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:t},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:t},cell:null,columnGroupHeader:null}})})),e.current.forceUpdate()}),[e,r,a]),u=t.useCallback((function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=iZ(e);i&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(i.id,i.field),r),e.current.setState((function(e){return Jq({},e,{tabIndex:{columnGroupHeader:{field:t,depth:n},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:t,depth:n},columnHeader:null,columnHeaderFilter:null,cell:null}})})),e.current.forceUpdate()}),[e]),c=t.useCallback((function(){return oZ(e)}),[e]),d=t.useCallback((function(t,r,i){var a=e.current.getColumnIndex(r),o=KX(e),s=A3(e,{pagination:n.pagination,paginationMode:n.paginationMode}),l=gY(e),u=[].concat(l.top||[],s.rows,l.bottom||[]),c=u.findIndex((function(e){return e.id===t}));"right"===i?a+=1:"left"===i?a-=1:c+=1,a>=o.length?(c+=1)<u.length&&(a=0):a<0&&(c-=1)>=0&&(a=o.length-1);var d=u[c=bZ(c,0,u.length-1)];if(d){var f=e.current.unstable_getCellColSpanInfo(d.id,a);f&&f.spannedByColSpan&&("left"===i||"below"===i?a=f.leftVisibleCellIndex:"right"===i&&(a=f.rightVisibleCellIndex));var h=o[a=bZ(a,0,o.length-1)];e.current.setCellFocus(d.id,h.field)}}),[e,n.pagination,n.paginationMode]),f=t.useCallback((function(t){var n=t.id,r=t.field;e.current.setCellFocus(n,r)}),[e]),h=t.useCallback((function(t,n){"Enter"===n.key||"Tab"===n.key||"Shift"===n.key||eQ(n.key)||e.current.setCellFocus(t.id,t.field)}),[e]),p=t.useCallback((function(t,n){var r=t.field;n.target===n.currentTarget&&e.current.setColumnHeaderFocus(r,n)}),[e]),v=t.useCallback((function(t,n){var r=t.fields,i=t.depth;if(n.target===n.currentTarget){var a=oZ(e);null!==a&&a.depth===i&&r.includes(a.field)||e.current.setColumnGroupHeaderFocus(r[0],i,n)}}),[e]),m=t.useCallback((function(t,n){var i;null!=(i=n.relatedTarget)&&i.className.includes(dX.columnHeader)||(r.debug("Clearing focus"),e.current.setState((function(e){return Jq({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})})))}),[r,e]),g=t.useCallback((function(e){i.current=e}),[]),y=t.useCallback((function(t){var n=i.current;i.current=null;var r=iZ(e);if(e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:t,cell:n}))if(r){if((null==n?void 0:n.id)!==r.id||(null==n?void 0:n.field)!==r.field){var o=e.current.getCellElement(r.id,r.field);null!=o&&o.contains(t.target)||(n?e.current.setCellFocus(n.id,n.field):(e.current.setState((function(e){return Jq({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})})),e.current.forceUpdate(),a(r,t)))}}else n&&e.current.setCellFocus(n.id,n.field)}),[e,a]),b=t.useCallback((function(t){if("view"!==t.cellMode){var n=iZ(e);(null==n?void 0:n.id)===t.id&&(null==n?void 0:n.field)===t.field||e.current.setCellFocus(t.id,t.field)}}),[e]),x=t.useCallback((function(){var t=iZ(e);t&&!e.current.getRow(t.id)&&e.current.setState((function(e){return Jq({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})}))}),[e]),w=R3((function(){var t=iZ(e);if(t){var r=A3(e,{pagination:n.pagination,paginationMode:n.paginationMode});if(!r.rows.find((function(e){return e.id===t.id}))){var i=KX(e);e.current.setState((function(e){return Jq({},e,{tabIndex:{cell:{id:r.rows[0].id,field:i[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}})}))}}})),S={moveFocusToRelativeCell:d,setColumnGroupHeaderFocus:u,getColumnGroupHeaderFocus:c};_Z(e,{setCellFocus:o,setColumnHeaderFocus:s,setColumnHeaderFilterFocus:l},"public"),_Z(e,S,"private"),t.useEffect((function(){var t=i3(e.current.rootElementRef.current);return t.addEventListener("mouseup",y),function(){t.removeEventListener("mouseup",y)}}),[e,y]),NZ(e,"columnHeaderBlur",m),NZ(e,"cellDoubleClick",f),NZ(e,"cellMouseDown",g),NZ(e,"cellKeyDown",h),NZ(e,"cellModeChange",b),NZ(e,"columnHeaderFocus",p),NZ(e,"columnGroupHeaderFocus",v),NZ(e,"rowsSet",x),NZ(e,"paginationModelChange",w)}(r,n),function(e,n){var r,i=YZ(e,"useGridPreferencesPanel"),a=t.useRef(),o=t.useRef(),s=t.useCallback((function(){i.debug("Hiding Preferences Panel");var t=B3(e.current.state);t.openedPanelValue&&e.current.publishEvent("preferencePanelClose",{openedPanelValue:t.openedPanelValue}),e.current.setState((function(e){return Jq({},e,{preferencePanel:{open:!1}})})),e.current.forceUpdate()}),[e,i]),l=t.useCallback((function(){o.current=setTimeout((function(){return clearTimeout(a.current)}),0)}),[]),u=t.useCallback((function(){a.current=setTimeout(s,100)}),[s]),c=t.useCallback((function(t,n,r){i.debug("Opening Preferences Panel"),l(),e.current.setState((function(e){return Jq({},e,{preferencePanel:Jq({},e.preferencePanel,{open:!0,openedPanelValue:t,panelId:n,labelId:r})})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:t}),e.current.forceUpdate()}),[i,l,e]);_Z(e,{showPreferences:c,hidePreferences:u},"public");var d=t.useCallback((function(t,r){var i,a=B3(e.current.state);return!r.exportOnlyDirtyModels||null!=(null==(i=n.initialState)?void 0:i.preferencePanel)||a.open?Jq({},t,{preferencePanel:a}):t}),[e,null==(r=n.initialState)?void 0:r.preferencePanel]),f=t.useCallback((function(t,n){var r=n.stateToRestore.preferencePanel;return null!=r&&e.current.setState((function(e){return Jq({},e,{preferencePanel:r})})),t}),[e]);W0(e,"exportState",d),W0(e,"restoreState",f),t.useEffect((function(){return function(){clearTimeout(a.current),clearTimeout(o.current)}}),[])}(r,n),function(e,n){var r,i,a=YZ(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:n.filterModel,propOnChange:n.onFilterModelChange,stateSelector:qK,changeEvent:"filterModelChange"});var o=t.useCallback((function(){e.current.setState((function(t){var r=qK(t,e.current.instanceId),i="client"===n.filterMode?S3(n.getRowId,r,e,n.disableEval):null,a=e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:i,filterModel:null!=r?r:d3()}),o=Jq({},t,{filter:Jq({},t.filter,a)});return Jq({},o,{visibleRowsLookup:M3(e,o)})})),e.current.publishEvent("filteredRowsSet")}),[e,n.filterMode,n.getRowId,n.disableEval]),s=t.useCallback((function(e,t){return null==t||!1===t.filterable||n.disableColumnFilter?e:[].concat(k(e),["columnMenuFilterItem"])}),[n.disableColumnFilter]),l=t.useCallback((function(){o(),e.current.forceUpdate()}),[e,o]),u=t.useCallback((function(t){var n=qK(e),r=k(n.items),i=r.findIndex((function(e){return e.id===t.id}));-1===i?r.push(t):r[i]=t,e.current.setFilterModel(Jq({},n,{items:r}),"upsertFilterItem")}),[e]),c=t.useCallback((function(t){var n=qK(e),r=k(n.items);t.forEach((function(e){var n=t.findIndex((function(t){return t.id===e.id}));-1===n?r.push(e):r[n]=e})),e.current.setFilterModel(Jq({},n,{items:t}),"upsertFilterItems")}),[e]),d=t.useCallback((function(t){var n=qK(e),r=n.items.filter((function(e){return e.id!==t.id}));r.length!==n.items.length&&e.current.setFilterModel(Jq({},n,{items:r}),"deleteFilterItem")}),[e]),f=t.useCallback((function(t,r,i){if(a.debug("Displaying filter panel"),t){var o,s=qK(e),l=s.items.filter((function(t){var n;if(void 0!==t.value)return!Array.isArray(t.value)||0!==t.value.length;var r=null==(n=e.current.getColumn(t.field).filterOperators)?void 0:n.find((function(e){return e.value===t.operator}));return!("undefined"===typeof(null==r?void 0:r.requiresFilterValue)||(null==r?void 0:r.requiresFilterValue))})),u=l.find((function(e){return e.field===t})),c=e.current.getColumn(t);o=u?l:n.disableMultipleColumnsFiltering?[p3({field:t,operator:c.filterOperators[0].value},e)]:[].concat(k(l),[p3({field:t,operator:c.filterOperators[0].value},e)]),e.current.setFilterModel(Jq({},s,{items:o}))}e.current.showPreferences(q1.filters,r,i)}),[e,a,n.disableMultipleColumnsFiltering]),h=t.useCallback((function(){a.debug("Hiding filter panel"),e.current.hidePreferences()}),[e,a]),p=t.useCallback((function(t){var n=qK(e);n.logicOperator!==t&&e.current.setFilterModel(Jq({},n,{logicOperator:t}),"changeLogicOperator")}),[e]),v=t.useCallback((function(t){var n=qK(e);xZ(n.quickFilterValues,t)||e.current.setFilterModel(Jq({},n,{quickFilterValues:k(t)}))}),[e]),m=t.useCallback((function(t,r){qK(e)!==t&&(a.debug("Setting filter model"),e.current.updateControlState("filter",b3(t,n.disableMultipleColumnsFiltering,e),r),e.current.unstable_applyFilters())}),[e,a,n.disableMultipleColumnsFiltering]);_Z(e,{setFilterLogicOperator:p,unstable_applyFilters:l,deleteFilterItem:d,upsertFilterItem:u,upsertFilterItems:c,setFilterModel:m,showFilterPanel:f,hideFilterPanel:h,setQuickFilterValues:v},"public");var g=t.useCallback((function(t,r){var i,a=qK(e);return r.exportOnlyDirtyModels&&null==n.filterModel&&null==(null==(i=n.initialState)||null==(i=i.filter)?void 0:i.filterModel)&&xZ(a,d3())?t:Jq({},t,{filter:{filterModel:a}})}),[e,n.filterModel,null==(r=n.initialState)||null==(r=r.filter)?void 0:r.filterModel]),y=t.useCallback((function(t,r){var i,a=null==(i=r.stateToRestore.filter)?void 0:i.filterModel;return null==a?t:(e.current.updateControlState("filter",b3(a,n.disableMultipleColumnsFiltering,e),"restoreState"),Jq({},t,{callbacks:[].concat(k(t.callbacks),[e.current.unstable_applyFilters])}))}),[e,n.disableMultipleColumnsFiltering]),b=t.useCallback((function(e,t){if(t===q1.filters){var r,i=n.slots.filterPanel;return(0,yr.jsx)(i,Jq({},null==(r=n.slotProps)?void 0:r.filterPanel))}return e}),[n.slots.filterPanel,null==(i=n.slotProps)?void 0:i.filterPanel]),x=n.getRowId,w=mX(T3),S=t.useCallback((function(t){if("client"!==n.filterMode||!t.isRowMatchingFilters)return{filteredRowsLookup:{},filteredDescendantCountLookup:{}};for(var r=cY(e),i={},a=t.isRowMatchingFilters,o={},s={passingFilterItems:null,passingQuickFilterValues:null},l=w.current(e.current.state.rows.dataRowIdToModelLookup),u=0;u<l.length;u+=1){var c=l[u],d=x?x(c):c.id;a(c,void 0,s);var f=k3([s.passingFilterItems],[s.passingQuickFilterValues],t.filterModel,e,o);i[d]=f}var h="auto-generated-group-footer-root";return r[h]&&(i[h]=!0),{filteredRowsLookup:i,filteredDescendantCountLookup:{}}}),[e,n.filterMode,x,w]);W0(e,"columnMenu",s),W0(e,"exportState",g),W0(e,"restoreState",y),W0(e,"preferencePanel",b),f3(e,VZ,"filtering",S),f3(e,VZ,"visibleRowsLookupCreation",C3);var _=t.useCallback((function(){a.debug("onColUpdated - GridColumns changed, applying filters");var t=qK(e),n=eY(e),r=t.items.filter((function(e){return e.field&&n[e.field]}));r.length<t.items.length&&e.current.setFilterModel(Jq({},t,{items:r}))}),[e,a]),E=t.useCallback((function(t){"filtering"===t&&e.current.unstable_applyFilters()}),[e]),C=t.useCallback((function(){e.current.setState((function(t){return Jq({},t,{visibleRowsLookup:M3(e,t)})})),e.current.forceUpdate()}),[e]);NZ(e,"rowsSet",o),NZ(e,"columnsChange",_),NZ(e,"activeStrategyProcessorChange",E),NZ(e,"rowExpansionChange",C),NZ(e,"columnVisibilityModelChange",(function(){var t=qK(e);t.quickFilterValues&&t.quickFilterExcludeHiddenColumns&&e.current.unstable_applyFilters()})),V0((function(){e.current.unstable_applyFilters()})),rX((function(){void 0!==n.filterModel&&e.current.setFilterModel(n.filterModel)}),[e,a,n.filterModel])}(r,n),function(e,n){var r,i=YZ(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:n.sortModel,propOnChange:n.onSortModelChange,stateSelector:GK,changeEvent:"sortModelChange"});var a=t.useCallback((function(t,n){var r=GK(e),i=r.findIndex((function(e){return e.field===t})),a=k(r);return i>-1?n?a.splice(i,1,n):a.splice(i,1):a=[].concat(k(r),[n]),a}),[e]),o=t.useCallback((function(t,r){var i,a=GK(e).find((function(e){return e.field===t.field}));if(a){var o,s=void 0===r?MQ(null!=(o=t.sortingOrder)?o:n.sortingOrder,a.sort):r;return null==s?void 0:Jq({},a,{sort:s})}return{field:t.field,sort:void 0===r?MQ(null!=(i=t.sortingOrder)?i:n.sortingOrder):r}}),[e,n.sortingOrder]),s=t.useCallback((function(e,t){return null==t||!1===t.sortable?e:(t.sortingOrder||n.sortingOrder).some((function(e){return!!e}))?[].concat(k(e),["columnMenuSortItem"]):e}),[n.sortingOrder]),l=t.useCallback((function(){e.current.setState((function(t){if("server"===n.sortingMode)return i.debug("Skipping sorting rows as sortingMode = server"),Jq({},t,{sorting:Jq({},t.sorting,{sortedRows:_0(fY(e),m0,!1)})});var r=function(e,t){var n=e.map((function(e){return function(e,t){var n=t.current.getColumn(e.field);if(!n)return null;var r="desc"===e.sort?function(){return-1*n.sortComparator.apply(n,arguments)}:n.sortComparator;return{getSortCellParams:function(e){return{id:e,field:n.field,rowNode:t.current.getRowNode(e),value:t.current.getCellValue(e,n.field),api:t.current}},comparator:r}}(e,t)})).filter((function(e){return!!e}));return 0===n.length?null:function(e){return e.map((function(e){return{node:e,params:n.map((function(t){return t.getSortCellParams(e.id)}))}})).sort((function(e,t){return r=e,i=t,n.reduce((function(e,t,n){if(0!==e)return e;var a=r.params[n],o=i.params[n];return t.comparator(a.value,o.value,a,o)}),0);var r,i})).map((function(e){return e.node.id}))}}(GK(t,e.current.instanceId),e),a=e.current.applyStrategyProcessor("sorting",{sortRowList:r});return Jq({},t,{sorting:Jq({},t.sorting,{sortedRows:a})})})),e.current.publishEvent("sortedRowsSet"),e.current.forceUpdate()}),[e,i,n.sortingMode]),u=t.useCallback((function(t){GK(e)!==t&&(i.debug("Setting sort model"),e.current.setState(CQ(t,n.disableMultipleColumnsSorting)),e.current.forceUpdate(),e.current.applySorting())}),[e,i,n.disableMultipleColumnsSorting]),c=t.useCallback((function(t,r,i){if(t.sortable){var s,l=o(t,r);s=!i||n.disableMultipleColumnsSorting?l?[l]:[]:a(t.field,l),e.current.setSortModel(s)}}),[e,a,o,n.disableMultipleColumnsSorting]),d=t.useCallback((function(){return GK(e)}),[e]),f=t.useCallback((function(){return HK(e).map((function(e){return e.model}))}),[e]),h=t.useCallback((function(){return jK(e)}),[e]),p=t.useCallback((function(t){return e.current.getSortedRowIds()[t]}),[e]);_Z(e,{getSortModel:d,getSortedRows:f,getSortedRowIds:h,getRowIdFromRowIndex:p,setSortModel:u,sortColumn:c,applySorting:l},"public");var v=t.useCallback((function(t,r){var i,a=GK(e);return!r.exportOnlyDirtyModels||null!=n.sortModel||null!=(null==(i=n.initialState)||null==(i=i.sorting)?void 0:i.sortModel)||a.length>0?Jq({},t,{sorting:{sortModel:a}}):t}),[e,n.sortModel,null==(r=n.initialState)||null==(r=r.sorting)?void 0:r.sortModel]),m=t.useCallback((function(t,r){var i,a=null==(i=r.stateToRestore.sorting)?void 0:i.sortModel;return null==a?t:(e.current.setState(CQ(a,n.disableMultipleColumnsSorting)),Jq({},t,{callbacks:[].concat(k(t.callbacks),[e.current.applySorting])}))}),[e,n.disableMultipleColumnsSorting]),g=t.useCallback((function(t){var n=fY(e),r=n[m0],i=t.sortRowList?t.sortRowList(r.children.map((function(e){return n[e]}))):k(r.children);return null!=r.footerId&&i.push(r.footerId),i}),[e]);W0(e,"exportState",v),W0(e,"restoreState",m),f3(e,VZ,"sorting",g);var y=t.useCallback((function(e,t){var n=e.colDef,r=t.shiftKey||t.metaKey||t.ctrlKey;c(n,void 0,r)}),[c]),b=t.useCallback((function(e,t){var n=e.colDef;!ZZ(t.key)||t.ctrlKey||t.metaKey||c(n,void 0,t.shiftKey)}),[c]),x=t.useCallback((function(){var t=GK(e),n=qX(e);if(t.length>0){var r=t.filter((function(e){return n[e.field]}));r.length<t.length&&e.current.setSortModel(r)}}),[e]),w=t.useCallback((function(t){"sorting"===t&&e.current.applySorting()}),[e]);W0(e,"columnMenu",s),NZ(e,"columnHeaderClick",y),NZ(e,"columnHeaderKeyDown",b),NZ(e,"rowsSet",e.current.applySorting),NZ(e,"columnsChange",x),NZ(e,"activeStrategyProcessorChange",w),V0((function(){e.current.applySorting()})),rX((function(){void 0!==n.sortModel&&e.current.setSortModel(n.sortModel)}),[e,n.sortModel])}(r,n),function(e,n){var r=YZ(e,"useDensity"),i=t.useCallback((function(t){r.debug("Set grid density to ".concat(t)),e.current.setState((function(e){var n=jX(e),r={value:t,factor:K1[t]};return xZ(n,r)?e:Jq({},e,{density:r})})),e.current.forceUpdate()}),[r,e]);t.useEffect((function(){e.current.setDensity(n.density)}),[e,n.density]),_Z(e,{setDensity:i},"public")}(r,n),function(e,n){var r,i=YZ(e,"useGridPagination"),a=CX(e,eZ),o=CX(e,GX),s=Math.floor(n.rowHeight*o);e.current.registerControlState({stateId:"pagination",propModel:n.paginationModel,propOnChange:n.onPaginationModelChange,stateSelector:hQ,changeEvent:"paginationModelChange"});var l=t.useCallback((function(t){var n=hQ(e);t!==n.page&&(i.debug("Setting page to ".concat(t)),e.current.setPaginationModel({page:t,pageSize:n.pageSize}))}),[e,i]),u=t.useCallback((function(t){var n=hQ(e);t!==n.pageSize&&(i.debug("Setting page size to ".concat(t)),e.current.setPaginationModel({pageSize:t,page:n.page}))}),[e,i]),c=t.useCallback((function(t){var r;t!==hQ(e)&&(i.debug("Setting 'paginationModel' to",t),e.current.updateControlState("pagination",s3(null!=(r=n.rowCount)?r:a,n.signature,t),"setPaginationModel"),e.current.forceUpdate())}),[e,i,n.rowCount,n.signature,a]);_Z(e,{setPage:l,setPageSize:u,setPaginationModel:c},"public");var d=t.useCallback((function(t,r){var i,a=hQ(e);return!r.exportOnlyDirtyModels||null!=n.paginationModel||null!=(null==(i=n.initialState)||null==(i=i.pagination)?void 0:i.paginationModel)||0!==a.page&&a.pageSize!==(n.autoPageSize?0:100)?Jq({},t,{pagination:Jq({},t.pagination,{paginationModel:a})}):t}),[e,n.paginationModel,null==(r=n.initialState)||null==(r=r.pagination)?void 0:r.paginationModel,n.autoPageSize]),f=t.useCallback((function(t,r){var i,o,s,l=null!=(i=r.stateToRestore.pagination)&&i.paginationModel?Jq({},cQ(n.autoPageSize),null==(o=r.stateToRestore.pagination)?void 0:o.paginationModel):hQ(e);return e.current.updateControlState("pagination",s3(null!=(s=n.rowCount)?s:a,n.signature,l),"stateRestorePreProcessing"),t}),[e,n.autoPageSize,n.rowCount,n.signature,a]);W0(e,"exportState",d),W0(e,"restoreState",f);var h=t.useCallback((function(){var t=e.current.getRootDimensions();if(n.autoPageSize&&t){var r=k0(e),i=Math.floor((t.viewportInnerSize.height-r.top-r.bottom)/s);e.current.setPageSize(i)}}),[e,n.autoPageSize,s]);NZ(e,"viewportInnerSizeChange",h),NZ(e,"paginationModelChange",(function(){var t,n=hQ(e);null!=(t=e.current.virtualScrollerRef)&&t.current&&e.current.scrollToIndexes({rowIndex:n.page*n.pageSize}),e.current.forceUpdate()})),t.useEffect((function(){}),[n.rowCount,n.paginationMode]),t.useEffect((function(){var t;e.current.updateControlState("pagination",s3(null!=(t=n.rowCount)?t:a,n.signature,n.paginationModel))}),[e,n.paginationModel,n.rowCount,n.paginationMode,a,n.signature]),t.useEffect((function(){h()}),[h])}(r,n),function(e,n){var r=n.getRowHeight,i=n.getRowSpacing,a=n.getEstimatedRowHeight,o=t.useRef(Object.create(null)),s=t.useRef(-1),l=t.useRef(!1),u=CX(e,GX),c=CX(e,qK),d=CX(e,fQ),f=CX(e,GK),h=P3(e,n),p=CX(e,gY),v=v9(n.rowHeight,d9.rowHeight),m=Math.floor(v*u),g=t.useCallback((function(){var t,n;l.current=!1;var c=function(t){o.current[t.id]||(o.current[t.id]={sizes:{baseCenter:m},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});var n=o.current[t.id],s=n.isResized,c=n.needsFirstMeasurement,d=n.sizes,f="number"===typeof m&&m>0?m:52,p=d.baseCenter;if(s)f=p;else if(r){var v=r(Jq({},t,{densityFactor:u}));if("auto"===v){if(c){var g=a?a(Jq({},t,{densityFactor:u})):m;f=null!=g?g:m}else f=p;l.current=!0,o.current[t.id].autoHeight=!0}else f=v9(v,m),o.current[t.id].needsFirstMeasurement=!1,o.current[t.id].autoHeight=!1}else o.current[t.id].needsFirstMeasurement=!1;var y={};for(var b in d)/^base[A-Z]/.test(b)&&(y[b]=d[b]);if(y.baseCenter=f,i){var x,w,S=e.current.getRowIndexRelativeToVisibleRows(t.id),_=i(Jq({},t,{isFirstVisible:0===S,isLastVisible:S===h.rows.length-1,indexRelativeToCurrentPage:S}));y.spacingTop=null!=(x=_.top)?x:0,y.spacingBottom=null!=(w=_.bottom)?w:0}var k=e.current.unstable_applyPipeProcessors("rowHeight",y,t);return o.current[t.id].sizes=k,k},d=[],f=h.rows.reduce((function(e,t){d.push(e);var n=0,r=0,i=c(t);for(var a in i){var o=i[a];/^base[A-Z]/.test(a)?n=o>n?o:n:r+=o}return e+n+r}),0);null==p||null==(t=p.top)||t.forEach((function(e){c(e)})),null==p||null==(n=p.bottom)||n.forEach((function(e){c(e)})),e.current.setState((function(e){return Jq({},e,{rowsMeta:{currentPageTotalHeight:f,positions:d}})})),l.current||(s.current=1/0),e.current.forceUpdate()}),[e,h.rows,m,r,i,a,p,u]),y=t.useCallback((function(e){var t=o.current[e];return t?t.sizes.baseCenter:m}),[m]),b=t.useCallback((function(e,t){o.current[e].sizes.baseCenter=t,o.current[e].isResized=!0,o.current[e].needsFirstMeasurement=!1,g()}),[g]),x=t.useMemo((function(){return h2(g)}),[g]),w=t.useCallback((function(e,t,n){if(o.current[e]&&o.current[e].autoHeight){var r=o.current[e].sizes["base".concat(tX(n))]!==t;o.current[e].needsFirstMeasurement=!1,o.current[e].sizes["base".concat(tX(n))]=t,r&&x()}}),[x]),S=t.useCallback((function(e){var t;return(null==(t=o.current[e])?void 0:t.autoHeight)||!1}),[]),_=t.useCallback((function(){return s.current}),[]),k=t.useCallback((function(e){l.current&&e>s.current&&(s.current=e)}),[]),E=t.useCallback((function(){o.current={},g()}),[g]);t.useEffect((function(){g()}),[m,c,d,f,g]),q0(e,"rowHeight",g);var C={getLastMeasuredRowIndex:_,rowHasAutoHeight:S};_Z(e,{unstable_setLastMeasuredRowIndex:k,unstable_getRowHeight:y,unstable_getRowInternalSizes:function(e){var t;return null==(t=o.current[e])?void 0:t.sizes},unstable_setRowHeight:b,unstable_storeRowHeightMeasurement:w,resetRowHeights:E},"public"),_Z(e,C,"private")}(r,n),function(e,n){var r=Ra(),i=YZ(e,"useGridScroll"),a=e.current.columnHeadersElementRef,o=e.current.virtualScrollerRef,s=CX(e,YK),l=t.useCallback((function(t){var r=sY(e),a=KX(e);if(null!=t.rowIndex&&0===r||0===a.length)return!1;i.debug("Scrolling to cell at row ".concat(t.rowIndex,", col: ").concat(t.colIndex," "));var l={};if(null!=t.colIndex){var u,c=QX(e);if("undefined"!==typeof t.rowIndex){var d,f=null==(d=s[t.rowIndex])?void 0:d.id,h=e.current.unstable_getCellColSpanInfo(f,t.colIndex);h&&!h.spannedByColSpan&&(u=h.cellProps.width)}"undefined"===typeof u&&(u=a[t.colIndex].computedWidth),l.left=f2({clientHeight:o.current.clientWidth,scrollTop:Math.abs(o.current.scrollLeft),offsetHeight:u,offsetTop:c[t.colIndex]})}if(null!=t.rowIndex){var p,v,m=a3(e.current.state),g=pQ(e),y=vQ(e),b=n.pagination?t.rowIndex-g*y:t.rowIndex,x=m.positions[b+1]?m.positions[b+1]-m.positions[b]:m.currentPageTotalHeight-m.positions[b],w=(null==(p=o.current.querySelector(".".concat(dX["pinnedRows--top"])))?void 0:p.clientHeight)||0,S=(null==(v=o.current.querySelector(".".concat(dX["pinnedRows--bottom"])))?void 0:v.clientHeight)||0;l.top=f2({clientHeight:o.current.clientHeight-w-S,scrollTop:o.current.scrollTop,offsetHeight:x,offsetTop:m.positions[b]})}return(void 0!==typeof(l=e.current.unstable_applyPipeProcessors("scrollToIndexes",l,t)).left||void 0!==typeof l.top)&&(e.current.scroll(l),!0)}),[i,e,o,n.pagination,s]),u=t.useCallback((function(e){if(o.current&&null!=e.left&&a.current){var t="rtl"===r.direction?-1:1;a.current.scrollLeft=e.left,o.current.scrollLeft=t*e.left,i.debug("Scrolling left: ".concat(e.left))}o.current&&null!=e.top&&(o.current.scrollTop=e.top,i.debug("Scrolling top: ".concat(e.top))),i.debug("Scrolling, updating container, and viewport")}),[o,r.direction,a,i]),c=t.useCallback((function(){return null!=o&&o.current?{top:o.current.scrollTop,left:o.current.scrollLeft}:{top:0,left:0}}),[o]);_Z(e,{scroll:u,scrollToIndexes:l,getScrollPosition:c},"public")}(r,n),function(e){var n=YZ(e,"useGridColumnMenu"),r=t.useCallback((function(t){e.current.setState((function(e){return e.columnMenu.open&&e.columnMenu.field===t?e:(n.debug("Opening Column Menu"),Jq({},e,{columnMenu:{open:!0,field:t}}))}))&&(e.current.hidePreferences(),e.current.forceUpdate())}),[e,n]),i=t.useCallback((function(){var t=dZ(e.current.state);if(t.field){var r=qX(e),i=YX(e),a=WX(e),o=t.field;if(r[o]||(o=a[0]),!1===i[o]){var s=a.filter((function(e){return e===o||!1!==i[e]})),l=s.indexOf(o);o=s[l+1]||s[l-1]}e.current.setColumnHeaderFocus(o)}e.current.setState((function(e){return e.columnMenu.open||void 0!==e.columnMenu.field?(n.debug("Hiding Column Menu"),Jq({},e,{columnMenu:Jq({},e.columnMenu,{open:!1,field:void 0})})):e}))&&e.current.forceUpdate()}),[e,n]),a=t.useCallback((function(t){n.debug("Toggle Column Menu");var a=dZ(e.current.state);a.open&&a.field===t?i():r(t)}),[e,n,r,i]);_Z(e,{showColumnMenu:r,hideColumnMenu:i,toggleColumnMenu:a},"public"),NZ(e,"columnResizeStart",i),NZ(e,"virtualScrollerWheel",e.current.hideColumnMenu),NZ(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)}(r),r3(r,n),function(e,n){var r,i=YZ(e,"useGridPrintExport"),a=t.useRef(null),o=t.useRef(null),s=t.useRef({}),l=t.useRef([]);t.useEffect((function(){a.current=i3(e.current.rootElementRef.current)}),[e]);var u=t.useCallback((function(t,n,r){return new Promise((function(i){var a=Q1({apiRef:e,options:{fields:t,allColumns:n}}).map((function(e){return e.field})),o=XX(e),s={};o.forEach((function(e){s[e.field]=a.includes(e.field)})),r&&(s[D0.field]=!0),e.current.setColumnVisibilityModel(s),i()}))}),[e]),c=t.useCallback((function(t){var n=t({apiRef:e}).map((function(t){return e.current.getRow(t)}));e.current.setRows(n)}),[e]),d=t.useCallback((function(t,r){var i,o,s=Jq({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},r),l=t.contentDocument;if(l){var u=a3(e.current.state),c=e.current.rootElementRef.current,d=c.cloneNode(!0);d.querySelector(".".concat(dX.main)).style.overflow="visible",d.style.contain="size",d.querySelector(".".concat(dX.columnHeaders)).querySelector(".".concat(dX.columnHeadersInner)).style.width="100%";var f,h,p=(null==(i=c.querySelector(".".concat(dX.toolbarContainer)))?void 0:i.offsetHeight)||0,v=(null==(o=c.querySelector(".".concat(dX.footerContainer)))?void 0:o.offsetHeight)||0;s.hideToolbar&&(null==(f=d.querySelector(".".concat(dX.toolbarContainer)))||f.remove(),p=0),s.hideFooter&&(null==(h=d.querySelector(".".concat(dX.footerContainer)))||h.remove(),v=0);var m=u.currentPageTotalHeight+W1(e,n.columnHeaderHeight)+p+v;if(d.style.height="".concat(m,"px"),d.style.boxSizing="content-box",null!=r&&r.getRowsToExport){var g=d.querySelector(".".concat(dX.footerContainer));g.style.position="absolute",g.style.width="100%",g.style.top="".concat(m-v,"px")}var y=document.createElement("div");y.appendChild(d),l.body.innerHTML=y.innerHTML;var b,x="function"===typeof s.pageStyle?s.pageStyle():s.pageStyle;if("string"===typeof x){var w=l.createElement("style");w.appendChild(l.createTextNode(x)),l.head.appendChild(w)}s.bodyClassName&&(b=l.body.classList).add.apply(b,k(s.bodyClassName.split(" ")));var S=[];if(s.copyStyles)for(var _=c.getRootNode(),E=("ShadowRoot"===_.constructor.name?_:a.current).querySelectorAll("style, link[rel='stylesheet']"),C=function(){var e=E[M];if("STYLE"===e.tagName){var t=l.createElement(e.tagName),n=e.sheet;if(n){for(var r="",i=0;i<n.cssRules.length;i+=1)"string"===typeof n.cssRules[i].cssText&&(r+="".concat(n.cssRules[i].cssText,"\r\n"));t.appendChild(l.createTextNode(r)),l.head.appendChild(t)}}else if(e.getAttribute("href")){for(var a=l.createElement(e.tagName),o=0;o<e.attributes.length;o+=1){var s=e.attributes[o];s&&a.setAttribute(s.nodeName,s.nodeValue||"")}S.push(new Promise((function(e){a.addEventListener("load",(function(){return e()}))}))),l.head.appendChild(a)}},M=0;M<E.length;M+=1)C();Promise.all(S).then((function(){t.contentWindow.print()}))}}),[e,a,n.columnHeaderHeight]),f=t.useCallback((function(t){var n;a.current.body.removeChild(t),e.current.restoreState(o.current||{}),null!=(n=o.current)&&null!=(n=n.columns)&&n.columnVisibilityModel||e.current.setColumnVisibilityModel(s.current),e.current.unstable_setVirtualization(!0),e.current.setRows(l.current),o.current=null,s.current={},l.current=[]}),[e]),h=t.useCallback((function(t){return(r=r||sm(um().mark((function t(r){var h,p,v;return um().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.debug("Export data as Print"),e.current.rootElementRef.current){t.next=3;break}throw new Error("MUI: No grid root element available.");case 3:return o.current=e.current.exportState(),s.current=YX(e),l.current=e.current.getSortedRows(),n.pagination&&(h=JK(e),p={page:0,pageSize:h},e.current.updateControlState("pagination",s3(h,"DataGridPro",p)),e.current.forceUpdate()),t.next=9,u(null==r?void 0:r.fields,null==r?void 0:r.allColumns,null==r?void 0:r.includeCheckboxes);case 9:return null!=r&&r.getRowsToExport&&c(r.getRowsToExport),e.current.unstable_setVirtualization(!1),t.next=13,new Promise((function(e){requestAnimationFrame((function(){e()}))}));case 13:(v=l3(null==r?void 0:r.fileName)).onload=function(){d(v,r),v.contentWindow.matchMedia("print").addEventListener("change",(function(e){!1===e.matches&&f(v)}))},a.current.body.appendChild(v);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}),[n,i,e,d,f,u,c]);_Z(e,{exportDataAsPrint:h},"public");var p=t.useCallback((function(e,t){var n;return null!=(n=t.printOptions)&&n.disableToolbarButton?e:[].concat(k(e),[{component:(0,yr.jsx)(n3,{options:t.printOptions}),componentName:"printExport"}])}),[]);W0(e,"exportMenu",p)}(r,n),H0(r,n),p2(r,n),function(e,t){UZ(e,"columnHeaderClick",t.onColumnHeaderClick),UZ(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),UZ(e,"columnHeaderOver",t.onColumnHeaderOver),UZ(e,"columnHeaderOut",t.onColumnHeaderOut),UZ(e,"columnHeaderEnter",t.onColumnHeaderEnter),UZ(e,"columnHeaderLeave",t.onColumnHeaderLeave),UZ(e,"cellClick",t.onCellClick),UZ(e,"cellDoubleClick",t.onCellDoubleClick),UZ(e,"cellKeyDown",t.onCellKeyDown),UZ(e,"preferencePanelClose",t.onPreferencePanelClose),UZ(e,"preferencePanelOpen",t.onPreferencePanelOpen),UZ(e,"menuOpen",t.onMenuOpen),UZ(e,"menuClose",t.onMenuClose),UZ(e,"rowDoubleClick",t.onRowDoubleClick),UZ(e,"rowClick",t.onRowClick),UZ(e,"stateChange",t.onStateChange)}(r,n),function(e){var n=t.useCallback((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.current.unstable_applyPipeProcessors("exportState",{},t)}),[e]),r=t.useCallback((function(t){e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:t}).callbacks.forEach((function(e){e()})),e.current.forceUpdate()}),[e]);_Z(e,{exportState:n,restoreState:r},"public")}(r),function(e,n){var r=function(t){e.current.setState((function(e){return Jq({},e,{virtualization:Jq({},e.virtualization,{enabled:t})})}))},i={unstable_setVirtualization:r,unstable_setColumnVirtualization:function(t){e.current.setState((function(e){return Jq({},e,{virtualization:Jq({},e.virtualization,{enabledForColumns:t})})}))}};_Z(e,i,"public"),t.useEffect((function(){r(!n.disableVirtualization)}),[n.disableVirtualization])}(r,n),r},E9=UK("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:function(e,t){return t.virtualScroller}})({overflow:"auto",height:"100%",position:"relative","@media print":{overflow:"hidden"},zIndex:0}),C9=t.forwardRef((function(e,t){var n=AX(),r=Cv({root:["virtualScroller"]},uX,n.classes);return(0,yr.jsx)(E9,Jq({ref:t},e,{className:d(r.root,e.className),ownerState:n}))})),M9=UK("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:function(e,t){return t.virtualScrollerContent}})({}),T9=t.forwardRef((function(e,t){var n,r=AX(),i=function(e,t){return Cv({root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]},uX,e.classes)}(r,!r.autoHeight&&"auto"===(null==(n=e.style)?void 0:n.minHeight));return(0,yr.jsx)(M9,Jq({ref:t},e,{ownerState:r,className:d(i.root,e.className)}))})),R9=["className"],A9=UK("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:function(e,t){return t.virtualScrollerRenderZone}})({position:"absolute",display:"flex",flexDirection:"column"}),P9=t.forwardRef((function(e,t){var n=e.className,r=eX(e,R9),i=AX(),a=Cv({root:["virtualScrollerRenderZone"]},uX,i.classes);return(0,yr.jsx)(A9,Jq({ref:t,className:d(a.root,n),ownerState:i},r))})),I9=UK("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:function(e){return"overlayType"!==e},overridesResolver:function(e,t){return t.overlayWrapper}})((function(e){return{position:"sticky",top:0,left:0,width:0,height:0,zIndex:"loadingOverlay"===e.overlayType?5:4}})),O9=UK("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:function(e){return"overlayType"!==e},overridesResolver:function(e,t){return t.overlayWrapperInner}})({}),L9=function(e){return Cv({root:["overlayWrapper"],inner:["overlayWrapperInner"]},uX,e.classes)};function N9(e){var n,r,i=tQ(),a=AX(),o=M(t.useState((function(){var e,t;return null!=(e=null==(t=i.current.getRootDimensions())?void 0:t.viewportInnerSize)?e:null})),2),s=o[0],l=o[1],u=t.useCallback((function(){var e,t;l(null!=(e=null==(t=i.current.getRootDimensions())?void 0:t.viewportInnerSize)?e:null)}),[i]);rX((function(){return i.current.subscribeEvent("viewportInnerSizeChange",u)}),[i,u]);var c=null!=(n=null==s?void 0:s.height)?n:0;a.autoHeight&&0===c&&(c=E0(i,a.rowHeight));var f=L9(Jq({},e,{classes:a.classes}));return s?(0,yr.jsx)(I9,{className:d(f.root),overlayType:e.overlayType,children:(0,yr.jsx)(O9,Jq({className:d(f.inner),style:{height:c,width:null!=(r=null==s?void 0:s.width)?r:0}},e))}):null}function D9(){var e,t,n,r=tQ(),i=AX(),a=CX(r,sY),o=CX(r,JK),s=CX(r,lY),l=!s&&a>0&&0===o,u=null,c="";s||0!==a||(u=(0,yr.jsx)(i.slots.noRowsOverlay,Jq({},null==(e=i.slotProps)?void 0:e.noRowsOverlay)),c="noRowsOverlay");l&&(u=(0,yr.jsx)(i.slots.noResultsOverlay,Jq({},null==(t=i.slotProps)?void 0:t.noResultsOverlay)),c="noResultsOverlay");s&&(u=(0,yr.jsx)(i.slots.loadingOverlay,Jq({},null==(n=i.slotProps)?void 0:n.loadingOverlay)),c="loadingOverlay");return null===u?null:(0,yr.jsx)(N9,{overlayType:c,children:u})}var U9=["className"],F9=t.forwardRef((function(e,t){var n=e.className,r=eX(e,U9),i=q4({ref:t}),a=i.getRootProps,o=i.getContentProps,s=i.getRenderZoneProps,l=i.getRows;return(0,yr.jsxs)(C9,Jq({className:n},a(r),{children:[(0,yr.jsx)(D9,{}),(0,yr.jsx)(T9,Jq({},o(),{children:(0,yr.jsx)(P9,Jq({},s(),{children:l()}))}))]}))})),z9=t.forwardRef((function(e,t){var n=h9(e),r=k9(n.apiRef,n);return(0,yr.jsx)(vZ,{privateApiRef:r,props:n,children:(0,yr.jsxs)(wY,Jq({className:n.className,style:n.style,sx:n.sx,ref:t},n.forwardedProps,{children:[(0,yr.jsx)(SY,{}),(0,yr.jsx)(fZ,{VirtualScrollerComponent:F9}),(0,yr.jsx)(hZ,{})]}))})})),B9=t.memo(z9);z9.propTypes={apiRef:Gh().shape({current:Gh().object.isRequired}),"aria-label":Gh().string,"aria-labelledby":Gh().string,autoHeight:Gh().bool,autoPageSize:Gh().bool,cellModesModel:Gh().object,checkboxSelection:Gh().bool,classes:Gh().object,clipboardCopyCellDelimiter:Gh().string,columnBuffer:Gh().number,columnGroupingModel:Gh().arrayOf(Gh().object),columnHeaderHeight:Gh().number,columns:(Gh().array.isRequired,function(){return null}),columnThreshold:Gh().number,columnVisibilityModel:Gh().object,components:Gh().object,componentsProps:Gh().object,density:Gh().oneOf(["comfortable","compact","standard"]),disableColumnFilter:Gh().bool,disableColumnMenu:Gh().bool,disableColumnSelector:Gh().bool,disableDensitySelector:Gh().bool,disableEval:Gh().bool,disableRowSelectionOnClick:Gh().bool,disableVirtualization:Gh().bool,editMode:Gh().oneOf(["cell","row"]),experimentalFeatures:Gh().shape({ariaV7:Gh().bool,columnGrouping:Gh().bool,warnIfFocusStateIsNotSynced:Gh().bool}),filterDebounceMs:Gh().number,filterMode:Gh().oneOf(["client","server"]),filterModel:Gh().shape({items:Gh().arrayOf(Gh().shape({field:Gh().string.isRequired,id:Gh().oneOfType([Gh().number,Gh().string]),operator:Gh().string.isRequired,value:Gh().any})).isRequired,logicOperator:Gh().oneOf(["and","or"]),quickFilterExcludeHiddenColumns:Gh().bool,quickFilterLogicOperator:Gh().oneOf(["and","or"]),quickFilterValues:Gh().array}),forwardedProps:Gh().object,getCellClassName:Gh().func,getDetailPanelContent:Gh().func,getEstimatedRowHeight:Gh().func,getRowClassName:Gh().func,getRowHeight:Gh().func,getRowId:Gh().func,getRowSpacing:Gh().func,hideFooter:Gh().bool,hideFooterPagination:Gh().bool,hideFooterSelectedRowCount:Gh().bool,initialState:Gh().object,isCellEditable:Gh().func,isRowSelectable:Gh().func,keepNonExistentRowsSelected:Gh().bool,loading:Gh().bool,localeText:Gh().object,logger:Gh().shape({debug:Gh().func.isRequired,error:Gh().func.isRequired,info:Gh().func.isRequired,warn:Gh().func.isRequired}),logLevel:Gh().oneOf(["debug","error","info","warn",!1]),nonce:Gh().string,onCellClick:Gh().func,onCellDoubleClick:Gh().func,onCellEditStart:Gh().func,onCellEditStop:Gh().func,onCellKeyDown:Gh().func,onCellModesModelChange:Gh().func,onClipboardCopy:Gh().func,onColumnHeaderClick:Gh().func,onColumnHeaderDoubleClick:Gh().func,onColumnHeaderEnter:Gh().func,onColumnHeaderLeave:Gh().func,onColumnHeaderOut:Gh().func,onColumnHeaderOver:Gh().func,onColumnOrderChange:Gh().func,onColumnVisibilityModelChange:Gh().func,onFilterModelChange:Gh().func,onMenuClose:Gh().func,onMenuOpen:Gh().func,onPaginationModelChange:Gh().func,onPreferencePanelClose:Gh().func,onPreferencePanelOpen:Gh().func,onProcessRowUpdateError:Gh().func,onResize:Gh().func,onRowClick:Gh().func,onRowDoubleClick:Gh().func,onRowEditCommit:Gh().func,onRowEditStart:Gh().func,onRowEditStop:Gh().func,onRowModesModelChange:Gh().func,onRowSelectionModelChange:Gh().func,onSortModelChange:Gh().func,onStateChange:Gh().func,pageSizeOptions:Gh().arrayOf(Gh().oneOfType([Gh().number,Gh().shape({label:Gh().string.isRequired,value:Gh().number.isRequired})]).isRequired),pagination:function(e){return!1===e.pagination?new Error(["MUI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to DataGridPro or DataGridPremium component to disable the pagination."].join("\n")):null},paginationMode:Gh().oneOf(["client","server"]),paginationModel:Gh().shape({page:Gh().number.isRequired,pageSize:Gh().number.isRequired}),processRowUpdate:Gh().func,rowBuffer:Gh().number,rowCount:Gh().number,rowHeight:Gh().number,rowModesModel:Gh().object,rows:Gh().arrayOf(Gh().object).isRequired,rowSelection:Gh().bool,rowSelectionModel:Gh().oneOfType([Gh().arrayOf(Gh().oneOfType([Gh().number,Gh().string]).isRequired),Gh().number,Gh().string]),rowSpacingType:Gh().oneOf(["border","margin"]),rowThreshold:Gh().number,scrollbarSize:Gh().number,showCellVerticalBorder:Gh().bool,showColumnVerticalBorder:Gh().bool,slotProps:Gh().object,slots:Gh().object,sortingMode:Gh().oneOf(["client","server"]),sortingOrder:Gh().arrayOf(Gh().oneOf(["asc","desc"])),sortModel:Gh().arrayOf(Gh().shape({field:Gh().string.isRequired,sort:Gh().oneOf(["asc","desc"])})),sx:Gh().oneOfType([Gh().arrayOf(Gh().oneOfType([Gh().func,Gh().object,Gh().bool])),Gh().func,Gh().object]),unstable_ignoreValueFormatterDuringExport:Gh().oneOfType([Gh().shape({clipboardExport:Gh().bool,csvExport:Gh().bool}),Gh().bool])};var j9=[{field:"name",headerName:"Name",width:150,type:"string"},{field:"weight",headerName:"Weight",width:120,type:"number"}],H9=[{field:"source",headerName:"Node 1",width:150,type:"string"},{field:"target",headerName:"Node 2",width:120,type:"string"},{field:"weight",headerName:"Weight",width:120,type:"number"}];function G9(e){var t=e.ensemble;return(0,yr.jsxs)(za,{spacing:2,direction:"row",sx:{justifyContent:"center"},children:[(0,yr.jsxs)(za,{spacing:1,children:[(0,yr.jsxs)(ia,{variant:"h6",fontWeight:600,children:[(0,yr.jsx)(np,{icon:vp})," Nodes"]}),(0,yr.jsx)(B9,{columns:j9,rows:t.nodes,hideFooter:!0,style:{maxHeight:"40vh"}})]}),(0,yr.jsx)(l8,{orientation:"vertical",flexItem:!0}),(0,yr.jsxs)(za,{spacing:1,children:[(0,yr.jsxs)(ia,{variant:"h6",fontWeight:600,children:[(0,yr.jsx)(np,{icon:yp})," Edges"]}),(0,yr.jsx)(B9,{columns:H9,rows:t.edges,hideFooter:!0,style:{maxHeight:"60vh"}})]})]})}function V9(e){return vr("MuiFormGroup",e)}mr("MuiFormGroup",["root","row","error"]);var W9=["className","row"],q9=rr("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.row&&t.row]}})((function(e){return u({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.ownerState.row&&{flexDirection:"row"})})),X9=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiFormGroup"}),r=n.className,i=n.row,a=void 0!==i&&i,o=l(n,W9),s=u({},n,{row:a,error:Bo({props:n,muiFormControl:jo(),states:["error"]}).error}),c=function(e){var t=e.classes;return f({root:["root",e.row&&"row",e.error&&"error"]},V9,t)}(s);return(0,yr.jsx)(q9,u({className:d(c.root,r),ownerState:s,ref:t},o))}));var Y9=t.createContext(void 0),K9=["actions","children","defaultValue","name","onChange","value"],Z9=t.forwardRef((function(e,n){var r=e.actions,i=e.children,a=e.defaultValue,o=e.name,s=e.onChange,c=e.value,d=l(e,K9),f=t.useRef(null),h=M(nu({controlled:c,default:a,name:"RadioGroup"}),2),p=h[0],v=h[1];t.useImperativeHandle(r,(function(){return{focus:function(){var e=f.current.querySelector("input:not(:disabled):checked");e||(e=f.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var m=Cr(n,f),g=K5(o),y=t.useMemo((function(){return{name:g,onChange:function(e){v(e.target.value),s&&s(e,e.target.value)},value:p}}),[g,s,v,p]);return(0,yr.jsx)(Y9.Provider,{value:y,children:(0,yr.jsx)(X9,u({role:"radiogroup",ref:m},d,{children:i}))})})),Q9=Z9,$9=Ni((0,yr.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),J9=Ni((0,yr.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),eee=rr("span")({position:"relative",display:"flex"}),tee=rr($9)({transform:"scale(1)"}),nee=rr(J9)((function(e){var t=e.theme,n=e.ownerState;return u({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));var ree=function(e){var t=e.checked,n=void 0!==t&&t,r=e.classes,i=void 0===r?{}:r,a=e.fontSize,o=u({},e,{checked:n});return(0,yr.jsxs)(eee,{className:i.root,ownerState:o,children:[(0,yr.jsx)(tee,{fontSize:a,className:i.background,ownerState:o}),(0,yr.jsx)(nee,{fontSize:a,className:i.dot,ownerState:o})]})},iee=qs;function aee(e){return vr("MuiRadio",e)}var oee=mr("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),see=["checked","checkedIcon","color","icon","name","onChange","size","className"],lee=rr(I8,{shouldForwardProp:function(e){return tr(e)||"classes"===e},name:"MuiRadio",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["color".concat(cr(n.color))]]}})((function(e){var t=e.theme,n=e.ownerState;return u({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):y("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&s({},"&.".concat(oee.checked),{color:(t.vars||t).palette[n.color].main}),s({},"&.".concat(oee.disabled),{color:(t.vars||t).palette.action.disabled}))}));var uee=(0,yr.jsx)(ree,{checked:!0}),cee=(0,yr.jsx)(ree,{}),dee=t.forwardRef((function(e,n){var r,i,a=ur({props:e,name:"MuiRadio"}),o=a.checked,s=a.checkedIcon,c=void 0===s?uee:s,h=a.color,p=void 0===h?"primary":h,v=a.icon,m=void 0===v?cee:v,g=a.name,y=a.onChange,b=a.size,x=void 0===b?"medium":b,w=a.className,S=l(a,see),_=u({},a,{color:p,size:x}),k=function(e){var t=e.classes,n=e.color,r=e.size;return u({},t,f({root:["root","color".concat(cr(n)),"medium"!==r&&"size".concat(cr(r))]},aee,t))}(_),E=t.useContext(Y9),C=o,M=iee(y,E&&E.onChange),T=g;return E&&("undefined"===typeof C&&(C=function(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}(E.value,a.value)),"undefined"===typeof T&&(T=E.name)),(0,yr.jsx)(lee,u({type:"radio",icon:t.cloneElement(m,{fontSize:null!=(r=cee.props.fontSize)?r:x}),checkedIcon:t.cloneElement(c,{fontSize:null!=(i=uee.props.fontSize)?i:x}),ownerState:_,classes:k,name:T,checked:C,onChange:M,ref:n,className:d(k.root,w)},S))})),fee=dee;function hee(e){var t=e.value;Ra();return(0,yr.jsx)(jJ,{color:function(e){return e<40?"error":e<60?"warning":e<70?"secondary":"success"}(t),sx:{fontWeight:600},size:"small",variant:"outlined",label:"".concat(t," %")})}function pee(e){return vr("MuiCollapse",e)}mr("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);var vee=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],mee=rr("div",{name:"MuiCollapse",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return u({height:0,overflow:"hidden",transition:t.transitions.create("height")},"horizontal"===n.orientation&&{height:"auto",width:0,transition:t.transitions.create("width")},"entered"===n.state&&u({height:"auto",overflow:"visible"},"horizontal"===n.orientation&&{width:"auto"}),"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&{visibility:"hidden"})})),gee=rr("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:function(e,t){return t.wrapper}})((function(e){return u({display:"flex",width:"100%"},"horizontal"===e.ownerState.orientation&&{width:"auto",height:"100%"})})),yee=rr("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:function(e,t){return t.wrapperInner}})((function(e){return u({width:"100%"},"horizontal"===e.ownerState.orientation&&{width:"auto",height:"100%"})})),bee=t.forwardRef((function(e,n){var r=ur({props:e,name:"MuiCollapse"}),i=r.addEndListener,a=r.children,o=r.className,c=r.collapsedSize,h=void 0===c?"0px":c,p=r.component,v=r.easing,m=r.in,g=r.onEnter,y=r.onEntered,b=r.onEntering,x=r.onExit,w=r.onExited,S=r.onExiting,_=r.orientation,k=void 0===_?"vertical":_,E=r.style,C=r.timeout,M=void 0===C?Wn.standard:C,T=r.TransitionComponent,R=void 0===T?Us:T,A=l(r,vee),P=u({},r,{orientation:k,collapsedSize:h}),I=function(e){var t=e.orientation,n=e.classes;return f({root:["root","".concat(t)],entered:["entered"],hidden:["hidden"],wrapper:["wrapper","".concat(t)],wrapperInner:["wrapperInner","".concat(t)]},pee,n)}(P),O=Ra(),L=t.useRef(),N=t.useRef(null),D=t.useRef(),U="number"===typeof h?"".concat(h,"px"):h,F="horizontal"===k,z=F?"width":"height";t.useEffect((function(){return function(){clearTimeout(L.current)}}),[]);var B=t.useRef(null),j=Cr(n,B),H=function(e){return function(t){if(e){var n=B.current;void 0===t?e(n):e(n,t)}}},G=function(){return N.current?N.current[F?"clientWidth":"clientHeight"]:0},V=H((function(e,t){N.current&&F&&(N.current.style.position="absolute"),e.style[z]=U,g&&g(e,t)})),W=H((function(e,t){var n=G();N.current&&F&&(N.current.style.position="");var r=zs({style:E,timeout:M,easing:v},{mode:"enter"}),i=r.duration,a=r.easing;if("auto"===M){var o=O.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(o,"ms"),D.current=o}else e.style.transitionDuration="string"===typeof i?i:"".concat(i,"ms");e.style[z]="".concat(n,"px"),e.style.transitionTimingFunction=a,b&&b(e,t)})),q=H((function(e,t){e.style[z]="auto",y&&y(e,t)})),X=H((function(e){e.style[z]="".concat(G(),"px"),x&&x(e)})),Y=H(w),K=H((function(e){var t=G(),n=zs({style:E,timeout:M,easing:v},{mode:"exit"}),r=n.duration,i=n.easing;if("auto"===M){var a=O.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(a,"ms"),D.current=a}else e.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");e.style[z]=U,e.style.transitionTimingFunction=i,S&&S(e)}));return(0,yr.jsx)(R,u({in:m,onEnter:V,onEntered:q,onEntering:W,onExit:X,onExited:Y,onExiting:K,addEndListener:function(e){"auto"===M&&(L.current=setTimeout(e,D.current||0)),i&&i(B.current,e)},nodeRef:B,timeout:"auto"===M?null:M},A,{children:function(e,t){return(0,yr.jsx)(mee,u({as:p,className:d(I.root,o,{entered:I.entered,exited:!m&&"0px"===U&&I.hidden}[e]),style:u(s({},F?"minWidth":"minHeight",U),E),ownerState:u({},P,{state:e}),ref:j},t,{children:(0,yr.jsx)(gee,{ownerState:u({},P,{state:e}),className:I.wrapper,ref:N,children:(0,yr.jsx)(yee,{ownerState:u({},P,{state:e}),className:I.wrapperInner,children:a})})}))}}))}));bee.muiSupportAuto=!0;var xee=bee;var wee=t.createContext({});function See(e){return vr("MuiAccordion",e)}var _ee=mr("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),kee=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],Eee=rr(wr,{name:"MuiAccordion",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[s({},"& .".concat(_ee.region),t.region),t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r={duration:n.transitions.duration.shortest};return s(t={position:"relative",transition:n.transitions.create(["margin"],r),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(n.vars||n).palette.divider,transition:n.transitions.create(["opacity","background-color"],r)},"&:first-of-type":{"&:before":{display:"none"}}},"&.".concat(_ee.expanded),{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}}),s(t,"&.".concat(_ee.disabled),{backgroundColor:(n.vars||n).palette.action.disabledBackground}),t}),(function(e){var t=e.theme,n=e.ownerState;return u({},!n.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!n.disableGutters&&s({},"&.".concat(_ee.expanded),{margin:"16px 0"}))})),Cee=t.forwardRef((function(e,n){var r=ur({props:e,name:"MuiAccordion"}),i=r.children,a=r.className,o=r.defaultExpanded,s=void 0!==o&&o,c=r.disabled,h=void 0!==c&&c,p=r.disableGutters,v=void 0!==p&&p,m=r.expanded,g=r.onChange,y=r.square,b=void 0!==y&&y,x=r.TransitionComponent,w=void 0===x?xee:x,S=r.TransitionProps,_=l(r,kee),k=M(nu({controlled:m,default:s,name:"Accordion",state:"expanded"}),2),E=k[0],C=k[1],T=t.useCallback((function(e){C(!E),g&&g(e,!E)}),[E,g,C]),R=em(t.Children.toArray(i)),A=R[0],P=R.slice(1),I=t.useMemo((function(){return{expanded:E,disabled:h,disableGutters:v,toggle:T}}),[E,h,v,T]),O=u({},r,{square:b,disabled:h,disableGutters:v,expanded:E}),L=function(e){var t=e.classes;return f({root:["root",!e.square&&"rounded",e.expanded&&"expanded",e.disabled&&"disabled",!e.disableGutters&&"gutters"],region:["region"]},See,t)}(O);return(0,yr.jsxs)(Eee,u({className:d(L.root,a),ref:n,ownerState:O,square:b},_,{children:[(0,yr.jsx)(wee.Provider,{value:I,children:A}),(0,yr.jsx)(w,u({in:E,timeout:"auto"},S,{children:(0,yr.jsx)("div",{"aria-labelledby":A.props.id,id:A.props["aria-controls"],role:"region",className:L.region,children:P})}))]}))})),Mee=Cee;function Tee(e){return vr("MuiAccordionSummary",e)}var Ree=mr("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Aee=["children","className","expandIcon","focusVisibleClassName","onClick"],Pee=rr(_i,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t,n=e.theme,r=e.ownerState,i={duration:n.transitions.duration.shortest};return u((s(t={display:"flex",minHeight:48,padding:n.spacing(0,2),transition:n.transitions.create(["min-height","background-color"],i)},"&.".concat(Ree.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),s(t,"&.".concat(Ree.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),s(t,"&:hover:not(.".concat(Ree.disabled,")"),{cursor:"pointer"}),t),!r.disableGutters&&s({},"&.".concat(Ree.expanded),{minHeight:64}))})),Iee=rr("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:function(e,t){return t.content}})((function(e){var t=e.theme;return u({display:"flex",flexGrow:1,margin:"12px 0"},!e.ownerState.disableGutters&&s({transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest})},"&.".concat(Ree.expanded),{margin:"20px 0"}))})),Oee=rr("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:function(e,t){return t.expandIconWrapper}})((function(e){var t=e.theme;return s({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})},"&.".concat(Ree.expanded),{transform:"rotate(180deg)"})})),Lee=t.forwardRef((function(e,n){var r=ur({props:e,name:"MuiAccordionSummary"}),i=r.children,a=r.className,o=r.expandIcon,s=r.focusVisibleClassName,c=r.onClick,h=l(r,Aee),p=t.useContext(wee),v=p.disabled,m=void 0!==v&&v,g=p.disableGutters,y=p.expanded,b=p.toggle,x=u({},r,{expanded:y,disabled:m,disableGutters:g}),w=function(e){var t=e.classes,n=e.expanded,r=e.disabled,i=e.disableGutters;return f({root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},Tee,t)}(x);return(0,yr.jsxs)(Pee,u({focusRipple:!1,disableRipple:!0,disabled:m,component:"div","aria-expanded":y,className:d(w.root,a),focusVisibleClassName:d(w.focusVisible,s),onClick:function(e){b&&b(e),c&&c(e)},ref:n,ownerState:x},h,{children:[(0,yr.jsx)(Iee,{className:w.content,ownerState:x,children:i}),o&&(0,yr.jsx)(Oee,{className:w.expandIconWrapper,ownerState:x,children:o})]}))})),Nee=Lee;function Dee(e){return vr("MuiAccordionDetails",e)}mr("MuiAccordionDetails",["root"]);var Uee=["className"],Fee=rr("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){return{padding:e.theme.spacing(1,2,2)}})),zee=t.forwardRef((function(e,t){var n=ur({props:e,name:"MuiAccordionDetails"}),r=n.className,i=l(n,Uee),a=n,o=function(e){return f({root:["root"]},Dee,e.classes)}(a);return(0,yr.jsx)(Fee,u({className:d(o.root,r),ref:t,ownerState:a},i))}));var Bee=t.createContext({settings:{testSetUnlocked:!1,client:"local"},setSettings:function(e){},weights:[],initializeWeights:function(e){},setWeight:function(e,t){}});function jee(){return t.useContext(Bee)}var Hee="undefined"===typeof window||"Deno"in window;function Gee(){}function Vee(e){return"number"===typeof e&&e>=0&&e!==1/0}function Wee(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qee(e,t,n){return ate(e)?"function"===typeof t?$v($v({},n),{},{queryKey:e,queryFn:t}):$v($v({},t),{},{queryKey:e}):e}function Xee(e,t,n){return ate(e)?[$v($v({},t),{},{queryKey:e}),n]:[e||{},t]}function Yee(e,t){var n=e.type,r=void 0===n?"all":n,i=e.exact,a=e.fetchStatus,o=e.predicate,s=e.queryKey,l=e.stale;if(ate(s))if(i){if(t.queryHash!==Zee(s,t.options))return!1}else if(!$ee(t.queryKey,s))return!1;if("all"!==r){var u=t.isActive();if("active"===r&&!u)return!1;if("inactive"===r&&u)return!1}return("boolean"!==typeof l||t.isStale()===l)&&(("undefined"===typeof a||a===t.state.fetchStatus)&&!(o&&!o(t)))}function Kee(e,t){var n=e.exact,r=e.fetching,i=e.predicate,a=e.mutationKey;if(ate(a)){if(!t.options.mutationKey)return!1;if(n){if(Qee(t.options.mutationKey)!==Qee(a))return!1}else if(!$ee(t.options.mutationKey,a))return!1}return("boolean"!==typeof r||"loading"===t.state.status===r)&&!(i&&!i(t))}function Zee(e,t){return((null==t?void 0:t.queryKeyHashFn)||Qee)(e)}function Qee(e){return JSON.stringify(e,(function(e,t){return rte(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}))}function $ee(e,t){return Jee(e,t)}function Jee(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some((function(n){return!Jee(e[n],t[n])})))}function ete(e,t){if(e===t)return e;var n=nte(e)&&nte(t);if(n||rte(e)&&rte(t)){for(var r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),a=i.length,o=n?[]:{},s=0,l=0;l<a;l++){var u=n?l:i[l];o[u]=ete(e[u],t[u]),o[u]===e[u]&&s++}return r===a&&s===r?e:o}return t}function tte(e,t){if(e&&!t||t&&!e)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function nte(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function rte(e){if(!ite(e))return!1;var t=e.constructor;if("undefined"===typeof t)return!0;var n=t.prototype;return!!ite(n)&&!!n.hasOwnProperty("isPrototypeOf")}function ite(e){return"[object Object]"===Object.prototype.toString.call(e)}function ate(e){return Array.isArray(e)}function ote(e){return new Promise((function(t){setTimeout(t,e)}))}function ste(e){ote(0).then(e)}function lte(e,t,n){return null!=n.isDataEqual&&n.isDataEqual(e,t)?e:"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?ete(e,t):t}var ute=function(){var e=[],t=0,n=function(e){e()},r=function(e){e()},i=function(r){t?e.push(r):ste((function(){n(r)}))},a=function(){var t=e;e=[],t.length&&ste((function(){r((function(){t.forEach((function(e){n(e)}))}))}))};return{batch:function(e){var n;t++;try{n=e()}finally{--t||a()}return n},batchCalls:function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i((function(){e.apply(void 0,n)}))}},schedule:i,setNotifyFunction:function(e){n=e},setBatchNotifyFunction:function(e){r=e}}}(),cte=function(){function e(){Xs(this,e),this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}return Ks(e,[{key:"subscribe",value:function(e){var t=this,n={listener:e};return this.listeners.add(n),this.onSubscribe(),function(){t.listeners.delete(n),t.onUnsubscribe()}}},{key:"hasListeners",value:function(){return this.listeners.size>0}},{key:"onSubscribe",value:function(){}},{key:"onUnsubscribe",value:function(){}}]),e}(),dte=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.call(this)).setup=function(e){if(!Hee&&window.addEventListener){var t=function(){return e()};return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),function(){window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}},e}return Ks(n,[{key:"onSubscribe",value:function(){this.cleanup||this.setEventListener(this.setup)}},{key:"onUnsubscribe",value:function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}},{key:"setEventListener",value:function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"===typeof e?n.setFocused(e):n.onFocus()}))}},{key:"setFocused",value:function(e){this.focused!==e&&(this.focused=e,this.onFocus())}},{key:"onFocus",value:function(){this.listeners.forEach((function(e){(0,e.listener)()}))}},{key:"isFocused",value:function(){return"boolean"===typeof this.focused?this.focused:"undefined"===typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}}]),n}(cte),fte=new dte,hte=["online","offline"],pte=function(e){tm(n,e);var t=im(n);function n(){var e;return Xs(this,n),(e=t.call(this)).setup=function(e){if(!Hee&&window.addEventListener){var t=function(){return e()};return hte.forEach((function(e){window.addEventListener(e,t,!1)})),function(){hte.forEach((function(e){window.removeEventListener(e,t)}))}}},e}return Ks(n,[{key:"onSubscribe",value:function(){this.cleanup||this.setEventListener(this.setup)}},{key:"onUnsubscribe",value:function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}},{key:"setEventListener",value:function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"===typeof e?n.setOnline(e):n.onOnline()}))}},{key:"setOnline",value:function(e){this.online!==e&&(this.online=e,this.onOnline())}},{key:"onOnline",value:function(){this.listeners.forEach((function(e){(0,e.listener)()}))}},{key:"isOnline",value:function(){return"boolean"===typeof this.online?this.online:"undefined"===typeof navigator||"undefined"===typeof navigator.onLine||navigator.onLine}}]),n}(cte),vte=new pte;function mte(e){return Math.min(1e3*Math.pow(2,e),3e4)}function gte(e){return"online"!==(null!=e?e:"online")||vte.isOnline()}var yte=Ks((function e(t){Xs(this,e),this.revert=null==t?void 0:t.revert,this.silent=null==t?void 0:t.silent}));function bte(e){return e instanceof yte}function xte(e){var t,n,r,i=!1,a=0,o=!1,s=new Promise((function(e,t){n=e,r=t})),l=function(){return!fte.isFocused()||"always"!==e.networkMode&&!vte.isOnline()},u=function(r){o||(o=!0,null==e.onSuccess||e.onSuccess(r),null==t||t(),n(r))},c=function(n){o||(o=!0,null==e.onError||e.onError(n),null==t||t(),r(n))},d=function(){return new Promise((function(n){t=function(e){var t=o||!l();return t&&n(e),t},null==e.onPause||e.onPause()})).then((function(){t=void 0,o||null==e.onContinue||e.onContinue()}))},f=function t(){if(!o){var n;try{n=e.fn()}catch(r){n=Promise.reject(r)}Promise.resolve(n).then(u).catch((function(n){var r,s;if(!o){var u=null!=(r=e.retry)?r:3,f=null!=(s=e.retryDelay)?s:mte,h="function"===typeof f?f(a,n):f,p=!0===u||"number"===typeof u&&a<u||"function"===typeof u&&u(a,n);!i&&p?(a++,null==e.onFail||e.onFail(a,n),ote(h).then((function(){if(l())return d()})).then((function(){i?c(n):t()}))):c(n)}}))}};return gte(e.networkMode)?f():d().then(f),{promise:s,cancel:function(t){o||(c(new yte(t)),null==e.abort||e.abort())},continue:function(){return(null==t?void 0:t())?s:Promise.resolve()},cancelRetry:function(){i=!0},continueRetry:function(){i=!1}}}var wte=["refetchPage"],Ste=function(e){tm(n,e);var t=im(n);function n(e,r){var i;return Xs(this,n),(i=t.call(this)).client=e,i.options=r,i.trackedProps=new Set,i.selectError=null,i.bindMethods(),i.setOptions(r),i}return Ks(n,[{key:"bindMethods",value:function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}},{key:"onSubscribe",value:function(){1===this.listeners.size&&(this.currentQuery.addObserver(this),_te(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}},{key:"onUnsubscribe",value:function(){this.hasListeners()||this.destroy()}},{key:"shouldFetchOnReconnect",value:function(){return kte(this.currentQuery,this.options,this.options.refetchOnReconnect)}},{key:"shouldFetchOnWindowFocus",value:function(){return kte(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}},{key:"destroy",value:function(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}},{key:"setOptions",value:function(e,t){var n=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),tte(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),"undefined"!==typeof this.options.enabled&&"boolean"!==typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();var i=this.hasListeners();i&&Ete(this.currentQuery,r,this.options,n)&&this.executeFetch(),this.updateResult(t),!i||this.currentQuery===r&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.updateStaleTimeout();var a=this.computeRefetchInterval();!i||this.currentQuery===r&&this.options.enabled===n.enabled&&a===this.currentRefetchInterval||this.updateRefetchInterval(a)}},{key:"getOptimisticResult",value:function(e){var t=this.client.getQueryCache().build(this.client,e),n=this.createResult(t,e);return function(e,t,n){if(n.keepPreviousData)return!1;if(void 0!==n.placeholderData)return t.isPlaceholderData;if(!tte(e.getCurrentResult(),t))return!0;return!1}(this,n,e)&&(this.currentResult=n,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),n}},{key:"getCurrentResult",value:function(){return this.currentResult}},{key:"trackResult",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:function(){return t.trackedProps.add(r),e[r]}})})),n}},{key:"getCurrentQuery",value:function(){return this.currentQuery}},{key:"remove",value:function(){this.client.getQueryCache().remove(this.currentQuery)}},{key:"refetch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refetchPage,n=Zv(e,wte);return this.fetch($v($v({},n),{},{meta:{refetchPage:t}}))}},{key:"fetchOptimistic",value:function(e){var t=this,n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then((function(){return t.createResult(r,n)}))}},{key:"fetch",value:function(e){var t,n=this;return this.executeFetch($v($v({},e),{},{cancelRefetch:null==(t=e.cancelRefetch)||t})).then((function(){return n.updateResult(),n.currentResult}))}},{key:"executeFetch",value:function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(Gee)),t}},{key:"updateStaleTimeout",value:function(){var e=this;if(this.clearStaleTimeout(),!Hee&&!this.currentResult.isStale&&Vee(this.options.staleTime)){var t=Wee(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout((function(){e.currentResult.isStale||e.updateResult()}),t)}}},{key:"computeRefetchInterval",value:function(){var e;return"function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}},{key:"updateRefetchInterval",value:function(e){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!Hee&&!1!==this.options.enabled&&Vee(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval((function(){(t.options.refetchIntervalInBackground||fte.isFocused())&&t.executeFetch()}),this.currentRefetchInterval))}},{key:"updateTimers",value:function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}},{key:"clearStaleTimeout",value:function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}},{key:"clearRefetchInterval",value:function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}},{key:"createResult",value:function(e,t){var n,r=this.currentQuery,i=this.options,a=this.currentResult,o=this.currentResultState,s=this.currentResultOptions,l=e!==r,u=l?e.state:this.currentQueryInitialState,c=l?this.currentResult:this.previousQueryResult,d=e.state,f=d.dataUpdatedAt,h=d.error,p=d.errorUpdatedAt,v=d.fetchStatus,m=d.status,g=!1,y=!1;if(t._optimisticResults){var b=this.hasListeners(),x=!b&&_te(e,t),w=b&&Ete(e,r,t,i);(x||w)&&(v=gte(e.options.networkMode)?"fetching":"paused",f||(m="loading")),"isRestoring"===t._optimisticResults&&(v="idle")}if(t.keepPreviousData&&!d.dataUpdatedAt&&null!=c&&c.isSuccess&&"error"!==m)n=c.data,f=c.dataUpdatedAt,m=c.status,g=!0;else if(t.select&&"undefined"!==typeof d.data)if(a&&d.data===(null==o?void 0:o.data)&&t.select===this.selectFn)n=this.selectResult;else try{this.selectFn=t.select,n=t.select(d.data),n=lte(null==a?void 0:a.data,n,t),this.selectResult=n,this.selectError=null}catch(C){0,this.selectError=C}else n=d.data;if("undefined"!==typeof t.placeholderData&&"undefined"===typeof n&&"loading"===m){var S;if(null!=a&&a.isPlaceholderData&&t.placeholderData===(null==s?void 0:s.placeholderData))S=a.data;else if(S="function"===typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&"undefined"!==typeof S)try{S=t.select(S),this.selectError=null}catch(C){0,this.selectError=C}"undefined"!==typeof S&&(m="success",n=lte(null==a?void 0:a.data,S,t),y=!0)}this.selectError&&(h=this.selectError,n=this.selectResult,p=Date.now(),m="error");var _="fetching"===v,k="loading"===m,E="error"===m;return{status:m,fetchStatus:v,isLoading:k,isSuccess:"success"===m,isError:E,isInitialLoading:k&&_,data:n,dataUpdatedAt:f,error:h,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:_,isRefetching:_&&!k,isLoadingError:E&&0===d.dataUpdatedAt,isPaused:"paused"===v,isPlaceholderData:y,isPreviousData:g,isRefetchError:E&&0!==d.dataUpdatedAt,isStale:Cte(e,t),refetch:this.refetch,remove:this.remove}}},{key:"updateResult",value:function(e){var t=this,n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!tte(r,n)){this.currentResult=r;var i={cache:!0};!1!==(null==e?void 0:e.listeners)&&function(){if(!n)return!0;var e=t.options.notifyOnChangeProps,r="function"===typeof e?e():e;if("all"===r||!r&&!t.trackedProps.size)return!0;var i=new Set(null!=r?r:t.trackedProps);return t.options.useErrorBoundary&&i.add("error"),Object.keys(t.currentResult).some((function(e){var r=e;return t.currentResult[r]!==n[r]&&i.has(r)}))}()&&(i.listeners=!0),this.notify($v($v({},i),e))}}},{key:"updateQuery",value:function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}}},{key:"onQueryUpdate",value:function(e){var t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||bte(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}},{key:"notify",value:function(e){var t=this;ute.batch((function(){var n,r,i,a;if(e.onSuccess)null==(n=(r=t.options).onSuccess)||n.call(r,t.currentResult.data),null==(i=(a=t.options).onSettled)||i.call(a,t.currentResult.data,null);else if(e.onError){var o,s,l,u;null==(o=(s=t.options).onError)||o.call(s,t.currentResult.error),null==(l=(u=t.options).onSettled)||l.call(u,void 0,t.currentResult.error)}e.listeners&&t.listeners.forEach((function(e){(0,e.listener)(t.currentResult)})),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})}))}}]),n}(cte);function _te(e,t){return function(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&kte(e,t,t.refetchOnMount)}function kte(e,t,n){if(!1!==t.enabled){var r="function"===typeof n?n(e):n;return"always"===r||!1!==r&&Cte(e,t)}return!1}function Ete(e,t,n,r){return!1!==n.enabled&&(e!==t||!1===r.enabled)&&(!n.suspense||"error"!==e.state.status)&&Cte(e,n)}function Cte(e,t){return e.isStaleByTime(t.staleTime)}var Mte=n(7248).useSyncExternalStore;function Tte(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var Rte=t.createContext(Tte()),Ate=function(){return t.useContext(Rte)},Pte=t.createContext(void 0),Ite=t.createContext(!1);function Ote(e,t){return e||(t&&"undefined"!==typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Pte),window.ReactQueryClientContext):Pte)}var Lte=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).context,n=t.useContext(Ote(e,t.useContext(Ite)));if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},Nte=function(e){var n=e.client,r=e.children,i=e.context,a=e.contextSharing,o=void 0!==a&&a;t.useEffect((function(){return n.mount(),function(){n.unmount()}}),[n]);var s=Ote(i,o);return t.createElement(Ite.Provider,{value:!i&&o},t.createElement(s.Provider,{value:n},r))},Dte=t.createContext(!1),Ute=function(){return t.useContext(Dte)};Dte.Provider;var Fte=function(e,t){(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},zte=function(e){t.useEffect((function(){e.clearReset()}),[e])},Bte=function(e){var t,n,r=e.result,i=e.errorResetBoundary,a=e.useErrorBoundary,o=e.query;return r.isError&&!i.isReset()&&!r.isFetching&&(t=a,n=[r.error,o],"function"===typeof t?t.apply(void 0,k(n)):!!t)},jte=function(e){e.suspense&&"number"!==typeof e.staleTime&&(e.staleTime=1e3)},Hte=function(e,t,n){return(null==e?void 0:e.suspense)&&function(e,t){return e.isLoading&&e.isFetching&&!t}(t,n)},Gte=function(e,t,n){return t.fetchOptimistic(e).then((function(t){var n=t.data;null==e.onSuccess||e.onSuccess(n),null==e.onSettled||e.onSettled(n,null)})).catch((function(t){n.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)}))};function Vte(e,n,r){return function(e,n){var r=Lte({context:e.context}),i=Ute(),a=Ate(),o=r.defaultQueryOptions(e);o._optimisticResults=i?"isRestoring":"optimistic",o.onError&&(o.onError=ute.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=ute.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=ute.batchCalls(o.onSettled)),jte(o),Fte(o,a),zte(a);var s=M(t.useState((function(){return new n(r,o)})),1)[0],l=s.getOptimisticResult(o);if(Mte(t.useCallback((function(e){var t=i?function(){}:s.subscribe(ute.batchCalls(e));return s.updateResult(),t}),[s,i]),(function(){return s.getCurrentResult()}),(function(){return s.getCurrentResult()})),t.useEffect((function(){s.setOptions(o,{listeners:!1})}),[o,s]),Hte(o,l,i))throw Gte(o,s,a);if(Bte({result:l,errorResetBoundary:a,useErrorBoundary:o.useErrorBoundary,query:s.getCurrentQuery()}))throw l.error;return o.notifyOnChangeProps?l:s.trackResult(l)}(qee(e,n,r),Ste)}function Wte(e){var n,r=Vte({queryKey:["performance-".concat(e.isTestSet?"test":"validation","-").concat(e.client)],queryFn:function(){return(n=n||sm(um().mark((function t(){var n;return um().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(Rne()+"/compute-performance",{method:"POST",body:JSON.stringify({is_test_set:e.isTestSet,weights:e.weights,client:e.client})});case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)},enabled:!1}),i=(r.error,r.isLoading),a=r.data,o=r.refetch;return{isLoading:i,stats:(0,t.useMemo)((function(){var e,t,n;return{acc:Math.round(100*(null!==(e=null===a||void 0===a?void 0:a.acc)&&void 0!==e?e:0)),acc_balanced:Math.round(100*(null!==(t=null===a||void 0===a?void 0:a.acc_bal)&&void 0!==t?t:0)),nmi:null!==(n=null===a||void 0===a?void 0:a.nmi)&&void 0!==n?n:0}}),[a]),refetch:o}}var qte=["hoverText","icon"];function Xte(e){var t=e.hoverText,n=e.icon,r=Zv(e,qte);return(0,yr.jsx)(A7,{title:t,children:(0,yr.jsx)(ba,$v($v({startIcon:(0,yr.jsx)(np,{icon:n,style:{height:16}}),variant:r.disabled?"outlined":"contained"},r),{},{children:r.children}))})}var Yte=rr(za)((function(e){var t=e.theme;return{border:"1px solid",borderColor:t.palette.grey[400],padding:t.spacing(1),borderRadius:t.spacing(1.5)}}));function Kte(e){var t=e.stats,n=e.loading,r=e.title;return(0,yr.jsxs)(za,{flexDirection:"column",spacing:.25,children:[(0,yr.jsx)(ia,{variant:"overline",fontWeight:600,children:r}),n?(0,yr.jsx)(uo,{sx:{my:1}}):(0,yr.jsxs)(yr.Fragment,{children:[(0,yr.jsxs)(ia,{variant:"subtitle2",children:["Accuracy: ",(0,yr.jsx)(hee,{value:t.acc})]}),(0,yr.jsxs)(ia,{variant:"subtitle2",children:["Balanced accuracy: ",(0,yr.jsx)(jJ,{color:"info",sx:{fontWeight:600},size:"small",variant:"outlined",label:"".concat(t.acc_balanced," %")})]}),(0,yr.jsxs)(ia,{variant:"subtitle2",children:["Normalized Mutual Information: ",(0,yr.jsx)(jJ,{color:"info",sx:{fontWeight:600},size:"small",variant:"outlined",label:t.nmi})]})]})]})}function Zte(e){var n,r=e.ensembleLength,i=Ra(),a=jee(),o=a.settings,s=a.setSettings,l=a.weights,u=Wte({isTestSet:!1,client:o.client,weights:l}),c=u.stats,d=u.refetch,f=u.isLoading,h=Wte({isTestSet:!0,client:o.client,weights:l}),p=h.stats,v=h.refetch,m=h.isLoading;(0,t.useEffect)((function(){r>0&&d()}),[r]),(0,t.useEffect)((function(){console.info("Refetching validation stats"),d()}),[l]);return(0,yr.jsxs)(Mee,{elevation:2,defaultExpanded:!0,children:[(0,yr.jsx)(Nee,{expandIcon:(0,yr.jsx)(np,{icon:bp}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,yr.jsx)(ia,{variant:"overline",color:i.palette.grey[700],fontSize:14,children:"Statistic Overview"})}),(0,yr.jsx)(zee,{children:(0,yr.jsxs)(za,{flexDirection:"column",spacing:1,children:[(0,yr.jsx)(Yte,{spacing:1,children:(0,yr.jsx)(Kte,{stats:c,loading:f,title:"Validation Set"})}),o.testSetUnlocked?(0,yr.jsx)(Yte,{spacing:1,children:(0,yr.jsx)(Kte,{stats:p,loading:m,title:"Test Set"})}):(0,yr.jsx)(Xte,{color:"info",onClick:function(){return(n=n||sm(um().mark((function e(){return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({testSetUnlocked:!0}),e.next=3,v();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},icon:dp,hoverText:"Test the model on the test set. This will unlock the test set data. This can only be done once, too make sure no fitting is done on the test set.",children:"Test on Test set"}),(0,yr.jsxs)(ia,{variant:"subtitle2",style:{alignItems:"center"},children:["Ensemble Size: ",(0,yr.jsx)(jJ,{size:"small",variant:"outlined",label:r})]})]})})]})}function Qte(e){var t=e.id,n=Ra(),r=jee(),i=r.weights,a=r.setWeight;return(0,yr.jsxs)(za,{sx:{borderRadius:1,border:"2px solid ".concat(n.palette.grey[300]),width:"fit-content",p:2},spacing:2,children:[(0,yr.jsx)(Yi,{severity:"info",children:"Change the weighting of the ensembles to see how the model performance changes"}),(0,yr.jsxs)(zo,{children:[(0,yr.jsx)(Yo,{id:"demo-row-radio-buttons-group-label",children:"Weight"}),(0,yr.jsxs)(Q9,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:i[t],onChange:function(e){a(t,parseFloat(e.target.value))},style:{flexDirection:"column"},children:[(0,yr.jsx)(q6,{value:0,control:(0,yr.jsx)(fee,{}),label:"Disable (x0)"}),(0,yr.jsx)(q6,{value:1,control:(0,yr.jsx)(fee,{}),label:"Neutral (x1)"}),(0,yr.jsx)(q6,{value:2,control:(0,yr.jsx)(fee,{}),label:"Small increase (x2)"}),(0,yr.jsx)(q6,{value:5,control:(0,yr.jsx)(fee,{}),label:"Large increase (x5)"})]})]})]})}function $te(e){var t=e.ensemble,n=Ra(),r=jee(),i=r.settings,a=r.weights,o=Wte({isTestSet:!1,client:i.client,weights:a}),s=o.stats,l=o.isLoading;return(0,yr.jsxs)(za,{direction:"row",spacing:1,children:[(0,yr.jsxs)(za,{sx:{p:1,px:2,borderRadius:1,border:"2px solid",width:"fit-content",alignItems:"flex-start",borderColor:n.palette.grey[300],textAlign:"start",justifyContent:"space-around"},children:[(0,yr.jsx)(ia,{variant:"overline",fontWeight:600,children:"Subnetwork performance"}),(0,yr.jsxs)(ia,{variant:"subtitle2",children:["Performance: ",(0,yr.jsx)(hee,{value:Math.ceil(100*t.performance)})]}),(0,yr.jsxs)(ia,{variant:"subtitle2",children:["Number Nodes: ",(0,yr.jsx)("b",{children:t.nodes.length})]}),(0,yr.jsx)(l8,{style:{width:"100%"}}),(0,yr.jsx)(Kte,{stats:s,loading:l,title:"Model Performance"})]}),(0,yr.jsx)(Qte,{id:t.id})]})}function Jte(e){var n=e.open,r=e.onClose,i=e.ensemble,a=Ra(),o=M((0,t.useState)("graph"),2),s=o[0],l=o[1];return(0,yr.jsx)(Fp,{open:n,maxWidth:"xl",fullWidth:"graph"===s,children:(0,yr.jsxs)(za,{spacing:1,sx:{p:2,overflow:"hidden"},children:[(0,yr.jsx)(Ri,{onClick:r,color:"error",style:{height:32,width:32,borderRadius:8,backgroundColor:a.palette.error.main,color:"white",position:"absolute",top:8,right:8},children:(0,yr.jsx)(np,{icon:Sp})}),(0,yr.jsx)(ia,{variant:"h5",children:"Ensemble Classifier Analysis"}),(0,yr.jsx)(za,{spacing:1,sx:{width:"100%"},children:(0,yr.jsxs)(Xp,{value:s,children:[(0,yr.jsxs)(Ev,{onChange:function(e,t){return l(t)},children:[(0,yr.jsx)(Wp,{label:"Graph",value:"graph",sx:{flexDirection:"row"},icon:(0,yr.jsx)(np,{icon:pp,style:{width:14,height:14,marginRight:6}})}),(0,yr.jsx)(Wp,{label:"List",value:"list",sx:{flexDirection:"row",alignItems:"center"},icon:(0,yr.jsx)(np,{icon:ap,style:{width:14,height:14,marginRight:6,marginTop:4}})}),(0,yr.jsx)(Wp,{label:"Weighting",value:"weight",sx:{flexDirection:"row",alignItems:"center"},icon:(0,yr.jsx)(np,{icon:lp,style:{width:14,height:14,marginRight:6,marginTop:4}})})]}),(0,yr.jsx)(Pv,{value:"graph",sx:{p:0,height:"fill-available"},children:(0,yr.jsx)($q,{ensemble:i})}),(0,yr.jsx)(Pv,{value:"list",children:(0,yr.jsx)(G9,{ensemble:i})}),(0,yr.jsx)(Pv,{value:"weight",children:(0,yr.jsx)($te,{ensemble:i})})]})})]})})}function ene(e){var t=e.weight,n=Ra();function r(e){switch(e){case 0:case 1:return n.palette.grey[700];case.5:return n.palette.error.main;case 1.5:return n.palette.success.main}}var i=function(e){switch(e){case 0:return sp;case.5:return mp;case 1.5:return up}}(t);return(0,yr.jsxs)(ia,{children:["Weighting:"," ",i&&(0,yr.jsx)(np,{icon:i,color:r(t)}),(0,yr.jsxs)(ia,{color:r(t),style:{display:"contents"},children:[" ",t]})]})}function tne(e){var n=e.ensembleClassifier,r=M((0,t.useState)(!1),2),i=r[0],a=r[1],o=jee().weights[n.id],s=(0,t.useMemo)((function(){return n.nodes.sort((function(e,t){return t.weight-e.weight}))}),[n.nodes]);return(0,yr.jsxs)(yr.Fragment,{children:[(0,yr.jsx)(Jte,{ensemble:n,open:i,onClose:function(){return a(!1)}}),(0,yr.jsxs)(po,{style:{cursor:"pointer"},sx:{p:1,borderRadius:2,flexShrink:0},onClick:function(){return a(!0)},children:[(0,yr.jsxs)(za,{spacing:.5,sx:{mb:1},children:[(0,yr.jsxs)(ia,{children:["Result: ",(0,yr.jsxs)("b",{children:[Math.ceil(100*n.performance),"%"]})]}),(0,yr.jsx)(ene,{weight:o}),(0,yr.jsxs)(ia,{children:["Number Nodes: ",(0,yr.jsx)("b",{children:n.nodes.length})]})]}),(0,yr.jsx)(za,{direction:"row",sx:{overflowX:"auto"},spacing:.5,children:s.map((function(e,t){return(0,yr.jsx)(jJ,{size:"small",color:"info",label:e.name},t)}))})]})]})}function nne(){var e,t,n=Vte({queryKey:["status"],queryFn:function(){return(e=e||sm(um().mark((function e(){var t;return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Rne()+"/status");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},refetchInterval:1500}),r=n.error,i=n.isLoading,a=n.data;n.isError;return{status:null!==(t=null===a||void 0===a?void 0:a.state)&&void 0!==t?t:"unknown",error:r,loading:i,data:a}}function rne(e){var n=e.ensembleLength,r=Ra(),i=nne().status,a=jee(),o=a.initializeWeights,s=a.setWeight,l=a.weights,u=function(){var e,n,r=nne().data,i=Vte({queryKey:["global-weights"],queryFn:function(){return(e=e||sm(um().mark((function e(){var t;return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Rne()+"/global-weights");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},enabled:!1}),a=i.error,o=i.data,s=i.refetch;return(0,t.useEffect)((function(){null!==r&&void 0!==r&&r.global_weights_available&&s()}),[null===r||void 0===r?void 0:r.global_weights_available]),{weights:null!==o&&void 0!==o?o:[],error:a,fetchWeights:s,distributeWeights:function(){return(n=n||sm(um().mark((function e(){return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===r||void 0===r||!r.weight_aggregation_ongoing){e.next=3;break}return window.alert("Weight aggregation is already ongoing."),e.abrupt("return");case 3:return e.next=5,fetch(Rne()+"/distribute-weights",{method:"POST"});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},loading:Boolean(null===r||void 0===r?void 0:r.weight_aggregation_ongoing),available:Boolean(null===r||void 0===r?void 0:r.global_weights_available)}}(),c=u.distributeWeights,d=u.loading,f=u.available,h=u.weights,p=!d&&"web_controlled"===i,v=(0,t.useCallback)((function(){l&&0!==l.length&&h.forEach((function(e,t){t>=l.length||s(t,e)}))}),[h,l,s]);return(0,yr.jsxs)(Mee,{elevation:2,children:[(0,yr.jsx)(Nee,{expandIcon:(0,yr.jsx)(np,{icon:bp}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,yr.jsx)(ia,{variant:"overline",color:r.palette.grey[700],fontSize:14,children:"Weighting Overview"})}),(0,yr.jsx)(zee,{children:(0,yr.jsxs)(za,{flexDirection:"column",spacing:1,children:[d&&(0,yr.jsx)(A7,{title:"The coordinator is aggregating the weights from all clients. The duration depends on when all participants submit their weighting.",children:(0,yr.jsx)(uo,{})}),(0,yr.jsx)(Xte,{disabled:!p,onClick:c,color:"info",icon:Ep,hoverText:"Sends the current weighting of the global model to the coordinator.",children:"Distribute Weights"}),(0,yr.jsx)(Xte,{disabled:!f,onClick:v,color:"warning",icon:fp,hoverText:"Sets the weighting of the global model to the aggregated weight model from the coordinator.",children:"Apply Global Weights"}),(0,yr.jsx)(Xte,{onClick:function(){o(n)},color:"warning",icon:kp,hoverText:"Reset all weights to neutral (1).",disabled:l.every((function(e){return 1===e})),children:"Reset Weights"})]})})]})}function ine(){var e=Ra();return(0,yr.jsxs)(wr,{sx:{borderRadius:0,p:2,borderTop:"1px solid ".concat(e.palette.grey[400]),zIndex:1},elevation:2,children:[(0,yr.jsx)(ia,{variant:"overline",color:e.palette.grey[700],children:"Waiting for model..."}),(0,yr.jsx)(uo,{sx:{my:1}})]})}var ane=function(e){return e.PerformanceAsc="perf-asc",e.PerformanceDesc="perf-desc",e.NodesAsc="nodes-asc",e.NodesDesc="nodes-desc",e}(ane||{});function one(e){var n=e.ensembles,r=e.title,i=e.description,a=e.icon,o=e.modelNotReady,s=e.client,l=Ra(),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"local",n=M((0,t.useState)({testSetUnlocked:!1,client:e}),2),r=n[0],i=n[1],a=M((0,t.useState)([]),2),o=a[0],s=a[1];return{settings:r,setSettings:function(e){i((function(t){return $v($v({},t),e)}))},weights:o,initializeWeights:function(e){s(new Array(e).fill(1))},setWeight:function(e,t){s((function(n){if(n.length<e)return n;var r=k(n);return r[e]=t,r}))}}}(s),c=M((0,t.useState)(ane.NodesDesc),2),d=c[0],f=c[1];(0,t.useEffect)((function(){n.length>0&&(console.info("Initializing weights"),u.initializeWeights(n.length))}),[n.length]);var h=(0,t.useMemo)((function(){switch(d){case"perf-asc":return n.sort((function(e,t){return e.performance-t.performance}));case"perf-desc":return n.sort((function(e,t){return t.performance-e.performance}));case"nodes-asc":return n.sort((function(e,t){return e.nodes.length-t.nodes.length}));case"nodes-desc":return n.sort((function(e,t){return t.nodes.length-e.nodes.length}));default:return n}}),[n,d]);return(0,yr.jsx)(Bee.Provider,{value:u,children:(0,yr.jsxs)(po,{sx:{display:"flex",flexDirection:"column",borderRadius:2,width:500,maxHeight:"-webkit-fill-available"},elevation:2,children:[(0,yr.jsx)(So,{avatar:(0,yr.jsx)(Ao,{color:"info",children:(0,yr.jsx)(np,{icon:a})}),title:r,subheader:i}),o?(0,yr.jsx)(ine,{}):(0,yr.jsx)(Zte,{ensembleLength:n.length}),"global"===s&&(0,yr.jsx)(rne,{ensembleLength:n.length}),(0,yr.jsxs)(za,{spacing:1,sx:{overflowY:"auto",p:2,zIndex:0},children:[(0,yr.jsxs)(za,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,yr.jsx)(ia,{variant:"overline",color:l.palette.grey[700],fontSize:14,children:"Ensemble"}),(0,yr.jsxs)(zo,{sx:{m:1,minWidth:120},size:"small",children:[(0,yr.jsx)(Jo,{id:"demo-select-small-label",children:"Sort by"}),(0,yr.jsxs)(fc,{value:d,label:"Sort by",onChange:function(e){var t;return f(null===(t=e.target)||void 0===t?void 0:t.value)},children:[(0,yr.jsxs)(kc,{value:ane.PerformanceAsc,children:[(0,yr.jsx)(np,{icon:hp,style:{marginRight:8}}),"Result increasing"]}),(0,yr.jsxs)(kc,{value:ane.PerformanceDesc,children:[(0,yr.jsx)(np,{icon:ip,style:{marginRight:8}}),"Result decreasing"]}),(0,yr.jsxs)(kc,{value:ane.NodesAsc,children:[(0,yr.jsx)(np,{icon:_p,style:{marginRight:8}}),"Nodes increasing"]}),(0,yr.jsxs)(kc,{value:ane.NodesDesc,children:[(0,yr.jsx)(np,{icon:cp,style:{marginRight:8}}),"Nodes decreasing"]})]})]})]}),null===h||void 0===h?void 0:h.map((function(e,t){return(0,yr.jsx)(tne,{ensembleClassifier:e},t)}))]})]})})}var sne=["data"],lne=["data"];function une(e,t){var n=e[0],r=n[0],i=n[1],a=e[1],o=e[2],s=e[3],l=e[4];return{id:t,nodes:a.map((function(e,t){var n;return{id:t,name:e,weight:null!==(n=null===s||void 0===s?void 0:s[t])&&void 0!==n?n:0}})),performance:o,edges:r.map((function(e,t){var n;return{id:t,source:a[e],target:a[i[t]],weight:null!==(n=null===l||void 0===l?void 0:l[t])&&void 0!==n?n:0}}))}}function cne(){var e=nne().data,n=function(){var e,n=Vte({queryKey:["global-graphs"],queryFn:function(){return(e=e||sm(um().mark((function e(){var t;return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Rne()+"/global-model");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},retryDelay:2e3,retry:!0,enabled:!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}),r=n.data,i=Zv(n,sne);return $v({globalModel:(0,t.useMemo)((function(){var e;return null!==(e=null===r||void 0===r?void 0:r.map(une))&&void 0!==e?e:[]}),[r])},i)}(!(null!==e&&void 0!==e&&e.global_training_complete)),r=n.globalModel,i=function(){var e,n=Vte({queryKey:["local-graphs"],queryFn:function(){return(e=e||sm(um().mark((function e(){var t;return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Rne()+"/local-model");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},retryDelay:2e3,retry:!0,enabled:!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}),r=n.data,i=Zv(n,lne);return $v({localModel:(0,t.useMemo)((function(){var e;return null!==(e=null===r||void 0===r?void 0:r.map(une))&&void 0!==e?e:[]}),[r])},i)}(!(null!==e&&void 0!==e&&e.local_training_complete)),a=i.localModel;return"coordinator"===(null===e||void 0===e?void 0:e.role)?null:(0,yr.jsxs)(za,{direction:"row",spacing:5,sx:{p:3,overflowX:"auto",alignItems:"start",justifyContent:"space-around"},children:[(0,yr.jsx)(one,{ensembles:a,icon:xp,title:"Local Model",description:"Only trained on the local data",modelNotReady:!(null!==e&&void 0!==e&&e.local_training_complete),client:"local"}),(0,yr.jsx)(one,{ensembles:r,icon:op,title:"Global Model",description:"Aggregated from all participating clients",modelNotReady:!(null!==e&&void 0!==e&&e.global_training_complete),client:"global"})]})}var dne=n.p+"static/media/EnsembleGnnLogo.e77f6fb17db690b8f22a.png";function fne(){return(0,yr.jsxs)(Yi,{severity:"warning",children:[(0,yr.jsx)(la,{children:"Role: Coordinator"}),"The coordinator does not train a model itself, but does the aggregation internally and can overview the global model."]})}function hne(){var e,n=nne(),r=n.status,i=n.error,a=n.loading,o=n.data;(0,t.useEffect)((function(){console.info("Status Data:",o)}),[o]);var s="coordinator"===(null===o||void 0===o?void 0:o.role),l=(a||"local_training"===r)&&!s;return(0,yr.jsxs)(za,{spacing:2,sx:{p:2},children:[(0,yr.jsxs)(ia,{variant:"overline",fontSize:"1rem",children:["Status: ",(0,yr.jsx)(jJ,{color:"info",label:r.replaceAll("_"," "),variant:"outlined",sx:{p:0}})]}),l&&(0,yr.jsxs)(Yi,{severity:"info",children:[(0,yr.jsx)(la,{children:"Long computing time"}),"The training duration of the model is dependent on the training data size and the number of ensembles. It can take several minutes to train the model."]}),l&&(0,yr.jsx)(uo,{}),(0,yr.jsx)(yr.Fragment,{children:i&&(0,yr.jsx)(ia,{variant:"subtitle1",fontSize:"1rem",color:"error",children:JSON.stringify(i)})}),s&&(0,yr.jsx)(fne,{}),(0,yr.jsx)(Xte,{onClick:function(){return(e=e||sm(um().mark((function e(){return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Rne()+"/terminate",{method:"POST"});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},color:"error",variant:"outlined",icon:gp,hoverText:"Terminates this client. Current workflow is finished and the output is saved.",children:"Terminate Workflow"})]})}function pne(){Ra();return(0,yr.jsx)(wr,{elevation:4,sx:{width:300,flexShrink:0,borderRadius:0,pt:2,maxHeight:"100vh",overflowY:"auto"},children:(0,yr.jsxs)(za,{sx:{height:"100%",flexShrink:0},flexDirection:"column",children:[(0,yr.jsx)("img",{src:dne,alt:"Main Logo",style:{width:110,alignSelf:"center"}}),(0,yr.jsx)(hne,{})]})})}var vne=console,mne=function(){function e(){Xs(this,e)}return Ks(e,[{key:"destroy",value:function(){this.clearGcTimeout()}},{key:"scheduleGc",value:function(){var e=this;this.clearGcTimeout(),Vee(this.cacheTime)&&(this.gcTimeout=setTimeout((function(){e.optionalRemove()}),this.cacheTime))}},{key:"updateCacheTime",value:function(e){this.cacheTime=Math.max(this.cacheTime||0,null!=e?e:Hee?1/0:3e5)}},{key:"clearGcTimeout",value:function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}]),e}(),gne=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).abortSignalConsumed=!1,r.defaultOptions=e.defaultOptions,r.setOptions(e.options),r.observers=[],r.cache=e.cache,r.logger=e.logger||vne,r.queryKey=e.queryKey,r.queryHash=e.queryHash,r.initialState=e.state||function(e){var t="function"===typeof e.initialData?e.initialData():e.initialData,n="undefined"!==typeof t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?null!=r?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}(r.options),r.state=r.initialState,r.scheduleGc(),r}return Ks(n,[{key:"meta",get:function(){return this.options.meta}},{key:"setOptions",value:function(e){this.options=$v($v({},this.defaultOptions),e),this.updateCacheTime(this.options.cacheTime)}},{key:"optionalRemove",value:function(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}},{key:"setData",value:function(e,t){var n=lte(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}},{key:"setState",value:function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}},{key:"cancel",value:function(e){var t,n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(Gee).catch(Gee):Promise.resolve()}},{key:"destroy",value:function(){lm(nm(n.prototype),"destroy",this).call(this),this.cancel({silent:!0})}},{key:"reset",value:function(){this.destroy(),this.setState(this.initialState)}},{key:"isActive",value:function(){return this.observers.some((function(e){return!1!==e.options.enabled}))}},{key:"isDisabled",value:function(){return this.getObserversCount()>0&&!this.isActive()}},{key:"isStale",value:function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((function(e){return e.getCurrentResult().isStale}))}},{key:"isStaleByTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.isInvalidated||!this.state.dataUpdatedAt||!Wee(this.state.dataUpdatedAt,e)}},{key:"onFocus",value:function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnWindowFocus()}));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}},{key:"onOnline",value:function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnReconnect()}));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}},{key:"addObserver",value:function(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}},{key:"removeObserver",value:function(e){this.observers.includes(e)&&(this.observers=this.observers.filter((function(t){return t!==e})),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}},{key:"getObserversCount",value:function(){return this.observers.length}},{key:"invalidate",value:function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}},{key:"fetch",value:function(e,t){var n,r,i=this;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return null==(a=this.retryer)||a.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var o=this.observers.find((function(e){return e.options.queryFn}));o&&this.setOptions(o.options)}var s=function(){if("function"===typeof AbortController)return new AbortController}(),l={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},u=function(e){Object.defineProperty(e,"signal",{enumerable:!0,get:function(){if(s)return i.abortSignalConsumed=!0,s.signal}})};u(l);var c,d={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(l)):Promise.reject("Missing queryFn for queryKey '"+i.options.queryHash+"'")}};(u(d),null==(n=this.options.behavior)||n.onFetch(d),this.revertState=this.state,"idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(r=d.fetchOptions)?void 0:r.meta))&&this.dispatch({type:"fetch",meta:null==(c=d.fetchOptions)?void 0:c.meta});var f=function(e){var t,n,r,a;(bte(e)&&e.silent||i.dispatch({type:"error",error:e}),bte(e))||(null==(t=(n=i.cache.config).onError)||t.call(n,e,i),null==(r=(a=i.cache.config).onSettled)||r.call(a,i.state.data,e,i));i.isFetchingOptimistic||i.scheduleGc(),i.isFetchingOptimistic=!1};return this.retryer=xte({fn:d.fetchFn,abort:null==s?void 0:s.abort.bind(s),onSuccess:function(e){var t,n,r,a;"undefined"!==typeof e?(i.setData(e),null==(t=(n=i.cache.config).onSuccess)||t.call(n,e,i),null==(r=(a=i.cache.config).onSettled)||r.call(a,e,i.state.error,i),i.isFetchingOptimistic||i.scheduleGc(),i.isFetchingOptimistic=!1):f(new Error(i.queryHash+" data is undefined"))},onError:f,onFail:function(e,t){i.dispatch({type:"failed",failureCount:e,error:t})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode}),this.promise=this.retryer.promise,this.promise}},{key:"dispatch",value:function(e){var t=this;this.state=function(n){var r,i;switch(e.type){case"failed":return $v($v({},n),{},{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return $v($v({},n),{},{fetchStatus:"paused"});case"continue":return $v($v({},n),{},{fetchStatus:"fetching"});case"fetch":return $v($v({},n),{},{fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(r=e.meta)?r:null,fetchStatus:gte(t.options.networkMode)?"fetching":"paused"},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return $v($v({},n),{},{data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:null!=(i=e.dataUpdatedAt)?i:Date.now(),error:null,isInvalidated:!1,status:"success"},!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":var a=e.error;return bte(a)&&a.revert&&t.revertState?$v($v({},t.revertState),{},{fetchStatus:"idle"}):$v($v({},n),{},{error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"});case"invalidate":return $v($v({},n),{},{isInvalidated:!0});case"setState":return $v($v({},n),e.state)}}(this.state),ute.batch((function(){t.observers.forEach((function(t){t.onQueryUpdate(e)})),t.cache.notify({query:t,type:"updated",action:e})}))}}]),n}(mne);var yne=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).config=e||{},r.queries=[],r.queriesMap={},r}return Ks(n,[{key:"build",value:function(e,t,n){var r,i=t.queryKey,a=null!=(r=t.queryHash)?r:Zee(i,t),o=this.get(a);return o||(o=new gne({cache:this,logger:e.getLogger(),queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}},{key:"add",value:function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}},{key:"remove",value:function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter((function(t){return t!==e})),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}},{key:"clear",value:function(){var e=this;ute.batch((function(){e.queries.forEach((function(t){e.remove(t)}))}))}},{key:"get",value:function(e){return this.queriesMap[e]}},{key:"getAll",value:function(){return this.queries}},{key:"find",value:function(e,t){var n=M(Xee(e,t),1)[0];return"undefined"===typeof n.exact&&(n.exact=!0),this.queries.find((function(e){return Yee(n,e)}))}},{key:"findAll",value:function(e,t){var n=M(Xee(e,t),1)[0];return Object.keys(n).length>0?this.queries.filter((function(e){return Yee(n,e)})):this.queries}},{key:"notify",value:function(e){var t=this;ute.batch((function(){t.listeners.forEach((function(t){(0,t.listener)(e)}))}))}},{key:"onFocus",value:function(){var e=this;ute.batch((function(){e.queries.forEach((function(e){e.onFocus()}))}))}},{key:"onOnline",value:function(){var e=this;ute.batch((function(){e.queries.forEach((function(e){e.onOnline()}))}))}}]),n}(cte),bne=function(e,t){tm(r,e);var n=im(r);function r(e){var t;return Xs(this,r),(t=n.call(this)).defaultOptions=e.defaultOptions,t.mutationId=e.mutationId,t.mutationCache=e.mutationCache,t.logger=e.logger||vne,t.observers=[],t.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},t.setOptions(e.options),t.scheduleGc(),t}return Ks(r,[{key:"setOptions",value:function(e){this.options=$v($v({},this.defaultOptions),e),this.updateCacheTime(this.options.cacheTime)}},{key:"meta",get:function(){return this.options.meta}},{key:"setState",value:function(e){this.dispatch({type:"setState",state:e})}},{key:"addObserver",value:function(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}},{key:"removeObserver",value:function(e){this.observers=this.observers.filter((function(t){return t!==e})),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}},{key:"optionalRemove",value:function(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}},{key:"continue",value:function(){var e,t;return null!=(e=null==(t=this.retryer)?void 0:t.continue())?e:this.execute()}},{key:"execute",value:function(){return(t=t||sm(um().mark((function e(){var t,n,r,i,a,o,s,l,u,c,d,f,h,p,v,m,g,y,b,x,w,S,_,k,E=this;return um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){var e;return E.retryer=xte({fn:function(){return E.options.mutationFn?E.options.mutationFn(E.state.variables):Promise.reject("No mutationFn found")},onFail:function(e,t){E.dispatch({type:"failed",failureCount:e,error:t})},onPause:function(){E.dispatch({type:"pause"})},onContinue:function(){E.dispatch({type:"continue"})},retry:null!=(e=E.options.retry)?e:0,retryDelay:E.options.retryDelay,networkMode:E.options.networkMode}),E.retryer.promise},n="loading"===this.state.status,e.prev=2,n){e.next=11;break}return this.dispatch({type:"loading",variables:this.options.variables}),e.next=7,null==(d=(f=this.mutationCache.config).onMutate)?void 0:d.call(f,this.state.variables,this);case 7:return e.next=9,null==(h=(p=this.options).onMutate)?void 0:h.call(p,this.state.variables);case 9:(v=e.sent)!==this.state.context&&this.dispatch({type:"loading",context:v,variables:this.state.variables});case 11:return e.next=13,t();case 13:return m=e.sent,e.next=16,null==(r=(i=this.mutationCache.config).onSuccess)?void 0:r.call(i,m,this.state.variables,this.state.context,this);case 16:return e.next=18,null==(a=(o=this.options).onSuccess)?void 0:a.call(o,m,this.state.variables,this.state.context);case 18:return e.next=20,null==(s=(l=this.mutationCache.config).onSettled)?void 0:s.call(l,m,null,this.state.variables,this.state.context,this);case 20:return e.next=22,null==(u=(c=this.options).onSettled)?void 0:u.call(c,m,null,this.state.variables,this.state.context);case 22:return this.dispatch({type:"success",data:m}),e.abrupt("return",m);case 26:return e.prev=26,e.t0=e.catch(2),e.prev=28,e.next=31,null==(g=(y=this.mutationCache.config).onError)?void 0:g.call(y,e.t0,this.state.variables,this.state.context,this);case 31:return e.next=34,null==(b=(x=this.options).onError)?void 0:b.call(x,e.t0,this.state.variables,this.state.context);case 34:return e.next=36,null==(w=(S=this.mutationCache.config).onSettled)?void 0:w.call(S,void 0,e.t0,this.state.variables,this.state.context,this);case 36:return e.next=38,null==(_=(k=this.options).onSettled)?void 0:_.call(k,void 0,e.t0,this.state.variables,this.state.context);case 38:throw e.t0;case 39:return e.prev=39,this.dispatch({type:"error",error:e.t0}),e.finish(39);case 42:case"end":return e.stop()}}),e,this,[[2,26],[28,,39,42]])})))).apply(this,arguments)}},{key:"dispatch",value:function(e){var t=this;this.state=function(n){switch(e.type){case"failed":return $v($v({},n),{},{failureCount:e.failureCount,failureReason:e.error});case"pause":return $v($v({},n),{},{isPaused:!0});case"continue":return $v($v({},n),{},{isPaused:!1});case"loading":return $v($v({},n),{},{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!gte(t.options.networkMode),status:"loading",variables:e.variables});case"success":return $v($v({},n),{},{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return $v($v({},n),{},{data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"});case"setState":return $v($v({},n),e.state)}}(this.state),ute.batch((function(){t.observers.forEach((function(t){t.onMutationUpdate(e)})),t.mutationCache.notify({mutation:t,type:"updated",action:e})}))}}]),r}(mne);var xne=function(e){tm(n,e);var t=im(n);function n(e){var r;return Xs(this,n),(r=t.call(this)).config=e||{},r.mutations=[],r.mutationId=0,r}return Ks(n,[{key:"build",value:function(e,t,n){var r=new bne({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(r),r}},{key:"add",value:function(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}},{key:"remove",value:function(e){this.mutations=this.mutations.filter((function(t){return t!==e})),this.notify({type:"removed",mutation:e})}},{key:"clear",value:function(){var e=this;ute.batch((function(){e.mutations.forEach((function(t){e.remove(t)}))}))}},{key:"getAll",value:function(){return this.mutations}},{key:"find",value:function(e){return"undefined"===typeof e.exact&&(e.exact=!0),this.mutations.find((function(t){return Kee(e,t)}))}},{key:"findAll",value:function(e){return this.mutations.filter((function(t){return Kee(e,t)}))}},{key:"notify",value:function(e){var t=this;ute.batch((function(){t.listeners.forEach((function(t){(0,t.listener)(e)}))}))}},{key:"resumePausedMutations",value:function(){var e,t=this;return this.resuming=(null!=(e=this.resuming)?e:Promise.resolve()).then((function(){var e=t.mutations.filter((function(e){return e.state.isPaused}));return ute.batch((function(){return e.reduce((function(e,t){return e.then((function(){return t.continue().catch(Gee)}))}),Promise.resolve())}))})).then((function(){t.resuming=void 0})),this.resuming}}]),n}(cte);function wne(){return{onFetch:function(e){e.fetchFn=function(){var t,n,r,i,a,o,s,l=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,u=null==(r=e.fetchOptions)||null==(i=r.meta)?void 0:i.fetchMore,c=null==u?void 0:u.pageParam,d="forward"===(null==u?void 0:u.direction),f="backward"===(null==u?void 0:u.direction),h=(null==(a=e.state.data)?void 0:a.pages)||[],p=(null==(o=e.state.data)?void 0:o.pageParams)||[],v=p,m=!1,g=e.options.queryFn||function(){return Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")},y=function(e,t,n,r){return v=r?[t].concat(k(v)):[].concat(k(v),[t]),r?[n].concat(k(e)):[].concat(k(e),[n])},b=function(t,n,r,i){if(m)return Promise.reject("Cancelled");if("undefined"===typeof r&&!n&&t.length)return Promise.resolve(t);var a={queryKey:e.queryKey,pageParam:r,meta:e.options.meta};!function(t){Object.defineProperty(t,"signal",{enumerable:!0,get:function(){var t,n;return null!=(t=e.signal)&&t.aborted?m=!0:null==(n=e.signal)||n.addEventListener("abort",(function(){m=!0})),e.signal}})}(a);var o=g(a);return Promise.resolve(o).then((function(e){return y(t,r,e,i)}))};if(h.length)if(d){var x="undefined"!==typeof c,w=x?c:Sne(e.options,h);s=b(h,x,w)}else if(f){var S="undefined"!==typeof c,_=S?c:_ne(e.options,h);s=b(h,S,_,!0)}else{v=[];var E="undefined"===typeof e.options.getNextPageParam,C=!l||!h[0]||l(h[0],0,h);s=C?b([],E,p[0]):Promise.resolve(y([],p[0],h[0]));for(var M=function(t){s=s.then((function(n){if(!l||!h[t]||l(h[t],t,h)){var r=E?p[t]:Sne(e.options,n);return b(n,E,r)}return Promise.resolve(y(n,p[t],h[t]))}))},T=1;T<h.length;T++)M(T)}else s=b([]);return s.then((function(e){return{pages:e,pageParams:v}}))}}}}function Sne(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function _ne(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}var kne=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Xs(this,e),this.queryCache=t.queryCache||new yne,this.mutationCache=t.mutationCache||new xne,this.logger=t.logger||vne,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}return Ks(e,[{key:"mount",value:function(){var e=this;this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=fte.subscribe((function(){fte.isFocused()&&(e.resumePausedMutations(),e.queryCache.onFocus())})),this.unsubscribeOnline=vte.subscribe((function(){vte.isOnline()&&(e.resumePausedMutations(),e.queryCache.onOnline())})))}},{key:"unmount",value:function(){var e,t;this.mountCount--,0===this.mountCount&&(null==(e=this.unsubscribeFocus)||e.call(this),this.unsubscribeFocus=void 0,null==(t=this.unsubscribeOnline)||t.call(this),this.unsubscribeOnline=void 0)}},{key:"isFetching",value:function(e,t){var n=M(Xee(e,t),1)[0];return n.fetchStatus="fetching",this.queryCache.findAll(n).length}},{key:"isMutating",value:function(e){return this.mutationCache.findAll($v($v({},e),{},{fetching:!0})).length}},{key:"getQueryData",value:function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data}},{key:"ensureQueryData",value:function(e,t,n){var r=qee(e,t,n),i=this.getQueryData(r.queryKey);return i?Promise.resolve(i):this.fetchQuery(r)}},{key:"getQueriesData",value:function(e){return this.getQueryCache().findAll(e).map((function(e){return[e.queryKey,e.state.data]}))}},{key:"setQueryData",value:function(e,t,n){var r=this.queryCache.find(e),i=function(e,t){return"function"===typeof e?e(t):e}(t,null==r?void 0:r.state.data);if("undefined"!==typeof i){var a=qee(e),o=this.defaultQueryOptions(a);return this.queryCache.build(this,o).setData(i,$v($v({},n),{},{manual:!0}))}}},{key:"setQueriesData",value:function(e,t,n){var r=this;return ute.batch((function(){return r.getQueryCache().findAll(e).map((function(e){var i=e.queryKey;return[i,r.setQueryData(i,t,n)]}))}))}},{key:"getQueryState",value:function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state}},{key:"removeQueries",value:function(e,t){var n=M(Xee(e,t),1)[0],r=this.queryCache;ute.batch((function(){r.findAll(n).forEach((function(e){r.remove(e)}))}))}},{key:"resetQueries",value:function(e,t,n){var r=this,i=M(Xee(e,t,n),2),a=i[0],o=i[1],s=this.queryCache,l=$v({type:"active"},a);return ute.batch((function(){return s.findAll(a).forEach((function(e){e.reset()})),r.refetchQueries(l,o)}))}},{key:"cancelQueries",value:function(e,t,n){var r=this,i=M(Xee(e,t,n),2),a=i[0],o=i[1],s=void 0===o?{}:o;"undefined"===typeof s.revert&&(s.revert=!0);var l=ute.batch((function(){return r.queryCache.findAll(a).map((function(e){return e.cancel(s)}))}));return Promise.all(l).then(Gee).catch(Gee)}},{key:"invalidateQueries",value:function(e,t,n){var r=this,i=M(Xee(e,t,n),2),a=i[0],o=i[1];return ute.batch((function(){var e,t;if(r.queryCache.findAll(a).forEach((function(e){e.invalidate()})),"none"===a.refetchType)return Promise.resolve();var n=$v($v({},a),{},{type:null!=(e=null!=(t=a.refetchType)?t:a.type)?e:"active"});return r.refetchQueries(n,o)}))}},{key:"refetchQueries",value:function(e,t,n){var r=this,i=M(Xee(e,t,n),2),a=i[0],o=i[1],s=ute.batch((function(){return r.queryCache.findAll(a).filter((function(e){return!e.isDisabled()})).map((function(e){var t;return e.fetch(void 0,$v($v({},o),{},{cancelRefetch:null==(t=null==o?void 0:o.cancelRefetch)||t,meta:{refetchPage:a.refetchPage}}))}))})),l=Promise.all(s).then(Gee);return null!=o&&o.throwOnError||(l=l.catch(Gee)),l}},{key:"fetchQuery",value:function(e,t,n){var r=qee(e,t,n),i=this.defaultQueryOptions(r);"undefined"===typeof i.retry&&(i.retry=!1);var a=this.queryCache.build(this,i);return a.isStaleByTime(i.staleTime)?a.fetch(i):Promise.resolve(a.state.data)}},{key:"prefetchQuery",value:function(e,t,n){return this.fetchQuery(e,t,n).then(Gee).catch(Gee)}},{key:"fetchInfiniteQuery",value:function(e,t,n){var r=qee(e,t,n);return r.behavior=wne(),this.fetchQuery(r)}},{key:"prefetchInfiniteQuery",value:function(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(Gee).catch(Gee)}},{key:"resumePausedMutations",value:function(){return this.mutationCache.resumePausedMutations()}},{key:"getQueryCache",value:function(){return this.queryCache}},{key:"getMutationCache",value:function(){return this.mutationCache}},{key:"getLogger",value:function(){return this.logger}},{key:"getDefaultOptions",value:function(){return this.defaultOptions}},{key:"setDefaultOptions",value:function(e){this.defaultOptions=e}},{key:"setQueryDefaults",value:function(e,t){var n=this.queryDefaults.find((function(t){return Qee(e)===Qee(t.queryKey)}));n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}},{key:"getQueryDefaults",value:function(e){if(e){var t=this.queryDefaults.find((function(t){return $ee(e,t.queryKey)}));return null==t?void 0:t.defaultOptions}}},{key:"setMutationDefaults",value:function(e,t){var n=this.mutationDefaults.find((function(t){return Qee(e)===Qee(t.mutationKey)}));n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}},{key:"getMutationDefaults",value:function(e){if(e){var t=this.mutationDefaults.find((function(t){return $ee(e,t.mutationKey)}));return null==t?void 0:t.defaultOptions}}},{key:"defaultQueryOptions",value:function(e){if(null!=e&&e._defaulted)return e;var t=$v($v($v($v({},this.defaultOptions.queries),this.getQueryDefaults(null==e?void 0:e.queryKey)),e),{},{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=Zee(t.queryKey,t)),"undefined"===typeof t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),"undefined"===typeof t.useErrorBoundary&&(t.useErrorBoundary=!!t.suspense),t}},{key:"defaultMutationOptions",value:function(e){return null!=e&&e._defaulted?e:$v($v($v($v({},this.defaultOptions.mutations),this.getMutationDefaults(null==e?void 0:e.mutationKey)),e),{},{_defaulted:!0})}},{key:"clear",value:function(){this.queryCache.clear(),this.mutationCache.clear()}}]),e}(),Ene=(0,t.createContext)(null),Cne={didCatch:!1,error:null},Mne=function(e){tm(r,e);var n=im(r);function r(e){var t;return Xs(this,r),(t=n.call(this,e)).resetErrorBoundary=t.resetErrorBoundary.bind(Br(t)),t.state=Cne,t}return Ks(r,[{key:"resetErrorBoundary",value:function(){if(null!==this.state.error){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===(e=(t=this.props).onReset)||void 0===e||e.call(t,{args:r,reason:"imperative-api"}),this.setState(Cne)}}},{key:"componentDidCatch",value:function(e,t){var n,r;null===(n=(r=this.props).onError)||void 0===n||n.call(r,e,t)}},{key:"componentDidUpdate",value:function(e,t){var n,r,i=this.state.didCatch,a=this.props.resetKeys;i&&null!==t.error&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((function(e,n){return!Object.is(e,t[n])}))}(e.resetKeys,a)&&(null===(n=(r=this.props).onReset)||void 0===n||n.call(r,{next:a,prev:e.resetKeys,reason:"keys"}),this.setState(Cne))}},{key:"render",value:function(){var e=this.props,n=e.children,r=e.fallbackRender,i=e.FallbackComponent,a=e.fallback,o=this.state,s=o.didCatch,l=o.error,u=n;if(s){var c={error:l,resetErrorBoundary:this.resetErrorBoundary};if((0,t.isValidElement)(a))u=a;else if("function"===typeof r)u=r(c);else{if(!i)throw l;u=(0,t.createElement)(i,c)}}return(0,t.createElement)(Ene.Provider,{value:{didCatch:s,error:l,resetErrorBoundary:this.resetErrorBoundary}},u)}}],[{key:"getDerivedStateFromError",value:function(e){return{didCatch:!0,error:e}}}]),r}(t.Component);var Tne=new kne;function Rne(){return window.location.href.includes("app-traffic")?window.location.href+"api":"http://localhost:5001/web-api"}function Ane(e){var t=e.error,n=e.resetErrorBoundary;return(0,yr.jsx)("div",{style:{display:"flex",width:"100vw",height:"100vh",alignItems:"center",justifyContent:"center"},children:(0,yr.jsxs)(Yi,{severity:"error",children:[(0,yr.jsx)(la,{children:"A React runtime error occurred"}),"Error: ",(0,yr.jsx)("pre",{children:t.message}),(0,yr.jsx)(ba,{onClick:n,variant:"contained",color:"error",children:"Try again"})]})})}var Pne=function(){var e=$n({});return(0,yr.jsx)(Mne,{FallbackComponent:Ane,children:(0,yr.jsx)(Ta,{theme:e,children:(0,yr.jsx)(Nte,{client:Tne,children:(0,yr.jsxs)(Aa,{children:[(0,yr.jsx)(pne,{}),(0,yr.jsx)(cne,{})]})})})})};i.createRoot(document.getElementById("root")).render((0,yr.jsx)(t.StrictMode,{children:(0,yr.jsx)(Pne,{})}))}()}();
//# sourceMappingURL=main.fd764e40.js.map